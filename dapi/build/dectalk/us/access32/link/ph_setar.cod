	TITLE	D:\work\Product\dapi\src\Ph\ph_setar.c
	.386P
include listing.inc
if @Version gt 510
.model FLAT
else
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
_BSS	SEGMENT DWORD USE32 PUBLIC 'BSS'
_BSS	ENDS
_TLS	SEGMENT DWORD USE32 PUBLIC 'TLS'
_TLS	ENDS
;	COMDAT _place
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _begtyp
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _endtyp
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _ptram
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _burdr
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _plocu
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
FLAT	GROUP _DATA, CONST, _BSS
	ASSUME	CS: FLAT, DS: FLAT, SS: FLAT
endif
PUBLIC	_gr_gettar
PUBLIC	_us_gettar
PUBLIC	_sp_gettar
PUBLIC	_la_gettar
PUBLIC	_uk_gettar
PUBLIC	_fr_gettar
PUBLIC	_all_gettar
_DATA	SEGMENT
COMM	_phontemp:WORD
_sonequivindex DB 00H
	DB	02H
	DB	00H
	DB	04H
	DB	00H
	DB	04H
	ORG $+2
_all_gettar DD	FLAT:_us_gettar
	DD	00H
	DD	00H
	DD	00H
	DD	00H
	DD	00H
	DD	00H
	DD	00H
	DD	00H
	DD	00H
	DD	00H
	DD	00H
	DD	00H
	DD	00H
	DD	00H
	DD	00H
	DD	00H
	DD	00H
	DD	00H
	DD	00H
	DD	00H
	DD	00H
	DD	00H
	DD	00H
	DD	00H
	DD	FLAT:_fr_gettar
	DD	FLAT:_la_gettar
	DD	FLAT:_sp_gettar
	DD	FLAT:_gr_gettar
	DD	FLAT:_uk_gettar
	DD	FLAT:_us_gettar
	DD	00H
_DATA	ENDS
EXTRN	_all_begtyp:BYTE
EXTRN	_all_endtyp:BYTE
EXTRN	_all_ptram:BYTE
EXTRN	_phone_feature:NEAR
EXTRN	_us_maleloc:BYTE
EXTRN	_us_maldip:BYTE
EXTRN	_us_maltar:BYTE
EXTRN	_us_malamp:BYTE
EXTRN	_us_femloc:BYTE
EXTRN	_us_femdip:BYTE
EXTRN	_us_femtar:BYTE
EXTRN	_us_place:BYTE
EXTRN	_parini:BYTE
EXTRN	_partyp:BYTE
_TEXT	SEGMENT
_phTTS$ = 8
_nphone_temp$ = 12
_phone_temp$ = 8
_phlas_temp$ = 12
_phnex_temp$ = -20
_tartemp$ = 8
_npar$ = -16
_pKsd_t$ = -8
_pDphsettar$ = -4
_us_gettar PROC NEAR

; 75   : {

  00000	83 ec 14	 sub	 esp, 20			; 00000014H

; 76   : 	short                   phone_temp , phlas_temp , phnex_temp, tartemp, pphotr, begtypnex, npar;
; 77   : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  00003	8b 44 24 18	 mov	 eax, DWORD PTR _phTTS$[esp+16]
  00007	53		 push	 ebx
  00008	55		 push	 ebp
  00009	56		 push	 esi
  0000a	57		 push	 edi
  0000b	8b 78 18	 mov	 edi, DWORD PTR [eax+24]

; 78   : 	PKSD_T                  pKsd_t = phTTS->pKernelShareData;

  0000e	8b 40 08	 mov	 eax, DWORD PTR [eax+8]

; 79   : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;

  00011	8b af 10 2c 00
	00		 mov	 ebp, DWORD PTR [edi+11280]
  00017	89 44 24 1c	 mov	 DWORD PTR _pKsd_t$[esp+36], eax

; 80   : 
; 81   : 	if( PFUSA != pDph_t->last_lang)

  0001b	b8 1e 00 00 00	 mov	 eax, 30			; 0000001eH
  00020	89 6c 24 20	 mov	 DWORD PTR _pDphsettar$[esp+36], ebp
  00024	66 39 87 0a 15
	00 00		 cmp	 WORD PTR [edi+5386], ax
  0002b	74 59		 je	 SHORT $L71907

; 82   : 	{
; 83   : 		pDph_t->last_lang = PFUSA;
; 84   : 		if(pDph_t->malfem == MALE)

  0002d	66 83 bf 08 15
	00 00 01	 cmp	 WORD PTR [edi+5384], 1
  00035	66 89 87 0a 15
	00 00		 mov	 WORD PTR [edi+5386], ax
  0003c	75 20		 jne	 SHORT $L71906

; 85   : 		{
; 86   : 			pDph_t->p_locus = us_maleloc;	   			/* Use MALE tables */

  0003e	c7 87 10 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5392], OFFSET FLAT:_us_maleloc

; 87   : 			pDph_t->p_diph = us_maldip;

  00048	c7 87 14 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5396], OFFSET FLAT:_us_maldip

; 88   : 			pDph_t->p_tar = us_maltar;

  00052	c7 87 18 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5400], OFFSET FLAT:_us_maltar

; 89   : 			pDph_t->p_amp = us_malamp;
; 90   : 		}
; 91   : 		else

  0005c	eb 1e		 jmp	 SHORT $L74760
$L71906:

; 92   : 		{
; 93   : 			pDph_t->p_locus = us_femloc;	   			/* Use FEMALE tables */

  0005e	c7 87 10 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5392], OFFSET FLAT:_us_femloc

; 94   : 			pDph_t->p_diph = us_femdip;

  00068	c7 87 14 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5396], OFFSET FLAT:_us_femdip

; 95   : 			pDph_t->p_tar = us_femtar;

  00072	c7 87 18 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5400], OFFSET FLAT:_us_femtar
$L74760:

; 96   : 			pDph_t->p_amp = us_malamp;

  0007c	c7 87 1c 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5404], OFFSET FLAT:_us_malamp
$L71907:

; 97   : 		}
; 98   : 	}
; 99   : 
; 100  : 	npar = pDphsettar->np - &PF1;

  00086	8b 5d 10	 mov	 ebx, DWORD PTR [ebp+16]
  00089	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  0008e	8b cb		 mov	 ecx, ebx
  00090	89 5c 24 18	 mov	 DWORD PTR -12+[esp+36], ebx
  00094	2b cf		 sub	 ecx, edi
  00096	83 e9 24	 sub	 ecx, 36			; 00000024H
  00099	f7 e9		 imul	 ecx
  0009b	c1 fa 03	 sar	 edx, 3
  0009e	8b ca		 mov	 ecx, edx
  000a0	c1 e9 1f	 shr	 ecx, 31			; 0000001fH
  000a3	03 d1		 add	 edx, ecx
  000a5	8b f2		 mov	 esi, edx

; 101  : 	if (pDphsettar->np < &PFZ)                      

  000a7	8d 97 90 00 00
	00		 lea	 edx, DWORD PTR [edi+144]
  000ad	3b da		 cmp	 ebx, edx
  000af	89 74 24 14	 mov	 DWORD PTR _npar$[esp+36], esi
  000b3	73 11		 jae	 SHORT $L71908

; 102  : 		pphotr = (npar) * US_TOT_ALLOPHONES;

  000b5	8d 04 f5 00 00
	00 00		 lea	 eax, DWORD PTR [esi*8]
  000bc	2b c6		 sub	 eax, esi
  000be	8d 0c 86	 lea	 ecx, DWORD PTR [esi+eax*4]
  000c1	8d 0c 4e	 lea	 ecx, DWORD PTR [esi+ecx*2]

; 103  : 	else

  000c4	eb 10		 jmp	 SHORT $L71909
$L71908:

; 104  : 		pphotr = (npar - 1) * US_TOT_ALLOPHONES;

  000c6	8d 14 f5 00 00
	00 00		 lea	 edx, DWORD PTR [esi*8]
  000cd	2b d6		 sub	 edx, esi
  000cf	8d 04 96	 lea	 eax, DWORD PTR [esi+edx*4]
  000d2	8d 4c 46 c5	 lea	 ecx, DWORD PTR [esi+eax*2-59]
$L71909:

; 105  : 		/* No table entries for PAP parameter */
; 106  : 
; 107  : 	phlas_temp = get_phone(pDph_t,nphone_temp - 1);

  000d6	8b 5c 24 2c	 mov	 ebx, DWORD PTR _nphone_temp$[esp+32]
  000da	8d 43 ff	 lea	 eax, DWORD PTR [ebx-1]
  000dd	85 c0		 test	 eax, eax
  000df	7c 1a		 jl	 SHORT $L74700
  000e1	0f bf 97 06 15
	00 00		 movsx	 edx, WORD PTR [edi+5382]
  000e8	3b c2		 cmp	 eax, edx
  000ea	7d 0f		 jge	 SHORT $L74700
  000ec	66 8b 84 5f ea
	03 00 00	 mov	 ax, WORD PTR [edi+ebx*2+1002]
  000f4	66 89 44 24 2c	 mov	 WORD PTR _phlas_temp$[esp+32], ax
  000f9	eb 08		 jmp	 SHORT $L74701
$L74700:
  000fb	c7 44 24 2c 00
	1e 00 00	 mov	 DWORD PTR _phlas_temp$[esp+32], 7680 ; 00001e00H
$L74701:

; 108  : 	phone_temp = get_phone(pDph_t,nphone_temp);

  00103	85 db		 test	 ebx, ebx
  00105	7c 1a		 jl	 SHORT $L74702
  00107	0f bf 97 06 15
	00 00		 movsx	 edx, WORD PTR [edi+5382]
  0010e	3b da		 cmp	 ebx, edx
  00110	7d 0f		 jge	 SHORT $L74702
  00112	66 8b 84 5f ec
	03 00 00	 mov	 ax, WORD PTR [edi+ebx*2+1004]
  0011a	66 89 44 24 28	 mov	 WORD PTR _phone_temp$[esp+32], ax
  0011f	eb 08		 jmp	 SHORT $L74703
$L74702:
  00121	c7 44 24 28 00
	1e 00 00	 mov	 DWORD PTR _phone_temp$[esp+32], 7680 ; 00001e00H
$L74703:

; 109  : 	phnex_temp = get_phone(pDph_t,nphone_temp + 1);

  00129	8d 43 01	 lea	 eax, DWORD PTR [ebx+1]
  0012c	85 c0		 test	 eax, eax
  0012e	7c 15		 jl	 SHORT $L74704
  00130	0f bf 97 06 15
	00 00		 movsx	 edx, WORD PTR [edi+5382]
  00137	3b c2		 cmp	 eax, edx
  00139	7d 0a		 jge	 SHORT $L74704
  0013b	66 8b 94 5f ee
	03 00 00	 mov	 dx, WORD PTR [edi+ebx*2+1006]
  00143	eb 05		 jmp	 SHORT $L74761
$L74704:
  00145	ba 00 1e 00 00	 mov	 edx, 7680		; 00001e00H
$L74761:

; 110  : 
; 111  : 	/* GETTAR:  F1, F2, F3, B1, B2, B3 */
; 112  : 	if ((pDphsettar->par_type = partyp[npar]) IS_FORM_FREQ_OR_BW)

  0014a	0f bf c6	 movsx	 eax, si
  0014d	89 54 24 10	 mov	 DWORD PTR _phnex_temp$[esp+36], edx
  00151	8a 80 00 00 00
	00		 mov	 al, BYTE PTR _partyp[eax]
  00157	3c 02		 cmp	 al, 2
  00159	88 45 14	 mov	 BYTE PTR [ebp+20], al
  0015c	0f 8e c9 01 00
	00		 jle	 $L71910

; 113  : 	{
; 114  : 		if ((tartemp = pDph_t->p_tar[(phone_temp & PVALUE)  + pphotr]) < -1)

  00162	0f bf 6c 24 28	 movsx	 ebp, WORD PTR _phone_temp$[esp+32]
  00167	0f bf c1	 movsx	 eax, cx
  0016a	8b 8f 18 15 00
	00		 mov	 ecx, DWORD PTR [edi+5400]
  00170	8b d5		 mov	 edx, ebp
  00172	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  00178	03 d0		 add	 edx, eax
  0017a	66 8b 34 51	 mov	 si, WORD PTR [ecx+edx*2]
  0017e	66 83 fe ff	 cmp	 si, -1

; 115  : 		{
; 116  : 			return (tartemp);		   /* Pointer to diph info in p_diph[] */

  00182	0f 8c c8 04 00
	00		 jl	 $L71968

; 117  : 		}
; 118  : 		else if (tartemp == -1)

  00188	0f 85 a7 00 00
	00		 jne	 $L71920

; 119  : 		{
; 120  : 			/* Tar undefined, use tarval of next segment */
; 121  : 			if ((tartemp = pDph_t->p_tar[(phnex_temp & PVALUE) + pphotr]) == -1)

  0018e	8b 54 24 10	 mov	 edx, DWORD PTR _phnex_temp$[esp+36]
  00192	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  00198	03 d0		 add	 edx, eax
  0019a	66 8b 34 51	 mov	 si, WORD PTR [ecx+edx*2]
  0019e	66 83 fe ff	 cmp	 si, -1
  001a2	0f 85 91 00 00
	00		 jne	 $L74763

; 122  : 			{
; 123  : 				/* Tar still undefined, use tarval of second-next segment */
; 124  : 				if ((tartemp = pDph_t->p_tar[(get_phone (pDph_t, nphone_temp + 2) & PVALUE) + pphotr]) == -1)

  001a8	8d 53 02	 lea	 edx, DWORD PTR [ebx+2]
  001ab	85 d2		 test	 edx, edx
  001ad	7c 15		 jl	 SHORT $L74706
  001af	0f bf b7 06 15
	00 00		 movsx	 esi, WORD PTR [edi+5382]
  001b6	3b d6		 cmp	 edx, esi
  001b8	7d 0a		 jge	 SHORT $L74706
  001ba	0f bf 94 5f f0
	03 00 00	 movsx	 edx, WORD PTR [edi+ebx*2+1008]
  001c2	eb 05		 jmp	 SHORT $L74707
$L74706:
  001c4	ba 00 1e 00 00	 mov	 edx, 7680		; 00001e00H
$L74707:
  001c9	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  001cf	03 d0		 add	 edx, eax
  001d1	66 8b 34 51	 mov	 si, WORD PTR [ecx+edx*2]
  001d5	66 83 fe ff	 cmp	 si, -1
  001d9	75 5e		 jne	 SHORT $L74763

; 125  : 				{
; 126  : 					/* Tar still undefined, use previous phone */
; 127  : 					if ((tartemp = pDph_t->p_tar[(phlas_temp & PVALUE) + pphotr]) < -1)

  001db	8b 54 24 2c	 mov	 edx, DWORD PTR _phlas_temp$[esp+32]
  001df	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  001e5	03 d0		 add	 edx, eax
  001e7	66 8b 34 51	 mov	 si, WORD PTR [ecx+edx*2]
  001eb	66 83 fe ff	 cmp	 si, -1
  001ef	7d 35		 jge	 SHORT $L74764

; 128  : 					{
; 129  : 						/* Diphthonized seg, use last target value */
; 130  : 						while (pDph_t->p_diph[-tartemp] != -1)

  001f1	8b 87 14 15 00
	00		 mov	 eax, DWORD PTR [edi+5396]
  001f7	0f bf ce	 movsx	 ecx, si
  001fa	d1 e1		 shl	 ecx, 1
  001fc	8b d0		 mov	 edx, eax
  001fe	2b d1		 sub	 edx, ecx
  00200	66 83 3a ff	 cmp	 WORD PTR [edx], -1
  00204	74 10		 je	 SHORT $L71919
$L71918:

; 131  : 						{
; 132  : 							tartemp--;

  00206	4e		 dec	 esi
  00207	8b d0		 mov	 edx, eax
  00209	0f bf ce	 movsx	 ecx, si
  0020c	d1 e1		 shl	 ecx, 1
  0020e	2b d1		 sub	 edx, ecx
  00210	66 83 3a ff	 cmp	 WORD PTR [edx], -1
  00214	75 f0		 jne	 SHORT $L71918
$L71919:

; 133  : 						}
; 134  : 						tartemp = pDph_t->p_diph[-tartemp - 1];

  00216	0f bf ce	 movsx	 ecx, si
  00219	8d 54 09 02	 lea	 edx, DWORD PTR [ecx+ecx+2]
  0021d	2b c2		 sub	 eax, edx
  0021f	66 8b 30	 mov	 si, WORD PTR [eax]

; 135  : 					}
; 136  : 					/* If this doesn't work, use default value */
; 137  : 					if (tartemp == -1)

  00222	66 83 fe ff	 cmp	 si, -1
$L74764:
  00226	75 11		 jne	 SHORT $L74763

; 138  : 					{
; 139  : 						tartemp = parini[npar];

  00228	0f bf 44 24 14	 movsx	 eax, WORD PTR _npar$[esp+36]
  0022d	66 8b 34 45 00
	00 00 00	 mov	 si, WORD PTR _parini[eax*2]
$L71920:

; 140  : 					}
; 141  : 				}
; 142  : 			}
; 143  : 		}
; 144  : 		if (tartemp < -1)

  00235	66 83 fe ff	 cmp	 si, -1
$L74763:
  00239	7d 10		 jge	 SHORT $L71921

; 145  : 		{
; 146  : 			tartemp = pDph_t->p_diph[-tartemp];

  0023b	8b 8f 14 15 00
	00		 mov	 ecx, DWORD PTR [edi+5396]
  00241	0f bf c6	 movsx	 eax, si
  00244	d1 e0		 shl	 eax, 1
  00246	2b c8		 sub	 ecx, eax
  00248	66 8b 31	 mov	 si, WORD PTR [ecx]
$L71921:

; 147  : 		}
; 148  : 		/* Fricatives have higher F1 if preceeded by a vowel */
; 149  : 		if ((npar == F1 - 1)
; 150  : 			&& ((phone_feature( pDph_t,phone_temp ) & FOBST) IS_PLUS)
; 151  : 			&& ((phone_feature( pDph_t,phone_temp ) & FSTOP) IS_MINUS)
; 152  : 			&& ((phone_feature( pDph_t,phlas_temp ) & FSYLL) IS_PLUS))

  0024b	8b 5c 24 14	 mov	 ebx, DWORD PTR _npar$[esp+36]
  0024f	66 85 db	 test	 bx, bx
  00252	75 3c		 jne	 SHORT $L74751
  00254	55		 push	 ebp
  00255	57		 push	 edi
  00256	e8 00 00 00 00	 call	 _phone_feature
  0025b	83 c4 08	 add	 esp, 8
  0025e	a8 20		 test	 al, 32			; 00000020H
  00260	74 2e		 je	 SHORT $L74751
  00262	55		 push	 ebp
  00263	57		 push	 edi
  00264	e8 00 00 00 00	 call	 _phone_feature
  00269	25 00 20 00 00	 and	 eax, 8192		; 00002000H
  0026e	83 c4 08	 add	 esp, 8
  00271	66 85 c0	 test	 ax, ax
  00274	75 1a		 jne	 SHORT $L74751
  00276	8b 6c 24 2c	 mov	 ebp, DWORD PTR _phlas_temp$[esp+32]
  0027a	0f bf d5	 movsx	 edx, bp
  0027d	52		 push	 edx
  0027e	57		 push	 edi
  0027f	e8 00 00 00 00	 call	 _phone_feature
  00284	83 c4 08	 add	 esp, 8
  00287	a8 01		 test	 al, 1
  00289	74 09		 je	 SHORT $L71922

; 153  : 		{
; 154  : 			tartemp += 40;

  0028b	83 c6 28	 add	 esi, 40			; 00000028H
  0028e	eb 04		 jmp	 SHORT $L71922
$L74751:
  00290	8b 6c 24 2c	 mov	 ebp, DWORD PTR _phlas_temp$[esp+32]
$L71922:

; 155  : 		}
; 156  : 		/* Special rule for B2 of \n/ before non-front vowels */
; 157  : 		if ((((phone_temp) == USP_N) || ((phone_temp) == USP_EN))
; 158  : 			&& (npar == B2 - 1))

  00294	8b 4c 24 28	 mov	 ecx, DWORD PTR _phone_temp$[esp+32]
  00298	66 81 f9 20 1e	 cmp	 cx, 7712		; 00001e20H
  0029d	74 07		 je	 SHORT $L71924
  0029f	66 81 f9 24 1e	 cmp	 cx, 7716		; 00001e24H
  002a4	75 2a		 jne	 SHORT $L74752
$L71924:
  002a6	66 83 fb 05	 cmp	 bx, 5
  002aa	75 24		 jne	 SHORT $L74752

; 159  : 		{
; 160  : 			if (begtyp(phnex_temp) != 1)

  002ac	8b 54 24 10	 mov	 edx, DWORD PTR _phnex_temp$[esp+36]
  002b0	0f bf c2	 movsx	 eax, dx
  002b3	8b f8		 mov	 edi, eax
  002b5	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  002ba	c1 ff 08	 sar	 edi, 8
  002bd	8b 3c bd 00 00
	00 00		 mov	 edi, DWORD PTR _all_begtyp[edi*4]
  002c4	66 83 3c 47 01	 cmp	 WORD PTR [edi+eax*2], 1
  002c9	74 09		 je	 SHORT $L71925

; 161  : 			{
; 162  : 				tartemp += 60;

  002cb	83 c6 3c	 add	 esi, 60			; 0000003cH
  002ce	eb 04		 jmp	 SHORT $L71925
$L74752:
  002d0	8b 54 24 10	 mov	 edx, DWORD PTR _phnex_temp$[esp+36]
$L71925:

; 163  : 			}
; 164  : 		}
; 165  : 		/* Special rule for B3 of \n/ adjacent to high-front vowels */
; 166  : 		if ((((phone_temp) == USP_N) || ((phone_temp) == USP_EN) || ((phone_temp) == USP_NX))
; 167  : 			&& (npar == B3 - 1))

  002d4	66 81 f9 20 1e	 cmp	 cx, 7712		; 00001e20H
  002d9	74 12		 je	 SHORT $L71927
  002db	66 81 f9 24 1e	 cmp	 cx, 7716		; 00001e24H
  002e0	74 0b		 je	 SHORT $L71927
  002e2	66 81 f9 21 1e	 cmp	 cx, 7713		; 00001e21H
  002e7	0f 85 63 03 00
	00		 jne	 $L71968
$L71927:
  002ed	66 83 fb 06	 cmp	 bx, 6
  002f1	0f 85 59 03 00
	00		 jne	 $L71968

; 168  : 		{
; 169  : 			if (((us_place[phnex_temp & PVALUE] & F2BACKI) IS_PLUS)
; 170  : 				|| ((us_place[(phlas_temp & PVALUE)] & F2BACKF) IS_PLUS))

  002f7	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  002fd	f6 04 55 00 00
	00 00 40	 test	 BYTE PTR _us_place[edx*2], 64 ; 00000040H
  00305	75 14		 jne	 SHORT $L71929
  00307	81 e5 ff 00 00
	00		 and	 ebp, 255		; 000000ffH
  0030d	f6 04 6d 00 00
	00 00 80	 test	 BYTE PTR _us_place[ebp*2], -128 ; ffffff80H
  00315	0f 84 35 03 00
	00		 je	 $L71968
$L71929:

; 171  : 			{
; 172  : 				tartemp = 1600;

  0031b	be 40 06 00 00	 mov	 esi, 1600		; 00000640H
  00320	5f		 pop	 edi

; 327  : 			}
; 328  : 		}
; 329  : 	}
; 330  : 	
; 331  : 	return (tartemp);

  00321	66 8b c6	 mov	 ax, si
  00324	5e		 pop	 esi
  00325	5d		 pop	 ebp
  00326	5b		 pop	 ebx

; 332  : }

  00327	83 c4 14	 add	 esp, 20			; 00000014H
  0032a	c3		 ret	 0
$L71910:

; 173  : 			}
; 174  : 		}
; 175  : 	}
; 176  : 	/* 
; 177  : 	 * eab do nasals differently by nasalizing vowel before it and then 
; 178  : 	 * reduce dur on n not vowel in rule 22 context. The code actually nasalizes
; 179  : 	 * anything in front of it 
; 180  : 	 */
; 181  : 	/* GETTAR:  FZ */
; 182  : 	else if (pDphsettar->par_type IS_NASAL_ZERO_FREQ)

  0032b	3c 01		 cmp	 al, 1
  0032d	75 2c		 jne	 SHORT $L71931

; 183  : 	{
; 184  : 		tartemp = NON_NASAL_ZERO;				   /* Default for non-nasalized, cancel FP=280 */
; 185  : 		if ((phone_feature( pDph_t  ,phone_temp) & FNASAL) IS_PLUS)

  0032f	0f bf 44 24 28	 movsx	 eax, WORD PTR _phone_temp$[esp+32]
  00334	50		 push	 eax
  00335	57		 push	 edi
  00336	be 22 01 00 00	 mov	 esi, 290		; 00000122H
  0033b	e8 00 00 00 00	 call	 _phone_feature
  00340	83 c4 08	 add	 esp, 8
  00343	a8 80		 test	 al, -128		; ffffff80H
  00345	0f 84 05 03 00
	00		 je	 $L71968

; 186  : 		{
; 187  : 			tartemp = NASAL_ZERO_CONS;			   /* Value dur nasal murmur (527=max) */

  0034b	be 90 01 00 00	 mov	 esi, 400		; 00000190H
  00350	5f		 pop	 edi

; 327  : 			}
; 328  : 		}
; 329  : 	}
; 330  : 	
; 331  : 	return (tartemp);

  00351	66 8b c6	 mov	 ax, si
  00354	5e		 pop	 esi
  00355	5d		 pop	 ebp
  00356	5b		 pop	 ebx

; 332  : }

  00357	83 c4 14	 add	 esp, 20			; 00000014H
  0035a	c3		 ret	 0
$L71931:

; 188  : 		}
; 189  :     /* if ((pDphsettar->phonex == N  || pDphsettar->phonex == M) && ((phone_temp & PVALUE) != R )) { tartemp = 300; }        */
; 190  : 	}
; 191  : 	/* GETTAR:  AV, AP */
; 192  : 	else if (pDphsettar->par_type IS_AV_OR_AH)

  0035b	84 c0		 test	 al, al
  0035d	0f 85 ff 00 00
	00		 jne	 $L71934

; 193  : 	{
; 194  : 		/* Rules for voicing amplitude */
; 195  : 		if (npar == AV - 1)

  00363	66 83 fe 07	 cmp	 si, 7
  00367	0f 85 b8 00 00
	00		 jne	 $L71935

; 196  : 		{
; 197  : 			tartemp = pDph_t->p_tar[(phone_temp & PVALUE) + pphotr];

  0036d	8b 6c 24 28	 mov	 ebp, DWORD PTR _phone_temp$[esp+32]
  00371	0f bf c5	 movsx	 eax, bp
  00374	8b d0		 mov	 edx, eax
  00376	0f bf c9	 movsx	 ecx, cx
  00379	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  0037f	03 d1		 add	 edx, ecx
  00381	8b 8f 18 15 00
	00		 mov	 ecx, DWORD PTR [edi+5400]
  00387	66 8b 34 51	 mov	 si, WORD PTR [ecx+edx*2]

; 198  : 
; 199  : 			/* 5/13/98 EAB The glotal stop in this instance goes all the way to perceived silence
; 200  : 			for some reason it was too strong so I fixed it*/
; 201  : 
; 202  : 			if(pKsd_t->sprate <100)

  0038b	8b 54 24 1c	 mov	 edx, DWORD PTR _pKsd_t$[esp+36]
  0038f	66 83 ba e6 03
	00 00 64	 cmp	 WORD PTR [edx+998], 100	; 00000064H
  00397	7d 0a		 jge	 SHORT $L71937

; 203  : 				if ((phone_temp) == USP_Q) 

  00399	66 81 fd 35 1e	 cmp	 bp, 7733		; 00001e35H
  0039e	75 03		 jne	 SHORT $L71937

; 204  : 					tartemp -=30;

  003a0	83 ee 1e	 sub	 esi, 30			; 0000001eH
$L71937:

; 205  : 			/* Dummy vowel has less intensity */
; 206  : 			if ((pDph_t->allofeats[nphone_temp ] & FDUMMY_VOWEL) IS_PLUS)

  003a3	8b 8c 9f 58 06
	00 00		 mov	 ecx, DWORD PTR [edi+ebx*4+1624]
  003aa	f6 c5 08	 test	 ch, 8
  003ad	74 03		 je	 SHORT $L71938

; 207  : 			{
; 208  : 				tartemp -= 7;

  003af	83 ee 07	 sub	 esi, 7
$L71938:

; 209  : 			}
; 210  : 			/* Voiced stop devoiced if preceding seg voiceless */
; 211  : 			if (((phone_feature( pDph_t,phone_temp) & FPLOSV) IS_PLUS)
; 212  : 				&& ((phone_feature( pDph_t,phlas_temp) & FVOICD) IS_MINUS))

  003b2	50		 push	 eax
  003b3	57		 push	 edi
  003b4	e8 00 00 00 00	 call	 _phone_feature
  003b9	83 c4 08	 add	 esp, 8
  003bc	a8 40		 test	 al, 64			; 00000040H
  003be	74 15		 je	 SHORT $L71939
  003c0	0f bf 44 24 2c	 movsx	 eax, WORD PTR _phlas_temp$[esp+32]
  003c5	50		 push	 eax
  003c6	57		 push	 edi
  003c7	e8 00 00 00 00	 call	 _phone_feature
  003cc	83 c4 08	 add	 esp, 8
  003cf	a8 02		 test	 al, 2
  003d1	75 02		 jne	 SHORT $L71939

; 213  : 			{
; 214  : 				tartemp = 0;

  003d3	33 f6		 xor	 esi, esi
$L71939:

; 215  : 			}
; 216  : 			/* Voice [h] if unstressed and preceeded by voiced seg */
; 217  : 			if (((phone_temp) == USP_HX)
; 218  : 				&& ((phone_feature( pDph_t,(phlas_temp)) & FVOICD) IS_PLUS)
; 219  : 				&& ((pDph_t->allofeats[nphone_temp] & FSTRESS_1) IS_MINUS))

  003d5	66 81 fd 1c 1e	 cmp	 bp, 7708		; 00001e1cH
  003da	75 22		 jne	 SHORT $L71940
  003dc	0f bf 4c 24 2c	 movsx	 ecx, WORD PTR _phlas_temp$[esp+32]
  003e1	51		 push	 ecx
  003e2	57		 push	 edi
  003e3	e8 00 00 00 00	 call	 _phone_feature
  003e8	83 c4 08	 add	 esp, 8
  003eb	a8 02		 test	 al, 2
  003ed	74 0f		 je	 SHORT $L71940
  003ef	f6 84 9f 58 06
	00 00 01	 test	 BYTE PTR [edi+ebx*4+1624], 1
  003f7	75 05		 jne	 SHORT $L71940

; 220  : 			{
; 221  : 				tartemp = 54;

  003f9	be 36 00 00 00	 mov	 esi, 54			; 00000036H
$L71940:

; 222  : 			}
; 223  : 
; 224  : 			/* Reduce amplitudes if unstressed 4/4/98 Found another problem the original code was in the wrong 
; 225  : 			place so it effected both aspiration and av and in the right circumstances could cause problems
; 226  : 			this needs to be shecked in all the langauges*/
; 227  : 				/* Reduce amplitudes if unstressed */
; 228  : 		/*	eab 2/96 This only handles stressted unstress and doesn't
; 229  : 			accomadate other stress levels today*/
; 230  : 		if ((pDph_t->allofeats[nphone_temp ] & FSTRESS) IS_MINUS)

  003fe	f6 84 9f 58 06
	00 00 03	 test	 BYTE PTR [edi+ebx*4+1624], 3
  00406	0f 85 44 02 00
	00		 jne	 $L71968

; 231  : 		{
; 232  : 			tartemp -= 4;

  0040c	83 ee 04	 sub	 esi, 4

; 233  : 			if (tartemp < 0)

  0040f	66 85 f6	 test	 si, si
  00412	0f 8d 38 02 00
	00		 jge	 $L71968
$L71944:

; 234  : 				tartemp = 0;

  00418	33 f6		 xor	 esi, esi
  0041a	5f		 pop	 edi

; 327  : 			}
; 328  : 		}
; 329  : 	}
; 330  : 	
; 331  : 	return (tartemp);

  0041b	66 8b c6	 mov	 ax, si
  0041e	5e		 pop	 esi
  0041f	5d		 pop	 ebp
  00420	5b		 pop	 ebx

; 332  : }

  00421	83 c4 14	 add	 esp, 20			; 00000014H
  00424	c3		 ret	 0
$L71935:

; 235  : 		}
; 236  : 		}
; 237  : 		/* Rules for aspiration amplitude */
; 238  : 		else
; 239  : 		{
; 240  : 			if ((phone_temp) == USP_HX)

  00425	66 81 7c 24 28
	1c 1e		 cmp	 WORD PTR _phone_temp$[esp+32], 7708 ; 00001e1cH
  0042c	75 ea		 jne	 SHORT $L71944

; 241  : 			{
; 242  : 				tartemp = 53;
; 243  : 				if (begtyp(phnex_temp)  != 1)

  0042e	0f bf c2	 movsx	 eax, dx
  00431	8b d0		 mov	 edx, eax
  00433	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  00438	c1 fa 08	 sar	 edx, 8
  0043b	be 35 00 00 00	 mov	 esi, 53			; 00000035H
  00440	8b 0c 95 00 00
	00 00		 mov	 ecx, DWORD PTR _all_begtyp[edx*4]
  00447	66 83 3c 41 01	 cmp	 WORD PTR [ecx+eax*2], 1
  0044c	0f 84 fe 01 00
	00		 je	 $L71968

; 244  : 				{
; 245  : 					tartemp = 60;	   /* Stronger asp before +back */

  00452	be 3c 00 00 00	 mov	 esi, 60			; 0000003cH
  00457	5f		 pop	 edi

; 327  : 			}
; 328  : 		}
; 329  : 	}
; 330  : 	
; 331  : 	return (tartemp);

  00458	66 8b c6	 mov	 ax, si
  0045b	5e		 pop	 esi
  0045c	5d		 pop	 ebp
  0045d	5b		 pop	 ebx

; 332  : }

  0045e	83 c4 14	 add	 esp, 20			; 00000014H
  00461	c3		 ret	 0
$L71934:

; 246  : 				}
; 247  : 			}
; 248  : 			else
; 249  : 			{
; 250  : 				tartemp = 0;
; 251  : 			}
; 252  : 		}
; 253  : 	
; 254  : 	}
; 255  : 	/* GETTAR:  A2, A3, A4, A5, A6, AB */
; 256  : 	else if (pDphsettar->par_type IS_PARALLEL_FORM_AMP)

  00462	3c 02		 cmp	 al, 2
  00464	0f 85 e2 01 00
	00		 jne	 $L74750

; 257  : 	{
; 258  : 		/* If ptram >0, it is a pointer in obstruent array taram */
; 259  : 		if ((pDphsettar->np != &PTILT) && ((tartemp = ptram(phone_temp)) > 0))

  0046a	8b 44 24 18	 mov	 eax, DWORD PTR -12+[esp+36]
  0046e	8d 8f 40 02 00
	00		 lea	 ecx, DWORD PTR [edi+576]
  00474	3b c1		 cmp	 eax, ecx
  00476	0f 84 9a 00 00
	00		 je	 $L74749
  0047c	0f bf 44 24 28	 movsx	 eax, WORD PTR _phone_temp$[esp+32]
  00481	8b f0		 mov	 esi, eax
  00483	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  00488	c1 fe 08	 sar	 esi, 8
  0048b	8b 34 b5 00 00
	00 00		 mov	 esi, DWORD PTR _all_ptram[esi*4]
  00492	66 8b 34 46	 mov	 si, WORD PTR [esi+eax*2]
  00496	66 85 f6	 test	 si, si
  00499	7e 7f		 jle	 SHORT $L71953

; 260  : 		{
; 261  : 			begtypnex = begtyp(phnex_temp) - 1;

  0049b	0f bf c2	 movsx	 eax, dx
  0049e	8b e8		 mov	 ebp, eax
  004a0	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  004a5	c1 fd 08	 sar	 ebp, 8
  004a8	8b 2c ad 00 00
	00 00		 mov	 ebp, DWORD PTR _all_begtyp[ebp*4]
  004af	66 8b 44 45 00	 mov	 ax, WORD PTR [ebp+eax*2]
  004b4	66 48		 dec	 ax

; 262  : 			if (phnex_temp  == GEN_SIL)

  004b6	66 81 fa 00 1e	 cmp	 dx, 7680		; 00001e00H
  004bb	75 1c		 jne	 SHORT $L71950

; 263  : 				begtypnex = endtyp(phlas_temp ) - 1;

  004bd	0f bf 44 24 2c	 movsx	 eax, WORD PTR _phlas_temp$[esp+32]
  004c2	8b d0		 mov	 edx, eax
  004c4	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  004c9	c1 fa 08	 sar	 edx, 8
  004cc	8b 14 95 00 00
	00 00		 mov	 edx, DWORD PTR _all_endtyp[edx*4]
  004d3	66 8b 04 42	 mov	 ax, WORD PTR [edx+eax*2]
  004d7	66 48		 dec	 ax
$L71950:

; 264  : 			if (begtypnex == 4)

  004d9	66 3d 04 00	 cmp	 ax, 4
  004dd	75 05		 jne	 SHORT $L71951

; 265  : 				begtypnex = 2;

  004df	b8 02 00 00 00	 mov	 eax, 2
$L71951:

; 266  : 			tartemp += (npar - A2 + 1 + (6 * begtypnex));

  004e4	8d 04 40	 lea	 eax, DWORD PTR [eax+eax*2]

; 267  : 			tartemp = pDph_t->p_amp[tartemp];

  004e7	8d 14 46	 lea	 edx, DWORD PTR [esi+eax*2]
  004ea	8b 44 24 14	 mov	 eax, DWORD PTR _npar$[esp+36]
  004ee	8d 54 02 f7	 lea	 edx, DWORD PTR [edx+eax-9]
  004f2	0f bf c2	 movsx	 eax, dx
  004f5	8b 97 1c 15 00
	00		 mov	 edx, DWORD PTR [edi+5404]
  004fb	66 8b 34 42	 mov	 si, WORD PTR [edx+eax*2]

; 268  : 
; 269  : 			/* Burst has less intensity if dummy vowel next */
; 270  : 			if ((pDph_t->allofeats[nphone_temp + 1] & FDUMMY_VOWEL) IS_PLUS)

  004ff	8b 84 9f 5c 06
	00 00		 mov	 eax, DWORD PTR [edi+ebx*4+1628]
  00506	f6 c4 08	 test	 ah, 8
  00509	74 0f		 je	 SHORT $L71953

; 271  : 			{
; 272  : 				if (tartemp >= 4)

  0050b	66 83 fe 04	 cmp	 si, 4
  0050f	7c 09		 jl	 SHORT $L71953

; 273  : 				{
; 274  : 					tartemp -= 4;

  00511	83 ee 04	 sub	 esi, 4
  00514	eb 04		 jmp	 SHORT $L71953
$L74749:
  00516	8b 74 24 28	 mov	 esi, DWORD PTR _tartemp$[esp+32]
$L71953:

; 275  : 				}
; 276  : 			}
; 277  : 		}
; 278  : 		/* GETTAR:  TLT */
; 279  : 
; 280  : 		/* Source spectral tilt: highly tilted for obstruents */
; 281  : 		/* (Voiced obstruents are special case, set F1=0 to signal voicebar) */
; 282  : 		if (pDphsettar->np == &PTILT)

  0051a	39 4c 24 18	 cmp	 DWORD PTR -12+[esp+36], ecx
  0051e	0f 85 2c 01 00
	00		 jne	 $L71968

; 283  : 		{
; 284  : 			tartemp = 0;
; 285  : 			if ((phone_temp ) == GEN_SIL)

  00524	8b 44 24 28	 mov	 eax, DWORD PTR _phone_temp$[esp+32]
  00528	33 f6		 xor	 esi, esi
  0052a	66 3d 00 1e	 cmp	 ax, 7680		; 00001e00H
  0052e	75 1c		 jne	 SHORT $L71955
$L71956:

; 293  : 			}
; 294  : 
; 295  : 			else if ((pDph_t->allofeats[nphone_temp] & FDUMMY_VOWEL) IS_PLUS)

  00530	8b 84 9f 58 06
	00 00		 mov	 eax, DWORD PTR [edi+ebx*4+1624]
  00537	f6 c4 08	 test	 ah, 8
  0053a	74 26		 je	 SHORT $L71958

; 296  : 			{
; 297  : 				tartemp = 20;

  0053c	be 14 00 00 00	 mov	 esi, 20			; 00000014H
  00541	5f		 pop	 edi

; 327  : 			}
; 328  : 		}
; 329  : 	}
; 330  : 	
; 331  : 	return (tartemp);

  00542	66 8b c6	 mov	 ax, si
  00545	5e		 pop	 esi
  00546	5d		 pop	 ebp
  00547	5b		 pop	 ebx

; 332  : }

  00548	83 c4 14	 add	 esp, 20			; 00000014H
  0054b	c3		 ret	 0
$L71955:

; 286  : 			{
; 287  : 				tartemp = 0;
; 288  : 			}
; 289  : 			/* eab hx energy too high at high frequency try controling with tilt */
; 290  : 			if ((phone_temp ) == USP_HX)

  0054c	66 3d 1c 1e	 cmp	 ax, 7708		; 00001e1cH
  00550	75 de		 jne	 SHORT $L71956

; 291  : 			{
; 292  : 				tartemp = 20;

  00552	be 14 00 00 00	 mov	 esi, 20			; 00000014H
  00557	5f		 pop	 edi

; 327  : 			}
; 328  : 		}
; 329  : 	}
; 330  : 	
; 331  : 	return (tartemp);

  00558	66 8b c6	 mov	 ax, si
  0055b	5e		 pop	 esi
  0055c	5d		 pop	 ebp
  0055d	5b		 pop	 ebx

; 332  : }

  0055e	83 c4 14	 add	 esp, 20			; 00000014H
  00561	c3		 ret	 0
$L71958:

; 298  : 			}
; 299  : 			else if ((phone_feature( pDph_t,phone_temp ) & FOBST) IS_PLUS)

  00562	0f bf 6c 24 28	 movsx	 ebp, WORD PTR _phone_temp$[esp+32]
  00567	55		 push	 ebp
  00568	57		 push	 edi
  00569	e8 00 00 00 00	 call	 _phone_feature
  0056e	83 c4 08	 add	 esp, 8
  00571	a8 20		 test	 al, 32			; 00000020H
  00573	74 45		 je	 SHORT $L71960

; 300  : 			{
; 301  : 				tartemp = 7;
; 302  : 				if (((phone_feature( pDph_t,phone_temp) & FVOICD) IS_PLUS)
; 303  : 					&& (((phone_feature( pDph_t,phone_temp) & FPLOSV) IS_PLUS)
; 304  : 						|| (pDphsettar->phcur == USP_JH)))

  00575	55		 push	 ebp
  00576	57		 push	 edi
  00577	be 07 00 00 00	 mov	 esi, 7
  0057c	e8 00 00 00 00	 call	 _phone_feature
  00581	83 c4 08	 add	 esp, 8
  00584	a8 02		 test	 al, 2
  00586	0f 84 c4 00 00
	00		 je	 $L71968
  0058c	55		 push	 ebp
  0058d	57		 push	 edi
  0058e	e8 00 00 00 00	 call	 _phone_feature
  00593	83 c4 08	 add	 esp, 8
  00596	a8 40		 test	 al, 64			; 00000040H
  00598	75 10		 jne	 SHORT $L71962
  0059a	8b 44 24 20	 mov	 eax, DWORD PTR _pDphsettar$[esp+36]
  0059e	66 81 78 18 37
	1e		 cmp	 WORD PTR [eax+24], 7735	; 00001e37H
  005a4	0f 85 a6 00 00
	00		 jne	 $L71968
$L71962:

; 305  : 				{
; 306  : 					tartemp = 40;	   /* Max tilt for [b,d,g] */

  005aa	be 28 00 00 00	 mov	 esi, 40			; 00000028H
  005af	5f		 pop	 edi

; 327  : 			}
; 328  : 		}
; 329  : 	}
; 330  : 	
; 331  : 	return (tartemp);

  005b0	66 8b c6	 mov	 ax, si
  005b3	5e		 pop	 esi
  005b4	5d		 pop	 ebp
  005b5	5b		 pop	 ebx

; 332  : }

  005b6	83 c4 14	 add	 esp, 20			; 00000014H
  005b9	c3		 ret	 0
$L71960:

; 307  : 				}
; 308  : 			}
; 309  : 			else if ((phone_feature( pDph_t,phone_temp ) & FNASAL) IS_PLUS)

  005ba	55		 push	 ebp
  005bb	57		 push	 edi
  005bc	e8 00 00 00 00	 call	 _phone_feature
  005c1	83 c4 08	 add	 esp, 8
  005c4	a8 80		 test	 al, -128		; ffffff80H
  005c6	74 40		 je	 SHORT $L71964

; 310  : 			{
; 311  : 				tartemp = 6;		   /* Tilt down nasal murmurs */
; 312  : 				//EAB 1/26/99 This is ph88 code that hsould be able to be removed when nasals correct
; 313  : 				if(begtyp(phnex_temp) == 1) 

  005c8	8b 4c 24 10	 mov	 ecx, DWORD PTR _phnex_temp$[esp+36]
  005cc	be 06 00 00 00	 mov	 esi, 6
  005d1	0f bf c1	 movsx	 eax, cx
  005d4	8b d0		 mov	 edx, eax
  005d6	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  005db	c1 fa 08	 sar	 edx, 8
  005de	8b 14 95 00 00
	00 00		 mov	 edx, DWORD PTR _all_begtyp[edx*4]
  005e5	66 83 3c 42 01	 cmp	 WORD PTR [edx+eax*2], 1
  005ea	75 05		 jne	 SHORT $L71965

; 314  : 				{
; 315  : 					tartemp = 16;	/* Tilt more before front vowel to */

  005ec	be 10 00 00 00	 mov	 esi, 16			; 00000010H
$L71965:

; 316  : 				}			        
; 317  : 									/* compensate for wrong FZ placement */
; 318  : 
; 319  : 			    if(phnex_temp == USP_IY)

  005f1	66 81 f9 01 1e	 cmp	 cx, 7681		; 00001e01H
  005f6	75 58		 jne	 SHORT $L71968

; 320  : 					tartemp = 26;

  005f8	be 1a 00 00 00	 mov	 esi, 26			; 0000001aH
  005fd	5f		 pop	 edi

; 327  : 			}
; 328  : 		}
; 329  : 	}
; 330  : 	
; 331  : 	return (tartemp);

  005fe	66 8b c6	 mov	 ax, si
  00601	5e		 pop	 esi
  00602	5d		 pop	 ebp
  00603	5b		 pop	 ebx

; 332  : }

  00604	83 c4 14	 add	 esp, 20			; 00000014H
  00607	c3		 ret	 0
$L71964:

; 321  : 			}
; 322  : /*	      Female front vowels should be tilted down slightly */
; 323  : 			else if 
; 324  : 			((begtyp(phone_temp ) == 1) || (endtyp(phone_temp) == 1)) 

  00608	8b c5		 mov	 eax, ebp
  0060a	8b cd		 mov	 ecx, ebp
  0060c	c1 f8 08	 sar	 eax, 8
  0060f	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  00615	8b 14 85 00 00
	00 00		 mov	 edx, DWORD PTR _all_begtyp[eax*4]
  0061c	66 83 3c 4a 01	 cmp	 WORD PTR [edx+ecx*2], 1
  00621	74 19		 je	 SHORT $L71969
  00623	8b c5		 mov	 eax, ebp
  00625	81 e5 ff 00 00
	00		 and	 ebp, 255		; 000000ffH
  0062b	c1 f8 08	 sar	 eax, 8
  0062e	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR _all_endtyp[eax*4]
  00635	66 83 3c 69 01	 cmp	 WORD PTR [ecx+ebp*2], 1
  0063a	75 14		 jne	 SHORT $L71968
$L71969:

; 325  : 			{
; 326  : 				tartemp += 5;

  0063c	be 05 00 00 00	 mov	 esi, 5
  00641	5f		 pop	 edi

; 327  : 			}
; 328  : 		}
; 329  : 	}
; 330  : 	
; 331  : 	return (tartemp);

  00642	66 8b c6	 mov	 ax, si
  00645	5e		 pop	 esi
  00646	5d		 pop	 ebp
  00647	5b		 pop	 ebx

; 332  : }

  00648	83 c4 14	 add	 esp, 20			; 00000014H
  0064b	c3		 ret	 0
$L74750:

; 325  : 			{
; 326  : 				tartemp += 5;

  0064c	8b 74 24 28	 mov	 esi, DWORD PTR _tartemp$[esp+32]
$L71968:

; 327  : 			}
; 328  : 		}
; 329  : 	}
; 330  : 	
; 331  : 	return (tartemp);

  00650	66 8b c6	 mov	 ax, si
  00653	5f		 pop	 edi
  00654	5e		 pop	 esi
  00655	5d		 pop	 ebp
  00656	5b		 pop	 ebx

; 332  : }

  00657	83 c4 14	 add	 esp, 20			; 00000014H
  0065a	c3		 ret	 0
_us_gettar ENDP
_TEXT	ENDS
EXTRN	_uk_maleloc:BYTE
EXTRN	_uk_maldip:BYTE
EXTRN	_uk_maltar:BYTE
EXTRN	_uk_malamp:BYTE
EXTRN	_uk_femloc:BYTE
EXTRN	_uk_femdip:BYTE
EXTRN	_uk_femtar:BYTE
EXTRN	_uk_place:BYTE
_TEXT	SEGMENT
_phTTS$ = 8
_nphone_temp$ = 12
_phone_temp$ = -16
_phlas_temp$ = 12
_phnex_temp$ = 8
_tartemp$ = 8
_npar$ = -8
_pKsd_t$ = -4
_pDphsettar$ = -12
_uk_gettar PROC NEAR

; 74   : {

  00660	83 ec 10	 sub	 esp, 16			; 00000010H

; 75   : 	short                   phone_temp, phlas_temp, phnex_temp, tartemp, pphotr, begtypnex, npar;
; 76   : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  00663	8b 44 24 14	 mov	 eax, DWORD PTR _phTTS$[esp+12]
  00667	53		 push	 ebx
  00668	55		 push	 ebp
  00669	56		 push	 esi
  0066a	57		 push	 edi
  0066b	8b 78 18	 mov	 edi, DWORD PTR [eax+24]

; 77   : 	PKSD_T                  pKsd_t = phTTS->pKernelShareData;

  0066e	8b 40 08	 mov	 eax, DWORD PTR [eax+8]

; 78   : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;

  00671	8b b7 10 2c 00
	00		 mov	 esi, DWORD PTR [edi+11280]
  00677	89 44 24 1c	 mov	 DWORD PTR _pKsd_t$[esp+32], eax

; 79   : 
; 80   : 	if( PFUK != pDph_t->last_lang)

  0067b	b8 1d 00 00 00	 mov	 eax, 29			; 0000001dH
  00680	89 74 24 14	 mov	 DWORD PTR _pDphsettar$[esp+32], esi
  00684	66 39 87 0a 15
	00 00		 cmp	 WORD PTR [edi+5386], ax
  0068b	74 59		 je	 SHORT $L72311

; 81   : 	{
; 82   : 		pDph_t->last_lang = PFUK;
; 83   : 		if(pDph_t->malfem == MALE)

  0068d	66 83 bf 08 15
	00 00 01	 cmp	 WORD PTR [edi+5384], 1
  00695	66 89 87 0a 15
	00 00		 mov	 WORD PTR [edi+5386], ax
  0069c	75 20		 jne	 SHORT $L72310

; 84   : 		{
; 85   : 			pDph_t->p_locus = uk_maleloc;	   			/* Use MALE tables */

  0069e	c7 87 10 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5392], OFFSET FLAT:_uk_maleloc

; 86   : 			pDph_t->p_diph = uk_maldip;

  006a8	c7 87 14 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5396], OFFSET FLAT:_uk_maldip

; 87   : 			pDph_t->p_tar = uk_maltar;

  006b2	c7 87 18 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5400], OFFSET FLAT:_uk_maltar

; 88   : 			pDph_t->p_amp = uk_malamp;
; 89   : 		}
; 90   : 		else

  006bc	eb 1e		 jmp	 SHORT $L74819
$L72310:

; 91   : 		{
; 92   : 			pDph_t->p_locus = uk_femloc;	   			/* Use FEMALE tables */

  006be	c7 87 10 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5392], OFFSET FLAT:_uk_femloc

; 93   : 			pDph_t->p_diph = uk_femdip;

  006c8	c7 87 14 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5396], OFFSET FLAT:_uk_femdip

; 94   : 			pDph_t->p_tar = uk_femtar;

  006d2	c7 87 18 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5400], OFFSET FLAT:_uk_femtar
$L74819:

; 95   : 			pDph_t->p_amp = uk_malamp;

  006dc	c7 87 1c 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5404], OFFSET FLAT:_uk_malamp
$L72311:

; 96   : 		}
; 97   : 	}
; 98   : 
; 99   : 	npar = pDphsettar->np - &PF1;

  006e6	8b 5e 10	 mov	 ebx, DWORD PTR [esi+16]
  006e9	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  006ee	8b cb		 mov	 ecx, ebx
  006f0	2b cf		 sub	 ecx, edi
  006f2	83 e9 24	 sub	 ecx, 36			; 00000024H
  006f5	f7 e9		 imul	 ecx
  006f7	c1 fa 03	 sar	 edx, 3
  006fa	8b ca		 mov	 ecx, edx

; 100  : 	if (pDphsettar->np < &PFZ)                      

  006fc	8d 87 90 00 00
	00		 lea	 eax, DWORD PTR [edi+144]
  00702	c1 e9 1f	 shr	 ecx, 31			; 0000001fH
  00705	03 d1		 add	 edx, ecx
  00707	3b d8		 cmp	 ebx, eax
  00709	89 54 24 18	 mov	 DWORD PTR _npar$[esp+32], edx
  0070d	73 0b		 jae	 SHORT $L72312

; 101  : 		pphotr = (npar) * UK_TOT_ALLOPHONES;

  0070f	8d 0c d2	 lea	 ecx, DWORD PTR [edx+edx*8]
  00712	8d 04 4a	 lea	 eax, DWORD PTR [edx+ecx*2]
  00715	8d 0c 40	 lea	 ecx, DWORD PTR [eax+eax*2]

; 102  : 	else

  00718	eb 0a		 jmp	 SHORT $L72313
$L72312:

; 103  : 		pphotr = (npar - 1) * UK_TOT_ALLOPHONES;

  0071a	8d 04 d2	 lea	 eax, DWORD PTR [edx+edx*8]
  0071d	8d 04 42	 lea	 eax, DWORD PTR [edx+eax*2]
  00720	8d 4c 40 c7	 lea	 ecx, DWORD PTR [eax+eax*2-57]
$L72313:

; 104  : 		/* No table entries for PAP parameter */
; 105  : 
; 106  : 	phlas_temp = get_phone (pDph_t, nphone_temp - 1);

  00724	8b 5c 24 28	 mov	 ebx, DWORD PTR _nphone_temp$[esp+28]
  00728	8d 43 ff	 lea	 eax, DWORD PTR [ebx-1]
  0072b	85 c0		 test	 eax, eax
  0072d	7c 1a		 jl	 SHORT $L74766
  0072f	0f bf af 06 15
	00 00		 movsx	 ebp, WORD PTR [edi+5382]
  00736	3b c5		 cmp	 eax, ebp
  00738	7d 0f		 jge	 SHORT $L74766
  0073a	66 8b 84 5f ea
	03 00 00	 mov	 ax, WORD PTR [edi+ebx*2+1002]
  00742	66 89 44 24 28	 mov	 WORD PTR _phlas_temp$[esp+28], ax
  00747	eb 08		 jmp	 SHORT $L74767
$L74766:
  00749	c7 44 24 28 00
	1e 00 00	 mov	 DWORD PTR _phlas_temp$[esp+28], 7680 ; 00001e00H
$L74767:

; 107  : 	phone_temp = get_phone (pDph_t, nphone_temp);

  00751	85 db		 test	 ebx, ebx
  00753	7c 15		 jl	 SHORT $L74768
  00755	0f bf 87 06 15
	00 00		 movsx	 eax, WORD PTR [edi+5382]
  0075c	3b d8		 cmp	 ebx, eax
  0075e	7d 0a		 jge	 SHORT $L74768
  00760	66 8b ac 5f ec
	03 00 00	 mov	 bp, WORD PTR [edi+ebx*2+1004]
  00768	eb 05		 jmp	 SHORT $L74820
$L74768:
  0076a	bd 00 1e 00 00	 mov	 ebp, 7680		; 00001e00H
$L74820:

; 108  : 	phnex_temp = get_phone (pDph_t, nphone_temp + 1);

  0076f	8d 43 01	 lea	 eax, DWORD PTR [ebx+1]
  00772	89 6c 24 10	 mov	 DWORD PTR _phone_temp$[esp+32], ebp
  00776	85 c0		 test	 eax, eax
  00778	7c 22		 jl	 SHORT $L74770
  0077a	0f bf b7 06 15
	00 00		 movsx	 esi, WORD PTR [edi+5382]
  00781	3b c6		 cmp	 eax, esi
  00783	7d 13		 jge	 SHORT $L74815
  00785	66 8b 84 5f ee
	03 00 00	 mov	 ax, WORD PTR [edi+ebx*2+1006]
  0078d	8b 74 24 14	 mov	 esi, DWORD PTR _pDphsettar$[esp+32]
  00791	66 89 44 24 24	 mov	 WORD PTR _phnex_temp$[esp+28], ax
  00796	eb 0c		 jmp	 SHORT $L74771
$L74815:
  00798	8b 74 24 14	 mov	 esi, DWORD PTR _pDphsettar$[esp+32]
$L74770:
  0079c	c7 44 24 24 00
	1e 00 00	 mov	 DWORD PTR _phnex_temp$[esp+28], 7680 ; 00001e00H
$L74771:

; 109  : 
; 110  : 	/* GETTAR:  F1, F2, F3, B1, B2, B3 */
; 111  : 	if ((pDphsettar->par_type = partyp[npar]) IS_FORM_FREQ_OR_BW)

  007a4	0f bf c2	 movsx	 eax, dx
  007a7	8a 80 00 00 00
	00		 mov	 al, BYTE PTR _partyp[eax]
  007ad	3c 02		 cmp	 al, 2
  007af	88 46 14	 mov	 BYTE PTR [esi+20], al
  007b2	0f 8e c9 01 00
	00		 jle	 $L72314

; 112  : 	{
; 113  : 		if ((tartemp = pDph_t->p_tar[(phone_temp & PVALUE) + pphotr]) < -1)

  007b8	0f bf 6c 24 10	 movsx	 ebp, WORD PTR _phone_temp$[esp+32]
  007bd	0f bf c1	 movsx	 eax, cx
  007c0	8b 8f 18 15 00
	00		 mov	 ecx, DWORD PTR [edi+5400]
  007c6	8b d5		 mov	 edx, ebp
  007c8	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  007ce	03 d0		 add	 edx, eax
  007d0	66 8b 34 51	 mov	 si, WORD PTR [ecx+edx*2]
  007d4	66 83 fe ff	 cmp	 si, -1

; 114  : 		{
; 115  : 			/* printf("tartem1 %d of %d \n",*tartemp,(phone_temp & PVALUE)); */
; 116  : 			return (tartemp);		   /* Pointer to diph info in p_diph[] */

  007d8	0f 8c bc 04 00
	00		 jl	 $L72372

; 117  : 		}
; 118  : 		else if (tartemp == -1)

  007de	0f 85 a7 00 00
	00		 jne	 $L72324

; 119  : 		{
; 120  : 			/* Tar undefined, use tarval of next segment */
; 121  : 			if ((tartemp = pDph_t->p_tar[(phnex_temp & PVALUE) + pphotr]) == -1)

  007e4	8b 54 24 24	 mov	 edx, DWORD PTR _phnex_temp$[esp+28]
  007e8	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  007ee	03 d0		 add	 edx, eax
  007f0	66 8b 34 51	 mov	 si, WORD PTR [ecx+edx*2]
  007f4	66 83 fe ff	 cmp	 si, -1
  007f8	0f 85 91 00 00
	00		 jne	 $L74822

; 122  : 			{
; 123  : 				/* Tar still undefined, use tarval of second-next segment */
; 124  : 				if ((tartemp = pDph_t->p_tar[(get_phone (pDph_t, nphone_temp + 2) & PVALUE)+ pphotr]) == -1)

  007fe	8d 53 02	 lea	 edx, DWORD PTR [ebx+2]
  00801	85 d2		 test	 edx, edx
  00803	7c 15		 jl	 SHORT $L74772
  00805	0f bf b7 06 15
	00 00		 movsx	 esi, WORD PTR [edi+5382]
  0080c	3b d6		 cmp	 edx, esi
  0080e	7d 0a		 jge	 SHORT $L74772
  00810	0f bf 94 5f f0
	03 00 00	 movsx	 edx, WORD PTR [edi+ebx*2+1008]
  00818	eb 05		 jmp	 SHORT $L74773
$L74772:
  0081a	ba 00 1e 00 00	 mov	 edx, 7680		; 00001e00H
$L74773:
  0081f	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  00825	03 d0		 add	 edx, eax
  00827	66 8b 34 51	 mov	 si, WORD PTR [ecx+edx*2]
  0082b	66 83 fe ff	 cmp	 si, -1
  0082f	75 5e		 jne	 SHORT $L74822

; 125  : 				{
; 126  : 					/* Tar still undefined, use previous phone */
; 127  : 					if ((tartemp = pDph_t->p_tar[(phlas_temp & PVALUE) + pphotr]) < -1)

  00831	8b 54 24 28	 mov	 edx, DWORD PTR _phlas_temp$[esp+28]
  00835	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  0083b	03 d0		 add	 edx, eax
  0083d	66 8b 34 51	 mov	 si, WORD PTR [ecx+edx*2]
  00841	66 83 fe ff	 cmp	 si, -1
  00845	7d 35		 jge	 SHORT $L74823

; 128  : 					{
; 129  : 						/* Diphthonized seg, use last target value */
; 130  : 						while (pDph_t->p_diph[-tartemp] != -1)

  00847	8b 87 14 15 00
	00		 mov	 eax, DWORD PTR [edi+5396]
  0084d	0f bf ce	 movsx	 ecx, si
  00850	d1 e1		 shl	 ecx, 1
  00852	8b d0		 mov	 edx, eax
  00854	2b d1		 sub	 edx, ecx
  00856	66 83 3a ff	 cmp	 WORD PTR [edx], -1
  0085a	74 10		 je	 SHORT $L72323
$L72322:

; 131  : 						{
; 132  : 							tartemp--;

  0085c	4e		 dec	 esi
  0085d	8b d0		 mov	 edx, eax
  0085f	0f bf ce	 movsx	 ecx, si
  00862	d1 e1		 shl	 ecx, 1
  00864	2b d1		 sub	 edx, ecx
  00866	66 83 3a ff	 cmp	 WORD PTR [edx], -1
  0086a	75 f0		 jne	 SHORT $L72322
$L72323:

; 133  : 						}
; 134  : 						tartemp = pDph_t->p_diph[-tartemp - 1];

  0086c	0f bf ce	 movsx	 ecx, si
  0086f	8d 54 09 02	 lea	 edx, DWORD PTR [ecx+ecx+2]
  00873	2b c2		 sub	 eax, edx
  00875	66 8b 30	 mov	 si, WORD PTR [eax]

; 135  : 					}
; 136  : 					/* If this doesn't work, use default value */
; 137  : 					if (tartemp == -1)

  00878	66 83 fe ff	 cmp	 si, -1
$L74823:
  0087c	75 11		 jne	 SHORT $L74822

; 138  : 					{
; 139  : 						tartemp = parini[npar];

  0087e	0f bf 44 24 18	 movsx	 eax, WORD PTR _npar$[esp+32]
  00883	66 8b 34 45 00
	00 00 00	 mov	 si, WORD PTR _parini[eax*2]
$L72324:

; 140  : 					}
; 141  : 				}
; 142  : 			}
; 143  : 		}
; 144  : 		if (tartemp < -1)

  0088b	66 83 fe ff	 cmp	 si, -1
$L74822:
  0088f	7d 10		 jge	 SHORT $L72325

; 145  : 		{
; 146  : 			tartemp = pDph_t->p_diph[-tartemp];

  00891	8b 8f 14 15 00
	00		 mov	 ecx, DWORD PTR [edi+5396]
  00897	0f bf c6	 movsx	 eax, si
  0089a	d1 e0		 shl	 eax, 1
  0089c	2b c8		 sub	 ecx, eax
  0089e	66 8b 31	 mov	 si, WORD PTR [ecx]
$L72325:

; 147  : 		}
; 148  : 		/* Fricatives have higher F1 if preceeded by a vowel */
; 149  : 		if ((npar == F1 - 1)
; 150  : 			&& ((phone_feature( pDph_t,phone_temp) & FOBST) IS_PLUS)
; 151  : 			&& ((phone_feature( pDph_t,phone_temp) & FSTOP) IS_MINUS)
; 152  : 			&& ((phone_feature( pDph_t,phlas_temp) & FSYLL) IS_PLUS))

  008a1	8b 5c 24 18	 mov	 ebx, DWORD PTR _npar$[esp+32]
  008a5	66 85 db	 test	 bx, bx
  008a8	75 3c		 jne	 SHORT $L74812
  008aa	55		 push	 ebp
  008ab	57		 push	 edi
  008ac	e8 00 00 00 00	 call	 _phone_feature
  008b1	83 c4 08	 add	 esp, 8
  008b4	a8 20		 test	 al, 32			; 00000020H
  008b6	74 2e		 je	 SHORT $L74812
  008b8	55		 push	 ebp
  008b9	57		 push	 edi
  008ba	e8 00 00 00 00	 call	 _phone_feature
  008bf	25 00 20 00 00	 and	 eax, 8192		; 00002000H
  008c4	83 c4 08	 add	 esp, 8
  008c7	66 85 c0	 test	 ax, ax
  008ca	75 1a		 jne	 SHORT $L74812
  008cc	8b 6c 24 28	 mov	 ebp, DWORD PTR _phlas_temp$[esp+28]
  008d0	0f bf d5	 movsx	 edx, bp
  008d3	52		 push	 edx
  008d4	57		 push	 edi
  008d5	e8 00 00 00 00	 call	 _phone_feature
  008da	83 c4 08	 add	 esp, 8
  008dd	a8 01		 test	 al, 1
  008df	74 09		 je	 SHORT $L72326

; 153  : 		{
; 154  : 			tartemp += 40;

  008e1	83 c6 28	 add	 esi, 40			; 00000028H
  008e4	eb 04		 jmp	 SHORT $L72326
$L74812:
  008e6	8b 6c 24 28	 mov	 ebp, DWORD PTR _phlas_temp$[esp+28]
$L72326:

; 155  : 		}
; 156  : 		/* Special rule for B2 of \n/ before non-front vowels */
; 157  : 		if (((phone_temp == UKP_N) || (phone_temp == UKP_EN))
; 158  : 			&& (npar == B2 - 1))

  008ea	8b 4c 24 10	 mov	 ecx, DWORD PTR _phone_temp$[esp+32]
  008ee	66 81 f9 20 1d	 cmp	 cx, 7456		; 00001d20H
  008f3	74 07		 je	 SHORT $L72328
  008f5	66 81 f9 24 1d	 cmp	 cx, 7460		; 00001d24H
  008fa	75 2a		 jne	 SHORT $L74813
$L72328:
  008fc	66 83 fb 05	 cmp	 bx, 5
  00900	75 24		 jne	 SHORT $L74813

; 159  : 		{
; 160  : 			if (begtyp(phnex_temp ) != 1)

  00902	8b 54 24 24	 mov	 edx, DWORD PTR _phnex_temp$[esp+28]
  00906	0f bf c2	 movsx	 eax, dx
  00909	8b f8		 mov	 edi, eax
  0090b	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  00910	c1 ff 08	 sar	 edi, 8
  00913	8b 3c bd 00 00
	00 00		 mov	 edi, DWORD PTR _all_begtyp[edi*4]
  0091a	66 83 3c 47 01	 cmp	 WORD PTR [edi+eax*2], 1
  0091f	74 09		 je	 SHORT $L72329

; 161  : 			{
; 162  : 				tartemp += 60;

  00921	83 c6 3c	 add	 esi, 60			; 0000003cH
  00924	eb 04		 jmp	 SHORT $L72329
$L74813:
  00926	8b 54 24 24	 mov	 edx, DWORD PTR _phnex_temp$[esp+28]
$L72329:

; 163  : 			}
; 164  : 		}
; 165  : 		/* Special rule for B3 of \n/ adjacent to high-front vowels */
; 166  : 		if (((phone_temp == UKP_N) || (phone_temp == UKP_EN) || (phone_temp == UKP_NX))
; 167  : 			&& (npar == B3 - 1))

  0092a	66 81 f9 20 1d	 cmp	 cx, 7456		; 00001d20H
  0092f	74 12		 je	 SHORT $L72331
  00931	66 81 f9 24 1d	 cmp	 cx, 7460		; 00001d24H
  00936	74 0b		 je	 SHORT $L72331
  00938	66 81 f9 21 1d	 cmp	 cx, 7457		; 00001d21H
  0093d	0f 85 57 03 00
	00		 jne	 $L72372
$L72331:
  00943	66 83 fb 06	 cmp	 bx, 6
  00947	0f 85 4d 03 00
	00		 jne	 $L72372

; 168  : 		{
; 169  : 			if (((uk_place[phnex_temp & PVALUE] & F2BACKI) IS_PLUS)
; 170  : 				|| ((uk_place[(phlas_temp & PVALUE)] & F2BACKF) IS_PLUS))

  0094d	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  00953	f6 04 55 00 00
	00 00 40	 test	 BYTE PTR _uk_place[edx*2], 64 ; 00000040H
  0095b	75 14		 jne	 SHORT $L72333
  0095d	81 e5 ff 00 00
	00		 and	 ebp, 255		; 000000ffH
  00963	f6 04 6d 00 00
	00 00 80	 test	 BYTE PTR _uk_place[ebp*2], -128 ; ffffff80H
  0096b	0f 84 29 03 00
	00		 je	 $L72372
$L72333:

; 171  : 			{
; 172  : 				tartemp = 1600;

  00971	be 40 06 00 00	 mov	 esi, 1600		; 00000640H
  00976	5f		 pop	 edi

; 323  : 
; 324  : 		}
; 325  : 	}
; 326  : 	return (tartemp);

  00977	66 8b c6	 mov	 ax, si
  0097a	5e		 pop	 esi
  0097b	5d		 pop	 ebp
  0097c	5b		 pop	 ebx

; 327  : }

  0097d	83 c4 10	 add	 esp, 16			; 00000010H
  00980	c3		 ret	 0
$L72314:

; 173  : 			}
; 174  : 		}
; 175  : 	}
; 176  : 	/* 
; 177  : 	 * eab do nasals differently by nasalizing vowel before it and then 
; 178  : 	 * reduce dur on n not vowel in rule 22 context. The code actually nasalizes
; 179  : 	 * anything in front of it 
; 180  : 	 */
; 181  : 	/* GETTAR:  FZ */
; 182  : 	else if (pDphsettar->par_type IS_NASAL_ZERO_FREQ)

  00981	3c 01		 cmp	 al, 1
  00983	75 2a		 jne	 SHORT $L72335

; 183  : 	{
; 184  : 		tartemp = NON_NASAL_ZERO;				   /* Default for non-nasalized, cancel FP=280 */
; 185  : 		if ((phone_feature( pDph_t,phone_temp) & FNASAL) IS_PLUS)

  00985	0f bf c5	 movsx	 eax, bp
  00988	50		 push	 eax
  00989	57		 push	 edi
  0098a	be 22 01 00 00	 mov	 esi, 290		; 00000122H
  0098f	e8 00 00 00 00	 call	 _phone_feature
  00994	83 c4 08	 add	 esp, 8
  00997	a8 80		 test	 al, -128		; ffffff80H
  00999	0f 84 fb 02 00
	00		 je	 $L72372

; 186  : 		{
; 187  : 			tartemp = NASAL_ZERO_CONS;			   /* Value dur nasal murmur (527=max) */

  0099f	be 90 01 00 00	 mov	 esi, 400		; 00000190H
  009a4	5f		 pop	 edi

; 323  : 
; 324  : 		}
; 325  : 	}
; 326  : 	return (tartemp);

  009a5	66 8b c6	 mov	 ax, si
  009a8	5e		 pop	 esi
  009a9	5d		 pop	 ebp
  009aa	5b		 pop	 ebx

; 327  : }

  009ab	83 c4 10	 add	 esp, 16			; 00000010H
  009ae	c3		 ret	 0
$L72335:

; 188  : 		}
; 189  : 		
; 190  : /* if ((pDphsettar->phonex == N  || pDphsettar->phonex == M) && (phone_temp != R )) { tartemp = 300; pDphsettar->nasvowel=1; }        */
; 191  : 	}
; 192  : 	/* GETTAR:  AV, AP */
; 193  : 	else if (pDphsettar->par_type IS_AV_OR_AH)

  009af	84 c0		 test	 al, al
  009b1	0f 85 f2 00 00
	00		 jne	 $L72338

; 194  : 	{
; 195  : 		/* Rules for voicing amplitude */
; 196  : 		if (npar == AV - 1)

  009b7	66 83 fa 07	 cmp	 dx, 7
  009bb	0f 85 8f 00 00
	00		 jne	 $L72339

; 197  : 		{
; 198  : 			tartemp = pDph_t->p_tar[(phone_temp & PVALUE)+ pphotr];

  009c1	0f bf c5	 movsx	 eax, bp
  009c4	8b d0		 mov	 edx, eax
  009c6	0f bf c9	 movsx	 ecx, cx
  009c9	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  009cf	03 d1		 add	 edx, ecx
  009d1	8b 8f 18 15 00
	00		 mov	 ecx, DWORD PTR [edi+5400]
  009d7	66 8b 34 51	 mov	 si, WORD PTR [ecx+edx*2]

; 199  : /* EAB 5/11/98 BATS 660 */
; 200  : 			if(pKsd_t->sprate <100)

  009db	8b 54 24 1c	 mov	 edx, DWORD PTR _pKsd_t$[esp+32]
  009df	66 83 ba e6 03
	00 00 64	 cmp	 WORD PTR [edx+998], 100	; 00000064H
  009e7	7d 0a		 jge	 SHORT $L72341

; 201  : 				if (phone_temp == USP_Q)

  009e9	66 81 fd 35 1e	 cmp	 bp, 7733		; 00001e35H
  009ee	75 03		 jne	 SHORT $L72341

; 202  : 					tartemp -=30;

  009f0	83 ee 1e	 sub	 esi, 30			; 0000001eH
$L72341:

; 203  : 
; 204  : 			/* Dummy vowel has less intensity */
; 205  : 			if ((pDph_t->allofeats[nphone_temp] & FDUMMY_VOWEL) IS_PLUS)

  009f3	8b 8c 9f 58 06
	00 00		 mov	 ecx, DWORD PTR [edi+ebx*4+1624]
  009fa	f6 c5 08	 test	 ch, 8
  009fd	74 03		 je	 SHORT $L72342

; 206  : 			{
; 207  : 				tartemp -= 7;

  009ff	83 ee 07	 sub	 esi, 7
$L72342:

; 208  : 			}
; 209  : 			/* Voiced stop devoiced if preceding seg voiceless */
; 210  : 			if (((phone_feature( pDph_t,phone_temp) & FPLOSV) IS_PLUS)
; 211  : 				&& ((phone_feature( pDph_t,phlas_temp) & FVOICD) IS_MINUS))

  00a02	50		 push	 eax
  00a03	57		 push	 edi
  00a04	e8 00 00 00 00	 call	 _phone_feature
  00a09	83 c4 08	 add	 esp, 8
  00a0c	a8 40		 test	 al, 64			; 00000040H
  00a0e	74 15		 je	 SHORT $L72343
  00a10	0f bf 44 24 28	 movsx	 eax, WORD PTR _phlas_temp$[esp+28]
  00a15	50		 push	 eax
  00a16	57		 push	 edi
  00a17	e8 00 00 00 00	 call	 _phone_feature
  00a1c	83 c4 08	 add	 esp, 8
  00a1f	a8 02		 test	 al, 2
  00a21	75 02		 jne	 SHORT $L72343

; 212  : 			{
; 213  : 				tartemp = 0;

  00a23	33 f6		 xor	 esi, esi
$L72343:

; 214  : 			}
; 215  : 			/* Voice [h] if unstressed and preceeded by voiced seg */
; 216  : 			if ((phone_temp == UKP_HX)
; 217  : 				&& ((phone_feature( pDph_t,phlas_temp) & FVOICD) IS_PLUS)
; 218  : 				&& ((pDph_t->allofeats[nphone_temp] & FSTRESS_1) IS_MINUS))

  00a25	66 81 fd 1c 1d	 cmp	 bp, 7452		; 00001d1cH
  00a2a	75 56		 jne	 SHORT $L72348
  00a2c	0f bf 4c 24 28	 movsx	 ecx, WORD PTR _phlas_temp$[esp+28]
  00a31	51		 push	 ecx
  00a32	57		 push	 edi
  00a33	e8 00 00 00 00	 call	 _phone_feature
  00a38	83 c4 08	 add	 esp, 8
  00a3b	a8 02		 test	 al, 2
  00a3d	74 43		 je	 SHORT $L72348
  00a3f	f6 84 9f 58 06
	00 00 01	 test	 BYTE PTR [edi+ebx*4+1624], 1
  00a47	75 39		 jne	 SHORT $L72348

; 219  : 			{
; 220  : 				tartemp = 54;

  00a49	be 36 00 00 00	 mov	 esi, 54			; 00000036H

; 221  : 			}
; 222  : 		}
; 223  : 		/* Rules for aspiration amplitude */
; 224  : 		else

  00a4e	eb 32		 jmp	 SHORT $L72348
$L72339:

; 225  : 		{
; 226  : 			if (phone_temp == UKP_HX)

  00a50	66 81 fd 1c 1d	 cmp	 bp, 7452		; 00001d1cH
  00a55	75 29		 jne	 SHORT $L72346

; 227  : 			{
; 228  : 				tartemp = 50;
; 229  : 				if (begtyp(phnex_temp) != 1)

  00a57	0f bf 44 24 24	 movsx	 eax, WORD PTR _phnex_temp$[esp+28]
  00a5c	8b d0		 mov	 edx, eax
  00a5e	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  00a63	c1 fa 08	 sar	 edx, 8
  00a66	be 32 00 00 00	 mov	 esi, 50			; 00000032H
  00a6b	8b 0c 95 00 00
	00 00		 mov	 ecx, DWORD PTR _all_begtyp[edx*4]
  00a72	66 83 3c 41 01	 cmp	 WORD PTR [ecx+eax*2], 1
  00a77	74 09		 je	 SHORT $L72348

; 230  : 				{
; 231  : 					tartemp = 52;	   /* Stronger asp before +back */

  00a79	be 34 00 00 00	 mov	 esi, 52			; 00000034H

; 232  : 				}
; 233  : 			}
; 234  : 			else

  00a7e	eb 02		 jmp	 SHORT $L72348
$L72346:

; 235  : 			{
; 236  : 				tartemp = 0;

  00a80	33 f6		 xor	 esi, esi
$L72348:

; 237  : 			}
; 238  : 		}
; 239  : 		/* Reduce amplitudes if unstressed */
; 240  : 		/*	eab 2/96 This only handles stressted unstress and doesn't
; 241  : 			accomadate other stress levels today*/
; 242  : 		if ((pDph_t->allofeats[nphone_temp] & FSTRESS) IS_MINUS)

  00a82	f6 84 9f 58 06
	00 00 03	 test	 BYTE PTR [edi+ebx*4+1624], 3
  00a8a	0f 85 0a 02 00
	00		 jne	 $L72372

; 243  : 		{
; 244  : 			tartemp -= 4;

  00a90	83 ee 04	 sub	 esi, 4

; 245  : 			if (tartemp < 0)

  00a93	66 85 f6	 test	 si, si
  00a96	0f 8d fe 01 00
	00		 jge	 $L72372

; 246  : 				tartemp = 0;

  00a9c	33 f6		 xor	 esi, esi
  00a9e	5f		 pop	 edi

; 323  : 
; 324  : 		}
; 325  : 	}
; 326  : 	return (tartemp);

  00a9f	66 8b c6	 mov	 ax, si
  00aa2	5e		 pop	 esi
  00aa3	5d		 pop	 ebp
  00aa4	5b		 pop	 ebx

; 327  : }

  00aa5	83 c4 10	 add	 esp, 16			; 00000010H
  00aa8	c3		 ret	 0
$L72338:

; 247  : 		}
; 248  : 	}
; 249  : 	/* GETTAR:  A2, A3, A4, A5, A6, AB */
; 250  : 	else if (pDphsettar->par_type IS_PARALLEL_FORM_AMP)

  00aa9	3c 02		 cmp	 al, 2
  00aab	0f 85 e5 01 00
	00		 jne	 $L74811

; 251  : 	{
; 252  : 		/* If ptram >0, it is a pointer in obstruent array taram */
; 253  : 		if ((pDphsettar->np != &PTILT) && ((tartemp = ptram(phone_temp)) > 0))

  00ab1	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  00ab4	8d 8f 40 02 00
	00		 lea	 ecx, DWORD PTR [edi+576]
  00aba	3b c1		 cmp	 eax, ecx
  00abc	ba 00 08 00 00	 mov	 edx, 2048		; 00000800H
  00ac1	0f 84 ba 00 00
	00		 je	 $L74810
  00ac7	0f bf c5	 movsx	 eax, bp
  00aca	8b f0		 mov	 esi, eax
  00acc	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  00ad1	c1 fe 08	 sar	 esi, 8
  00ad4	8b 34 b5 00 00
	00 00		 mov	 esi, DWORD PTR _all_ptram[esi*4]
  00adb	66 8b 34 46	 mov	 si, WORD PTR [esi+eax*2]
  00adf	66 85 f6	 test	 si, si
  00ae2	0f 8e 81 00 00
	00		 jle	 $L72357

; 254  : 		{
; 255  : 			begtypnex = begtyp(phnex_temp) - 1;

  00ae8	0f bf 44 24 24	 movsx	 eax, WORD PTR _phnex_temp$[esp+28]
  00aed	8b e8		 mov	 ebp, eax
  00aef	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  00af4	c1 fd 08	 sar	 ebp, 8
  00af7	8b 2c ad 00 00
	00 00		 mov	 ebp, DWORD PTR _all_begtyp[ebp*4]
  00afe	66 8b 44 45 00	 mov	 ax, WORD PTR [ebp+eax*2]
  00b03	66 48		 dec	 ax

; 256  : 			if (phnex_temp == GEN_SIL)

  00b05	66 81 7c 24 24
	00 1e		 cmp	 WORD PTR _phnex_temp$[esp+28], 7680 ; 00001e00H
  00b0c	75 1d		 jne	 SHORT $L72354

; 257  : 				begtypnex = endtyp(phlas_temp) - 1;

  00b0e	0f bf 44 24 28	 movsx	 eax, WORD PTR _phlas_temp$[esp+28]
  00b13	8b e8		 mov	 ebp, eax
  00b15	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  00b1a	c1 fd 08	 sar	 ebp, 8
  00b1d	8b 2c ad 00 00
	00 00		 mov	 ebp, DWORD PTR _all_endtyp[ebp*4]
  00b24	66 8b 44 45 00	 mov	 ax, WORD PTR [ebp+eax*2]
  00b29	66 48		 dec	 ax
$L72354:

; 258  : 			if (begtypnex == 4)

  00b2b	66 3d 04 00	 cmp	 ax, 4
  00b2f	75 05		 jne	 SHORT $L72355

; 259  : 				begtypnex = 2;

  00b31	b8 02 00 00 00	 mov	 eax, 2
$L72355:

; 260  : 
; 261  : 			tartemp += (npar - A2 + 1 + (6 * begtypnex));

  00b36	8d 04 40	 lea	 eax, DWORD PTR [eax+eax*2]

; 262  : 			tartemp = pDph_t->p_amp[tartemp];

  00b39	8d 04 46	 lea	 eax, DWORD PTR [esi+eax*2]
  00b3c	8b 74 24 18	 mov	 esi, DWORD PTR _npar$[esp+32]
  00b40	8d 44 30 f7	 lea	 eax, DWORD PTR [eax+esi-9]
  00b44	8b b7 1c 15 00
	00		 mov	 esi, DWORD PTR [edi+5404]
  00b4a	0f bf c0	 movsx	 eax, ax
  00b4d	66 8b 34 46	 mov	 si, WORD PTR [esi+eax*2]

; 263  : 
; 264  : 			/* Burst has less intensity if dummy vowel next */
; 265  : 			if ((pDph_t->allofeats[nphone_temp + 1] & FDUMMY_VOWEL) IS_PLUS)

  00b51	8b 84 9f 5c 06
	00 00		 mov	 eax, DWORD PTR [edi+ebx*4+1628]
  00b58	85 c2		 test	 eax, edx
  00b5a	74 09		 je	 SHORT $L74814

; 266  : 			{
; 267  : 				if (tartemp >= 4)

  00b5c	66 83 fe 04	 cmp	 si, 4
  00b60	7c 03		 jl	 SHORT $L74814

; 268  : 				{
; 269  : 					tartemp -= 4;

  00b62	83 ee 04	 sub	 esi, 4
$L74814:
  00b65	8b 6c 24 10	 mov	 ebp, DWORD PTR _phone_temp$[esp+32]
$L72357:

; 270  : 				}
; 271  : 			}
; 272  : 		}
; 273  : 		/* GETTAR:  TLT */
; 274  : 
; 275  : 		/* Source spectral tilt: highly tilted for obstruents */
; 276  : 		/* (Voiced obstruents are special case, set F1=0 to signal voicebar) */
; 277  : 		if (pDphsettar->np == &PTILT)

  00b69	8b 44 24 14	 mov	 eax, DWORD PTR _pDphsettar$[esp+32]
  00b6d	39 48 10	 cmp	 DWORD PTR [eax+16], ecx
  00b70	0f 85 24 01 00
	00		 jne	 $L72372

; 278  : 		{
; 279  : 			tartemp = 0;

  00b76	33 f6		 xor	 esi, esi

; 280  : 			if (phone_temp == GEN_SIL)

  00b78	66 81 fd 00 1e	 cmp	 bp, 7680		; 00001e00H
  00b7d	75 08		 jne	 SHORT $L72359

; 281  : 			{
; 282  : 				tartemp = 0;
; 283  : 			}
; 284  : 			/* eab hx energy too high at high frequency try controling with tilt */
; 285  : 			if (phone_temp == UKP_HX)

  00b7f	eb 1d		 jmp	 SHORT $L72360
$L74810:

; 268  : 				{
; 269  : 					tartemp -= 4;

  00b81	8b 74 24 24	 mov	 esi, DWORD PTR _tartemp$[esp+28]
  00b85	eb e2		 jmp	 SHORT $L72357
$L72359:

; 281  : 			{
; 282  : 				tartemp = 0;
; 283  : 			}
; 284  : 			/* eab hx energy too high at high frequency try controling with tilt */
; 285  : 			if (phone_temp == UKP_HX)

  00b87	66 81 fd 1c 1d	 cmp	 bp, 7452		; 00001d1cH
  00b8c	75 10		 jne	 SHORT $L72360

; 286  : 			{
; 287  : 				tartemp = 20;

  00b8e	be 14 00 00 00	 mov	 esi, 20			; 00000014H
  00b93	5f		 pop	 edi

; 323  : 
; 324  : 		}
; 325  : 	}
; 326  : 	return (tartemp);

  00b94	66 8b c6	 mov	 ax, si
  00b97	5e		 pop	 esi
  00b98	5d		 pop	 ebp
  00b99	5b		 pop	 ebx

; 327  : }

  00b9a	83 c4 10	 add	 esp, 16			; 00000010H
  00b9d	c3		 ret	 0
$L72360:

; 288  : 			}
; 289  : 
; 290  : 			else if ((pDph_t->allofeats[nphone_temp] & FDUMMY_VOWEL) IS_PLUS)

  00b9e	85 94 9f 58 06
	00 00		 test	 DWORD PTR [edi+ebx*4+1624], edx
  00ba5	74 10		 je	 SHORT $L72362

; 291  : 			{
; 292  : 				tartemp = 20;

  00ba7	be 14 00 00 00	 mov	 esi, 20			; 00000014H
  00bac	5f		 pop	 edi

; 323  : 
; 324  : 		}
; 325  : 	}
; 326  : 	return (tartemp);

  00bad	66 8b c6	 mov	 ax, si
  00bb0	5e		 pop	 esi
  00bb1	5d		 pop	 ebp
  00bb2	5b		 pop	 ebx

; 327  : }

  00bb3	83 c4 10	 add	 esp, 16			; 00000010H
  00bb6	c3		 ret	 0
$L72362:

; 293  : 			}
; 294  : 			else if ((phone_feature( pDph_t,phone_temp) & FOBST) IS_PLUS)

  00bb7	8b 5c 24 10	 mov	 ebx, DWORD PTR _phone_temp$[esp+32]
  00bbb	0f bf eb	 movsx	 ebp, bx
  00bbe	55		 push	 ebp
  00bbf	57		 push	 edi
  00bc0	e8 00 00 00 00	 call	 _phone_feature
  00bc5	83 c4 08	 add	 esp, 8
  00bc8	a8 20		 test	 al, 32			; 00000020H
  00bca	74 45		 je	 SHORT $L72364

; 295  : 			{
; 296  : 				tartemp = 7;
; 297  : 				if (((phone_feature( pDph_t,phone_temp) & FVOICD) IS_PLUS)
; 298  : 					&& (((phone_feature( pDph_t,phone_temp) & FPLOSV) IS_PLUS)
; 299  : 						|| (pDphsettar->phcur == UKP_JH)))

  00bcc	55		 push	 ebp
  00bcd	57		 push	 edi
  00bce	be 07 00 00 00	 mov	 esi, 7
  00bd3	e8 00 00 00 00	 call	 _phone_feature
  00bd8	83 c4 08	 add	 esp, 8
  00bdb	a8 02		 test	 al, 2
  00bdd	0f 84 b7 00 00
	00		 je	 $L72372
  00be3	55		 push	 ebp
  00be4	57		 push	 edi
  00be5	e8 00 00 00 00	 call	 _phone_feature
  00bea	83 c4 08	 add	 esp, 8
  00bed	a8 40		 test	 al, 64			; 00000040H
  00bef	75 10		 jne	 SHORT $L72366
  00bf1	8b 4c 24 14	 mov	 ecx, DWORD PTR _pDphsettar$[esp+32]
  00bf5	66 81 79 18 37
	1d		 cmp	 WORD PTR [ecx+24], 7479	; 00001d37H
  00bfb	0f 85 99 00 00
	00		 jne	 $L72372
$L72366:

; 300  : 				{
; 301  : 					tartemp = 40;	   /* Max tilt for [b,d,g] */

  00c01	be 28 00 00 00	 mov	 esi, 40			; 00000028H
  00c06	5f		 pop	 edi

; 323  : 
; 324  : 		}
; 325  : 	}
; 326  : 	return (tartemp);

  00c07	66 8b c6	 mov	 ax, si
  00c0a	5e		 pop	 esi
  00c0b	5d		 pop	 ebp
  00c0c	5b		 pop	 ebx

; 327  : }

  00c0d	83 c4 10	 add	 esp, 16			; 00000010H
  00c10	c3		 ret	 0
$L72364:

; 302  : 				}
; 303  : 			}
; 304  : 			else if ((phone_feature( pDph_t,phone_temp) & FNASAL) IS_PLUS)

  00c11	55		 push	 ebp
  00c12	57		 push	 edi
  00c13	e8 00 00 00 00	 call	 _phone_feature
  00c18	83 c4 08	 add	 esp, 8
  00c1b	a8 80		 test	 al, -128		; ffffff80H
  00c1d	74 10		 je	 SHORT $L72368

; 305  : 			{
; 306  : 				tartemp = 6;		   /* Tilt down nasal murmurs */

  00c1f	be 06 00 00 00	 mov	 esi, 6
  00c24	5f		 pop	 edi

; 323  : 
; 324  : 		}
; 325  : 	}
; 326  : 	return (tartemp);

  00c25	66 8b c6	 mov	 ax, si
  00c28	5e		 pop	 esi
  00c29	5d		 pop	 ebp
  00c2a	5b		 pop	 ebx

; 327  : }

  00c2b	83 c4 10	 add	 esp, 16			; 00000010H
  00c2e	c3		 ret	 0
$L72368:

; 307  : 			}
; 308  : 
; 309  : 			/* Female front vowels should be tilted down slightly */
; 310  : 			else if ((begtyp(phone_temp) == 1) || (endtyp(phone_temp ) == 1))

  00c2f	8b d5		 mov	 edx, ebp
  00c31	8b c5		 mov	 eax, ebp
  00c33	c1 fa 08	 sar	 edx, 8
  00c36	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  00c3b	8b 0c 95 00 00
	00 00		 mov	 ecx, DWORD PTR _all_begtyp[edx*4]
  00c42	66 83 3c 41 01	 cmp	 WORD PTR [ecx+eax*2], 1
  00c47	74 30		 je	 SHORT $L72371
  00c49	8b d5		 mov	 edx, ebp
  00c4b	81 e5 ff 00 00
	00		 and	 ebp, 255		; 000000ffH
  00c51	c1 fa 08	 sar	 edx, 8
  00c54	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR _all_endtyp[edx*4]
  00c5b	66 83 3c 68 01	 cmp	 WORD PTR [eax+ebp*2], 1
  00c60	74 17		 je	 SHORT $L72371

; 313  : 				{
; 314  : 					tartemp += 6;
; 315  : 				}
; 316  : 				else
; 317  : 				{
; 318  : 					tartemp += 3;
; 319  : 				}
; 320  : 			}
; 321  : 			else if(phone_temp == UKP_OW)

  00c62	66 81 fb 0b 1d	 cmp	 bx, 7435		; 00001d0bH
  00c67	75 31		 jne	 SHORT $L72372

; 322  : 				tartemp +=10;

  00c69	be 0a 00 00 00	 mov	 esi, 10			; 0000000aH
  00c6e	5f		 pop	 edi

; 323  : 
; 324  : 		}
; 325  : 	}
; 326  : 	return (tartemp);

  00c6f	66 8b c6	 mov	 ax, si
  00c72	5e		 pop	 esi
  00c73	5d		 pop	 ebp
  00c74	5b		 pop	 ebx

; 327  : }

  00c75	83 c4 10	 add	 esp, 16			; 00000010H
  00c78	c3		 ret	 0
$L72371:

; 311  : 			{
; 312  : 				if (pDph_t->malfem == FEMALE)

  00c79	66 8b b7 08 15
	00 00		 mov	 si, WORD PTR [edi+5384]
  00c80	5f		 pop	 edi
  00c81	66 f7 de	 neg	 si
  00c84	1b f6		 sbb	 esi, esi
  00c86	83 e6 fd	 and	 esi, -3			; fffffffdH
  00c89	83 c6 06	 add	 esi, 6

; 323  : 
; 324  : 		}
; 325  : 	}
; 326  : 	return (tartemp);

  00c8c	66 8b c6	 mov	 ax, si
  00c8f	5e		 pop	 esi
  00c90	5d		 pop	 ebp
  00c91	5b		 pop	 ebx

; 327  : }

  00c92	83 c4 10	 add	 esp, 16			; 00000010H
  00c95	c3		 ret	 0
$L74811:

; 311  : 			{
; 312  : 				if (pDph_t->malfem == FEMALE)

  00c96	8b 74 24 24	 mov	 esi, DWORD PTR _tartemp$[esp+28]
$L72372:

; 323  : 
; 324  : 		}
; 325  : 	}
; 326  : 	return (tartemp);

  00c9a	66 8b c6	 mov	 ax, si
  00c9d	5f		 pop	 edi
  00c9e	5e		 pop	 esi
  00c9f	5d		 pop	 ebp
  00ca0	5b		 pop	 ebx

; 327  : }

  00ca1	83 c4 10	 add	 esp, 16			; 00000010H
  00ca4	c3		 ret	 0
_uk_gettar ENDP
_TEXT	ENDS
EXTRN	_sp_maleloc:BYTE
EXTRN	_sp_maldip:BYTE
EXTRN	_sp_maltar:BYTE
EXTRN	_sp_malamp:BYTE
EXTRN	_sp_femloc:BYTE
EXTRN	_sp_femdip:BYTE
EXTRN	_sp_femtar:BYTE
EXTRN	_sp_place:BYTE
_TEXT	SEGMENT
_tartemp$ = 12
_npar$ = -16
_phTTS$ = 8
_nphone_temp$ = 12
_pKsd_t$ = -4
_phone_temp$ = 8
_phlas_temp$ = -20
_phnex_temp$ = -12
_sp_gettar PROC NEAR

; 75   : {

  00cb0	83 ec 14	 sub	 esp, 20			; 00000014H

; 76   : 
; 77   : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  00cb3	8b 44 24 18	 mov	 eax, DWORD PTR _phTTS$[esp+16]
  00cb7	53		 push	 ebx
  00cb8	55		 push	 ebp
  00cb9	56		 push	 esi
  00cba	57		 push	 edi
  00cbb	8b 78 18	 mov	 edi, DWORD PTR [eax+24]

; 78   : 	PKSD_T                  pKsd_t = phTTS->pKernelShareData;

  00cbe	8b 40 08	 mov	 eax, DWORD PTR [eax+8]

; 79   : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;

  00cc1	8b af 10 2c 00
	00		 mov	 ebp, DWORD PTR [edi+11280]
  00cc7	89 44 24 20	 mov	 DWORD PTR _pKsd_t$[esp+36], eax

; 80   : 
; 81   : 	short                   phone_temp, phlas_temp, phnex_temp, tartemp, pphotr, begtypnex, npar;
; 82   : 	short                   phone_feat;
; 83   : 
; 84   : 	if( PFSP != pDph_t->last_lang)

  00ccb	b8 1b 00 00 00	 mov	 eax, 27			; 0000001bH
  00cd0	66 39 87 0a 15
	00 00		 cmp	 WORD PTR [edi+5386], ax
  00cd7	74 59		 je	 SHORT $L72711

; 85   : 	{
; 86   : 		pDph_t->last_lang = PFSP;
; 87   : 		if(pDph_t->malfem == MALE)

  00cd9	66 83 bf 08 15
	00 00 01	 cmp	 WORD PTR [edi+5384], 1
  00ce1	66 89 87 0a 15
	00 00		 mov	 WORD PTR [edi+5386], ax
  00ce8	75 20		 jne	 SHORT $L72710

; 88   : 		{
; 89   : 			pDph_t->p_locus = sp_maleloc;	   			/* Use MALE tables */

  00cea	c7 87 10 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5392], OFFSET FLAT:_sp_maleloc

; 90   : 			pDph_t->p_diph = sp_maldip;

  00cf4	c7 87 14 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5396], OFFSET FLAT:_sp_maldip

; 91   : 			pDph_t->p_tar = sp_maltar;

  00cfe	c7 87 18 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5400], OFFSET FLAT:_sp_maltar

; 92   : 			pDph_t->p_amp = sp_malamp;
; 93   : 		}
; 94   : 		else

  00d08	eb 1e		 jmp	 SHORT $L74874
$L72710:

; 95   : 		{
; 96   : 			pDph_t->p_locus = sp_femloc;	   			/* Use FEMALE tables */

  00d0a	c7 87 10 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5392], OFFSET FLAT:_sp_femloc

; 97   : 			pDph_t->p_diph = sp_femdip;

  00d14	c7 87 14 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5396], OFFSET FLAT:_sp_femdip

; 98   : 			pDph_t->p_tar = sp_femtar;

  00d1e	c7 87 18 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5400], OFFSET FLAT:_sp_femtar
$L74874:

; 99   : 			pDph_t->p_amp = sp_malamp;

  00d28	c7 87 1c 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5404], OFFSET FLAT:_sp_malamp
$L72711:

; 100  : 		}
; 101  : 	}
; 102  : 
; 103  : 	npar = pDphsettar->np - &PF1;

  00d32	8b 75 10	 mov	 esi, DWORD PTR [ebp+16]
  00d35	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  00d3a	8b ce		 mov	 ecx, esi
  00d3c	2b cf		 sub	 ecx, edi
  00d3e	83 e9 24	 sub	 ecx, 36			; 00000024H
  00d41	f7 e9		 imul	 ecx
  00d43	c1 fa 03	 sar	 edx, 3
  00d46	8b ca		 mov	 ecx, edx
  00d48	c1 e9 1f	 shr	 ecx, 31			; 0000001fH
  00d4b	03 d1		 add	 edx, ecx
  00d4d	89 54 24 14	 mov	 DWORD PTR _npar$[esp+36], edx

; 104  : 	if (pDphsettar->np < &PFZ)

  00d51	8d 97 90 00 00
	00		 lea	 edx, DWORD PTR [edi+144]

; 105  : 		pphotr = (npar) * SP_TOT_ALLOPHONES;

  00d57	8b 44 24 14	 mov	 eax, DWORD PTR _npar$[esp+36]
  00d5b	3b f2		 cmp	 esi, edx
  00d5d	8d 1c 80	 lea	 ebx, DWORD PTR [eax+eax*4]
  00d60	73 07		 jae	 SHORT $L72712
  00d62	c1 e3 03	 shl	 ebx, 3
  00d65	2b d8		 sub	 ebx, eax

; 106  : 	else

  00d67	eb 08		 jmp	 SHORT $L72713
$L72712:

; 107  : 		pphotr = (npar - 1) * SP_TOT_ALLOPHONES;

  00d69	c1 e3 03	 shl	 ebx, 3
  00d6c	2b d8		 sub	 ebx, eax
  00d6e	83 eb 27	 sub	 ebx, 39			; 00000027H
$L72713:

; 108  : 	/* No table entries for PAP parameter */
; 109  : 
; 110  : 	phlas_temp = get_phone(pDph_t,nphone_temp - 1);

  00d71	8b 4c 24 2c	 mov	 ecx, DWORD PTR _nphone_temp$[esp+32]
  00d75	ba 00 1e 00 00	 mov	 edx, 7680		; 00001e00H
  00d7a	8d 41 ff	 lea	 eax, DWORD PTR [ecx-1]
  00d7d	85 c0		 test	 eax, eax
  00d7f	7c 1a		 jl	 SHORT $L74825
  00d81	0f bf b7 06 15
	00 00		 movsx	 esi, WORD PTR [edi+5382]
  00d88	3b c6		 cmp	 eax, esi
  00d8a	7d 0f		 jge	 SHORT $L74825
  00d8c	66 8b 84 4f ea
	03 00 00	 mov	 ax, WORD PTR [edi+ecx*2+1002]
  00d94	66 89 44 24 10	 mov	 WORD PTR _phlas_temp$[esp+36], ax
  00d99	eb 04		 jmp	 SHORT $L74826
$L74825:
  00d9b	89 54 24 10	 mov	 DWORD PTR _phlas_temp$[esp+36], edx
$L74826:

; 111  : 	phone_temp = get_phone(pDph_t,nphone_temp);

  00d9f	85 c9		 test	 ecx, ecx
  00da1	7c 1a		 jl	 SHORT $L74827
  00da3	0f bf 87 06 15
	00 00		 movsx	 eax, WORD PTR [edi+5382]
  00daa	3b c8		 cmp	 ecx, eax
  00dac	7d 0f		 jge	 SHORT $L74827
  00dae	66 8b 84 4f ec
	03 00 00	 mov	 ax, WORD PTR [edi+ecx*2+1004]
  00db6	66 89 44 24 28	 mov	 WORD PTR _phone_temp$[esp+32], ax
  00dbb	eb 04		 jmp	 SHORT $L74828
$L74827:
  00dbd	89 54 24 28	 mov	 DWORD PTR _phone_temp$[esp+32], edx
$L74828:

; 112  : 	phnex_temp = get_phone(pDph_t,nphone_temp + 1);

  00dc1	8d 41 01	 lea	 eax, DWORD PTR [ecx+1]
  00dc4	85 c0		 test	 eax, eax
  00dc6	7c 1a		 jl	 SHORT $L74829
  00dc8	0f bf b7 06 15
	00 00		 movsx	 esi, WORD PTR [edi+5382]
  00dcf	3b c6		 cmp	 eax, esi
  00dd1	7d 0f		 jge	 SHORT $L74829
  00dd3	66 8b 8c 4f ee
	03 00 00	 mov	 cx, WORD PTR [edi+ecx*2+1006]
  00ddb	66 89 4c 24 18	 mov	 WORD PTR _phnex_temp$[esp+36], cx
  00de0	eb 04		 jmp	 SHORT $L74830
$L74829:
  00de2	89 54 24 18	 mov	 DWORD PTR _phnex_temp$[esp+36], edx
$L74830:

; 113  : 
; 114  : 	/* 
; 115  : 	 * Spanish nasal assimilation                            8-May-86
; 116  : 	 * [m] and [n] assimilate to a following obstruent.
; 117  : 	 * NOTE: we do not (currently) implement the
; 118  : 	 * rule that partially assimilates "nm" as in "inmovil".
; 119  : 	 */
; 120  : 
; 121  : #ifdef GETITOUTAHERE
; 122  : 	if ((pDphsettar->np == &PF2 || pDphsettar->np == &PF3)
; 123  : 		&& ((phone_feature( pDph_t,phnex_temp] & FOBST) IS_PLUS)
; 124  : 		&& (phone_temp == SPP_M
; 125  : 			|| phone_temp == SPP_N))
; 126  : 	{
; 127  : 		phone_temp = phnex_temp;
; 128  : 	}
; 129  : #endif
; 130  : 
; 131  : 	phone_feat = phone_feature( pDph_t,phone_temp);

  00de6	0f bf 74 24 28	 movsx	 esi, WORD PTR _phone_temp$[esp+32]
  00deb	56		 push	 esi
  00dec	57		 push	 edi
  00ded	e8 00 00 00 00	 call	 _phone_feature
  00df2	8b c8		 mov	 ecx, eax
  00df4	83 c4 08	 add	 esp, 8

; 132  : 
; 133  : 	/* FORMANT FREQUENCIES AND BANDWIDTHS */
; 134  : 
; 135  : 	if ((pDphsettar->par_type = partyp[npar]) IS_FORM_FREQ_OR_BW)

  00df7	0f bf 44 24 14	 movsx	 eax, WORD PTR _npar$[esp+36]
  00dfc	89 44 24 1c	 mov	 DWORD PTR -8+[esp+36], eax
  00e00	8a 80 00 00 00
	00		 mov	 al, BYTE PTR _partyp[eax]
  00e06	3c 02		 cmp	 al, 2
  00e08	88 45 14	 mov	 BYTE PTR [ebp+20], al
  00e0b	0f 8e 79 01 00
	00		 jle	 $L72714

; 136  : 	{
; 137  : 		if ((tartemp = pDph_t->p_tar[(phone_temp & PVALUE)  + pphotr]) < -1)

  00e11	8b 97 18 15 00
	00		 mov	 edx, DWORD PTR [edi+5400]
  00e17	81 e6 ff 00 00
	00		 and	 esi, 255		; 000000ffH
  00e1d	0f bf cb	 movsx	 ecx, bx
  00e20	8d 04 31	 lea	 eax, DWORD PTR [ecx+esi]
  00e23	66 8b 04 42	 mov	 ax, WORD PTR [edx+eax*2]
  00e27	66 3d ff ff	 cmp	 ax, -1

; 138  : 		{
; 139  : 			return (tartemp);	/* Pointer to diph info in p_diph[] */

  00e2b	0f 8c ba 03 00
	00		 jl	 $L72697

; 140  : 		}
; 141  : 		else if (tartemp == -1)

  00e31	0f 85 9f 00 00
	00		 jne	 $L74864

; 142  : 		{
; 143  : 			/* Tar undefined, use tarval of next segment */
; 144  : 			if ((tartemp = pDph_t->p_tar[(phnex_temp & PVALUE) + pphotr]) == -1)

  00e37	8b 44 24 18	 mov	 eax, DWORD PTR _phnex_temp$[esp+36]
  00e3b	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  00e40	03 c1		 add	 eax, ecx
  00e42	66 8b 04 42	 mov	 ax, WORD PTR [edx+eax*2]
  00e46	66 3d ff ff	 cmp	 ax, -1
  00e4a	0f 85 86 00 00
	00		 jne	 $L74864

; 145  : 			{
; 146  : 				/* Tar still undefined, use tarval of second-next segment */
; 147  : 				if ((tartemp = pDph_t->p_tar[(get_phone (pDph_t, nphone_temp + 2) & PVALUE) + pphotr]) == -1)

  00e50	8b 5c 24 2c	 mov	 ebx, DWORD PTR _nphone_temp$[esp+32]
  00e54	8d 43 02	 lea	 eax, DWORD PTR [ebx+2]
  00e57	85 c0		 test	 eax, eax
  00e59	7c 15		 jl	 SHORT $L74831
  00e5b	0f bf af 06 15
	00 00		 movsx	 ebp, WORD PTR [edi+5382]
  00e62	3b c5		 cmp	 eax, ebp
  00e64	7d 0a		 jge	 SHORT $L74831
  00e66	0f bf 84 5f f0
	03 00 00	 movsx	 eax, WORD PTR [edi+ebx*2+1008]
  00e6e	eb 05		 jmp	 SHORT $L74832
$L74831:
  00e70	b8 00 1e 00 00	 mov	 eax, 7680		; 00001e00H
$L74832:
  00e75	25 ff 00 00 00	 and	 eax, 255		; 000000ffH

; 148  : 				{
; 149  : 					/* Tar still undefined, use previous phone */
; 150  : 					if ((tartemp = pDph_t->p_tar[(phlas_temp & PVALUE) + pphotr]) < -1)

  00e7a	8b 5c 24 10	 mov	 ebx, DWORD PTR _phlas_temp$[esp+36]
  00e7e	03 c1		 add	 eax, ecx
  00e80	66 8b 04 42	 mov	 ax, WORD PTR [edx+eax*2]
  00e84	66 3d ff ff	 cmp	 ax, -1
  00e88	75 50		 jne	 SHORT $L72724
  00e8a	8b c3		 mov	 eax, ebx
  00e8c	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  00e91	03 c1		 add	 eax, ecx
  00e93	66 8b 04 42	 mov	 ax, WORD PTR [edx+eax*2]
  00e97	66 3d ff ff	 cmp	 ax, -1
  00e9b	7d 29		 jge	 SHORT $L74875

; 151  : 					{
; 152  : 						/* Diphthonized seg, use last target value */
; 153  : 						tartemp = -tartemp;
; 154  : 						while (pDph_t->p_diph[tartemp] != -1)

  00e9d	8b 8f 14 15 00
	00		 mov	 ecx, DWORD PTR [edi+5396]
  00ea3	f7 d8		 neg	 eax
  00ea5	0f bf d0	 movsx	 edx, ax
  00ea8	66 83 3c 51 ff	 cmp	 WORD PTR [ecx+edx*2], -1
  00ead	74 0b		 je	 SHORT $L72723
$L72722:

; 155  : 						{
; 156  : 							/* eab 7/8/98 ++ is going the 
; 157  : 							wrong dirextion in the array  */
; 158  : 							tartemp--;

  00eaf	48		 dec	 eax
  00eb0	0f bf d0	 movsx	 edx, ax
  00eb3	66 83 3c 51 ff	 cmp	 WORD PTR [ecx+edx*2], -1
  00eb8	75 f5		 jne	 SHORT $L72722
$L72723:

; 159  : 						}
; 160  : 
; 161  : 						tartemp = pDph_t->p_diph[tartemp - 1];

  00eba	0f bf c0	 movsx	 eax, ax
  00ebd	66 8b 44 41 fe	 mov	 ax, WORD PTR [ecx+eax*2-2]

; 162  : 					}
; 163  : 
; 164  : 					/* If this doesn't work, use default value */
; 165  : 
; 166  : 					if (tartemp == -1)

  00ec2	66 3d ff ff	 cmp	 ax, -1
$L74875:
  00ec6	75 12		 jne	 SHORT $L72724

; 167  : 					{
; 168  : 						tartemp = parini[npar];

  00ec8	8b 4c 24 1c	 mov	 ecx, DWORD PTR -8+[esp+36]
  00ecc	66 8b 04 4d 00
	00 00 00	 mov	 ax, WORD PTR _parini[ecx*2]
  00ed4	eb 04		 jmp	 SHORT $L72724
$L74864:
  00ed6	8b 5c 24 10	 mov	 ebx, DWORD PTR _phlas_temp$[esp+36]
$L72724:

; 169  : 					}
; 170  : 				}
; 171  : 			}
; 172  : 		}
; 173  : 	
; 174  : 		/* Special rule for B3 of /n/ adjacent to /i/ */
; 175  : 		if ((npar == (B3 - F1))
; 176  : 			&& (phone_temp == SPP_N
; 177  : 				|| phone_temp == SPP_NH
; 178  : 				|| phone_temp == SPP_NX)
; 179  : 			&& (((sp_place[phnex_temp & PVALUE] & F2BACKI) IS_PLUS)
; 180  : 				|| ((sp_place[phlas_temp & PVALUE] & F2BACKI) IS_PLUS)
; 181  : 			)
; 182  : 			)

  00eda	66 83 7c 24 14
	06		 cmp	 WORD PTR _npar$[esp+36], 6
  00ee0	75 5b		 jne	 SHORT $L74866
  00ee2	8b 54 24 28	 mov	 edx, DWORD PTR _phone_temp$[esp+32]
  00ee6	b1 40		 mov	 cl, 64			; 00000040H
  00ee8	66 81 fa 0c 1b	 cmp	 dx, 6924		; 00001b0cH
  00eed	74 0e		 je	 SHORT $L72726
  00eef	66 81 fa 0d 1b	 cmp	 dx, 6925		; 00001b0dH
  00ef4	74 07		 je	 SHORT $L72726
  00ef6	66 81 fa 22 1b	 cmp	 dx, 6946		; 00001b22H
  00efb	75 29		 jne	 SHORT $L74859
$L72726:
  00efd	8b 6c 24 18	 mov	 ebp, DWORD PTR _phnex_temp$[esp+36]
  00f01	81 e5 ff 00 00
	00		 and	 ebp, 255		; 000000ffH
  00f07	84 0c 6d 00 00
	00 00		 test	 BYTE PTR _sp_place[ebp*2], cl
  00f0e	75 11		 jne	 SHORT $L72727
  00f10	8b eb		 mov	 ebp, ebx
  00f12	81 e5 ff 00 00
	00		 and	 ebp, 255		; 000000ffH
  00f18	84 0c 6d 00 00
	00 00		 test	 BYTE PTR _sp_place[ebp*2], cl
  00f1f	74 05		 je	 SHORT $L74859
$L72727:

; 183  : 		{
; 184  : 			tartemp = 300; /* 12/10/1996 EDB, was 1600 */

  00f21	b8 2c 01 00 00	 mov	 eax, 300		; 0000012cH
$L74859:

; 185  : 		}
; 186  : 
; 187  : 	
; 188  : 		/* 
; 189  : 	 	 * Special rule for /i/ following /f/
; 190  : 	 	 */
; 191  : 		if ((npar == (B3 - F1))
; 192  : 			&& ((sp_place[phone_temp & PVALUE] & F2BACKI) IS_PLUS)
; 193  : 			&& (phlas_temp == SPP_F))

  00f26	84 0c 75 00 00
	00 00		 test	 BYTE PTR _sp_place[esi*2], cl
  00f2d	74 12		 je	 SHORT $L72728
  00f2f	66 81 fb 0e 1b	 cmp	 bx, 6926		; 00001b0eH
  00f34	75 0b		 jne	 SHORT $L72728

; 194  : 		{
; 195  : 			tartemp = 90;

  00f36	b8 5a 00 00 00	 mov	 eax, 90			; 0000005aH
  00f3b	eb 04		 jmp	 SHORT $L72728
$L74866:
  00f3d	8b 54 24 28	 mov	 edx, DWORD PTR _phone_temp$[esp+32]
$L72728:

; 196  : 		}
; 197  : 		/* 
; 198  : 	 	 * Special rule for /r/ and /rr/ after "back" vowel.        8-Jul-86
; 199  : 	 	 */
; 200  : 		if ((phone_temp == SPP_R || phone_temp == SPP_RR)
; 201  : 			&& (phlas_temp == SPP_O || phlas_temp == SPP_U))

  00f41	66 81 fa 1e 1b	 cmp	 dx, 6942		; 00001b1eH
  00f46	74 07		 je	 SHORT $L72730
  00f48	66 81 fa 08 1b	 cmp	 dx, 6920		; 00001b08H
  00f4d	75 19		 jne	 SHORT $L72733
$L72730:
  00f4f	66 81 fb 04 1b	 cmp	 bx, 6916		; 00001b04H
  00f54	74 07		 je	 SHORT $L72731
  00f56	66 81 fb 05 1b	 cmp	 bx, 6917		; 00001b05H
  00f5b	75 0b		 jne	 SHORT $L72733
$L72731:

; 202  : 		{
; 203  : 			switch (npar)
; 204  : 			{

  00f5d	8b 4c 24 1c	 mov	 ecx, DWORD PTR -8+[esp+36]
  00f61	85 c9		 test	 ecx, ecx
  00f63	75 03		 jne	 SHORT $L72733

; 205  : 				case (F1 - F1):
; 206  : 					tartemp -= 100;

  00f65	83 e8 64	 sub	 eax, 100		; 00000064H
$L72733:

; 207  : 					break;
; 208  : 
; 209  : 			}
; 210  : 		}
; 211  : 		if (tartemp < -1)

  00f68	66 3d ff ff	 cmp	 ax, -1
  00f6c	0f 8d 79 02 00
	00		 jge	 $L72697

; 212  : 		{
; 213  : 			tartemp = pDph_t->p_diph[-tartemp];

  00f72	0f bf d0	 movsx	 edx, ax
  00f75	8b 87 14 15 00
	00		 mov	 eax, DWORD PTR [edi+5396]
  00f7b	5f		 pop	 edi
  00f7c	d1 e2		 shl	 edx, 1
  00f7e	2b c2		 sub	 eax, edx
  00f80	5e		 pop	 esi
  00f81	5d		 pop	 ebp
  00f82	5b		 pop	 ebx
  00f83	66 8b 00	 mov	 ax, WORD PTR [eax]

; 367  : 
; 368  : 		}
; 369  : 	}
; 370  : 	return (tartemp);
; 371  : }

  00f86	83 c4 14	 add	 esp, 20			; 00000014H
  00f89	c3		 ret	 0
$L72714:

; 214  : 		}
; 215  : 	}
; 216  : 
; 217  : 	/* SOURCE AMPLITUDE TARGETS (AV & AP) */
; 218  : 	else if (pDphsettar->par_type IS_AV_OR_AH)

  00f8a	84 c0		 test	 al, al
  00f8c	0f 85 b9 00 00
	00		 jne	 $L72739

; 219  : 	{
; 220  : 
; 221  : 		/* Rules for voicing amplitude */
; 222  : 		if (npar == AV - 1)

  00f92	66 83 7c 24 14
	07		 cmp	 WORD PTR _npar$[esp+36], 7
  00f98	75 6c		 jne	 SHORT $L72740

; 223  : 		{
; 224  : 			tartemp = pDph_t->p_tar[(phone_temp & PVALUE) + pphotr];

  00f9a	8b 97 18 15 00
	00		 mov	 edx, DWORD PTR [edi+5400]
  00fa0	81 e6 ff 00 00
	00		 and	 esi, 255		; 000000ffH
  00fa6	0f bf cb	 movsx	 ecx, bx
  00fa9	03 f1		 add	 esi, ecx

; 225  : 
; 226  : 			/* BATS 660 EAB 5/11/98*/
; 227  : 			if(pKsd_t->sprate <100)

  00fab	8b 4c 24 20	 mov	 ecx, DWORD PTR _pKsd_t$[esp+36]
  00faf	66 83 b9 e6 03
	00 00 64	 cmp	 WORD PTR [ecx+998], 100	; 00000064H
  00fb7	66 8b 04 72	 mov	 ax, WORD PTR [edx+esi*2]
  00fbb	7d 0c		 jge	 SHORT $L72742

; 228  : 				if (phone_temp == USP_Q)

  00fbd	66 81 7c 24 28
	35 1e		 cmp	 WORD PTR _phone_temp$[esp+32], 7733 ; 00001e35H
  00fc4	75 03		 jne	 SHORT $L72742

; 229  : 					tartemp -=20;

  00fc6	83 e8 14	 sub	 eax, 20			; 00000014H
$L72742:

; 230  : 
; 231  : 			/* No voicing for stop-release dummy vowels      30-Jul-86       */
; 232  : 			if ((pDph_t->allofeats[nphone_temp] & FDUMMY_VOWEL) IS_PLUS)

  00fc9	8b 54 24 2c	 mov	 edx, DWORD PTR _nphone_temp$[esp+32]
  00fcd	8b 8c 97 58 06
	00 00		 mov	 ecx, DWORD PTR [edi+edx*4+1624]
  00fd4	f6 c5 08	 test	 ch, 8
  00fd7	74 02		 je	 SHORT $L72743

; 233  : 			{
; 234  : 				tartemp = 0;

  00fd9	33 c0		 xor	 eax, eax
$L72743:

; 235  : 			}
; 236  : 				/* Reduce amplitudes if unstressed */
; 237  : 			if ((pDph_t->allofeats[nphone_temp] & FSTRESS) IS_MINUS)

  00fdb	f6 c1 03	 test	 cl, 3
  00fde	75 12		 jne	 SHORT $L72745

; 238  : 			{
; 239  : 				/*12/10/96 EDB, -1 db isn't enough destress*/
; 240  : 				tartemp -= 3;

  00fe0	83 e8 03	 sub	 eax, 3

; 241  : 				if (tartemp < 0)

  00fe3	66 85 c0	 test	 ax, ax
  00fe6	7d 0d		 jge	 SHORT $L74876
  00fe8	5f		 pop	 edi
  00fe9	5e		 pop	 esi
  00fea	5d		 pop	 ebp

; 242  : 					tartemp = 0;

  00feb	33 c0		 xor	 eax, eax
  00fed	5b		 pop	 ebx

; 367  : 
; 368  : 		}
; 369  : 	}
; 370  : 	return (tartemp);
; 371  : }

  00fee	83 c4 14	 add	 esp, 20			; 00000014H
  00ff1	c3		 ret	 0
$L72745:

; 243  : 			}
; 244  : 			if(tartemp) //EAB HACK LETS FIX IT LATER HELPME

  00ff2	66 85 c0	 test	 ax, ax
$L74876:
  00ff5	0f 84 f0 01 00
	00		 je	 $L72697
  00ffb	5f		 pop	 edi
  00ffc	5e		 pop	 esi
  00ffd	5d		 pop	 ebp

; 245  : 			tartemp += 10;

  00ffe	83 c0 0a	 add	 eax, 10			; 0000000aH
  01001	5b		 pop	 ebx

; 367  : 
; 368  : 		}
; 369  : 	}
; 370  : 	return (tartemp);
; 371  : }

  01002	83 c4 14	 add	 esp, 20			; 00000014H
  01005	c3		 ret	 0
$L72740:

; 246  : 		}
; 247  : 
; 248  : 		/* Rules for aspiration amplitude */
; 249  : 
; 250  : 		else
; 251  : 		{
; 252  : 
; 253  : 			tartemp = 0;
; 254  : 			if(phone_temp == SPP_R || phone_temp == SPP_RR)

  01006	8b 4c 24 28	 mov	 ecx, DWORD PTR _phone_temp$[esp+32]
  0100a	33 c0		 xor	 eax, eax
  0100c	66 81 f9 1e 1b	 cmp	 cx, 6942		; 00001b1eH
  01011	74 07		 je	 SHORT $L72749
  01013	66 81 f9 08 1b	 cmp	 cx, 6920		; 00001b08H
  01018	75 05		 jne	 SHORT $L72748
$L72749:

; 255  : 				tartemp=33;

  0101a	b8 21 00 00 00	 mov	 eax, 33			; 00000021H
$L72748:

; 256  : 			if(phone_temp == SPP_LL)

  0101f	66 81 f9 0a 1b	 cmp	 cx, 6922		; 00001b0aH
  01024	75 0d		 jne	 SHORT $L72750
  01026	5f		 pop	 edi
  01027	5e		 pop	 esi
  01028	5d		 pop	 ebp

; 257  : 				tartemp=10;

  01029	b8 0a 00 00 00	 mov	 eax, 10			; 0000000aH
  0102e	5b		 pop	 ebx

; 367  : 
; 368  : 		}
; 369  : 	}
; 370  : 	return (tartemp);
; 371  : }

  0102f	83 c4 14	 add	 esp, 20			; 00000014H
  01032	c3		 ret	 0
$L72750:

; 258  : 			if(phone_temp == SPP_J)

  01033	66 81 f9 10 1b	 cmp	 cx, 6928		; 00001b10H
  01038	0f 85 ad 01 00
	00		 jne	 $L72697
  0103e	5f		 pop	 edi
  0103f	5e		 pop	 esi
  01040	5d		 pop	 ebp

; 259  : 				tartemp=25;/* make stronger for castillion*/

  01041	b8 19 00 00 00	 mov	 eax, 25			; 00000019H
  01046	5b		 pop	 ebx

; 367  : 
; 368  : 		}
; 369  : 	}
; 370  : 	return (tartemp);
; 371  : }

  01047	83 c4 14	 add	 esp, 20			; 00000014H
  0104a	c3		 ret	 0
$L72739:

; 260  : 		}
; 261  : 	}
; 262  : 
; 263  : 	/* PARALLEL FORMANT AMPLITUDES */
; 264  : 
; 265  : 	else if (pDphsettar->par_type IS_PARALLEL_FORM_AMP)

  0104b	3c 02		 cmp	 al, 2
  0104d	0f 85 79 01 00
	00		 jne	 $L72753

; 266  : 	{
; 267  : 		/* Source spectral tilt: highly tilted for obstruents */
; 268  : 
; 269  : 		/* (Voiced obstruents are special case, set F1=0 to signal voicebar) */
; 270  : 		if (pDphsettar->np == &PTILT)

  01053	8b 55 10	 mov	 edx, DWORD PTR [ebp+16]
  01056	8d 87 40 02 00
	00		 lea	 eax, DWORD PTR [edi+576]
  0105c	3b d0		 cmp	 edx, eax
  0105e	0f 85 c2 00 00
	00		 jne	 $L72754

; 271  : 		{
; 272  : 			tartemp = 3;
; 273  : 			if (phone_temp == GEN_SIL)

  01064	8b 6c 24 28	 mov	 ebp, DWORD PTR _phone_temp$[esp+32]
  01068	b8 03 00 00 00	 mov	 eax, 3
  0106d	66 81 fd 00 1e	 cmp	 bp, 7680		; 00001e00H
  01072	75 05		 jne	 SHORT $L72755

; 274  : 			{
; 275  : 				tartemp = 3;	   /* eab */
; 276  : 			}
; 277  : 		
; 278  : 			/* USe glotal speed instead 7/6/98 EAB
; 279  : 			else if (phone_temp == SPP_L && (phnex_temp == SPP_U || phlas_temp == SPP_U))
; 280  : 			{
; 281  : 				tartemp = 10 - 5 ;
; 282  : 			}*/
; 283  :     		else if ((phone_feat & (FVOICD | FPLOSV)) == (FVOICD | FPLOSV)

  01074	e9 31 01 00 00	 jmp	 $L72774
$L72755:

; 284  : 					 && ((phone_temp != SPP_DH) || (phone_temp == SPP_YH)))

  01079	8a d1		 mov	 dl, cl
  0107b	80 e2 42	 and	 dl, 66			; 00000042H
  0107e	80 fa 42	 cmp	 dl, 66			; 00000042H
  01081	75 11		 jne	 SHORT $L72757
  01083	66 81 fd 13 1b	 cmp	 bp, 6931		; 00001b13H
  01088	74 0a		 je	 SHORT $L72757

; 285  : 			{
; 286  : 				tartemp = 12;

  0108a	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH

; 287  : 			}
; 288  : 			else if ((begtyp(phone_temp) == 1) || (endtyp(phone_temp) == 1))

  0108f	e9 16 01 00 00	 jmp	 $L72774
$L72757:
  01094	8b d6		 mov	 edx, esi
  01096	8b de		 mov	 ebx, esi
  01098	c1 fa 08	 sar	 edx, 8
  0109b	81 e3 ff 00 00
	00		 and	 ebx, 255		; 000000ffH
  010a1	8b 14 95 00 00
	00 00		 mov	 edx, DWORD PTR _all_begtyp[edx*4]
  010a8	66 83 3c 5a 01	 cmp	 WORD PTR [edx+ebx*2], 1
  010ad	74 61		 je	 SHORT $L72761
  010af	8b d6		 mov	 edx, esi
  010b1	81 e6 ff 00 00
	00		 and	 esi, 255		; 000000ffH
  010b7	c1 fa 08	 sar	 edx, 8
  010ba	8b 14 95 00 00
	00 00		 mov	 edx, DWORD PTR _all_endtyp[edx*4]
  010c1	66 83 3c 72 01	 cmp	 WORD PTR [edx+esi*2], 1
  010c6	74 48		 je	 SHORT $L72761

; 291  : 				{
; 292  : 					tartemp += 5;
; 293  : 				}
; 294  : 				else
; 295  : 				{
; 296  : 					tartemp += 3;
; 297  : 				}
; 298  : 			}
; 299  : 
; 300  : 			
; 301  : 			/* 
; 302  : 			 * Added 7-Jul-86 (MM) to increase tilt for [r] and [rr].
; 303  : 			 */
; 304  : 			else if (phone_temp == SPP_R || phone_temp == SPP_RR)

  010c8	66 81 fd 1e 1b	 cmp	 bp, 6942		; 00001b1eH
  010cd	74 15		 je	 SHORT $L72766
  010cf	66 81 fd 08 1b	 cmp	 bp, 6920		; 00001b08H
  010d4	74 0e		 je	 SHORT $L72766

; 305  : 			{
; 306  : 				tartemp = 24;
; 307  : 			}
; 308  : 			/* 
; 309  : 			 * Added 12-Apr-86 (MM) to set tilt for pseudo-voicebars
; 310  : 			 * Modified 17-Apr-86 (MM) to take value from table.
; 311  : 			 */
; 312  : 		//	else if ((phone_temp >= SPP_BH)
; 313  : 			// trying to use out_gs for tilt 
; 314  : 			else if ((phone_temp >= SPP_DH)
; 315  : 					 && (phone_temp <= SPP_GH))

  010d6	66 81 fd 13 1b	 cmp	 bp, 6931		; 00001b13H
  010db	7c 11		 jl	 SHORT $L72768
  010dd	66 81 fd 14 1b	 cmp	 bp, 6932		; 00001b14H
  010e2	7f 0a		 jg	 SHORT $L72768
$L72766:

; 316  : 			{
; 317  : 				tartemp = 24;

  010e4	b8 18 00 00 00	 mov	 eax, 24			; 00000018H

; 318  : 			}
; 319  : 			/* eab removed wrong bracket from here */
; 320  : 			else if ((phone_feat & FNASAL) IS_PLUS)

  010e9	e9 bc 00 00 00	 jmp	 $L72774
$L72768:
  010ee	f6 c1 80	 test	 cl, -128		; ffffff80H
  010f1	74 0a		 je	 SHORT $L72770

; 321  : 			{
; 322  : 				tartemp = 6;	

  010f3	b8 06 00 00 00	 mov	 eax, 6

; 323  : 			}
; 324  : 			else if ((phone_feat & FOBST) IS_PLUS)

  010f8	e9 ad 00 00 00	 jmp	 $L72774
$L72770:
  010fd	f6 c1 20	 test	 cl, 32			; 00000020H
  01100	0f 84 a4 00 00
	00		 je	 $L72774

; 325  : 			{
; 326  : 				tartemp = 7;

  01106	b8 07 00 00 00	 mov	 eax, 7
  0110b	e9 9a 00 00 00	 jmp	 $L72774
$L72761:

; 289  : 			{
; 290  : 				if (pDph_t->malfem == FEMALE)

  01110	66 8b 87 08 15
	00 00		 mov	 ax, WORD PTR [edi+5384]
  01117	66 f7 d8	 neg	 ax
  0111a	1b c0		 sbb	 eax, eax
  0111c	24 fe		 and	 al, -2			; fffffffeH
  0111e	83 c0 08	 add	 eax, 8

; 327  : 
; 328  : 			}
; 329  : 		}
; 330  : 
; 331  : 		/* If ptram > 0, it is a pointer in obstruent array taram */
; 332  : 
; 333  : 		else if ((tartemp = ptram(phone_temp)) > 0)

  01121	e9 84 00 00 00	 jmp	 $L72774
$L72754:
  01126	8b c6		 mov	 eax, esi
  01128	81 e6 ff 00 00
	00		 and	 esi, 255		; 000000ffH
  0112e	c1 f8 08	 sar	 eax, 8
  01131	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR _all_ptram[eax*4]
  01138	66 8b 04 71	 mov	 ax, WORD PTR [ecx+esi*2]
  0113c	66 85 c0	 test	 ax, ax
  0113f	7e 69		 jle	 SHORT $L72774

; 334  : 		{
; 335  : 
; 336  : 			begtypnex = begtyp(phnex_temp) - 1;

  01141	8b 54 24 18	 mov	 edx, DWORD PTR _phnex_temp$[esp+36]
  01145	0f bf ca	 movsx	 ecx, dx
  01148	8b f1		 mov	 esi, ecx
  0114a	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  01150	c1 fe 08	 sar	 esi, 8
  01153	8b 34 b5 00 00
	00 00		 mov	 esi, DWORD PTR _all_begtyp[esi*4]
  0115a	66 8b 0c 4e	 mov	 cx, WORD PTR [esi+ecx*2]
  0115e	66 49		 dec	 cx

; 337  : 
; 338  : 			if (phnex_temp == GEN_SIL)

  01160	66 81 fa 00 1e	 cmp	 dx, 7680		; 00001e00H
  01165	75 1d		 jne	 SHORT $L72775

; 339  : 				begtypnex = endtyp(phlas_temp) - 1;

  01167	0f bf 4c 24 10	 movsx	 ecx, WORD PTR _phlas_temp$[esp+36]
  0116c	8b d1		 mov	 edx, ecx
  0116e	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  01174	c1 fa 08	 sar	 edx, 8
  01177	8b 14 95 00 00
	00 00		 mov	 edx, DWORD PTR _all_endtyp[edx*4]
  0117e	66 8b 0c 4a	 mov	 cx, WORD PTR [edx+ecx*2]
  01182	66 49		 dec	 cx
$L72775:

; 340  : 			if (begtypnex == OBSTRUENT)

  01184	66 83 f9 04	 cmp	 cx, 4
  01188	75 05		 jne	 SHORT $L72776

; 341  : 				begtypnex = BACK_UNROUNDED_VOWEL;

  0118a	b9 02 00 00 00	 mov	 ecx, 2
$L72776:

; 342  : 			tartemp += (npar - A2 + 1 + (6 * begtypnex));

  0118f	8d 0c 49	 lea	 ecx, DWORD PTR [ecx+ecx*2]

; 343  : 			tartemp = pDph_t->p_amp[tartemp];

  01192	8d 14 48	 lea	 edx, DWORD PTR [eax+ecx*2]
  01195	8b 44 24 14	 mov	 eax, DWORD PTR _npar$[esp+36]
  01199	8d 4c 02 f7	 lea	 ecx, DWORD PTR [edx+eax-9]
  0119d	8b 87 1c 15 00
	00		 mov	 eax, DWORD PTR [edi+5404]
  011a3	0f bf d1	 movsx	 edx, cx
  011a6	66 8b 04 50	 mov	 ax, WORD PTR [eax+edx*2]
$L72774:

; 344  : 
; 345  : 		}
; 346  : 
; 347  : 		/* Reduce amplitudes if dummy vowel next   30-Jul-86 */
; 348  : 		/* Actual value is just a guess */
; 349  : 
; 350  : 		if ((pDph_t->allofeats[nphone_temp + 1] & FDUMMY_VOWEL) IS_PLUS)

  011aa	8b 4c 24 2c	 mov	 ecx, DWORD PTR _nphone_temp$[esp+32]
  011ae	8b 94 8f 5c 06
	00 00		 mov	 edx, DWORD PTR [edi+ecx*4+1628]
  011b5	f6 c6 08	 test	 dh, 8
  011b8	74 31		 je	 SHORT $L72697

; 351  : 		{
; 352  : 			tartemp -= 6;

  011ba	83 e8 06	 sub	 eax, 6

; 353  : 			if (tartemp < 0)

  011bd	66 85 c0	 test	 ax, ax
  011c0	7d 29		 jge	 SHORT $L72697
  011c2	5f		 pop	 edi
  011c3	5e		 pop	 esi
  011c4	5d		 pop	 ebp

; 354  : 				tartemp = 0;

  011c5	33 c0		 xor	 eax, eax
  011c7	5b		 pop	 ebx

; 367  : 
; 368  : 		}
; 369  : 	}
; 370  : 	return (tartemp);
; 371  : }

  011c8	83 c4 14	 add	 esp, 20			; 00000014H
  011cb	c3		 ret	 0
$L72753:

; 355  : 
; 356  : 		}
; 357  : 	}
; 358  : 
; 359  : 	/* NASAL ZERO */
; 360  : 
; 361  : 	else if (pDphsettar->par_type IS_NASAL_ZERO_FREQ)

  011cc	3c 01		 cmp	 al, 1
  011ce	75 17		 jne	 SHORT $L74860

; 362  : 	{
; 363  : 		tartemp = NON_NASAL_ZERO;	/* Default for non-nasalized, cancel FP=280 */
; 364  : 		if ((phone_feat & FNASAL) IS_PLUS)

  011d0	f6 c1 80	 test	 cl, -128		; ffffff80H
  011d3	b8 22 01 00 00	 mov	 eax, 290		; 00000122H
  011d8	74 11		 je	 SHORT $L72697
  011da	5f		 pop	 edi
  011db	5e		 pop	 esi
  011dc	5d		 pop	 ebp

; 365  : 		{
; 366  : 			tartemp = NASAL_ZERO_BOUNDARY;  /* Value dur nasal murmur (527=max) */

  011dd	b8 72 01 00 00	 mov	 eax, 370		; 00000172H
  011e2	5b		 pop	 ebx

; 367  : 
; 368  : 		}
; 369  : 	}
; 370  : 	return (tartemp);
; 371  : }

  011e3	83 c4 14	 add	 esp, 20			; 00000014H
  011e6	c3		 ret	 0
$L74860:

; 365  : 		{
; 366  : 			tartemp = NASAL_ZERO_BOUNDARY;  /* Value dur nasal murmur (527=max) */

  011e7	8b 44 24 2c	 mov	 eax, DWORD PTR _tartemp$[esp+32]
$L72697:
  011eb	5f		 pop	 edi
  011ec	5e		 pop	 esi
  011ed	5d		 pop	 ebp
  011ee	5b		 pop	 ebx

; 367  : 
; 368  : 		}
; 369  : 	}
; 370  : 	return (tartemp);
; 371  : }

  011ef	83 c4 14	 add	 esp, 20			; 00000014H
  011f2	c3		 ret	 0
_sp_gettar ENDP
_TEXT	ENDS
EXTRN	_la_maleloc:BYTE
EXTRN	_la_maldip:BYTE
EXTRN	_la_maltar:BYTE
EXTRN	_la_malamp:BYTE
EXTRN	_la_femloc:BYTE
EXTRN	_la_femdip:BYTE
EXTRN	_la_femtar:BYTE
EXTRN	_la_place:BYTE
_TEXT	SEGMENT
_phTTS$ = 8
_nphone_temp$ = 12
_phone_temp$ = 8
_phlas_temp$ = -20
_phnex_temp$ = -12
_tartemp$ = 12
_npar$ = -16
_pKsd_t$ = -4
_la_gettar PROC NEAR

; 76   : {

  01200	83 ec 14	 sub	 esp, 20			; 00000014H

; 77   : 	short                   phone_temp, phlas_temp, phnex_temp, tartemp, pphotr, begtypnex, npar;
; 78   : 	short                   phone_feat;
; 79   : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  01203	8b 44 24 18	 mov	 eax, DWORD PTR _phTTS$[esp+16]
  01207	53		 push	 ebx
  01208	55		 push	 ebp
  01209	56		 push	 esi
  0120a	57		 push	 edi
  0120b	8b 78 18	 mov	 edi, DWORD PTR [eax+24]

; 80   : 	PKSD_T                  pKsd_t = phTTS->pKernelShareData;

  0120e	8b 40 08	 mov	 eax, DWORD PTR [eax+8]

; 81   : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;

  01211	8b af 10 2c 00
	00		 mov	 ebp, DWORD PTR [edi+11280]
  01217	89 44 24 20	 mov	 DWORD PTR _pKsd_t$[esp+36], eax

; 82   : 
; 83   : 	if( PFLA != pDph_t->last_lang)

  0121b	b8 1a 00 00 00	 mov	 eax, 26			; 0000001aH
  01220	66 39 87 0a 15
	00 00		 cmp	 WORD PTR [edi+5386], ax
  01227	74 59		 je	 SHORT $L73172

; 84   : 	{
; 85   : 		pDph_t->last_lang = PFLA;
; 86   : 		if(pDph_t->malfem == MALE)

  01229	66 83 bf 08 15
	00 00 01	 cmp	 WORD PTR [edi+5384], 1
  01231	66 89 87 0a 15
	00 00		 mov	 WORD PTR [edi+5386], ax
  01238	75 20		 jne	 SHORT $L73171

; 87   : 		{
; 88   : 			pDph_t->p_locus = la_maleloc;	   			/* Use MALE tables */

  0123a	c7 87 10 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5392], OFFSET FLAT:_la_maleloc

; 89   : 			pDph_t->p_diph = la_maldip;

  01244	c7 87 14 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5396], OFFSET FLAT:_la_maldip

; 90   : 			pDph_t->p_tar = la_maltar;

  0124e	c7 87 18 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5400], OFFSET FLAT:_la_maltar

; 91   : 			pDph_t->p_amp = la_malamp;
; 92   : 		}
; 93   : 		else

  01258	eb 1e		 jmp	 SHORT $L74927
$L73171:

; 94   : 		{
; 95   : 			pDph_t->p_locus = la_femloc;	   			/* Use FEMALE tables */

  0125a	c7 87 10 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5392], OFFSET FLAT:_la_femloc

; 96   : 			pDph_t->p_diph = la_femdip;

  01264	c7 87 14 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5396], OFFSET FLAT:_la_femdip

; 97   : 			pDph_t->p_tar = la_femtar;

  0126e	c7 87 18 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5400], OFFSET FLAT:_la_femtar
$L74927:

; 98   : 			pDph_t->p_amp = la_malamp;

  01278	c7 87 1c 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5404], OFFSET FLAT:_la_malamp
$L73172:

; 99   : 		}
; 100  : 	}
; 101  : 	
; 102  : 	npar = pDphsettar->np - &PF1;

  01282	8b 75 10	 mov	 esi, DWORD PTR [ebp+16]
  01285	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  0128a	8b ce		 mov	 ecx, esi
  0128c	2b cf		 sub	 ecx, edi
  0128e	83 e9 24	 sub	 ecx, 36			; 00000024H
  01291	f7 e9		 imul	 ecx
  01293	c1 fa 03	 sar	 edx, 3
  01296	8b ca		 mov	 ecx, edx
  01298	c1 e9 1f	 shr	 ecx, 31			; 0000001fH
  0129b	03 d1		 add	 edx, ecx
  0129d	89 54 24 14	 mov	 DWORD PTR _npar$[esp+36], edx

; 103  : 	if (pDphsettar->np < &PFZ)

  012a1	8d 97 90 00 00
	00		 lea	 edx, DWORD PTR [edi+144]

; 104  : 		pphotr = (npar) * LA_TOT_ALLOPHONES;

  012a7	8b 44 24 14	 mov	 eax, DWORD PTR _npar$[esp+36]
  012ab	3b f2		 cmp	 esi, edx
  012ad	8d 1c 80	 lea	 ebx, DWORD PTR [eax+eax*4]
  012b0	73 07		 jae	 SHORT $L73173
  012b2	c1 e3 03	 shl	 ebx, 3
  012b5	2b d8		 sub	 ebx, eax

; 105  : 	else

  012b7	eb 08		 jmp	 SHORT $L73174
$L73173:

; 106  : 		pphotr = (npar - 1) * LA_TOT_ALLOPHONES;

  012b9	c1 e3 03	 shl	 ebx, 3
  012bc	2b d8		 sub	 ebx, eax
  012be	83 eb 27	 sub	 ebx, 39			; 00000027H
$L73174:

; 107  : 	/* No table entries for PAP parameter */
; 108  : 
; 109  : 	phlas_temp = get_phone(pDph_t,nphone_temp - 1);

  012c1	8b 4c 24 2c	 mov	 ecx, DWORD PTR _nphone_temp$[esp+32]
  012c5	ba 00 1e 00 00	 mov	 edx, 7680		; 00001e00H
  012ca	8d 41 ff	 lea	 eax, DWORD PTR [ecx-1]
  012cd	85 c0		 test	 eax, eax
  012cf	7c 1a		 jl	 SHORT $L74878
  012d1	0f bf b7 06 15
	00 00		 movsx	 esi, WORD PTR [edi+5382]
  012d8	3b c6		 cmp	 eax, esi
  012da	7d 0f		 jge	 SHORT $L74878
  012dc	66 8b 84 4f ea
	03 00 00	 mov	 ax, WORD PTR [edi+ecx*2+1002]
  012e4	66 89 44 24 10	 mov	 WORD PTR _phlas_temp$[esp+36], ax
  012e9	eb 04		 jmp	 SHORT $L74879
$L74878:
  012eb	89 54 24 10	 mov	 DWORD PTR _phlas_temp$[esp+36], edx
$L74879:

; 110  : 	phone_temp = get_phone(pDph_t,nphone_temp);

  012ef	85 c9		 test	 ecx, ecx
  012f1	7c 1a		 jl	 SHORT $L74880
  012f3	0f bf 87 06 15
	00 00		 movsx	 eax, WORD PTR [edi+5382]
  012fa	3b c8		 cmp	 ecx, eax
  012fc	7d 0f		 jge	 SHORT $L74880
  012fe	66 8b 84 4f ec
	03 00 00	 mov	 ax, WORD PTR [edi+ecx*2+1004]
  01306	66 89 44 24 28	 mov	 WORD PTR _phone_temp$[esp+32], ax
  0130b	eb 04		 jmp	 SHORT $L74881
$L74880:
  0130d	89 54 24 28	 mov	 DWORD PTR _phone_temp$[esp+32], edx
$L74881:

; 111  : 	phnex_temp = get_phone(pDph_t,nphone_temp + 1);

  01311	8d 41 01	 lea	 eax, DWORD PTR [ecx+1]
  01314	85 c0		 test	 eax, eax
  01316	7c 1a		 jl	 SHORT $L74882
  01318	0f bf b7 06 15
	00 00		 movsx	 esi, WORD PTR [edi+5382]
  0131f	3b c6		 cmp	 eax, esi
  01321	7d 0f		 jge	 SHORT $L74882
  01323	66 8b 8c 4f ee
	03 00 00	 mov	 cx, WORD PTR [edi+ecx*2+1006]
  0132b	66 89 4c 24 18	 mov	 WORD PTR _phnex_temp$[esp+36], cx
  01330	eb 04		 jmp	 SHORT $L74883
$L74882:
  01332	89 54 24 18	 mov	 DWORD PTR _phnex_temp$[esp+36], edx
$L74883:

; 112  : 
; 113  : 	/* 
; 114  : 	 * Spanish nasal assimilation                            8-May-86
; 115  : 	 * [m] and [n] assimilate to a following obstruent.
; 116  : 	 * NOTE: we do not (currently) implement the
; 117  : 	 * rule that partially assimilates "nm" as in "inmovil".
; 118  : 	 */
; 119  : 
; 120  : #ifdef GETITOUTAHERE
; 121  : 	if ((pDphsettar->np == &PF2 || pDphsettar->np == &PF3)
; 122  : 		&& ((phone_feature( pDph_t,phnex_temp] & FOBST) IS_PLUS)
; 123  : 		&& (phone_temp == LAP_M
; 124  : 			|| phone_temp == LAP_N))
; 125  : 	{
; 126  : 		phone_temp = phnex_temp;
; 127  : 	}
; 128  : #endif
; 129  : 
; 130  : 	phone_feat = phone_feature( pDph_t,phone_temp);

  01336	0f bf 74 24 28	 movsx	 esi, WORD PTR _phone_temp$[esp+32]
  0133b	56		 push	 esi
  0133c	57		 push	 edi
  0133d	e8 00 00 00 00	 call	 _phone_feature
  01342	8b c8		 mov	 ecx, eax
  01344	83 c4 08	 add	 esp, 8

; 131  : 
; 132  : 	/* FORMANT FREQUENCIES AND BANDWIDTHS */
; 133  : 
; 134  : 	if ((pDphsettar->par_type = partyp[npar]) IS_FORM_FREQ_OR_BW)

  01347	0f bf 44 24 14	 movsx	 eax, WORD PTR _npar$[esp+36]
  0134c	89 44 24 1c	 mov	 DWORD PTR -8+[esp+36], eax
  01350	8a 80 00 00 00
	00		 mov	 al, BYTE PTR _partyp[eax]
  01356	3c 02		 cmp	 al, 2
  01358	88 45 14	 mov	 BYTE PTR [ebp+20], al
  0135b	0f 8e 79 01 00
	00		 jle	 $L73175

; 135  : 	{
; 136  : 		if ((tartemp = pDph_t->p_tar[(phone_temp & PVALUE)  + pphotr]) < -1)

  01361	8b 97 18 15 00
	00		 mov	 edx, DWORD PTR [edi+5400]
  01367	81 e6 ff 00 00
	00		 and	 esi, 255		; 000000ffH
  0136d	0f bf cb	 movsx	 ecx, bx
  01370	8d 04 31	 lea	 eax, DWORD PTR [ecx+esi]
  01373	66 8b 04 42	 mov	 ax, WORD PTR [edx+eax*2]
  01377	66 3d ff ff	 cmp	 ax, -1

; 137  : 		{
; 138  : 			return (tartemp);	/* Pointer to diph info in p_diph[] */

  0137b	0f 8c ba 03 00
	00		 jl	 $L73158

; 139  : 		}
; 140  : 		else if (tartemp == -1)

  01381	0f 85 9f 00 00
	00		 jne	 $L74917

; 141  : 		{
; 142  : 			/* Tar undefined, use tarval of next segment */
; 143  : 			if ((tartemp = pDph_t->p_tar[(phnex_temp & PVALUE) + pphotr]) == -1)

  01387	8b 44 24 18	 mov	 eax, DWORD PTR _phnex_temp$[esp+36]
  0138b	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  01390	03 c1		 add	 eax, ecx
  01392	66 8b 04 42	 mov	 ax, WORD PTR [edx+eax*2]
  01396	66 3d ff ff	 cmp	 ax, -1
  0139a	0f 85 86 00 00
	00		 jne	 $L74917

; 144  : 			{
; 145  : 				/* Tar still undefined, use tarval of second-next segment */
; 146  : 				if ((tartemp = pDph_t->p_tar[(get_phone (pDph_t, nphone_temp + 2) & PVALUE) + pphotr]) == -1)

  013a0	8b 5c 24 2c	 mov	 ebx, DWORD PTR _nphone_temp$[esp+32]
  013a4	8d 43 02	 lea	 eax, DWORD PTR [ebx+2]
  013a7	85 c0		 test	 eax, eax
  013a9	7c 15		 jl	 SHORT $L74884
  013ab	0f bf af 06 15
	00 00		 movsx	 ebp, WORD PTR [edi+5382]
  013b2	3b c5		 cmp	 eax, ebp
  013b4	7d 0a		 jge	 SHORT $L74884
  013b6	0f bf 84 5f f0
	03 00 00	 movsx	 eax, WORD PTR [edi+ebx*2+1008]
  013be	eb 05		 jmp	 SHORT $L74885
$L74884:
  013c0	b8 00 1e 00 00	 mov	 eax, 7680		; 00001e00H
$L74885:
  013c5	25 ff 00 00 00	 and	 eax, 255		; 000000ffH

; 147  : 				{
; 148  : 					/* Tar still undefined, use previous phone */
; 149  : 					if ((tartemp = pDph_t->p_tar[(phlas_temp & PVALUE) + pphotr]) < -1)

  013ca	8b 5c 24 10	 mov	 ebx, DWORD PTR _phlas_temp$[esp+36]
  013ce	03 c1		 add	 eax, ecx
  013d0	66 8b 04 42	 mov	 ax, WORD PTR [edx+eax*2]
  013d4	66 3d ff ff	 cmp	 ax, -1
  013d8	75 50		 jne	 SHORT $L73185
  013da	8b c3		 mov	 eax, ebx
  013dc	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  013e1	03 c1		 add	 eax, ecx
  013e3	66 8b 04 42	 mov	 ax, WORD PTR [edx+eax*2]
  013e7	66 3d ff ff	 cmp	 ax, -1
  013eb	7d 29		 jge	 SHORT $L74928

; 150  : 					{
; 151  : 						/* Diphthonized seg, use last target value */
; 152  : 						tartemp = -tartemp;
; 153  : 						while (pDph_t->p_diph[tartemp] != -1)

  013ed	8b 8f 14 15 00
	00		 mov	 ecx, DWORD PTR [edi+5396]
  013f3	f7 d8		 neg	 eax
  013f5	0f bf d0	 movsx	 edx, ax
  013f8	66 83 3c 51 ff	 cmp	 WORD PTR [ecx+edx*2], -1
  013fd	74 0b		 je	 SHORT $L73184
$L73183:

; 154  : 						{
; 155  : 							/* eab 7/8/98 ++ is going the 
; 156  : 							wrong dirextion in the array*/
; 157  : 							tartemp--;

  013ff	48		 dec	 eax
  01400	0f bf d0	 movsx	 edx, ax
  01403	66 83 3c 51 ff	 cmp	 WORD PTR [ecx+edx*2], -1
  01408	75 f5		 jne	 SHORT $L73183
$L73184:

; 158  : 						}
; 159  : 
; 160  : 						tartemp = pDph_t->p_diph[tartemp - 1];

  0140a	0f bf c0	 movsx	 eax, ax
  0140d	66 8b 44 41 fe	 mov	 ax, WORD PTR [ecx+eax*2-2]

; 161  : 					}
; 162  : 
; 163  : 					/* If this doesn't work, use default value */
; 164  : 
; 165  : 					if (tartemp == -1)

  01412	66 3d ff ff	 cmp	 ax, -1
$L74928:
  01416	75 12		 jne	 SHORT $L73185

; 166  : 					{
; 167  : 						tartemp = parini[npar];

  01418	8b 4c 24 1c	 mov	 ecx, DWORD PTR -8+[esp+36]
  0141c	66 8b 04 4d 00
	00 00 00	 mov	 ax, WORD PTR _parini[ecx*2]
  01424	eb 04		 jmp	 SHORT $L73185
$L74917:
  01426	8b 5c 24 10	 mov	 ebx, DWORD PTR _phlas_temp$[esp+36]
$L73185:

; 168  : 					}
; 169  : 				}
; 170  : 			}
; 171  : 		}
; 172  : 	
; 173  : 		/* Special rule for B3 of /n/ adjacent to /i/ */
; 174  : 		if ((npar == (B3 - F1))
; 175  : 			&& (phone_temp == LAP_N
; 176  : 				|| phone_temp == LAP_NH
; 177  : 				|| phone_temp == LAP_NX)
; 178  : 			&& (((la_place[phnex_temp & PVALUE] & F2BACKI) IS_PLUS)
; 179  : 				|| ((la_place[phlas_temp & PVALUE] & F2BACKI) IS_PLUS)
; 180  : 			)
; 181  : 			)

  0142a	66 83 7c 24 14
	06		 cmp	 WORD PTR _npar$[esp+36], 6
  01430	75 5b		 jne	 SHORT $L74919
  01432	8b 54 24 28	 mov	 edx, DWORD PTR _phone_temp$[esp+32]
  01436	b1 40		 mov	 cl, 64			; 00000040H
  01438	66 81 fa 0c 1a	 cmp	 dx, 6668		; 00001a0cH
  0143d	74 0e		 je	 SHORT $L73187
  0143f	66 81 fa 0d 1a	 cmp	 dx, 6669		; 00001a0dH
  01444	74 07		 je	 SHORT $L73187
  01446	66 81 fa 22 1a	 cmp	 dx, 6690		; 00001a22H
  0144b	75 29		 jne	 SHORT $L74912
$L73187:
  0144d	8b 6c 24 18	 mov	 ebp, DWORD PTR _phnex_temp$[esp+36]
  01451	81 e5 ff 00 00
	00		 and	 ebp, 255		; 000000ffH
  01457	84 0c 6d 00 00
	00 00		 test	 BYTE PTR _la_place[ebp*2], cl
  0145e	75 11		 jne	 SHORT $L73188
  01460	8b eb		 mov	 ebp, ebx
  01462	81 e5 ff 00 00
	00		 and	 ebp, 255		; 000000ffH
  01468	84 0c 6d 00 00
	00 00		 test	 BYTE PTR _la_place[ebp*2], cl
  0146f	74 05		 je	 SHORT $L74912
$L73188:

; 182  : 		{
; 183  : 			tartemp = 300; /* 12/10/1996 EDB, was 1600 */

  01471	b8 2c 01 00 00	 mov	 eax, 300		; 0000012cH
$L74912:

; 184  : 		}
; 185  : 
; 186  : 	
; 187  : 		/* 
; 188  : 	 	 * Special rule for /i/ following /f/
; 189  : 	 	 */
; 190  : 		if ((npar == (B3 - F1))
; 191  : 			&& ((la_place[phone_temp & PVALUE] & F2BACKI) IS_PLUS)
; 192  : 			&& (phlas_temp == LAP_F))

  01476	84 0c 75 00 00
	00 00		 test	 BYTE PTR _la_place[esi*2], cl
  0147d	74 12		 je	 SHORT $L73189
  0147f	66 81 fb 0e 1a	 cmp	 bx, 6670		; 00001a0eH
  01484	75 0b		 jne	 SHORT $L73189

; 193  : 		{
; 194  : 			tartemp = 90;

  01486	b8 5a 00 00 00	 mov	 eax, 90			; 0000005aH
  0148b	eb 04		 jmp	 SHORT $L73189
$L74919:
  0148d	8b 54 24 28	 mov	 edx, DWORD PTR _phone_temp$[esp+32]
$L73189:

; 195  : 		}
; 196  : 		/* 
; 197  : 	 	 * Special rule for /r/ and /rr/ after "back" vowel.        8-Jul-86
; 198  : 	 	 */
; 199  : 		if ((phone_temp == LAP_R || phone_temp == LAP_RR)
; 200  : 			&& (phlas_temp == LAP_O || phlas_temp == LAP_U))

  01491	66 81 fa 1e 1a	 cmp	 dx, 6686		; 00001a1eH
  01496	74 07		 je	 SHORT $L73191
  01498	66 81 fa 08 1a	 cmp	 dx, 6664		; 00001a08H
  0149d	75 19		 jne	 SHORT $L73194
$L73191:
  0149f	66 81 fb 04 1a	 cmp	 bx, 6660		; 00001a04H
  014a4	74 07		 je	 SHORT $L73192
  014a6	66 81 fb 05 1a	 cmp	 bx, 6661		; 00001a05H
  014ab	75 0b		 jne	 SHORT $L73194
$L73192:

; 201  : 		{
; 202  : 			switch (npar)
; 203  : 			{

  014ad	8b 4c 24 1c	 mov	 ecx, DWORD PTR -8+[esp+36]
  014b1	85 c9		 test	 ecx, ecx
  014b3	75 03		 jne	 SHORT $L73194

; 204  : 				case (F1 - F1):
; 205  : 					tartemp -= 100;

  014b5	83 e8 64	 sub	 eax, 100		; 00000064H
$L73194:

; 206  : 					break;
; 207  : 
; 208  : 			}
; 209  : 		}
; 210  : 		if (tartemp < -1)

  014b8	66 3d ff ff	 cmp	 ax, -1
  014bc	0f 8d 79 02 00
	00		 jge	 $L73158

; 211  : 		{
; 212  : 			tartemp = pDph_t->p_diph[-tartemp];

  014c2	0f bf d0	 movsx	 edx, ax
  014c5	8b 87 14 15 00
	00		 mov	 eax, DWORD PTR [edi+5396]
  014cb	5f		 pop	 edi
  014cc	d1 e2		 shl	 edx, 1
  014ce	2b c2		 sub	 eax, edx
  014d0	5e		 pop	 esi
  014d1	5d		 pop	 ebp
  014d2	5b		 pop	 ebx
  014d3	66 8b 00	 mov	 ax, WORD PTR [eax]

; 368  : 
; 369  : 		}
; 370  : 	}
; 371  : 	return (tartemp);
; 372  : }

  014d6	83 c4 14	 add	 esp, 20			; 00000014H
  014d9	c3		 ret	 0
$L73175:

; 213  : 		}
; 214  : 	}
; 215  : 
; 216  : 	/* SOURCE AMPLITUDE TARGETS (AV & AP) */
; 217  : 	else if (pDphsettar->par_type IS_AV_OR_AH)

  014da	84 c0		 test	 al, al
  014dc	0f 85 b9 00 00
	00		 jne	 $L73200

; 218  : 	{
; 219  : 
; 220  : 		/* Rules for voicing amplitude */
; 221  : 		if (npar == AV - 1)

  014e2	66 83 7c 24 14
	07		 cmp	 WORD PTR _npar$[esp+36], 7
  014e8	75 6c		 jne	 SHORT $L73201

; 222  : 		{
; 223  : 		
; 224  : 			tartemp = pDph_t->p_tar[(phone_temp & PVALUE) + pphotr];

  014ea	8b 97 18 15 00
	00		 mov	 edx, DWORD PTR [edi+5400]
  014f0	81 e6 ff 00 00
	00		 and	 esi, 255		; 000000ffH
  014f6	0f bf cb	 movsx	 ecx, bx
  014f9	03 f1		 add	 esi, ecx

; 225  : 
; 226  : 			/* BATS 660 EAB 5/11/98*/
; 227  : 			if(pKsd_t->sprate <100)

  014fb	8b 4c 24 20	 mov	 ecx, DWORD PTR _pKsd_t$[esp+36]
  014ff	66 83 b9 e6 03
	00 00 64	 cmp	 WORD PTR [ecx+998], 100	; 00000064H
  01507	66 8b 04 72	 mov	 ax, WORD PTR [edx+esi*2]
  0150b	7d 0c		 jge	 SHORT $L73203

; 228  : 				if (phone_temp == USP_Q)

  0150d	66 81 7c 24 28
	35 1e		 cmp	 WORD PTR _phone_temp$[esp+32], 7733 ; 00001e35H
  01514	75 03		 jne	 SHORT $L73203

; 229  : 					tartemp -=20;

  01516	83 e8 14	 sub	 eax, 20			; 00000014H
$L73203:

; 230  : 
; 231  : 
; 232  : 			/* No voicing for stop-release dummy vowels      30-Jul-86       */
; 233  : 			if ((pDph_t->allofeats[nphone_temp] & FDUMMY_VOWEL) IS_PLUS)

  01519	8b 54 24 2c	 mov	 edx, DWORD PTR _nphone_temp$[esp+32]
  0151d	8b 8c 97 58 06
	00 00		 mov	 ecx, DWORD PTR [edi+edx*4+1624]
  01524	f6 c5 08	 test	 ch, 8
  01527	74 02		 je	 SHORT $L73204

; 234  : 			{
; 235  : 				tartemp = 0;

  01529	33 c0		 xor	 eax, eax
$L73204:

; 236  : 			}
; 237  : 				/* Reduce amplitudes if unstressed */
; 238  : 			if ((pDph_t->allofeats[nphone_temp] & FSTRESS) IS_MINUS)

  0152b	f6 c1 03	 test	 cl, 3
  0152e	75 12		 jne	 SHORT $L73206

; 239  : 			{
; 240  : 				/*12/10/96 EDB, -1 db isn't enough destress*/
; 241  : 				tartemp -= 3;

  01530	83 e8 03	 sub	 eax, 3

; 242  : 				if (tartemp < 0)

  01533	66 85 c0	 test	 ax, ax
  01536	7d 0d		 jge	 SHORT $L74929
  01538	5f		 pop	 edi
  01539	5e		 pop	 esi
  0153a	5d		 pop	 ebp

; 243  : 					tartemp = 0;

  0153b	33 c0		 xor	 eax, eax
  0153d	5b		 pop	 ebx

; 368  : 
; 369  : 		}
; 370  : 	}
; 371  : 	return (tartemp);
; 372  : }

  0153e	83 c4 14	 add	 esp, 20			; 00000014H
  01541	c3		 ret	 0
$L73206:

; 244  : 			}
; 245  : 			if(tartemp) //EAB HACK LETS FIX IT LATER HELPME

  01542	66 85 c0	 test	 ax, ax
$L74929:
  01545	0f 84 f0 01 00
	00		 je	 $L73158
  0154b	5f		 pop	 edi
  0154c	5e		 pop	 esi
  0154d	5d		 pop	 ebp

; 246  : 			tartemp += 10;

  0154e	83 c0 0a	 add	 eax, 10			; 0000000aH
  01551	5b		 pop	 ebx

; 368  : 
; 369  : 		}
; 370  : 	}
; 371  : 	return (tartemp);
; 372  : }

  01552	83 c4 14	 add	 esp, 20			; 00000014H
  01555	c3		 ret	 0
$L73201:

; 247  : 		}
; 248  : 
; 249  : 		/* Rules for aspiration amplitude */
; 250  : 
; 251  : 		else
; 252  : 		{
; 253  : 
; 254  : 			tartemp = 0;
; 255  : 			if(phone_temp == LAP_R || phone_temp == LAP_RR)

  01556	8b 4c 24 28	 mov	 ecx, DWORD PTR _phone_temp$[esp+32]
  0155a	33 c0		 xor	 eax, eax
  0155c	66 81 f9 1e 1a	 cmp	 cx, 6686		; 00001a1eH
  01561	74 07		 je	 SHORT $L73210
  01563	66 81 f9 08 1a	 cmp	 cx, 6664		; 00001a08H
  01568	75 05		 jne	 SHORT $L73209
$L73210:

; 256  : 				tartemp=33;

  0156a	b8 21 00 00 00	 mov	 eax, 33			; 00000021H
$L73209:

; 257  : 			if(phone_temp == LAP_LL)

  0156f	66 81 f9 0a 1a	 cmp	 cx, 6666		; 00001a0aH
  01574	75 0d		 jne	 SHORT $L73211
  01576	5f		 pop	 edi
  01577	5e		 pop	 esi
  01578	5d		 pop	 ebp

; 258  : 				tartemp=10;

  01579	b8 0a 00 00 00	 mov	 eax, 10			; 0000000aH
  0157e	5b		 pop	 ebx

; 368  : 
; 369  : 		}
; 370  : 	}
; 371  : 	return (tartemp);
; 372  : }

  0157f	83 c4 14	 add	 esp, 20			; 00000014H
  01582	c3		 ret	 0
$L73211:

; 259  : 			if(phone_temp == LAP_J)

  01583	66 81 f9 10 1a	 cmp	 cx, 6672		; 00001a10H
  01588	0f 85 ad 01 00
	00		 jne	 $L73158
  0158e	5f		 pop	 edi
  0158f	5e		 pop	 esi
  01590	5d		 pop	 ebp

; 260  : 				tartemp=25;/* make stronger for castillion*/

  01591	b8 19 00 00 00	 mov	 eax, 25			; 00000019H
  01596	5b		 pop	 ebx

; 368  : 
; 369  : 		}
; 370  : 	}
; 371  : 	return (tartemp);
; 372  : }

  01597	83 c4 14	 add	 esp, 20			; 00000014H
  0159a	c3		 ret	 0
$L73200:

; 261  : 		}
; 262  : 	}
; 263  : 
; 264  : 	/* PARALLEL FORMANT AMPLITUDES */
; 265  : 
; 266  : 	else if (pDphsettar->par_type IS_PARALLEL_FORM_AMP)

  0159b	3c 02		 cmp	 al, 2
  0159d	0f 85 79 01 00
	00		 jne	 $L73214

; 267  : 	{
; 268  : 		/* Source spectral tilt: highly tilted for obstruents */
; 269  : 
; 270  : 		/* (Voiced obstruents are special case, set F1=0 to signal voicebar) */
; 271  : 		if (pDphsettar->np == &PTILT)

  015a3	8b 55 10	 mov	 edx, DWORD PTR [ebp+16]
  015a6	8d 87 40 02 00
	00		 lea	 eax, DWORD PTR [edi+576]
  015ac	3b d0		 cmp	 edx, eax
  015ae	0f 85 c2 00 00
	00		 jne	 $L73215

; 272  : 		{
; 273  : 			tartemp = 3;
; 274  : 			if (phone_temp == GEN_SIL)

  015b4	8b 6c 24 28	 mov	 ebp, DWORD PTR _phone_temp$[esp+32]
  015b8	b8 03 00 00 00	 mov	 eax, 3
  015bd	66 81 fd 00 1e	 cmp	 bp, 7680		; 00001e00H
  015c2	75 05		 jne	 SHORT $L73216

; 275  : 			{
; 276  : 				tartemp = 3;	   /* eab */
; 277  : 			}
; 278  : 		
; 279  : 			/* USe glotal speed instead 7/6/98 EAB
; 280  : 			else if (phone_temp == LAP_L && (phnex_temp == LAP_U || phlas_temp == LAP_U))
; 281  : 			{
; 282  : 				tartemp = 10 - 5 ;
; 283  : 			}*/
; 284  :     		else if ((phone_feat & (FVOICD | FPLOSV)) == (FVOICD | FPLOSV)

  015c4	e9 31 01 00 00	 jmp	 $L73235
$L73216:

; 285  : 					 && ((phone_temp != LAP_DH) || (phone_temp == LAP_YH)))

  015c9	8a d1		 mov	 dl, cl
  015cb	80 e2 42	 and	 dl, 66			; 00000042H
  015ce	80 fa 42	 cmp	 dl, 66			; 00000042H
  015d1	75 11		 jne	 SHORT $L73218
  015d3	66 81 fd 13 1a	 cmp	 bp, 6675		; 00001a13H
  015d8	74 0a		 je	 SHORT $L73218

; 286  : 			{
; 287  : 				tartemp = 12;

  015da	b8 0c 00 00 00	 mov	 eax, 12			; 0000000cH

; 288  : 			}
; 289  : 			else if ((begtyp(phone_temp) == 1) || (endtyp(phone_temp) == 1))

  015df	e9 16 01 00 00	 jmp	 $L73235
$L73218:
  015e4	8b d6		 mov	 edx, esi
  015e6	8b de		 mov	 ebx, esi
  015e8	c1 fa 08	 sar	 edx, 8
  015eb	81 e3 ff 00 00
	00		 and	 ebx, 255		; 000000ffH
  015f1	8b 14 95 00 00
	00 00		 mov	 edx, DWORD PTR _all_begtyp[edx*4]
  015f8	66 83 3c 5a 01	 cmp	 WORD PTR [edx+ebx*2], 1
  015fd	74 61		 je	 SHORT $L73222
  015ff	8b d6		 mov	 edx, esi
  01601	81 e6 ff 00 00
	00		 and	 esi, 255		; 000000ffH
  01607	c1 fa 08	 sar	 edx, 8
  0160a	8b 14 95 00 00
	00 00		 mov	 edx, DWORD PTR _all_endtyp[edx*4]
  01611	66 83 3c 72 01	 cmp	 WORD PTR [edx+esi*2], 1
  01616	74 48		 je	 SHORT $L73222

; 292  : 				{
; 293  : 					tartemp += 5;
; 294  : 				}
; 295  : 				else
; 296  : 				{
; 297  : 					tartemp += 3;
; 298  : 				}
; 299  : 			}
; 300  : 
; 301  : 			
; 302  : 			/* 
; 303  : 			 * Added 7-Jul-86 (MM) to increase tilt for [r] and [rr].
; 304  : 			 */
; 305  : 			else if (phone_temp == LAP_R || phone_temp == LAP_RR)

  01618	66 81 fd 1e 1a	 cmp	 bp, 6686		; 00001a1eH
  0161d	74 15		 je	 SHORT $L73227
  0161f	66 81 fd 08 1a	 cmp	 bp, 6664		; 00001a08H
  01624	74 0e		 je	 SHORT $L73227

; 306  : 			{
; 307  : 				tartemp = 24;
; 308  : 			}
; 309  : 			/* 
; 310  : 			 * Added 12-Apr-86 (MM) to set tilt for pseudo-voicebars
; 311  : 			 * Modified 17-Apr-86 (MM) to take value from table.
; 312  : 			 */
; 313  : 		//	else if ((phone_temp >= LAP_BH)
; 314  : 			// trying to use out_gs for tilt 
; 315  : 			else if ((phone_temp >= LAP_DH)
; 316  : 					 && (phone_temp <= LAP_GH))

  01626	66 81 fd 13 1a	 cmp	 bp, 6675		; 00001a13H
  0162b	7c 11		 jl	 SHORT $L73229
  0162d	66 81 fd 14 1a	 cmp	 bp, 6676		; 00001a14H
  01632	7f 0a		 jg	 SHORT $L73229
$L73227:

; 317  : 			{
; 318  : 				tartemp = 24;

  01634	b8 18 00 00 00	 mov	 eax, 24			; 00000018H

; 319  : 			}
; 320  : 			/* eab removed wrong bracket from here */
; 321  : 			else if ((phone_feat & FNASAL) IS_PLUS)

  01639	e9 bc 00 00 00	 jmp	 $L73235
$L73229:
  0163e	f6 c1 80	 test	 cl, -128		; ffffff80H
  01641	74 0a		 je	 SHORT $L73231

; 322  : 			{
; 323  : 				tartemp = 6;	

  01643	b8 06 00 00 00	 mov	 eax, 6

; 324  : 			}
; 325  : 			else if ((phone_feat & FOBST) IS_PLUS)

  01648	e9 ad 00 00 00	 jmp	 $L73235
$L73231:
  0164d	f6 c1 20	 test	 cl, 32			; 00000020H
  01650	0f 84 a4 00 00
	00		 je	 $L73235

; 326  : 			{
; 327  : 				tartemp = 7;

  01656	b8 07 00 00 00	 mov	 eax, 7
  0165b	e9 9a 00 00 00	 jmp	 $L73235
$L73222:

; 290  : 			{
; 291  : 				if (pDph_t->malfem == FEMALE)

  01660	66 8b 87 08 15
	00 00		 mov	 ax, WORD PTR [edi+5384]
  01667	66 f7 d8	 neg	 ax
  0166a	1b c0		 sbb	 eax, eax
  0166c	24 fe		 and	 al, -2			; fffffffeH
  0166e	83 c0 08	 add	 eax, 8

; 328  : 
; 329  : 			}
; 330  : 		}
; 331  : 
; 332  : 		/* If ptram > 0, it is a pointer in obstruent array taram */
; 333  : 
; 334  : 		else if ((tartemp = ptram(phone_temp)) > 0)

  01671	e9 84 00 00 00	 jmp	 $L73235
$L73215:
  01676	8b c6		 mov	 eax, esi
  01678	81 e6 ff 00 00
	00		 and	 esi, 255		; 000000ffH
  0167e	c1 f8 08	 sar	 eax, 8
  01681	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR _all_ptram[eax*4]
  01688	66 8b 04 71	 mov	 ax, WORD PTR [ecx+esi*2]
  0168c	66 85 c0	 test	 ax, ax
  0168f	7e 69		 jle	 SHORT $L73235

; 335  : 		{
; 336  : 
; 337  : 			begtypnex = begtyp(phnex_temp) - 1;

  01691	8b 54 24 18	 mov	 edx, DWORD PTR _phnex_temp$[esp+36]
  01695	0f bf ca	 movsx	 ecx, dx
  01698	8b f1		 mov	 esi, ecx
  0169a	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  016a0	c1 fe 08	 sar	 esi, 8
  016a3	8b 34 b5 00 00
	00 00		 mov	 esi, DWORD PTR _all_begtyp[esi*4]
  016aa	66 8b 0c 4e	 mov	 cx, WORD PTR [esi+ecx*2]
  016ae	66 49		 dec	 cx

; 338  : 
; 339  : 			if (phnex_temp == GEN_SIL)

  016b0	66 81 fa 00 1e	 cmp	 dx, 7680		; 00001e00H
  016b5	75 1d		 jne	 SHORT $L73236

; 340  : 				begtypnex = endtyp(phlas_temp) - 1;

  016b7	0f bf 4c 24 10	 movsx	 ecx, WORD PTR _phlas_temp$[esp+36]
  016bc	8b d1		 mov	 edx, ecx
  016be	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  016c4	c1 fa 08	 sar	 edx, 8
  016c7	8b 14 95 00 00
	00 00		 mov	 edx, DWORD PTR _all_endtyp[edx*4]
  016ce	66 8b 0c 4a	 mov	 cx, WORD PTR [edx+ecx*2]
  016d2	66 49		 dec	 cx
$L73236:

; 341  : 			if (begtypnex == OBSTRUENT)

  016d4	66 83 f9 04	 cmp	 cx, 4
  016d8	75 05		 jne	 SHORT $L73237

; 342  : 				begtypnex = BACK_UNROUNDED_VOWEL;

  016da	b9 02 00 00 00	 mov	 ecx, 2
$L73237:

; 343  : 			tartemp += (npar - A2 + 1 + (6 * begtypnex));

  016df	8d 0c 49	 lea	 ecx, DWORD PTR [ecx+ecx*2]

; 344  : 			tartemp = pDph_t->p_amp[tartemp];

  016e2	8d 14 48	 lea	 edx, DWORD PTR [eax+ecx*2]
  016e5	8b 44 24 14	 mov	 eax, DWORD PTR _npar$[esp+36]
  016e9	8d 4c 02 f7	 lea	 ecx, DWORD PTR [edx+eax-9]
  016ed	8b 87 1c 15 00
	00		 mov	 eax, DWORD PTR [edi+5404]
  016f3	0f bf d1	 movsx	 edx, cx
  016f6	66 8b 04 50	 mov	 ax, WORD PTR [eax+edx*2]
$L73235:

; 345  : 
; 346  : 		}
; 347  : 
; 348  : 		/* Reduce amplitudes if dummy vowel next   30-Jul-86 */
; 349  : 		/* Actual value is just a guess */
; 350  : 
; 351  : 		if ((pDph_t->allofeats[nphone_temp + 1] & FDUMMY_VOWEL) IS_PLUS)

  016fa	8b 4c 24 2c	 mov	 ecx, DWORD PTR _nphone_temp$[esp+32]
  016fe	8b 94 8f 5c 06
	00 00		 mov	 edx, DWORD PTR [edi+ecx*4+1628]
  01705	f6 c6 08	 test	 dh, 8
  01708	74 31		 je	 SHORT $L73158

; 352  : 		{
; 353  : 			tartemp -= 6;

  0170a	83 e8 06	 sub	 eax, 6

; 354  : 			if (tartemp < 0)

  0170d	66 85 c0	 test	 ax, ax
  01710	7d 29		 jge	 SHORT $L73158
  01712	5f		 pop	 edi
  01713	5e		 pop	 esi
  01714	5d		 pop	 ebp

; 355  : 				tartemp = 0;

  01715	33 c0		 xor	 eax, eax
  01717	5b		 pop	 ebx

; 368  : 
; 369  : 		}
; 370  : 	}
; 371  : 	return (tartemp);
; 372  : }

  01718	83 c4 14	 add	 esp, 20			; 00000014H
  0171b	c3		 ret	 0
$L73214:

; 356  : 
; 357  : 		}
; 358  : 	}
; 359  : 
; 360  : 	/* NASAL ZERO */
; 361  : 
; 362  : 	else if (pDphsettar->par_type IS_NASAL_ZERO_FREQ)

  0171c	3c 01		 cmp	 al, 1
  0171e	75 17		 jne	 SHORT $L74913

; 363  : 	{
; 364  : 		tartemp = NON_NASAL_ZERO;	/* Default for non-nasalized, cancel FP=280 */
; 365  : 		if ((phone_feat & FNASAL) IS_PLUS)

  01720	f6 c1 80	 test	 cl, -128		; ffffff80H
  01723	b8 22 01 00 00	 mov	 eax, 290		; 00000122H
  01728	74 11		 je	 SHORT $L73158
  0172a	5f		 pop	 edi
  0172b	5e		 pop	 esi
  0172c	5d		 pop	 ebp

; 366  : 		{
; 367  : 			tartemp = NASAL_ZERO_BOUNDARY;  /* Value dur nasal murmur (527=max) */

  0172d	b8 72 01 00 00	 mov	 eax, 370		; 00000172H
  01732	5b		 pop	 ebx

; 368  : 
; 369  : 		}
; 370  : 	}
; 371  : 	return (tartemp);
; 372  : }

  01733	83 c4 14	 add	 esp, 20			; 00000014H
  01736	c3		 ret	 0
$L74913:

; 366  : 		{
; 367  : 			tartemp = NASAL_ZERO_BOUNDARY;  /* Value dur nasal murmur (527=max) */

  01737	8b 44 24 2c	 mov	 eax, DWORD PTR _tartemp$[esp+32]
$L73158:
  0173b	5f		 pop	 edi
  0173c	5e		 pop	 esi
  0173d	5d		 pop	 ebp
  0173e	5b		 pop	 ebx

; 368  : 
; 369  : 		}
; 370  : 	}
; 371  : 	return (tartemp);
; 372  : }

  0173f	83 c4 14	 add	 esp, 20			; 00000014H
  01742	c3		 ret	 0
_la_gettar ENDP
_TEXT	ENDS
EXTRN	_gr_maleloc:BYTE
EXTRN	_gr_maldip:BYTE
EXTRN	_gr_maltar:BYTE
EXTRN	_gr_malamp:BYTE
EXTRN	_gr_femloc:BYTE
EXTRN	_gr_femdip:BYTE
EXTRN	_gr_femtar:BYTE
_TEXT	SEGMENT
_phTTS$ = 8
_nphone_temp$ = 12
_phone_temp$ = 8
_phlas_temp$ = 12
_phnex_temp$ = -20
_tartemp$ = 8
_npar$ = -16
_pKsd_t$ = -8
_pDphsettar$ = -4
_gr_gettar PROC NEAR

; 83   : {

  01750	83 ec 14	 sub	 esp, 20			; 00000014H

; 84   : 	short                   phone_temp, phlas_temp, phnex_temp, tartemp, pphotr, begtypnex, npar;
; 85   : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  01753	8b 44 24 18	 mov	 eax, DWORD PTR _phTTS$[esp+16]
  01757	53		 push	 ebx
  01758	55		 push	 ebp
  01759	56		 push	 esi
  0175a	57		 push	 edi
  0175b	8b 78 18	 mov	 edi, DWORD PTR [eax+24]

; 86   : 	PKSD_T                  pKsd_t = phTTS->pKernelShareData;

  0175e	8b 40 08	 mov	 eax, DWORD PTR [eax+8]

; 87   : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;

  01761	8b b7 10 2c 00
	00		 mov	 esi, DWORD PTR [edi+11280]
  01767	89 44 24 1c	 mov	 DWORD PTR _pKsd_t$[esp+36], eax

; 88   : 
; 89   : 	if( PFGR != pDph_t->last_lang)

  0176b	b8 1c 00 00 00	 mov	 eax, 28			; 0000001cH
  01770	89 74 24 20	 mov	 DWORD PTR _pDphsettar$[esp+36], esi
  01774	66 39 87 0a 15
	00 00		 cmp	 WORD PTR [edi+5386], ax
  0177b	74 59		 je	 SHORT $L73629

; 90   : 	{
; 91   : 		pDph_t->last_lang = PFGR;
; 92   : 		if(pDph_t->malfem == MALE)

  0177d	66 83 bf 08 15
	00 00 01	 cmp	 WORD PTR [edi+5384], 1
  01785	66 89 87 0a 15
	00 00		 mov	 WORD PTR [edi+5386], ax
  0178c	75 20		 jne	 SHORT $L73628

; 93   : 		{
; 94   : 			pDph_t->p_locus = gr_maleloc;	   			/* Use MALE tables */

  0178e	c7 87 10 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5392], OFFSET FLAT:_gr_maleloc

; 95   : 			pDph_t->p_diph = gr_maldip;

  01798	c7 87 14 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5396], OFFSET FLAT:_gr_maldip

; 96   : 			pDph_t->p_tar = gr_maltar;

  017a2	c7 87 18 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5400], OFFSET FLAT:_gr_maltar

; 97   : 			pDph_t->p_amp = gr_malamp;
; 98   : 		}
; 99   : 		else

  017ac	eb 1e		 jmp	 SHORT $L74985
$L73628:

; 100  : 		{
; 101  : 			pDph_t->p_locus = gr_femloc;	   			/* Use FEMALE tables */

  017ae	c7 87 10 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5392], OFFSET FLAT:_gr_femloc

; 102  : 			pDph_t->p_diph = gr_femdip;

  017b8	c7 87 14 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5396], OFFSET FLAT:_gr_femdip

; 103  : 			pDph_t->p_tar = gr_femtar;

  017c2	c7 87 18 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5400], OFFSET FLAT:_gr_femtar
$L74985:

; 104  : 			pDph_t->p_amp = gr_malamp;

  017cc	c7 87 1c 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5404], OFFSET FLAT:_gr_malamp
$L73629:

; 105  : 		}
; 106  : 	}
; 107  : 	
; 108  : 	npar = pDphsettar->np - &PF1;

  017d6	8b 5e 10	 mov	 ebx, DWORD PTR [esi+16]
  017d9	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  017de	8b cb		 mov	 ecx, ebx
  017e0	89 5c 24 18	 mov	 DWORD PTR -12+[esp+36], ebx
  017e4	2b cf		 sub	 ecx, edi
  017e6	83 e9 24	 sub	 ecx, 36			; 00000024H
  017e9	f7 e9		 imul	 ecx
  017eb	c1 fa 03	 sar	 edx, 3
  017ee	8b ca		 mov	 ecx, edx
  017f0	c1 e9 1f	 shr	 ecx, 31			; 0000001fH
  017f3	03 d1		 add	 edx, ecx
  017f5	8b ea		 mov	 ebp, edx

; 109  : 	if (pDphsettar->np < &PFZ)

  017f7	8d 97 90 00 00
	00		 lea	 edx, DWORD PTR [edi+144]
  017fd	3b da		 cmp	 ebx, edx
  017ff	89 6c 24 14	 mov	 DWORD PTR _npar$[esp+36], ebp

; 110  : 		pphotr = (npar) * GR_TOT_ALLOPHONES;

  01803	8d 44 6d 00	 lea	 eax, DWORD PTR [ebp+ebp*2]
  01807	73 09		 jae	 SHORT $L73630
  01809	8d 04 80	 lea	 eax, DWORD PTR [eax+eax*4]
  0180c	8d 4c 85 00	 lea	 ecx, DWORD PTR [ebp+eax*4]

; 111  : 	else

  01810	eb 07		 jmp	 SHORT $L73631
$L73630:

; 112  : 		pphotr = (npar - 1) * GR_TOT_ALLOPHONES;

  01812	8d 0c 80	 lea	 ecx, DWORD PTR [eax+eax*4]
  01815	8d 4c 8d c3	 lea	 ecx, DWORD PTR [ebp+ecx*4-61]
$L73631:

; 113  : 	/* No table entries for PAP parameter */
; 114  : 
; 115  : 	phlas_temp = get_phone (pDph_t, nphone_temp - 1);

  01819	8b 5c 24 2c	 mov	 ebx, DWORD PTR _nphone_temp$[esp+32]
  0181d	8d 43 ff	 lea	 eax, DWORD PTR [ebx-1]
  01820	85 c0		 test	 eax, eax
  01822	7c 1a		 jl	 SHORT $L74931
  01824	0f bf 97 06 15
	00 00		 movsx	 edx, WORD PTR [edi+5382]
  0182b	3b c2		 cmp	 eax, edx
  0182d	7d 0f		 jge	 SHORT $L74931
  0182f	66 8b 84 5f ea
	03 00 00	 mov	 ax, WORD PTR [edi+ebx*2+1002]
  01837	66 89 44 24 2c	 mov	 WORD PTR _phlas_temp$[esp+32], ax
  0183c	eb 08		 jmp	 SHORT $L74932
$L74931:
  0183e	c7 44 24 2c 00
	1e 00 00	 mov	 DWORD PTR _phlas_temp$[esp+32], 7680 ; 00001e00H
$L74932:

; 116  : 	phone_temp = get_phone (pDph_t, nphone_temp);

  01846	85 db		 test	 ebx, ebx
  01848	7c 1a		 jl	 SHORT $L74933
  0184a	0f bf 97 06 15
	00 00		 movsx	 edx, WORD PTR [edi+5382]
  01851	3b da		 cmp	 ebx, edx
  01853	7d 0f		 jge	 SHORT $L74933
  01855	66 8b 84 5f ec
	03 00 00	 mov	 ax, WORD PTR [edi+ebx*2+1004]
  0185d	66 89 44 24 28	 mov	 WORD PTR _phone_temp$[esp+32], ax
  01862	eb 08		 jmp	 SHORT $L74934
$L74933:
  01864	c7 44 24 28 00
	1e 00 00	 mov	 DWORD PTR _phone_temp$[esp+32], 7680 ; 00001e00H
$L74934:

; 117  : 	phnex_temp = get_phone (pDph_t, nphone_temp + 1);

  0186c	8d 43 01	 lea	 eax, DWORD PTR [ebx+1]
  0186f	85 c0		 test	 eax, eax
  01871	7c 15		 jl	 SHORT $L74935
  01873	0f bf 97 06 15
	00 00		 movsx	 edx, WORD PTR [edi+5382]
  0187a	3b c2		 cmp	 eax, edx
  0187c	7d 0a		 jge	 SHORT $L74935
  0187e	66 8b 94 5f ee
	03 00 00	 mov	 dx, WORD PTR [edi+ebx*2+1006]
  01886	eb 05		 jmp	 SHORT $L74986
$L74935:
  01888	ba 00 1e 00 00	 mov	 edx, 7680		; 00001e00H
$L74986:

; 118  : 
; 119  : 	/* GETTAR:  F1, F2, F3, B1, B2, B3 */
; 120  : 	if ((pDphsettar->par_type = partyp[npar]) IS_FORM_FREQ_OR_BW)

  0188d	0f bf c5	 movsx	 eax, bp
  01890	89 54 24 10	 mov	 DWORD PTR _phnex_temp$[esp+36], edx
  01894	8a 80 00 00 00
	00		 mov	 al, BYTE PTR _partyp[eax]
  0189a	3c 02		 cmp	 al, 2
  0189c	88 46 14	 mov	 BYTE PTR [esi+20], al
  0189f	0f 8e 94 01 00
	00		 jle	 $L73632

; 121  : 	{
; 122  : 		if ((tartemp = pDph_t->p_tar[(phone_temp & PVALUE) + pphotr]) < -1)

  018a5	0f bf 6c 24 28	 movsx	 ebp, WORD PTR _phone_temp$[esp+32]
  018aa	0f bf c1	 movsx	 eax, cx
  018ad	8b 8f 18 15 00
	00		 mov	 ecx, DWORD PTR [edi+5400]
  018b3	8b d5		 mov	 edx, ebp
  018b5	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  018bb	03 d0		 add	 edx, eax
  018bd	66 8b 34 51	 mov	 si, WORD PTR [ecx+edx*2]
  018c1	66 83 fe ff	 cmp	 si, -1

; 123  : 		{
; 124  : /* printf("tartem1 %d of %d \n",*tartemp,phone_temp); */
; 125  : 			return (tartemp);		   /* Pointer to diph info in p_diph[] */

  018c5	0f 8c cf 04 00
	00		 jl	 $L73706

; 126  : 		}
; 127  : 		else if (tartemp == -1)

  018cb	0f 85 a7 00 00
	00		 jne	 $L73642

; 128  : 		{
; 129  : 			/* Tar undefined, use tarval of next segment */
; 130  : 			if ((tartemp = pDph_t->p_tar[(phnex_temp & PVALUE) + pphotr]) == -1)

  018d1	8b 54 24 10	 mov	 edx, DWORD PTR _phnex_temp$[esp+36]
  018d5	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  018db	03 d0		 add	 edx, eax
  018dd	66 8b 34 51	 mov	 si, WORD PTR [ecx+edx*2]
  018e1	66 83 fe ff	 cmp	 si, -1
  018e5	0f 85 91 00 00
	00		 jne	 $L74988

; 131  : 			{
; 132  : 				/* Tar still undefined, use tarval of second-next segment */
; 133  : 				if ((tartemp = pDph_t->p_tar[(get_phone (pDph_t, nphone_temp + 2) & PVALUE) + pphotr]) == -1)

  018eb	8d 53 02	 lea	 edx, DWORD PTR [ebx+2]
  018ee	85 d2		 test	 edx, edx
  018f0	7c 15		 jl	 SHORT $L74937
  018f2	0f bf b7 06 15
	00 00		 movsx	 esi, WORD PTR [edi+5382]
  018f9	3b d6		 cmp	 edx, esi
  018fb	7d 0a		 jge	 SHORT $L74937
  018fd	0f bf 94 5f f0
	03 00 00	 movsx	 edx, WORD PTR [edi+ebx*2+1008]
  01905	eb 05		 jmp	 SHORT $L74938
$L74937:
  01907	ba 00 1e 00 00	 mov	 edx, 7680		; 00001e00H
$L74938:
  0190c	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  01912	03 d0		 add	 edx, eax
  01914	66 8b 34 51	 mov	 si, WORD PTR [ecx+edx*2]
  01918	66 83 fe ff	 cmp	 si, -1
  0191c	75 5e		 jne	 SHORT $L74988

; 134  : 				{
; 135  : 					/* Tar still undefined, use previous phone */
; 136  : 					if ((tartemp = pDph_t->p_tar[(phlas_temp & PVALUE) + pphotr]) < -1)

  0191e	8b 54 24 2c	 mov	 edx, DWORD PTR _phlas_temp$[esp+32]
  01922	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  01928	03 d0		 add	 edx, eax
  0192a	66 8b 34 51	 mov	 si, WORD PTR [ecx+edx*2]
  0192e	66 83 fe ff	 cmp	 si, -1
  01932	7d 35		 jge	 SHORT $L74989

; 137  : 					{
; 138  : 						/* Diphthonized seg, use last target value */
; 139  : 						while (pDph_t->p_diph[-tartemp] != -1)

  01934	8b 87 14 15 00
	00		 mov	 eax, DWORD PTR [edi+5396]
  0193a	0f bf ce	 movsx	 ecx, si
  0193d	d1 e1		 shl	 ecx, 1
  0193f	8b d0		 mov	 edx, eax
  01941	2b d1		 sub	 edx, ecx
  01943	66 83 3a ff	 cmp	 WORD PTR [edx], -1
  01947	74 10		 je	 SHORT $L73641
$L73640:

; 140  : 						{
; 141  : 							tartemp--;

  01949	4e		 dec	 esi
  0194a	8b d0		 mov	 edx, eax
  0194c	0f bf ce	 movsx	 ecx, si
  0194f	d1 e1		 shl	 ecx, 1
  01951	2b d1		 sub	 edx, ecx
  01953	66 83 3a ff	 cmp	 WORD PTR [edx], -1
  01957	75 f0		 jne	 SHORT $L73640
$L73641:

; 142  : 						}
; 143  : 						tartemp = pDph_t->p_diph[-tartemp - 1];

  01959	0f bf ce	 movsx	 ecx, si
  0195c	8d 54 09 02	 lea	 edx, DWORD PTR [ecx+ecx+2]
  01960	2b c2		 sub	 eax, edx
  01962	66 8b 30	 mov	 si, WORD PTR [eax]

; 144  : 					}
; 145  : 					/* If this doesn't work, use default value */
; 146  : 					if (tartemp == -1)

  01965	66 83 fe ff	 cmp	 si, -1
$L74989:
  01969	75 11		 jne	 SHORT $L74988

; 147  : 					{
; 148  : 						tartemp = parini[npar];

  0196b	0f bf 44 24 14	 movsx	 eax, WORD PTR _npar$[esp+36]
  01970	66 8b 34 45 00
	00 00 00	 mov	 si, WORD PTR _parini[eax*2]
$L73642:

; 149  : 					}
; 150  : 				}
; 151  : 			}
; 152  : 		}
; 153  : 		if (tartemp < -1)

  01978	66 83 fe ff	 cmp	 si, -1
$L74988:
  0197c	7d 10		 jge	 SHORT $L73643

; 154  : 		{
; 155  : 			tartemp = pDph_t->p_diph[-tartemp];

  0197e	8b 8f 14 15 00
	00		 mov	 ecx, DWORD PTR [edi+5396]
  01984	0f bf c6	 movsx	 eax, si
  01987	d1 e0		 shl	 eax, 1
  01989	2b c8		 sub	 ecx, eax
  0198b	66 8b 31	 mov	 si, WORD PTR [ecx]
$L73643:

; 156  : 		}
; 157  : 		/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 158  : 		/* (check)                                */
; 159  : 		/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 160  : 		/* Fricatives have higher F1 if preceeded by a vowel */
; 161  : 		if ((npar == F1 - 1)
; 162  : 			&& ((phone_feature( pDph_t,phone_temp) & FOBST) IS_PLUS)
; 163  : 			&& ((phone_feature( pDph_t,phone_temp) & FSTOP) IS_MINUS)
; 164  : 			&& ((phone_feature( pDph_t,phlas_temp) & FSYLL) IS_PLUS))

  0198e	8b 5c 24 14	 mov	 ebx, DWORD PTR _npar$[esp+36]
  01992	66 85 db	 test	 bx, bx
  01995	75 38		 jne	 SHORT $L73644
  01997	55		 push	 ebp
  01998	57		 push	 edi
  01999	e8 00 00 00 00	 call	 _phone_feature
  0199e	83 c4 08	 add	 esp, 8
  019a1	a8 20		 test	 al, 32			; 00000020H
  019a3	74 2a		 je	 SHORT $L73644
  019a5	55		 push	 ebp
  019a6	57		 push	 edi
  019a7	e8 00 00 00 00	 call	 _phone_feature
  019ac	25 00 20 00 00	 and	 eax, 8192		; 00002000H
  019b1	83 c4 08	 add	 esp, 8
  019b4	66 85 c0	 test	 ax, ax
  019b7	75 16		 jne	 SHORT $L73644
  019b9	0f bf 54 24 2c	 movsx	 edx, WORD PTR _phlas_temp$[esp+32]
  019be	52		 push	 edx
  019bf	57		 push	 edi
  019c0	e8 00 00 00 00	 call	 _phone_feature
  019c5	83 c4 08	 add	 esp, 8
  019c8	a8 01		 test	 al, 1
  019ca	74 03		 je	 SHORT $L73644

; 165  : 		{
; 166  : 			tartemp += 40;

  019cc	83 c6 28	 add	 esi, 40			; 00000028H
$L73644:

; 167  : 		}
; 168  : 		/* Special rule for B2 of \n/ before non-front vowels */
; 169  : 		if (((phone_temp == GRP_N) || (phone_temp == GRP_EN))
; 170  : 			&& (npar == B2 - 1))

  019cf	8b 4c 24 28	 mov	 ecx, DWORD PTR _phone_temp$[esp+32]
  019d3	66 81 f9 1f 1c	 cmp	 cx, 7199		; 00001c1fH
  019d8	74 07		 je	 SHORT $L73646
  019da	66 81 f9 23 1c	 cmp	 cx, 7203		; 00001c23H
  019df	75 26		 jne	 SHORT $L73647
$L73646:
  019e1	66 83 fb 05	 cmp	 bx, 5
  019e5	75 20		 jne	 SHORT $L73647

; 171  : 		{
; 172  : 			if (begtyp(phnex_temp) != 1)

  019e7	0f bf 44 24 10	 movsx	 eax, WORD PTR _phnex_temp$[esp+36]
  019ec	8b d0		 mov	 edx, eax
  019ee	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  019f3	c1 fa 08	 sar	 edx, 8
  019f6	8b 14 95 00 00
	00 00		 mov	 edx, DWORD PTR _all_begtyp[edx*4]
  019fd	66 83 3c 42 01	 cmp	 WORD PTR [edx+eax*2], 1
  01a02	74 03		 je	 SHORT $L73647

; 173  : 			{
; 174  : 				tartemp += 60;

  01a04	83 c6 3c	 add	 esi, 60			; 0000003cH
$L73647:

; 175  : 			}
; 176  : 		}
; 177  : 		/* @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ */
; 178  : 		/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 179  : 		/* special rule for B3 of /N/ before /i/  ((old))         */
; 180  : 		/* if (((phone_temp == QQN) || (phone_temp == QQEN)       */
; 181  : 		/* || (phone_temp == QQNX)) && (npar == B3-1)) {  */
; 182  : 		/* if (((gr_place[phnex_temp] & F2BACKI) IS_PLUS)        */
; 183  : 		/* || ((gr_place[phlas_temp] & F2BACKF) IS_PLUS)) {      */
; 184  : 		/* tartemp = 1600;                    */
; 185  : 		/* }                          */
; 186  : 		/* }                              */
; 187  : 		/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 188  : 		if ((phone_temp == GRP_N) && (npar == B3 - 1))

  01a07	66 81 f9 1f 1c	 cmp	 cx, 7199		; 00001c1fH
  01a0c	0f 85 88 03 00
	00		 jne	 $L73706
  01a12	66 83 fb 06	 cmp	 bx, 6
  01a16	0f 85 7e 03 00
	00		 jne	 $L73706

; 189  : 		{
; 190  : 			switch (phnex_temp)
; 191  : 			{

  01a1c	66 81 7c 24 10
	0d 1c		 cmp	 WORD PTR _phnex_temp$[esp+36], 7181 ; 00001c0dH
  01a23	0f 85 71 03 00
	00		 jne	 $L73706

; 192  : 			case GRP_IH:
; 193  : 				tartemp = 800;

  01a29	be 20 03 00 00	 mov	 esi, 800		; 00000320H
  01a2e	5f		 pop	 edi

; 442  : 			}
; 443  : 
; 444  : 		}
; 445  : 	}
; 446  : 	return (tartemp);

  01a2f	66 8b c6	 mov	 ax, si
  01a32	5e		 pop	 esi
  01a33	5d		 pop	 ebp
  01a34	5b		 pop	 ebx

; 447  : }

  01a35	83 c4 14	 add	 esp, 20			; 00000014H
  01a38	c3		 ret	 0
$L73632:

; 194  : 
; 195  : 			}
; 196  : 			/* switch */
; 197  : 		}
; 198  : 		/* @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ */
; 199  : 	}
; 200  : 	/* GETTAR:  FZ */
; 201  : 	else if (pDphsettar->par_type IS_NASAL_ZERO_FREQ)

  01a39	3c 01		 cmp	 al, 1
  01a3b	75 5c		 jne	 SHORT $L73655

; 202  : 	{
; 203  : 		/* @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ */
; 204  : 		/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 205  : 		/* introduce special german nasalized vowels                              */
; 206  : 		/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 207  : 
; 208  : 
; 209  : 		tartemp = NON_NASAL_ZERO;	/* Default for non-nasalized, cancel FP=280 */
; 210  : 		switch (phone_temp)
; 211  : 		{

  01a3d	0f bf 44 24 28	 movsx	 eax, WORD PTR _phone_temp$[esp+32]
  01a42	3d 15 1c 00 00	 cmp	 eax, 7189		; 00001c15H
  01a47	be 22 01 00 00	 mov	 esi, 290		; 00000122H
  01a4c	7c 29		 jl	 SHORT $L73662
  01a4e	3d 18 1c 00 00	 cmp	 eax, 7192		; 00001c18H
  01a53	7e 12		 jle	 SHORT $L73661
  01a55	3d 1a 1c 00 00	 cmp	 eax, 7194		; 00001c1aH
  01a5a	75 1b		 jne	 SHORT $L73662

; 442  : 			}
; 443  : 
; 444  : 		}
; 445  : 	}
; 446  : 	return (tartemp);

  01a5c	66 8b c6	 mov	 ax, si
  01a5f	5f		 pop	 edi
  01a60	5e		 pop	 esi
  01a61	5d		 pop	 ebp
  01a62	5b		 pop	 ebx

; 447  : }

  01a63	83 c4 14	 add	 esp, 20			; 00000014H
  01a66	c3		 ret	 0
$L73661:

; 212  : 		case GRP_L:
; 213  : 			/* tartemp = 527;*/
; 214  : 			/*
; 215  : 			 * eab 5/95 can't make flat f1 otherwise pole zero pair can't 
; 216  : 			 * be 100% correct 
; 217  : 			 */
; 218  : 			break;
; 219  : 		case GRP_AN:
; 220  : 		case GRP_IM:
; 221  : 		case GRP_UM:
; 222  : 		case GRP_ON:
; 223  : 			tartemp = 350;

  01a67	be 5e 01 00 00	 mov	 esi, 350		; 0000015eH
  01a6c	5f		 pop	 edi

; 442  : 			}
; 443  : 
; 444  : 		}
; 445  : 	}
; 446  : 	return (tartemp);

  01a6d	66 8b c6	 mov	 ax, si
  01a70	5e		 pop	 esi
  01a71	5d		 pop	 ebp
  01a72	5b		 pop	 ebx

; 447  : }

  01a73	83 c4 14	 add	 esp, 20			; 00000014H
  01a76	c3		 ret	 0
$L73662:

; 224  : 			break;
; 225  : 		default:
; 226  : 			if ((phone_feature( pDph_t,phone_temp) & FNASAL) IS_PLUS)

  01a77	50		 push	 eax
  01a78	57		 push	 edi
  01a79	e8 00 00 00 00	 call	 _phone_feature
  01a7e	83 c4 08	 add	 esp, 8
  01a81	a8 80		 test	 al, -128		; ffffff80H
  01a83	0f 84 11 03 00
	00		 je	 $L73706

; 227  : 			{
; 228  : 				tartemp = NASAL_ZERO_BOUNDARY; /* Value dur nasal murmur (527=max) */

  01a89	be 72 01 00 00	 mov	 esi, 370		; 00000172H
  01a8e	5f		 pop	 edi

; 442  : 			}
; 443  : 
; 444  : 		}
; 445  : 	}
; 446  : 	return (tartemp);

  01a8f	66 8b c6	 mov	 ax, si
  01a92	5e		 pop	 esi
  01a93	5d		 pop	 ebp
  01a94	5b		 pop	 ebx

; 447  : }

  01a95	83 c4 14	 add	 esp, 20			; 00000014H
  01a98	c3		 ret	 0
$L73655:

; 229  : 			}
; 230  : 			break;
; 231  : 		}
; 232  : 	}
; 233  : 	/* GETTAR:  AV, AP */
; 234  : 	else if (pDphsettar->par_type IS_AV_OR_AH)

  01a99	84 c0		 test	 al, al
  01a9b	0f 85 2b 01 00
	00		 jne	 $L73665

; 235  : 	{
; 236  : 		/* Rules for voicing amplitude */
; 237  : 
; 238  : 		if (npar == AV - 1)
; 239  : 		{
; 240  : 			tartemp = pDph_t->p_tar[(phone_temp & PVALUE)+ pphotr];

  01aa1	8b 44 24 28	 mov	 eax, DWORD PTR _phone_temp$[esp+32]
  01aa5	66 83 fd 07	 cmp	 bp, 7
  01aa9	0f 85 a9 00 00
	00		 jne	 $L73666
  01aaf	8b d0		 mov	 edx, eax
  01ab1	0f bf c9	 movsx	 ecx, cx
  01ab4	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  01aba	03 d1		 add	 edx, ecx
  01abc	8b 8f 18 15 00
	00		 mov	 ecx, DWORD PTR [edi+5400]
  01ac2	66 8b 34 51	 mov	 si, WORD PTR [ecx+edx*2]

; 241  : 
; 242  : 			/* BATS 660 EAB 5/11/98*/
; 243  : 			if(pKsd_t->sprate <100)

  01ac6	8b 54 24 1c	 mov	 edx, DWORD PTR _pKsd_t$[esp+36]
  01aca	66 83 ba e6 03
	00 00 64	 cmp	 WORD PTR [edx+998], 100	; 00000064H
  01ad2	7d 09		 jge	 SHORT $L73668

; 244  : 				if (phone_temp == USP_Q)

  01ad4	66 3d 35 1e	 cmp	 ax, 7733		; 00001e35H
  01ad8	75 03		 jne	 SHORT $L73668

; 245  : 					tartemp -= 30;

  01ada	83 ee 1e	 sub	 esi, 30			; 0000001eH
$L73668:

; 246  : 
; 247  : 			/*      Dummy vowel has less intensity                                   */
; 248  : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%*/
; 249  : 			/* voicing of german schwa if used as plosive release (adapt!)           */
; 250  : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%*/
; 251  : 
; 252  : 			if ((pDph_t->allofeats[nphone_temp] & FDUMMY_VOWEL) IS_PLUS)

  01add	8b 8c 9f 58 06
	00 00		 mov	 ecx, DWORD PTR [edi+ebx*4+1624]
  01ae4	f6 c5 08	 test	 ch, 8
  01ae7	74 03		 je	 SHORT $L73669

; 253  : 			{
; 254  : 				tartemp -= 7;

  01ae9	83 ee 07	 sub	 esi, 7
$L73669:

; 255  : 			}
; 256  : 
; 257  : 
; 258  : 		/* Voiced stop devoiced if preceding seg voiceless  */
; 259  : 			
; 260  : 		/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 261  : 		/* voicing of german [H] after voiced segment */
; 262  : 		/* Voice [H] if unstressed and preceeded by voiced seg */
; 263  : 		/* also applies for emphatic stress */
; 264  : 		/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%*/
; 265  : 			if ((phone_temp == GRP_H)
; 266  :                	&& ((phone_feature( pDph_t,phlas_temp) & FVOICD) IS_PLUS)
; 267  : 				&& ((pDph_t->allofeats[nphone_temp] & FSTRESS_1) IS_MINUS)
; 268  : 				&& (pDph_t->allofeats[phone_temp] & WBOUND) IS_MINUS)

  01aec	66 3d 1d 1c	 cmp	 ax, 7197		; 00001c1dH
  01af0	75 2b		 jne	 SHORT $L73670
  01af2	0f bf 44 24 2c	 movsx	 eax, WORD PTR _phlas_temp$[esp+32]
  01af7	50		 push	 eax
  01af8	57		 push	 edi
  01af9	e8 00 00 00 00	 call	 _phone_feature
  01afe	83 c4 08	 add	 esp, 8
  01b01	a8 02		 test	 al, 2
  01b03	74 18		 je	 SHORT $L73670
  01b05	f6 84 9f 58 06
	00 00 01	 test	 BYTE PTR [edi+ebx*4+1624], 1
  01b0d	75 0e		 jne	 SHORT $L73670
  01b0f	f6 87 cc 76 00
	00 6f		 test	 BYTE PTR [edi+30412], 111 ; 0000006fH
  01b16	75 05		 jne	 SHORT $L73670

; 269  : 			{
; 270  : 				tartemp = 54;

  01b18	be 36 00 00 00	 mov	 esi, 54			; 00000036H
$L73670:

; 271  : 			}
; 272  : 
; 273  : 		/*  Reduce amplitudes if unstressed 4/4/98 Found another problem the original code was in the 
; 274  : 		    wrong place so it effected both aspiration and av and in the right circumstances could 
; 275  : 			cause problems this needs to be shecked in all the langauges. 
; 276  : 		*/
; 277  : 
; 278  : 
; 279  : 		/*	improv330
; 280  : 		 *  eab 4/3/98 Modified to handle two levels of stress
; 281  : 		 */
; 282  : 
; 283  : 		if ((pDph_t->allofeats[nphone_temp] & FSTRESS_2) IS_PLUS)

  01b1d	8b 84 9f 58 06
	00 00		 mov	 eax, DWORD PTR [edi+ebx*4+1624]
  01b24	a8 02		 test	 al, 2
  01b26	74 03		 je	 SHORT $L73671

; 284  : 		{
; 285  : 			tartemp -= 1;

  01b28	4e		 dec	 esi

; 286  : 		}
; 287  : 		else if ((pDph_t->allofeats[nphone_temp] & FSTRESS) IS_MINUS)

  01b29	eb 07		 jmp	 SHORT $L73673
$L73671:
  01b2b	a8 03		 test	 al, 3
  01b2d	75 03		 jne	 SHORT $L73673

; 288  : 		{
; 289  : 			/* 12/10/1996 EAB change from " rartemp -= 4" back to -4 per oliver */
; 290  : 
; 291  : 			tartemp -= 2;

  01b2f	83 ee 02	 sub	 esi, 2
$L73673:

; 292  : 		
; 293  : 		}
; 294  : 		
; 295  : 		if (tartemp < 0)

  01b32	66 85 f6	 test	 si, si
  01b35	7d 0d		 jge	 SHORT $L74990
$L73680:

; 296  : 			tartemp = 0;

  01b37	33 f6		 xor	 esi, esi
  01b39	5f		 pop	 edi

; 442  : 			}
; 443  : 
; 444  : 		}
; 445  : 	}
; 446  : 	return (tartemp);

  01b3a	66 8b c6	 mov	 ax, si
  01b3d	5e		 pop	 esi
  01b3e	5d		 pop	 ebp
  01b3f	5b		 pop	 ebx

; 447  : }

  01b40	83 c4 14	 add	 esp, 20			; 00000014H
  01b43	c3		 ret	 0
$L74990:

; 297  : 		if(tartemp) //EAB HACK LETS FIX IT LATER HELPME

  01b44	0f 84 50 02 00
	00		 je	 $L73706

; 298  : 			tartemp += 5;

  01b4a	83 c6 05	 add	 esi, 5
  01b4d	5f		 pop	 edi

; 442  : 			}
; 443  : 
; 444  : 		}
; 445  : 	}
; 446  : 	return (tartemp);

  01b4e	66 8b c6	 mov	 ax, si
  01b51	5e		 pop	 esi
  01b52	5d		 pop	 ebp
  01b53	5b		 pop	 ebx

; 447  : }

  01b54	83 c4 14	 add	 esp, 20			; 00000014H
  01b57	c3		 ret	 0
$L73666:

; 299  : 		}
; 300  : 
; 301  : 		/* Rules for aspiration amplitude */
; 302  : 		else
; 303  : 		{
; 304  : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 305  : 			/* increase aspiration of german [H]               */
; 306  : 			/* if (phone_temp == H) {              */
; 307  : 			/* tartemp = 58;                   */
; 308  : 			/* if (gr_begtyp[phnex_temp] != 1) {          */
; 309  : 			/* tartemp = 62;   Stronger asp before +back   */
; 310  : 			/* }                           */
; 311  : 			/* }                           */
; 312  : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 313  : 			if (phone_temp == GRP_H )

  01b58	66 3d 1d 1c	 cmp	 ax, 7197		; 00001c1dH
  01b5c	75 34		 jne	 SHORT $L73677

; 314  : 			{
; 315  : 				tartemp = 67;
; 316  : 				if (begtyp(phnex_temp) != 1)

  01b5e	0f bf c2	 movsx	 eax, dx
  01b61	8b c8		 mov	 ecx, eax
  01b63	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  01b68	c1 f9 08	 sar	 ecx, 8
  01b6b	be 43 00 00 00	 mov	 esi, 67			; 00000043H
  01b70	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_begtyp[ecx*4]
  01b77	66 83 3c 42 01	 cmp	 WORD PTR [edx+eax*2], 1
  01b7c	0f 84 18 02 00
	00		 je	 $L73706

; 317  : 				{
; 318  : 					tartemp = 63;	   /* Stronger asp before +back */

  01b82	be 3f 00 00 00	 mov	 esi, 63			; 0000003fH
  01b87	5f		 pop	 edi

; 442  : 			}
; 443  : 
; 444  : 		}
; 445  : 	}
; 446  : 	return (tartemp);

  01b88	66 8b c6	 mov	 ax, si
  01b8b	5e		 pop	 esi
  01b8c	5d		 pop	 ebp
  01b8d	5b		 pop	 ebx

; 447  : }

  01b8e	83 c4 14	 add	 esp, 20			; 00000014H
  01b91	c3		 ret	 0
$L73677:

; 319  : 				}
; 320  : 			}
; 321  : 			else  /* 	improv330 eab 3/30/98 add for kh as well */
; 322  : 			if (phone_temp == GRP_KH )

  01b92	66 3d 2b 1c	 cmp	 ax, 7211		; 00001c2bH
  01b96	75 9f		 jne	 SHORT $L73680

; 323  : 			{
; 324  : 				tartemp = 42;
; 325  : 				if (begtyp(phnex_temp) != 1)

  01b98	0f bf c2	 movsx	 eax, dx
  01b9b	8b c8		 mov	 ecx, eax
  01b9d	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  01ba2	c1 f9 08	 sar	 ecx, 8
  01ba5	be 2a 00 00 00	 mov	 esi, 42			; 0000002aH
  01baa	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_begtyp[ecx*4]
  01bb1	66 83 3c 42 01	 cmp	 WORD PTR [edx+eax*2], 1
  01bb6	0f 84 de 01 00
	00		 je	 $L73706

; 326  : 				{
; 327  : 					tartemp = 44;	   /* Stronger asp before +back */

  01bbc	be 2c 00 00 00	 mov	 esi, 44			; 0000002cH
  01bc1	5f		 pop	 edi

; 442  : 			}
; 443  : 
; 444  : 		}
; 445  : 	}
; 446  : 	return (tartemp);

  01bc2	66 8b c6	 mov	 ax, si
  01bc5	5e		 pop	 esi
  01bc6	5d		 pop	 ebp
  01bc7	5b		 pop	 ebx

; 447  : }

  01bc8	83 c4 14	 add	 esp, 20			; 00000014H
  01bcb	c3		 ret	 0
$L73665:

; 328  : 				}
; 329  : 			}
; 330  : 			else
; 331  : 			{
; 332  : 				tartemp = 0;
; 333  : 			}
; 334  : 		}
; 335  : 	
; 336  : 		
; 337  : 	}
; 338  : 	/* GETTAR:  A2, A3, A4, A5, A6, AB */
; 339  : 	else if (pDphsettar->par_type IS_PARALLEL_FORM_AMP)

  01bcc	3c 02		 cmp	 al, 2
  01bce	0f 85 c2 01 00
	00		 jne	 $L74981

; 340  : 	{
; 341  : 		/* If ptram >0, it is a pointer in obstruent array taram */
; 342  : 		if ((pDphsettar->np != &PTILT) && ((tartemp = ptram(phone_temp)) > 0))

  01bd4	8b 4c 24 18	 mov	 ecx, DWORD PTR -12+[esp+36]
  01bd8	8d 87 40 02 00
	00		 lea	 eax, DWORD PTR [edi+576]
  01bde	3b c8		 cmp	 ecx, eax
  01be0	0f 84 a4 00 00
	00		 je	 $L74980
  01be6	0f bf 44 24 28	 movsx	 eax, WORD PTR _phone_temp$[esp+32]
  01beb	8b c8		 mov	 ecx, eax
  01bed	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  01bf2	c1 f9 08	 sar	 ecx, 8
  01bf5	8b 0c 8d 00 00
	00 00		 mov	 ecx, DWORD PTR _all_ptram[ecx*4]
  01bfc	66 8b 34 41	 mov	 si, WORD PTR [ecx+eax*2]
  01c00	66 85 f6	 test	 si, si
  01c03	0f 8e 85 00 00
	00		 jle	 $L73691

; 343  : 		{
; 344  : 			/* @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ */
; 345  : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 346  : 			/* adapt to new class low in malamp, femamp            */
; 347  : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 348  : 			
; 349  : 			begtypnex = begtyp(phnex_temp) -1 ;

  01c09	0f bf c2	 movsx	 eax, dx
  01c0c	8b c8		 mov	 ecx, eax
  01c0e	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  01c13	c1 f9 08	 sar	 ecx, 8
  01c16	8b 0c 8d 00 00
	00 00		 mov	 ecx, DWORD PTR _all_begtyp[ecx*4]
  01c1d	66 8b 04 41	 mov	 ax, WORD PTR [ecx+eax*2]
  01c21	66 48		 dec	 ax

; 350  : 			if (phnex_temp == GEN_SIL)

  01c23	66 81 fa 00 1e	 cmp	 dx, 7680		; 00001e00H
  01c28	75 1c		 jne	 SHORT $L73686

; 351  : 				begtypnex = endtyp(phlas_temp) -1 ;

  01c2a	0f bf 44 24 2c	 movsx	 eax, WORD PTR _phlas_temp$[esp+32]
  01c2f	8b d0		 mov	 edx, eax
  01c31	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  01c36	c1 fa 08	 sar	 edx, 8
  01c39	8b 0c 95 00 00
	00 00		 mov	 ecx, DWORD PTR _all_endtyp[edx*4]
  01c40	66 8b 04 41	 mov	 ax, WORD PTR [ecx+eax*2]
  01c44	66 48		 dec	 ax
$L73686:

; 352  : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
; 353  : 							improv330 eab 3/30/98
; 354  : 						   old 6 == back vowel (2)
; 355  : 				           old 5 WAS ELIMATED WAY BACK WHEN????? SO IT SOHULD NEVER HAPPENS
; 356  : 						   old 4 is still a 4 a null
; 357  : 						   note here types are all -1 becuase c convention
; 358  : 						   changes array 1's to zero (original orug fortran) 
; 359  : 						   Modified to support comon(English definitions)BATS 928
; 360  : 						   EAB 5/22/00 4=5-1== beginng round
; 361  : 						   */
; 362  : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 363  : 			if(begtypnex == 5)

  01c46	66 3d 05 00	 cmp	 ax, 5
  01c4a	75 05		 jne	 SHORT $L73687

; 364  : 			{
; 365  : 				begtypnex = 1;

  01c4c	b8 01 00 00 00	 mov	 eax, 1
$L73687:

; 366  : 			}
; 367  : 			/* switch */
; 368  : 			/* @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ */
; 369  : 
; 370  : 			tartemp += (npar - A2 + 1 + (6 * begtypnex));

  01c51	8d 14 40	 lea	 edx, DWORD PTR [eax+eax*2]

; 371  : 
; 372  : 			tartemp = pDph_t->p_amp[tartemp];

  01c54	8d 04 56	 lea	 eax, DWORD PTR [esi+edx*2]
  01c57	8d 4c 28 f7	 lea	 ecx, DWORD PTR [eax+ebp-9]
  01c5b	8b 87 1c 15 00
	00		 mov	 eax, DWORD PTR [edi+5404]
  01c61	0f bf d1	 movsx	 edx, cx
  01c64	66 8b 34 50	 mov	 si, WORD PTR [eax+edx*2]

; 373  : 
; 374  : 
; 375  : 			/* Burst has less intensity in word final position
; 376  : 			Eab 4/27/98 much less so in German */
; 377  : 
; 378  : 			if ((pDph_t->allofeats[nphone_temp + 1] & WBOUND) IS_PLUS)

  01c68	8b 84 9f 5c 06
	00 00		 mov	 eax, DWORD PTR [edi+ebx*4+1628]
  01c6f	a8 6f		 test	 al, 111			; 0000006fH
  01c71	74 07		 je	 SHORT $L73689

; 379  : 			{
; 380  : 				if (tartemp >= 4)

  01c73	66 83 fe 04	 cmp	 si, 4
  01c77	7c 01		 jl	 SHORT $L73689

; 381  : 				{
; 382  : 					tartemp -= 1;

  01c79	4e		 dec	 esi
$L73689:

; 383  : 				}
; 384  : 			}
; 385  : 
; 386  : 			/* Burst has less intensity if dummy vowel next */
; 387  : 			if ((pDph_t->allofeats[nphone_temp + 1] & FDUMMY_VOWEL) IS_PLUS)

  01c7a	f6 c4 08	 test	 ah, 8
  01c7d	74 0f		 je	 SHORT $L73691

; 388  : 			{
; 389  : 				if (tartemp >= 4)

  01c7f	66 83 fe 04	 cmp	 si, 4
  01c83	7c 09		 jl	 SHORT $L73691

; 390  : 				{
; 391  : 					tartemp -= 4;

  01c85	83 ee 04	 sub	 esi, 4
  01c88	eb 04		 jmp	 SHORT $L73691
$L74980:
  01c8a	8b 74 24 28	 mov	 esi, DWORD PTR _tartemp$[esp+32]
$L73691:

; 392  : 				}
; 393  : 			}
; 394  : 		}
; 395  : 		/* GETTAR:  TLT */
; 396  : 
; 397  : 		/* Source spectral tilt: highly tilted for obstruents */
; 398  : 		/* (Voiced obstruents are special case, set F1=0 to signal voicebar) */
; 399  : 		if (pDphsettar->np == &PTILT)

  01c8e	8b 4c 24 18	 mov	 ecx, DWORD PTR -12+[esp+36]
  01c92	8d 87 40 02 00
	00		 lea	 eax, DWORD PTR [edi+576]
  01c98	3b c8		 cmp	 ecx, eax
  01c9a	0f 85 fa 00 00
	00		 jne	 $L73706

; 400  : 		{
; 401  : 			tartemp = 0;
; 402  : 			if ((phone_feature( pDph_t,phone_temp) & FNASAL) IS_PLUS)

  01ca0	0f bf 6c 24 28	 movsx	 ebp, WORD PTR _phone_temp$[esp+32]
  01ca5	55		 push	 ebp
  01ca6	57		 push	 edi
  01ca7	33 f6		 xor	 esi, esi
  01ca9	e8 00 00 00 00	 call	 _phone_feature
  01cae	83 c4 08	 add	 esp, 8
  01cb1	a8 80		 test	 al, -128		; ffffff80H
  01cb3	74 05		 je	 SHORT $L73693

; 403  : 			{
; 404  : 				tartemp = 6;

  01cb5	be 06 00 00 00	 mov	 esi, 6
$L73693:

; 405  : 			}
; 406  : 			if (phone_temp == GEN_SIL)

  01cba	66 81 7c 24 28
	00 1e		 cmp	 WORD PTR _phone_temp$[esp+32], 7680 ; 00001e00H
  01cc1	75 0d		 jne	 SHORT $L73694

; 407  : 			{
; 408  : 				tartemp = 0;

  01cc3	33 f6		 xor	 esi, esi
  01cc5	5f		 pop	 edi

; 442  : 			}
; 443  : 
; 444  : 		}
; 445  : 	}
; 446  : 	return (tartemp);

  01cc6	66 8b c6	 mov	 ax, si
  01cc9	5e		 pop	 esi
  01cca	5d		 pop	 ebp
  01ccb	5b		 pop	 ebx

; 447  : }

  01ccc	83 c4 14	 add	 esp, 20			; 00000014H
  01ccf	c3		 ret	 0
$L73694:

; 409  : 			}
; 410  : 
; 411  : 			else if ((pDph_t->allofeats[nphone_temp] & FDUMMY_VOWEL) IS_PLUS)

  01cd0	8b 84 9f 58 06
	00 00		 mov	 eax, DWORD PTR [edi+ebx*4+1624]
  01cd7	f6 c4 08	 test	 ah, 8
  01cda	74 0a		 je	 SHORT $L73696

; 412  : 			{
; 413  : 				tartemp = 20;

  01cdc	be 14 00 00 00	 mov	 esi, 20			; 00000014H

; 414  : 			}
; 415  : 			else if ((phone_feature( pDph_t,phone_temp) & FOBST) IS_PLUS)

  01ce1	e9 82 00 00 00	 jmp	 $L73704
$L73696:
  01ce6	55		 push	 ebp
  01ce7	57		 push	 edi
  01ce8	e8 00 00 00 00	 call	 _phone_feature
  01ced	83 c4 08	 add	 esp, 8
  01cf0	a8 20		 test	 al, 32			; 00000020H
  01cf2	74 34		 je	 SHORT $L73698

; 416  : 			{
; 417  : 				tartemp = 7;
; 418  : 				if (((phone_feature( pDph_t,phone_temp) & FVOICD) IS_PLUS)
; 419  : 					&& (((phone_feature( pDph_t,phone_temp) & FPLOSV) IS_PLUS)
; 420  : 						|| (pDphsettar->phcur == GRP_DJ)))

  01cf4	55		 push	 ebp
  01cf5	57		 push	 edi
  01cf6	be 07 00 00 00	 mov	 esi, 7
  01cfb	e8 00 00 00 00	 call	 _phone_feature
  01d00	83 c4 08	 add	 esp, 8
  01d03	a8 02		 test	 al, 2
  01d05	74 61		 je	 SHORT $L73704
  01d07	55		 push	 ebp
  01d08	57		 push	 edi
  01d09	e8 00 00 00 00	 call	 _phone_feature
  01d0e	83 c4 08	 add	 esp, 8
  01d11	a8 40		 test	 al, 64			; 00000040H
  01d13	75 0c		 jne	 SHORT $L73700
  01d15	8b 4c 24 20	 mov	 ecx, DWORD PTR _pDphsettar$[esp+36]
  01d19	66 81 79 18 35
	1c		 cmp	 WORD PTR [ecx+24], 7221	; 00001c35H
  01d1f	75 47		 jne	 SHORT $L73704
$L73700:

; 421  : 				{
; 422  : 					tartemp = 40;	   /* Max tilt for [b,d,g] */

  01d21	be 28 00 00 00	 mov	 esi, 40			; 00000028H

; 423  : 				}
; 424  : 			}
; 425  : 
; 426  : 			/* Female front vowels should be tilted down slightly */
; 427  : 			else if ((begtyp(phone_temp) == 1) || (endtyp(phone_temp) == 1))

  01d26	eb 40		 jmp	 SHORT $L73704
$L73698:
  01d28	8b d5		 mov	 edx, ebp
  01d2a	8b c5		 mov	 eax, ebp
  01d2c	c1 fa 08	 sar	 edx, 8
  01d2f	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  01d34	8b 0c 95 00 00
	00 00		 mov	 ecx, DWORD PTR _all_begtyp[edx*4]
  01d3b	66 83 3c 41 01	 cmp	 WORD PTR [ecx+eax*2], 1
  01d40	74 19		 je	 SHORT $L73703
  01d42	8b d5		 mov	 edx, ebp
  01d44	81 e5 ff 00 00
	00		 and	 ebp, 255		; 000000ffH
  01d4a	c1 fa 08	 sar	 edx, 8
  01d4d	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR _all_endtyp[edx*4]
  01d54	66 83 3c 68 01	 cmp	 WORD PTR [eax+ebp*2], 1
  01d59	75 0d		 jne	 SHORT $L73704
$L73703:

; 428  : 			{
; 429  : 				if (pDph_t->malfem == FEMALE)

  01d5b	66 83 bf 08 15
	00 00 00	 cmp	 WORD PTR [edi+5384], 0
  01d63	75 03		 jne	 SHORT $L73704

; 430  : 				{
; 431  : 					tartemp += 10;/* 12/10/1996 EDB, was 3*/

  01d65	83 c6 0a	 add	 esi, 10			; 0000000aH
$L73704:

; 432  : 				}
; 433  : 			}
; 434  : 			if (phone_temp == GRP_U)

  01d68	8b 44 24 28	 mov	 eax, DWORD PTR _phone_temp$[esp+32]
  01d6c	66 3d 08 1c	 cmp	 ax, 7176		; 00001c08H
  01d70	75 10		 jne	 SHORT $L73705

; 435  : 			{
; 436  : 				tartemp =10;

  01d72	be 0a 00 00 00	 mov	 esi, 10			; 0000000aH
  01d77	5f		 pop	 edi

; 442  : 			}
; 443  : 
; 444  : 		}
; 445  : 	}
; 446  : 	return (tartemp);

  01d78	66 8b c6	 mov	 ax, si
  01d7b	5e		 pop	 esi
  01d7c	5d		 pop	 ebp
  01d7d	5b		 pop	 ebx

; 447  : }

  01d7e	83 c4 14	 add	 esp, 20			; 00000014H
  01d81	c3		 ret	 0
$L73705:

; 437  : 			}
; 438  : 			/* 	improv330 eab 3/30/98 l highly tilted*/
; 439  : 			if (phone_temp == GRP_L)

  01d82	66 3d 1a 1c	 cmp	 ax, 7194		; 00001c1aH
  01d86	75 12		 jne	 SHORT $L73706

; 440  : 			{
; 441  : 				tartemp += 8;

  01d88	83 c6 08	 add	 esi, 8
  01d8b	5f		 pop	 edi

; 442  : 			}
; 443  : 
; 444  : 		}
; 445  : 	}
; 446  : 	return (tartemp);

  01d8c	66 8b c6	 mov	 ax, si
  01d8f	5e		 pop	 esi
  01d90	5d		 pop	 ebp
  01d91	5b		 pop	 ebx

; 447  : }

  01d92	83 c4 14	 add	 esp, 20			; 00000014H
  01d95	c3		 ret	 0
$L74981:

; 440  : 			{
; 441  : 				tartemp += 8;

  01d96	8b 74 24 28	 mov	 esi, DWORD PTR _tartemp$[esp+32]
$L73706:

; 442  : 			}
; 443  : 
; 444  : 		}
; 445  : 	}
; 446  : 	return (tartemp);

  01d9a	66 8b c6	 mov	 ax, si
  01d9d	5f		 pop	 edi
  01d9e	5e		 pop	 esi
  01d9f	5d		 pop	 ebp
  01da0	5b		 pop	 ebx

; 447  : }

  01da1	83 c4 14	 add	 esp, 20			; 00000014H
  01da4	c3		 ret	 0
_gr_gettar ENDP
_TEXT	ENDS
EXTRN	_Cibles_MALE:BYTE
EXTRN	_Cibles_FEMALE:BYTE
EXTRN	_fr_maleloc:BYTE
EXTRN	_fr_malamp:BYTE
EXTRN	_fr_femloc:BYTE
_TEXT	SEGMENT
_phTTS$ = 8
_nphone_temp$ = 12
_phone_temp$ = 12
_phlas_temp$ = 8
_phnex_temp$ = -12
_tartemp$ = 8
_npar$ = -8
_pDphsettar$ = -4
_fr_gettar PROC NEAR

; 74   : {

  01db0	83 ec 0c	 sub	 esp, 12			; 0000000cH

; 75   : 	short                   phone_temp , phlas_temp , phnex_temp, tartemp, pphotr, begtypnex, npar;
; 76   : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  01db3	8b 44 24 10	 mov	 eax, DWORD PTR _phTTS$[esp+8]
  01db7	53		 push	 ebx
  01db8	55		 push	 ebp
  01db9	56		 push	 esi
  01dba	57		 push	 edi
  01dbb	8b 78 18	 mov	 edi, DWORD PTR [eax+24]

; 77   : 	PKSD_T                  pKsd_t = phTTS->pKernelShareData;
; 78   : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar; 
; 79   : 
; 80   : 	if( PFFR != pDph_t->last_lang)

  01dbe	b8 19 00 00 00	 mov	 eax, 25			; 00000019H
  01dc3	8b b7 10 2c 00
	00		 mov	 esi, DWORD PTR [edi+11280]
  01dc9	66 39 87 0a 15
	00 00		 cmp	 WORD PTR [edi+5386], ax
  01dd0	89 74 24 18	 mov	 DWORD PTR _pDphsettar$[esp+28], esi
  01dd4	74 6d		 je	 SHORT $L74015

; 81   : 	{
; 82   : 		pDph_t->last_lang = PFFR;
; 83   : 		if(pDph_t->malfem == MALE)

  01dd6	66 83 bf 08 15
	00 00 01	 cmp	 WORD PTR [edi+5384], 1
  01dde	66 89 87 0a 15
	00 00		 mov	 WORD PTR [edi+5386], ax
  01de5	75 2a		 jne	 SHORT $L74013

; 84   : 		{
; 85   : 			pDph_t->Cibles_Defaut=(short *)Cibles_MALE;

  01de7	c7 87 c0 23 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+9152], OFFSET FLAT:_Cibles_MALE

; 86   : 			pDph_t->p_locus = fr_maleloc;	   		

  01df1	c7 87 10 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5392], OFFSET FLAT:_fr_maleloc

; 87   : 			pDph_t->p_diph = us_maldip;

  01dfb	c7 87 14 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5396], OFFSET FLAT:_us_maldip

; 88   : 			pDph_t->p_tar = us_maltar;

  01e05	c7 87 18 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5400], OFFSET FLAT:_us_maltar

; 89   : 			pDph_t->p_amp = fr_malamp;
; 90   : 		}
; 91   : 		else

  01e0f	eb 28		 jmp	 SHORT $L75040
$L74013:

; 92   : 		{
; 93   : 			pDph_t->Cibles_Defaut=(short *)Cibles_FEMALE;

  01e11	c7 87 c0 23 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+9152], OFFSET FLAT:_Cibles_FEMALE

; 94   : 			pDph_t->p_locus = fr_femloc;	   	

  01e1b	c7 87 10 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5392], OFFSET FLAT:_fr_femloc

; 95   : 			pDph_t->p_diph = us_femdip;

  01e25	c7 87 14 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5396], OFFSET FLAT:_us_femdip

; 96   : 			pDph_t->p_tar = us_femtar;

  01e2f	c7 87 18 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5400], OFFSET FLAT:_us_femtar
$L75040:

; 97   : 			pDph_t->p_amp = fr_malamp;

  01e39	c7 87 1c 15 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+5404], OFFSET FLAT:_fr_malamp
$L74015:

; 98   : 		}
; 99   : 	} 
; 100  : 	
; 101  : 	npar = pDphsettar->np - &PF1;

  01e43	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  01e46	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  01e4b	2b cf		 sub	 ecx, edi

; 102  : 	/*	if (pDphsettar->np < &PFZ)                      
; 103  : 		pphotr = (npar) * US_TOT_ALLOPHONES;
; 104  : 	else
; 105  : 		pphotr = (npar - 1) * US_TOT_ALLOPHONES;*/
; 106  : 		/* No table entries for PAP parameter */
; 107  : 
; 108  : 	phlas_temp = (get_phone (pDph_t, nphone_temp - 1));

  01e4d	8b 5c 24 24	 mov	 ebx, DWORD PTR _nphone_temp$[esp+24]
  01e51	83 e9 24	 sub	 ecx, 36			; 00000024H
  01e54	f7 e9		 imul	 ecx
  01e56	c1 fa 03	 sar	 edx, 3
  01e59	8b ca		 mov	 ecx, edx
  01e5b	8d 43 ff	 lea	 eax, DWORD PTR [ebx-1]
  01e5e	c1 e9 1f	 shr	 ecx, 31			; 0000001fH
  01e61	03 d1		 add	 edx, ecx
  01e63	85 c0		 test	 eax, eax
  01e65	89 54 24 14	 mov	 DWORD PTR _npar$[esp+28], edx
  01e69	7c 1a		 jl	 SHORT $L74992
  01e6b	0f bf 8f 06 15
	00 00		 movsx	 ecx, WORD PTR [edi+5382]
  01e72	3b c1		 cmp	 eax, ecx
  01e74	7d 0f		 jge	 SHORT $L74992
  01e76	66 8b 84 5f ea
	03 00 00	 mov	 ax, WORD PTR [edi+ebx*2+1002]
  01e7e	66 89 44 24 20	 mov	 WORD PTR _phlas_temp$[esp+24], ax
  01e83	eb 08		 jmp	 SHORT $L74993
$L74992:
  01e85	c7 44 24 20 00
	1e 00 00	 mov	 DWORD PTR _phlas_temp$[esp+24], 7680 ; 00001e00H
$L74993:

; 109  : 	phone_temp = (get_phone (pDph_t, nphone_temp)) ;

  01e8d	85 db		 test	 ebx, ebx
  01e8f	7c 15		 jl	 SHORT $L74994
  01e91	0f bf 8f 06 15
	00 00		 movsx	 ecx, WORD PTR [edi+5382]
  01e98	3b d9		 cmp	 ebx, ecx
  01e9a	7d 0a		 jge	 SHORT $L74994
  01e9c	66 8b 8c 5f ec
	03 00 00	 mov	 cx, WORD PTR [edi+ebx*2+1004]
  01ea4	eb 05		 jmp	 SHORT $L75041
$L74994:
  01ea6	b9 00 1e 00 00	 mov	 ecx, 7680		; 00001e00H
$L75041:

; 110  : 	phnex_temp = (get_phone (pDph_t, nphone_temp + 1));

  01eab	8d 43 01	 lea	 eax, DWORD PTR [ebx+1]
  01eae	89 4c 24 24	 mov	 DWORD PTR _phone_temp$[esp+24], ecx
  01eb2	85 c0		 test	 eax, eax
  01eb4	7c 15		 jl	 SHORT $L74996
  01eb6	0f bf af 06 15
	00 00		 movsx	 ebp, WORD PTR [edi+5382]
  01ebd	3b c5		 cmp	 eax, ebp
  01ebf	7d 0a		 jge	 SHORT $L74996
  01ec1	66 8b ac 5f ee
	03 00 00	 mov	 bp, WORD PTR [edi+ebx*2+1006]
  01ec9	eb 05		 jmp	 SHORT $L75042
$L74996:
  01ecb	bd 00 1e 00 00	 mov	 ebp, 7680		; 00001e00H
$L75042:

; 111  : 
; 112  : 	/* GETTAR:  F1, F2, F3, B1, B2, B3 */
; 113  : 	if ((pDphsettar->par_type = partyp[npar]) IS_FORM_FREQ_OR_BW)

  01ed0	0f bf c2	 movsx	 eax, dx
  01ed3	89 6c 24 10	 mov	 DWORD PTR _phnex_temp$[esp+28], ebp
  01ed7	8a 80 00 00 00
	00		 mov	 al, BYTE PTR _partyp[eax]
  01edd	3c 02		 cmp	 al, 2
  01edf	88 46 14	 mov	 BYTE PTR [esi+20], al
  01ee2	0f 8e 64 01 00
	00		 jle	 $L74017

; 114  : 	{	pphotr = npar + 9; /* for F1:npar:0 pphotr=9; F2, F3, FNZ, B1, B2, B3 */
; 115  : 		if ((tartemp = (*(pDph_t->Cibles_Defaut+((phone_temp & PVALUE)*N_PARAM)+pphotr))) == -1) 

  01ee8	0f bf f1	 movsx	 esi, cx
  01eeb	8d 42 09	 lea	 eax, DWORD PTR [edx+9]
  01eee	8b 97 c0 23 00
	00		 mov	 edx, DWORD PTR [edi+9152]
  01ef4	0f bf c8	 movsx	 ecx, ax
  01ef7	8b c6		 mov	 eax, esi
  01ef9	8b e9		 mov	 ebp, ecx
  01efb	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  01f00	8b f0		 mov	 esi, eax
  01f02	c1 e6 04	 shl	 esi, 4
  01f05	03 ee		 add	 ebp, esi
  01f07	03 c5		 add	 eax, ebp
  01f09	66 8b 34 42	 mov	 si, WORD PTR [edx+eax*2]
  01f0d	66 83 fe ff	 cmp	 si, -1
  01f11	0f 85 bd 00 00
	00		 jne	 $L74025

; 116  : 		{
; 117  :       		/* F1 de - in _vaz; use F1 of v */
; 118  :       		if ((tartemp = (*(pDph_t->Cibles_Defaut+((phnex_temp & PVALUE)*N_PARAM)+pphotr))) == -1) 

  01f17	8b 44 24 10	 mov	 eax, DWORD PTR _phnex_temp$[esp+28]
  01f1b	8b e9		 mov	 ebp, ecx
  01f1d	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  01f22	8b f0		 mov	 esi, eax
  01f24	c1 e6 04	 shl	 esi, 4
  01f27	03 ee		 add	 ebp, esi
  01f29	03 c5		 add	 eax, ebp
  01f2b	66 8b 34 42	 mov	 si, WORD PTR [edx+eax*2]
  01f2f	66 83 fe ff	 cmp	 si, -1
  01f33	0f 85 9b 00 00
	00		 jne	 $L74025

; 119  : 			{
; 120  :         		/* Tar still undefined, use tarval of second-next segment */
; 121  :         		if ((tartemp = (*(pDph_t->Cibles_Defaut+(N_PARAM*(get_phone(pDph_t, nphone_temp+2) & PVALUE))+pphotr)))==-1) 

  01f39	8d 43 02	 lea	 eax, DWORD PTR [ebx+2]
  01f3c	85 c0		 test	 eax, eax
  01f3e	7c 15		 jl	 SHORT $L74998
  01f40	0f bf b7 06 15
	00 00		 movsx	 esi, WORD PTR [edi+5382]
  01f47	3b c6		 cmp	 eax, esi
  01f49	7d 0a		 jge	 SHORT $L74998
  01f4b	0f bf 84 5f f0
	03 00 00	 movsx	 eax, WORD PTR [edi+ebx*2+1008]
  01f53	eb 05		 jmp	 SHORT $L74999
$L74998:
  01f55	b8 00 1e 00 00	 mov	 eax, 7680		; 00001e00H
$L74999:
  01f5a	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  01f5f	8b d9		 mov	 ebx, ecx
  01f61	8b f0		 mov	 esi, eax
  01f63	c1 e6 04	 shl	 esi, 4
  01f66	03 de		 add	 ebx, esi
  01f68	03 c3		 add	 eax, ebx
  01f6a	66 8b 34 42	 mov	 si, WORD PTR [edx+eax*2]
  01f6e	66 83 fe ff	 cmp	 si, -1
  01f72	75 60		 jne	 SHORT $L74025

; 122  : 				{
; 123  :           			/* Tar still undefined, use previous phone */
; 124  :           			if ((tartemp = (*(pDph_t->Cibles_Defaut+(N_PARAM*(phlas_temp & PVALUE))+pphotr))) < -1) 

  01f74	8b 44 24 20	 mov	 eax, DWORD PTR _phlas_temp$[esp+24]
  01f78	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  01f7d	8b f0		 mov	 esi, eax
  01f7f	c1 e6 04	 shl	 esi, 4
  01f82	03 ce		 add	 ecx, esi
  01f84	03 c1		 add	 eax, ecx
  01f86	66 8b 34 42	 mov	 si, WORD PTR [edx+eax*2]
  01f8a	66 83 fe ff	 cmp	 si, -1
  01f8e	7d 35		 jge	 SHORT $L75043

; 125  : 					{
; 126  :             			/* Diphthonized seg, use last target value */
; 127  :             			while (pDph_t->p_diph [-tartemp] != -1) tartemp--;

  01f90	8b 87 14 15 00
	00		 mov	 eax, DWORD PTR [edi+5396]
  01f96	0f bf d6	 movsx	 edx, si
  01f99	d1 e2		 shl	 edx, 1
  01f9b	8b c8		 mov	 ecx, eax
  01f9d	2b ca		 sub	 ecx, edx
  01f9f	66 83 39 ff	 cmp	 WORD PTR [ecx], -1
  01fa3	74 10		 je	 SHORT $L74024
$L74023:
  01fa5	4e		 dec	 esi
  01fa6	8b c8		 mov	 ecx, eax
  01fa8	0f bf d6	 movsx	 edx, si
  01fab	d1 e2		 shl	 edx, 1
  01fad	2b ca		 sub	 ecx, edx
  01faf	66 83 39 ff	 cmp	 WORD PTR [ecx], -1
  01fb3	75 f0		 jne	 SHORT $L74023
$L74024:

; 128  :             				tartemp = pDph_t->p_diph [-tartemp-1];

  01fb5	0f bf d6	 movsx	 edx, si
  01fb8	8d 4c 12 02	 lea	 ecx, DWORD PTR [edx+edx+2]
  01fbc	2b c1		 sub	 eax, ecx
  01fbe	66 8b 30	 mov	 si, WORD PTR [eax]

; 129  :           			}
; 130  :           			/* If this doesn't work, use default value : _ in vaz_ ("vase.") */
; 131  :           			if (tartemp == -1) tartemp = parini [npar];

  01fc1	66 83 fe ff	 cmp	 si, -1
$L75043:
  01fc5	75 0d		 jne	 SHORT $L74025
  01fc7	0f bf 44 24 14	 movsx	 eax, WORD PTR _npar$[esp+28]
  01fcc	66 8b 34 45 00
	00 00 00	 mov	 si, WORD PTR _parini[eax*2]
$L74025:

; 132  :         		}
; 133  :       		}
; 134  :     	}
; 135  :     	/* Fricatives have higher F1 if preceeded by a vowel
; 136  :       	   F1 in vaSe, gliSSe, biCHe 
; 137  : 		*/
; 138  :     	if ( npar == F1-1 && phone_feature(pDph_t, phone_temp) & TFricative
; 139  :         	&& phone_feature(pDph_t, phlas_temp) & TSyllabique ) 

  01fd4	8b 5c 24 14	 mov	 ebx, DWORD PTR _npar$[esp+28]
  01fd8	66 85 db	 test	 bx, bx
  01fdb	75 29		 jne	 SHORT $L74026
  01fdd	0f bf 44 24 24	 movsx	 eax, WORD PTR _phone_temp$[esp+24]
  01fe2	50		 push	 eax
  01fe3	57		 push	 edi
  01fe4	e8 00 00 00 00	 call	 _phone_feature
  01fe9	83 c4 08	 add	 esp, 8
  01fec	a8 08		 test	 al, 8
  01fee	74 16		 je	 SHORT $L74026
  01ff0	0f bf 54 24 20	 movsx	 edx, WORD PTR _phlas_temp$[esp+24]
  01ff5	52		 push	 edx
  01ff6	57		 push	 edi
  01ff7	e8 00 00 00 00	 call	 _phone_feature
  01ffc	83 c4 08	 add	 esp, 8
  01fff	a8 01		 test	 al, 1
  02001	74 03		 je	 SHORT $L74026

; 140  : 		{
; 141  :       		tartemp += 40;

  02003	83 c6 28	 add	 esi, 40			; 00000028H
$L74026:

; 142  :     	}
; 143  : 
; 144  :     	/* Special rule for B2 of /n/ before non-front vowels
; 145  :       		B2 of N in AN (ane), BON (bonne) 
; 146  :   		*/
; 147  :     	if ( (phone_temp) == FP_N && npar == B2-1 ) 

  02006	66 81 7c 24 24
	26 19		 cmp	 WORD PTR _phone_temp$[esp+24], 6438 ; 00001926H
  0200d	0f 85 92 02 00
	00		 jne	 $L74050
  02013	66 83 fb 05	 cmp	 bx, 5
  02017	0f 85 88 02 00
	00		 jne	 $L74050

; 148  : 		{
; 149  :       		if (begtyp (phnex_temp) != 1) tartemp += 60;

  0201d	0f bf 44 24 10	 movsx	 eax, WORD PTR _phnex_temp$[esp+28]
  02022	8b c8		 mov	 ecx, eax
  02024	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  02029	c1 f9 08	 sar	 ecx, 8
  0202c	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_begtyp[ecx*4]
  02033	66 83 3c 42 01	 cmp	 WORD PTR [edx+eax*2], 1
  02038	0f 84 67 02 00
	00		 je	 $L74050
  0203e	83 c6 3c	 add	 esi, 60			; 0000003cH
  02041	5f		 pop	 edi

; 262  :       			}
; 263  :     		} /* if (pDphsettar->np == &PTILT) */
; 264  :   		} /* else if parameter type */
; 265  : 
; 266  : #ifdef DEBG
; 267  :     	if (dbgphs)
; 268  : 		{
; 269  :     		// printf ("phsettar.c gettar %4s %5d\n", phprint (phone_temp), tartemp);
; 270  :     	}
; 271  : #endif
; 272  : 
; 273  :   	return (tartemp);

  02042	66 8b c6	 mov	 ax, si
  02045	5e		 pop	 esi
  02046	5d		 pop	 ebp
  02047	5b		 pop	 ebx

; 274  : } /* gettar */

  02048	83 c4 0c	 add	 esp, 12			; 0000000cH
  0204b	c3		 ret	 0
$L74017:

; 150  :     	}
; 151  : 
; 152  : #ifdef NEVER_EVER_EVER_NEVER
; 153  :     	/* Special rule for B3 of /n/ adjacent to high-front vowels
; 154  :        	   B3 of N in NI (ni), LIN (line) 
; 155  : 		*/
; 156  :     	if ( (phone_temp) == FP_N && npar == B3-1) 
; 157  : 		{
; 158  :       		if ( place [(phnex_temp & PVALUE)] & F2BACKI || place [(phlas_temp & PVALUE)] & F2BACKF) 
; 159  : 			{
; 160  :         		tartemp = 1600;
; 161  :       		}
; 162  :     	}
; 163  : #endif
; 164  : 		} 
; 165  : 		else if (pDphsettar->par_type IS_NASAL_ZERO_FREQ) {

  0204c	3c 01		 cmp	 al, 1
  0204e	75 23		 jne	 SHORT $L74030

; 166  :     		tartemp = *(pDph_t->Cibles_Defaut+(N_PARAM*(phone_temp & PVALUE))+12);

  02050	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  02056	8b c1		 mov	 eax, ecx
  02058	c1 e0 04	 shl	 eax, 4
  0205b	03 c1		 add	 eax, ecx
  0205d	8b 8f c0 23 00
	00		 mov	 ecx, DWORD PTR [edi+9152]
  02063	5f		 pop	 edi
  02064	66 8b 74 41 18	 mov	 si, WORD PTR [ecx+eax*2+24]

; 262  :       			}
; 263  :     		} /* if (pDphsettar->np == &PTILT) */
; 264  :   		} /* else if parameter type */
; 265  : 
; 266  : #ifdef DEBG
; 267  :     	if (dbgphs)
; 268  : 		{
; 269  :     		// printf ("phsettar.c gettar %4s %5d\n", phprint (phone_temp), tartemp);
; 270  :     	}
; 271  : #endif
; 272  : 
; 273  :   	return (tartemp);

  02069	66 8b c6	 mov	 ax, si
  0206c	5e		 pop	 esi
  0206d	5d		 pop	 ebp
  0206e	5b		 pop	 ebx

; 274  : } /* gettar */

  0206f	83 c4 0c	 add	 esp, 12			; 0000000cH
  02072	c3		 ret	 0
$L74030:

; 167  :   		}
; 168  : 		else if (pDphsettar->par_type IS_AV_OR_AH) 

  02073	84 c0		 test	 al, al
  02075	75 62		 jne	 SHORT $L74032

; 169  : 		{
; 170  :     		/* Rules for voicing amplitude */
; 171  :     		if (npar == AV-1) 

  02077	66 83 fa 07	 cmp	 dx, 7
  0207b	75 23		 jne	 SHORT $L74033

; 172  : 			{
; 173  :       			tartemp = *(pDph_t->Cibles_Defaut+(N_PARAM*(phone_temp & PVALUE))+7);

  0207d	8b 87 c0 23 00
	00		 mov	 eax, DWORD PTR [edi+9152]
  02083	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  02089	8b d1		 mov	 edx, ecx
  0208b	5f		 pop	 edi
  0208c	c1 e2 04	 shl	 edx, 4
  0208f	03 d1		 add	 edx, ecx
  02091	66 8b 74 50 0e	 mov	 si, WORD PTR [eax+edx*2+14]

; 262  :       			}
; 263  :     		} /* if (pDphsettar->np == &PTILT) */
; 264  :   		} /* else if parameter type */
; 265  : 
; 266  : #ifdef DEBG
; 267  :     	if (dbgphs)
; 268  : 		{
; 269  :     		// printf ("phsettar.c gettar %4s %5d\n", phprint (phone_temp), tartemp);
; 270  :     	}
; 271  : #endif
; 272  : 
; 273  :   	return (tartemp);

  02096	66 8b c6	 mov	 ax, si
  02099	5e		 pop	 esi
  0209a	5d		 pop	 ebp
  0209b	5b		 pop	 ebx

; 274  : } /* gettar */

  0209c	83 c4 0c	 add	 esp, 12			; 0000000cH
  0209f	c3		 ret	 0
$L74033:

; 174  : 
; 175  : #ifdef NEVER_EVER_EVER_NEVER
; 176  :       			/* Voiced stop devoiced if preceding seg voiceless AV=0 for b,d,g */
; 177  :       			if ( phone_feature(pDph_t, phone_temp) & TPlosive && !(phone_feature(pDph_t, phlas_temp) & TVoisee) ) 
; 178  : 				{
; 179  :         			tartemp = 0;
; 180  :       			}
; 181  : #endif
; 182  : 
; 183  :     		}
; 184  : 			else { /* AH */
; 185  :       			tartemp = 0; /* aspiration */  
; 186  :       			/*  for On, An, In, Un; added aout 95 */
; 187  :       			if ( (phone_feature(pDph_t, phone_temp) & TNasale) &&  (phone_feature(pDph_t, phone_temp) & TVoyelle) ) 

  020a0	0f bf d9	 movsx	 ebx, cx
  020a3	53		 push	 ebx
  020a4	57		 push	 edi
  020a5	33 f6		 xor	 esi, esi
  020a7	e8 00 00 00 00	 call	 _phone_feature
  020ac	83 c4 08	 add	 esp, 8
  020af	a8 80		 test	 al, -128		; ffffff80H
  020b1	0f 84 ee 01 00
	00		 je	 $L74050
  020b7	53		 push	 ebx
  020b8	57		 push	 edi
  020b9	e8 00 00 00 00	 call	 _phone_feature
  020be	83 c4 08	 add	 esp, 8
  020c1	a8 04		 test	 al, 4
  020c3	0f 84 dc 01 00
	00		 je	 $L74050

; 188  : 				{
; 189  :         			tartemp = 40;

  020c9	be 28 00 00 00	 mov	 esi, 40			; 00000028H
  020ce	5f		 pop	 edi

; 262  :       			}
; 263  :     		} /* if (pDphsettar->np == &PTILT) */
; 264  :   		} /* else if parameter type */
; 265  : 
; 266  : #ifdef DEBG
; 267  :     	if (dbgphs)
; 268  : 		{
; 269  :     		// printf ("phsettar.c gettar %4s %5d\n", phprint (phone_temp), tartemp);
; 270  :     	}
; 271  : #endif
; 272  : 
; 273  :   	return (tartemp);

  020cf	66 8b c6	 mov	 ax, si
  020d2	5e		 pop	 esi
  020d3	5d		 pop	 ebp
  020d4	5b		 pop	 ebx

; 274  : } /* gettar */

  020d5	83 c4 0c	 add	 esp, 12			; 0000000cH
  020d8	c3		 ret	 0
$L74032:

; 190  :       			}
; 191  :     		}
; 192  : 		} 
; 193  : 		else if (pDphsettar->par_type IS_PARALLEL_FORM_AMP) 

  020d9	3c 02		 cmp	 al, 2
  020db	0f 85 c0 01 00
	00		 jne	 $L75032

; 194  : 		{
; 195  :     		/* GETTAR:  A2, A3, A4, A5, A6, AB
; 196  :        		   If ptram > 0, it is a pointer in obstruent array taram 
; 197  :             */
; 198  :     		if ( pDphsettar->np != &PTILT) 

  020e1	8b 5e 10	 mov	 ebx, DWORD PTR [esi+16]
  020e4	8d 87 40 02 00
	00		 lea	 eax, DWORD PTR [edi+576]
  020ea	3b d8		 cmp	 ebx, eax
  020ec	0f 84 a1 00 00
	00		 je	 $L75031

; 199  : 			{
; 200  :       			if ( (tartemp = ptram (phone_temp)) > 0 ) 

  020f2	0f bf c1	 movsx	 eax, cx
  020f5	8b f0		 mov	 esi, eax
  020f7	8b d8		 mov	 ebx, eax
  020f9	c1 fe 08	 sar	 esi, 8
  020fc	81 e3 ff 00 00
	00		 and	 ebx, 255		; 000000ffH
  02102	8b 34 b5 00 00
	00 00		 mov	 esi, DWORD PTR _all_ptram[esi*4]
  02109	66 8b 34 5e	 mov	 si, WORD PTR [esi+ebx*2]
  0210d	66 85 f6	 test	 si, si
  02110	7e 61		 jle	 SHORT $L74039

; 201  : 				{
; 202  :         			begtypnex = begtyp (phnex_temp) - 1;

  02112	0f bf c5	 movsx	 eax, bp
  02115	8b d8		 mov	 ebx, eax
  02117	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  0211c	c1 fb 08	 sar	 ebx, 8
  0211f	8b 1c 9d 00 00
	00 00		 mov	 ebx, DWORD PTR _all_begtyp[ebx*4]
  02126	66 8b 04 43	 mov	 ax, WORD PTR [ebx+eax*2]
  0212a	66 48		 dec	 ax

; 203  : 					if (phnex_temp == GEN_SIL) begtypnex = endtyp(phlas_temp)- 1;

  0212c	66 81 fd 00 1e	 cmp	 bp, 7680		; 00001e00H
  02131	75 1c		 jne	 SHORT $L74040
  02133	0f bf 44 24 20	 movsx	 eax, WORD PTR _phlas_temp$[esp+24]
  02138	8b d8		 mov	 ebx, eax
  0213a	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  0213f	c1 fb 08	 sar	 ebx, 8
  02142	8b 1c 9d 00 00
	00 00		 mov	 ebx, DWORD PTR _all_endtyp[ebx*4]
  02149	66 8b 04 43	 mov	 ax, WORD PTR [ebx+eax*2]
  0214d	66 48		 dec	 ax
$L74040:

; 204  : 					if (begtypnex == 4) begtypnex = 2;

  0214f	66 3d 04 00	 cmp	 ax, 4
  02153	75 05		 jne	 SHORT $L74041
  02155	b8 02 00 00 00	 mov	 eax, 2
$L74041:

; 205  :         
; 206  : 					tartemp += (npar - A2 + 1 + (6 * begtypnex));

  0215a	8d 04 40	 lea	 eax, DWORD PTR [eax+eax*2]

; 207  :         			tartemp = pDph_t->p_amp [tartemp];

  0215d	8d 04 46	 lea	 eax, DWORD PTR [esi+eax*2]
  02160	8d 54 10 f7	 lea	 edx, DWORD PTR [eax+edx-9]
  02164	0f bf c2	 movsx	 eax, dx
  02167	8b 97 1c 15 00
	00		 mov	 edx, DWORD PTR [edi+5404]
  0216d	66 8b 34 42	 mov	 si, WORD PTR [edx+eax*2]

; 208  : 
; 209  :         			/* Burst has less intensity if FP_AP vowel next */
; 210  : 					/* if ( phnex_temp == FP_AP ) {
; 211  :           		       if (tartemp >= 4) tartemp -= 4;
; 212  :           		       if (tartemp >= 2) tartemp -= 2 ; eab 11/95 too severe I think
; 213  : 				       was 4 }
; 214  :                     */
; 215  :       		 	}
; 216  :  				else { /* A2-AB for FP_R */

  02171	eb 24		 jmp	 SHORT $L74042
$L74039:

; 217  :         			pphotr = npar - 9; /* for A2:npar:9 pphotr=0; A2 to AB */
; 218  : 
; 219  : #ifdef DEBGFIN
; 220  :           			if (dbgphs) 
; 221  : 					{
; 222  :             			printf ("phsettar.c gettar A2-AB npar : %d, pphotr %d, phone_temp %s\n",
; 223  :               			npar, pphotr, phprint (phone_temp));
; 224  :             			printf ("  Cibles_Defaut [(phone_temp & PVALUE)] [pphotr] %d\n",
; 225  :               			*(pDph_t->Cibles_Defaut+(N_PARAM*(phone_temp & PVALUE))+pphotr);          		
; 226  : 					}
; 227  : #endif
; 228  : 
; 229  :         			tartemp = *(pDph_t->Cibles_Defaut+(N_PARAM*(phone_temp & PVALUE))+pphotr);

  02173	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  02178	83 c2 f7	 add	 edx, -9			; fffffff7H
  0217b	8b f0		 mov	 esi, eax
  0217d	c1 e6 04	 shl	 esi, 4
  02180	03 f0		 add	 esi, eax
  02182	0f bf c2	 movsx	 eax, dx
  02185	8b 97 c0 23 00
	00		 mov	 edx, DWORD PTR [edi+9152]
  0218b	03 f0		 add	 esi, eax
  0218d	66 8b 34 72	 mov	 si, WORD PTR [edx+esi*2]
  02191	eb 04		 jmp	 SHORT $L74042
$L75031:
  02193	8b 74 24 20	 mov	 esi, DWORD PTR _tartemp$[esp+24]
$L74042:

; 230  :       			}
; 231  :     } /* if ( pDphsettar->np != &PTILT) */
; 232  : 
; 233  :     		/* GETTAR:  TLT
; 234  :            	   Source spectral tilt: highly tilted for obstruents
; 235  :            	   (Voiced obstruents are special case, set F1=0 to signal voicebar) 
; 236  :         	*/
; 237  : 
; 238  :     		if (pDphsettar->np == &PTILT) {

  02197	8b 54 24 18	 mov	 edx, DWORD PTR _pDphsettar$[esp+28]
  0219b	8d 87 40 02 00
	00		 lea	 eax, DWORD PTR [edi+576]
  021a1	39 42 10	 cmp	 DWORD PTR [edx+16], eax
  021a4	0f 85 fb 00 00
	00		 jne	 $L74050

; 239  :       			tartemp = 0;      /* for vowel */

  021aa	33 f6		 xor	 esi, esi

; 240  :       			if (phone_temp == GEN_SIL) {

  021ac	66 81 f9 00 1e	 cmp	 cx, 7680		; 00001e00H
  021b1	75 0b		 jne	 SHORT $L74044

; 262  :       			}
; 263  :     		} /* if (pDphsettar->np == &PTILT) */
; 264  :   		} /* else if parameter type */
; 265  : 
; 266  : #ifdef DEBG
; 267  :     	if (dbgphs)
; 268  : 		{
; 269  :     		// printf ("phsettar.c gettar %4s %5d\n", phprint (phone_temp), tartemp);
; 270  :     	}
; 271  : #endif
; 272  : 
; 273  :   	return (tartemp);

  021b3	66 8b c6	 mov	 ax, si
  021b6	5f		 pop	 edi
  021b7	5e		 pop	 esi
  021b8	5d		 pop	 ebp
  021b9	5b		 pop	 ebx

; 274  : } /* gettar */

  021ba	83 c4 0c	 add	 esp, 12			; 0000000cH
  021bd	c3		 ret	 0
$L74044:

; 241  :         			tartemp = 0;
; 242  :       			}
; 243  : 				else if ( (phone_temp) == FP_AP ) {

  021be	66 81 f9 11 19	 cmp	 cx, 6417		; 00001911H
  021c3	75 10		 jne	 SHORT $L74046

; 244  :          			tartemp = 20;

  021c5	be 14 00 00 00	 mov	 esi, 20			; 00000014H
  021ca	5f		 pop	 edi

; 262  :       			}
; 263  :     		} /* if (pDphsettar->np == &PTILT) */
; 264  :   		} /* else if parameter type */
; 265  : 
; 266  : #ifdef DEBG
; 267  :     	if (dbgphs)
; 268  : 		{
; 269  :     		// printf ("phsettar.c gettar %4s %5d\n", phprint (phone_temp), tartemp);
; 270  :     	}
; 271  : #endif
; 272  : 
; 273  :   	return (tartemp);

  021cb	66 8b c6	 mov	 ax, si
  021ce	5e		 pop	 esi
  021cf	5d		 pop	 ebp
  021d0	5b		 pop	 ebx

; 274  : } /* gettar */

  021d1	83 c4 0c	 add	 esp, 12			; 0000000cH
  021d4	c3		 ret	 0
$L74046:

; 245  :       			}
; 246  : 				else if ( phone_feature(pDph_t, phone_temp) & TPlosive || phone_feature(pDph_t, phone_temp) & TFricative ) {

  021d5	0f bf d9	 movsx	 ebx, cx
  021d8	53		 push	 ebx
  021d9	57		 push	 edi
  021da	e8 00 00 00 00	 call	 _phone_feature
  021df	83 c4 08	 add	 esp, 8
  021e2	a8 40		 test	 al, 64			; 00000040H
  021e4	75 7e		 jne	 SHORT $L74049
  021e6	53		 push	 ebx
  021e7	57		 push	 edi
  021e8	e8 00 00 00 00	 call	 _phone_feature
  021ed	83 c4 08	 add	 esp, 8
  021f0	a8 08		 test	 al, 8
  021f2	75 70		 jne	 SHORT $L74049

; 251  :         			}
; 252  :       			}
; 253  : 				else if (phone_feature(pDph_t, phone_temp) & TNasale) 

  021f4	53		 push	 ebx
  021f5	57		 push	 edi
  021f6	e8 00 00 00 00	 call	 _phone_feature
  021fb	83 c4 08	 add	 esp, 8
  021fe	a8 80		 test	 al, -128		; ffffff80H
  02200	74 10		 je	 SHORT $L74054

; 254  : 				{
; 255  :         			tartemp = 6;    /* Tilt down nasal murmurs */

  02202	be 06 00 00 00	 mov	 esi, 6
  02207	5f		 pop	 edi

; 262  :       			}
; 263  :     		} /* if (pDphsettar->np == &PTILT) */
; 264  :   		} /* else if parameter type */
; 265  : 
; 266  : #ifdef DEBG
; 267  :     	if (dbgphs)
; 268  : 		{
; 269  :     		// printf ("phsettar.c gettar %4s %5d\n", phprint (phone_temp), tartemp);
; 270  :     	}
; 271  : #endif
; 272  : 
; 273  :   	return (tartemp);

  02208	66 8b c6	 mov	 ax, si
  0220b	5e		 pop	 esi
  0220c	5d		 pop	 ebp
  0220d	5b		 pop	 ebx

; 274  : } /* gettar */

  0220e	83 c4 0c	 add	 esp, 12			; 0000000cH
  02211	c3		 ret	 0
$L74054:

; 256  :       			}
; 257  : 				else if ((pDph_t->malfem == FEMALE)
; 258  :         			&& ( begtyp(phone_temp) == 1 || endtyp(phone_temp) == 1) ) 

  02212	66 83 bf 08 15
	00 00 00	 cmp	 WORD PTR [edi+5384], 0
  0221a	0f 85 85 00 00
	00		 jne	 $L74050
  02220	8b c3		 mov	 eax, ebx
  02222	8b cb		 mov	 ecx, ebx
  02224	c1 f8 08	 sar	 eax, 8
  02227	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  0222d	8b 14 85 00 00
	00 00		 mov	 edx, DWORD PTR _all_begtyp[eax*4]
  02234	66 83 3c 4a 01	 cmp	 WORD PTR [edx+ecx*2], 1
  02239	74 19		 je	 SHORT $L74057
  0223b	8b c3		 mov	 eax, ebx
  0223d	81 e3 ff 00 00
	00		 and	 ebx, 255		; 000000ffH
  02243	c1 f8 08	 sar	 eax, 8
  02246	8b 0c 85 00 00
	00 00		 mov	 ecx, DWORD PTR _all_endtyp[eax*4]
  0224d	66 83 3c 59 01	 cmp	 WORD PTR [ecx+ebx*2], 1
  02252	75 51		 jne	 SHORT $L74050
$L74057:

; 259  : 				{
; 260  :         			/* Female front vowels should be tilted down slightly */
; 261  :         			tartemp += 3;

  02254	be 03 00 00 00	 mov	 esi, 3
  02259	5f		 pop	 edi

; 262  :       			}
; 263  :     		} /* if (pDphsettar->np == &PTILT) */
; 264  :   		} /* else if parameter type */
; 265  : 
; 266  : #ifdef DEBG
; 267  :     	if (dbgphs)
; 268  : 		{
; 269  :     		// printf ("phsettar.c gettar %4s %5d\n", phprint (phone_temp), tartemp);
; 270  :     	}
; 271  : #endif
; 272  : 
; 273  :   	return (tartemp);

  0225a	66 8b c6	 mov	 ax, si
  0225d	5e		 pop	 esi
  0225e	5d		 pop	 ebp
  0225f	5b		 pop	 ebx

; 274  : } /* gettar */

  02260	83 c4 0c	 add	 esp, 12			; 0000000cH
  02263	c3		 ret	 0
$L74049:

; 247  :         			tartemp = 7;
; 248  :         			if ( ((phone_feature(pDph_t, phone_temp) & TVoisee) && (phone_feature(pDph_t, phone_temp) & TPlosive))
; 249  :           				|| pDphsettar->phcur == FP_J ) {

  02264	53		 push	 ebx
  02265	57		 push	 edi
  02266	be 07 00 00 00	 mov	 esi, 7
  0226b	e8 00 00 00 00	 call	 _phone_feature
  02270	83 c4 08	 add	 esp, 8
  02273	a8 02		 test	 al, 2
  02275	74 0e		 je	 SHORT $L74052
  02277	53		 push	 ebx
  02278	57		 push	 edi
  02279	e8 00 00 00 00	 call	 _phone_feature
  0227e	83 c4 08	 add	 esp, 8
  02281	a8 40		 test	 al, 64			; 00000040H
  02283	75 0c		 jne	 SHORT $L74051
$L74052:
  02285	8b 54 24 18	 mov	 edx, DWORD PTR _pDphsettar$[esp+28]
  02289	66 81 7a 18 19
	19		 cmp	 WORD PTR [edx+24], 6425	; 00001919H
  0228f	75 14		 jne	 SHORT $L74050
$L74051:

; 250  :           				tartemp = 40; /* Max tilt for [b, d, g, j] */

  02291	be 28 00 00 00	 mov	 esi, 40			; 00000028H
  02296	5f		 pop	 edi

; 262  :       			}
; 263  :     		} /* if (pDphsettar->np == &PTILT) */
; 264  :   		} /* else if parameter type */
; 265  : 
; 266  : #ifdef DEBG
; 267  :     	if (dbgphs)
; 268  : 		{
; 269  :     		// printf ("phsettar.c gettar %4s %5d\n", phprint (phone_temp), tartemp);
; 270  :     	}
; 271  : #endif
; 272  : 
; 273  :   	return (tartemp);

  02297	66 8b c6	 mov	 ax, si
  0229a	5e		 pop	 esi
  0229b	5d		 pop	 ebp
  0229c	5b		 pop	 ebx

; 274  : } /* gettar */

  0229d	83 c4 0c	 add	 esp, 12			; 0000000cH
  022a0	c3		 ret	 0
$L75032:

; 250  :           				tartemp = 40; /* Max tilt for [b, d, g, j] */

  022a1	8b 74 24 20	 mov	 esi, DWORD PTR _tartemp$[esp+24]
$L74050:

; 262  :       			}
; 263  :     		} /* if (pDphsettar->np == &PTILT) */
; 264  :   		} /* else if parameter type */
; 265  : 
; 266  : #ifdef DEBG
; 267  :     	if (dbgphs)
; 268  : 		{
; 269  :     		// printf ("phsettar.c gettar %4s %5d\n", phprint (phone_temp), tartemp);
; 270  :     	}
; 271  : #endif
; 272  : 
; 273  :   	return (tartemp);

  022a5	66 8b c6	 mov	 ax, si
  022a8	5f		 pop	 edi
  022a9	5e		 pop	 esi
  022aa	5d		 pop	 ebp
  022ab	5b		 pop	 ebx

; 274  : } /* gettar */

  022ac	83 c4 0c	 add	 esp, 12			; 0000000cH
  022af	c3		 ret	 0
_fr_gettar ENDP
_TEXT	ENDS
PUBLIC	_phsettar
PUBLIC	_getbegtar
EXTRN	_divtab:BYTE
_TEXT	SEGMENT
_phTTS$ = 8
_inhdr_frames$ = -4
_pholas$ = -24
_fealas$ = -20
_feacur$ = -36
_feanex$ = -40
_struclm2$ = -12
_struclas$ = -28
_struccur$ = -32
_strucnex$ = -16
_ndips$ = 8
_phonp2$ = -8
_phsettar PROC NEAR

; 538  : {

  022b0	83 ec 28	 sub	 esp, 40			; 00000028H
  022b3	53		 push	 ebx
  022b4	55		 push	 ebp
  022b5	56		 push	 esi

; 539  : 	/* 
; 540  : 	 * MVP :The following variables are made local to phsettar,
; 541  : 	 * Earlier they were static at file scope 
; 542  : 	 */
; 543  : 	short tmp=0;
; 544  : 	short inhdr_frames = 0;
; 545  : 	short pholas = 0;
; 546  : 	short fealas = 0, feacur = 0, feanex = 0;
; 547  : 	short struclm2 = 0, struclas = 0, struccur = 0, strucnex = 0;
; 548  : 	short *ndips;      /* pointer in dipspec[]                   */
; 549  : 	short temp;
; 550  : 	short phonp2=GEN_SIL;
; 551  : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;
; 552  : 	PKSD_T                  pKsd_t = phTTS->pKernelShareData;
; 553  : 	PDPHSETTAR_ST   pDphsettar = pDph_t->pSTphsettar;
; 554  : 
; 555  : 	/* Initialize program at beginning of each clause */
; 556  : 
; 557  : 	init_variables (phTTS, &inhdr_frames, &pDph_t->shrink,
; 558  : 					&pDph_t->shrif, &pDph_t->shrib,
; 559  : 					&pholas, &fealas, &feacur,
; 560  : 					&feanex, &struclm2, &struclas,
; 561  : 					&struccur, &strucnex, &ndips,&phonp2);

  022b6	8d 54 24 2c	 lea	 edx, DWORD PTR _phonp2$[esp+52]
  022ba	57		 push	 edi
  022bb	52		 push	 edx
  022bc	8d 54 24 40	 lea	 edx, DWORD PTR _ndips$[esp+56]
  022c0	8b 5c 24 40	 mov	 ebx, DWORD PTR _phTTS$[esp+56]
  022c4	52		 push	 edx
  022c5	8d 54 24 30	 lea	 edx, DWORD PTR _strucnex$[esp+64]
  022c9	52		 push	 edx
  022ca	8d 54 24 24	 lea	 edx, DWORD PTR _struccur$[esp+68]
  022ce	52		 push	 edx
  022cf	8d 54 24 2c	 lea	 edx, DWORD PTR _struclas$[esp+72]
  022d3	52		 push	 edx
  022d4	8d 54 24 40	 lea	 edx, DWORD PTR _struclm2$[esp+76]
  022d8	8b 7b 18	 mov	 edi, DWORD PTR [ebx+24]
  022db	52		 push	 edx
  022dc	8d 54 24 28	 lea	 edx, DWORD PTR _feanex$[esp+80]
  022e0	33 ed		 xor	 ebp, ebp
  022e2	52		 push	 edx
  022e3	8d 54 24 30	 lea	 edx, DWORD PTR _feacur$[esp+84]
  022e7	52		 push	 edx
  022e8	8d 54 24 44	 lea	 edx, DWORD PTR _fealas$[esp+88]
  022ec	52		 push	 edx
  022ed	8d 54 24 44	 lea	 edx, DWORD PTR _pholas$[esp+92]
  022f1	8d 87 e8 2b 00
	00		 lea	 eax, DWORD PTR [edi+11240]
  022f7	52		 push	 edx
  022f8	8d 8f e6 2b 00
	00		 lea	 ecx, DWORD PTR [edi+11238]
  022fe	50		 push	 eax
  022ff	8d 87 e4 2b 00
	00		 lea	 eax, DWORD PTR [edi+11236]
  02305	51		 push	 ecx
  02306	50		 push	 eax
  02307	8d 44 24 68	 lea	 eax, DWORD PTR _inhdr_frames$[esp+108]
  0230b	50		 push	 eax
  0230c	89 6c 24 6c	 mov	 DWORD PTR _inhdr_frames$[esp+112], ebp
  02310	89 6c 24 58	 mov	 DWORD PTR _pholas$[esp+112], ebp
  02314	89 6c 24 5c	 mov	 DWORD PTR _fealas$[esp+112], ebp
  02318	89 6c 24 4c	 mov	 DWORD PTR _feacur$[esp+112], ebp
  0231c	89 6c 24 48	 mov	 DWORD PTR _feanex$[esp+112], ebp
  02320	89 6c 24 64	 mov	 DWORD PTR _struclm2$[esp+112], ebp
  02324	89 6c 24 54	 mov	 DWORD PTR _struclas$[esp+112], ebp
  02328	89 6c 24 50	 mov	 DWORD PTR _struccur$[esp+112], ebp
  0232c	89 6c 24 60	 mov	 DWORD PTR _strucnex$[esp+112], ebp
  02330	c7 44 24 68 00
	1e 00 00	 mov	 DWORD PTR _phonp2$[esp+112], 7680 ; 00001e00H
  02338	8b b7 10 2c 00
	00		 mov	 esi, DWORD PTR [edi+11280]
  0233e	53		 push	 ebx
  0233f	e8 00 00 00 00	 call	 _init_variables
  02344	83 c4 3c	 add	 esp, 60			; 0000003cH

; 562  : 
; 563  : 	/* Turn off breathyness switch at end of a phrase */    
; 564  : 	/* 12/10/1996 EDB */
; 565  : 	if ((pDphsettar->phcur == GEN_SIL)/* || ((struccur & FHAT_BEGINS) IS_PLUS)*/)

  02347	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  0234d	75 07		 jne	 SHORT $L74446

; 566  : 	{
; 567  : 		pDph_t->breathysw = 0;

  0234f	66 89 af 8e 03
	00 00		 mov	 WORD PTR [edi+910], bp
$L74446:

; 568  : 	}	
; 569  : 	/* Turn on breathyness switch during last syllable of clause */
; 570  : 	/* (generally restricted to female voices via spdef LX) */
; 571  : 
; 572  : #ifndef FRENCH
; 573  : 	if ((struccur & FSENTENDS) IS_PLUS)

  02356	8b 4c 24 18	 mov	 ecx, DWORD PTR _struccur$[esp+56]
  0235a	81 e1 00 01 00
	00		 and	 ecx, 256		; 00000100H
  02360	66 85 c9	 test	 cx, cx
  02363	74 09		 je	 SHORT $L74447

; 574  : 	{
; 575  : 		pDph_t->breathysw = 1;

  02365	66 c7 87 8e 03
	00 00 01 00	 mov	 WORD PTR [edi+910], 1
$L74447:

; 576  : 	}
; 577  : #endif
; 578  : 
; 579  : 	/* Main loop: For each parameter, set target and transition specs    */
; 580  : 
; 581  : 	for (pDphsettar->np = &PF1; pDphsettar->np <= &PTILT; pDphsettar->np++)

  0236e	8d 47 24	 lea	 eax, DWORD PTR [edi+36]
  02371	8d 8f 40 02 00
	00		 lea	 ecx, DWORD PTR [edi+576]
  02377	3b c1		 cmp	 eax, ecx
  02379	89 46 10	 mov	 DWORD PTR [esi+16], eax
  0237c	0f 87 43 07 00
	00		 ja	 $L74506
$L74448:

; 582  : 	{
; 583  : 		if (pDph_t->nphone < (pDph_t->nallotot - 2))

  02382	0f bf 97 06 15
	00 00		 movsx	 edx, WORD PTR [edi+5382]
  02389	0f bf 87 d0 23
	00 00		 movsx	 eax, WORD PTR [edi+9168]
  02390	83 ea 02	 sub	 edx, 2
  02393	3b c2		 cmp	 eax, edx
  02395	7d 0e		 jge	 SHORT $L74451

; 584  : 		{
; 585  : 			phonp2 = pDph_t->allophons[pDph_t->nphone + 2];

  02397	66 8b 84 47 f0
	03 00 00	 mov	 ax, WORD PTR [edi+eax*2+1008]
  0239f	89 44 24 30	 mov	 DWORD PTR _phonp2$[esp+56], eax

; 586  : 		}
; 587  : 		else

  023a3	eb 08		 jmp	 SHORT $L74452
$L74451:

; 588  : 		{
; 589  : 			phonp2 = GEN_SIL;

  023a5	c7 44 24 30 00
	1e 00 00	 mov	 DWORD PTR _phonp2$[esp+56], 7680 ; 00001e00H
$L74452:

; 590  : 		}
; 591  : 	
; 592  : 		pDphsettar->par_type = partyp[pDphsettar->np - &PF1];   /* formfreq, ampl, etc. */

  023ad	8b 6e 10	 mov	 ebp, DWORD PTR [esi+16]
  023b0	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  023b5	8b cd		 mov	 ecx, ebp
  023b7	2b cf		 sub	 ecx, edi
  023b9	83 e9 24	 sub	 ecx, 36			; 00000024H
  023bc	f7 e9		 imul	 ecx
  023be	c1 fa 03	 sar	 edx, 3
  023c1	8b ca		 mov	 ecx, edx
  023c3	c1 e9 1f	 shr	 ecx, 31			; 0000001fH
  023c6	8a 94 0a 00 00
	00 00		 mov	 dl, BYTE PTR _partyp[edx+ecx]
  023cd	88 56 14	 mov	 BYTE PTR [esi+20], dl

; 593  : 
; 594  : 		/* 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 */
; 595  : 		/* Set target value associated with end time of last phone         */
; 596  : 		/* 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 */
; 597  : 
; 598  : 		pDphsettar->np->tarlas = pDphsettar->np->tarend;

  023d0	66 8b 45 1a	 mov	 ax, WORD PTR [ebp+26]
  023d4	66 89 45 18	 mov	 WORD PTR [ebp+24], ax

; 599  : 
; 600  : 		/* 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 */
; 601  : 		/* Set target value associated with onset of next phone            */
; 602  : 		/* and compute any shift due to coartic with adjacent phones       */
; 603  : 		/* 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 */
; 604  : 
; 605  : 		pDphsettar->np->tarnex = getbegtar (phTTS, (pDph_t->nphone + 1));       /* Calls gettar() */

  023d8	0f bf 8f d0 23
	00 00		 movsx	 ecx, WORD PTR [edi+9168]
  023df	41		 inc	 ecx
  023e0	51		 push	 ecx
  023e1	53		 push	 ebx
  023e2	e8 00 00 00 00	 call	 _getbegtar
  023e7	8b 56 10	 mov	 edx, DWORD PTR [esi+16]

; 606  : 
; 607  : 		/* 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 */
; 608  : 		/* Set target value(s) associated with current phone               */
; 609  : 		/* tarcur is target at phone beginning                             */
; 610  : 		/* tarend is target at phone ending                                */
; 611  : 		/* if diphthongized, also set sequence of time,value commands &    */
; 612  : 		/* add special coartic such as change in [ih] due to postvoc [l] */
; 613  : 		/* 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 */
; 614  : 
; 615  : 		pDphsettar->np->tarcur = gettar (phTTS, pDph_t->nphone);        /* target or -pointer to target     */

  023ea	33 ed		 xor	 ebp, ebp
  023ec	83 c4 08	 add	 esp, 8
  023ef	66 89 42 16	 mov	 WORD PTR [edx+22], ax
  023f3	66 8b 87 d0 23
	00 00		 mov	 ax, WORD PTR [edi+9168]
  023fa	66 3b c5	 cmp	 ax, bp
  023fd	7c 19		 jl	 SHORT $L75045
  023ff	8b 4b 18	 mov	 ecx, DWORD PTR [ebx+24]
  02402	66 3b 81 06 15
	00 00		 cmp	 ax, WORD PTR [ecx+5382]
  02409	7d 0d		 jge	 SHORT $L75045
  0240b	0f bf d0	 movsx	 edx, ax
  0240e	0f bf 8c 51 ec
	03 00 00	 movsx	 ecx, WORD PTR [ecx+edx*2+1004]
  02416	eb 05		 jmp	 SHORT $L75046
$L75045:
  02418	b9 00 1e 00 00	 mov	 ecx, 7680		; 00001e00H
$L75046:
  0241d	0f bf c0	 movsx	 eax, ax
  02420	c1 f9 08	 sar	 ecx, 8
  02423	50		 push	 eax
  02424	53		 push	 ebx
  02425	ff 14 8d 00 00
	00 00		 call	 DWORD PTR _all_gettar[ecx*4]
  0242c	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  0242f	83 c4 08	 add	 esp, 8
  02432	66 89 01	 mov	 WORD PTR [ecx], ax

; 616  : 			pDphsettar->np->dipcum = 0;        /* Diph time since phone begin      */

  02435	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  02438	66 89 6a 06	 mov	 WORD PTR [edx+6], bp

; 617  : 
; 618  : #ifndef FRENCH
; 619  : 		if (pDphsettar->np->tarcur < -1)

  0243c	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  0243f	66 8b 01	 mov	 ax, WORD PTR [ecx]
  02442	66 3d ff ff	 cmp	 ax, -1
  02446	7d 28		 jge	 SHORT $L74455

; 620  : 		{   /* -pointer: diphthongized vowel    */
; 621  : 
; 622  : 			make_dip (pDph_t, (short)(-pDphsettar->np->tarcur), inhdr_frames, pDph_t->shrink,  // NAL warning removal
; 623  : 					  struccur, &ndips);    /* Cur seg diphthongized, generate  */

  02448	8b 54 24 18	 mov	 edx, DWORD PTR _struccur$[esp+56]
  0244c	8d 4c 24 3c	 lea	 ecx, DWORD PTR _ndips$[esp+52]
  02450	51		 push	 ecx
  02451	66 8b 8f e4 2b
	00 00		 mov	 cx, WORD PTR [edi+11236]
  02458	52		 push	 edx
  02459	8b 54 24 3c	 mov	 edx, DWORD PTR _inhdr_frames$[esp+64]
  0245d	51		 push	 ecx
  0245e	52		 push	 edx
  0245f	f7 d8		 neg	 eax
  02461	50		 push	 eax
  02462	57		 push	 edi
  02463	e8 00 00 00 00	 call	 _make_dip
  02468	83 c4 18	 add	 esp, 24			; 00000018H

; 624  : 			/* several straight lines (this    */
; 625  : 		}
; 626  : 		/* routine also sets pDphsettar->np->tarend)   */
; 627  : 		else

  0246b	e9 81 00 00 00	 jmp	 $L74457
$L74455:

; 628  : #endif
; 629  : 		{
; 630  : 			pDphsettar->np->deldip = 0;             /* Set dipthong increment to zero    */

  02470	66 89 69 04	 mov	 WORD PTR [ecx+4], bp

; 631  : 			pDphsettar->np->durlin = pDph_t->durfon;        /* and dipth dur to phone duration   */

  02474	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  02477	66 8b 8f 04 15
	00 00		 mov	 cx, WORD PTR [edi+5380]
  0247e	66 89 48 02	 mov	 WORD PTR [eax+2], cx

; 632  : 
; 633  : 			/* 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 */
; 634  : 			/* General coartic rule for curr sonor cons: prev. & next phones      */
; 635  : 			/* modify formant freqs: 5% tarlas, 5% tarnex, 90% tarcur           */
; 636  : 			/* (only effective for -diph -obst because of p_ locus[] tables)            */
; 637  : 			/* Special case for /r/ and /rr/ in Spanish                           */
; 638  : 			/* 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 */
; 639  : 			if (pDphsettar->par_type IS_FORM_FREQ)

  02482	8a 46 14	 mov	 al, BYTE PTR [esi+20]
  02485	3c 03		 cmp	 al, 3
  02487	75 5e		 jne	 SHORT $L74458

; 640  : 			{
; 641  : 				pDphsettar->gencoartic = N10PRCNT;

  02489	66 c7 46 0c 66
	06		 mov	 WORD PTR [esi+12], 1638	; 00000666H

; 642  : #ifdef GERMAN 
; 643  : 				phontemp = 0;
; 644  : 				/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 645  : 				/* special german coarticulation rules              */
; 646  : 				/* /R/-coarticulation rules before vowel                */
; 647  : 				/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 648  : 				if ((pDphsettar->phcur == GRP_R) && (pholas != GRP_EX) &&
; 649  : 					((fealas & FVOWEL) IS_PLUS))
; 650  : 				{
; 651  : 					pDphsettar->gencoartic = N20PRCNT;
; 652  : 					phontemp = GRP_R;
; 653  : 
; 654  : 				}
; 655  : 				/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 656  : 				/* special rule for /@r/ suffix                 */
; 657  : 				/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 658  : 				else if ((pDphsettar->phcur == GRP_EX) && (pDphsettar->phonex == GRP_R))
; 659  : 				{
; 660  : 					if (pDphsettar->np == &PF1)
; 661  : 					{
; 662  : 						pDphsettar->np->tarcur = 520;
; 663  : 					}
; 664  : 
; 665  : 					if (pDphsettar->np == &PF2)
; 666  : 					{
; 667  : 						pDphsettar->np->tarcur = 1300;
; 668  : 					}
; 669  : 					pDphsettar->gencoartic = 0;
; 670  : 					phontemp = GRP_R;
; 671  : 				}
; 672  : 				/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 673  : 				/* no modification of /r/ after /@/             */
; 674  : 				/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 675  : 				else if ((pholas == GRP_EX) && (pDphsettar->phcur == GRP_R))
; 676  : 				{
; 677  : 					pDphsettar->gencoartic = 0;
; 678  : 					phontemp = GRP_R;
; 679  : 				}
; 680  : 
; 681  : #ifdef LRULES
; 682  : 				/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 683  : 				/* special german coarticulation rules              */
; 684  : 				/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 685  : 				else if (pDphsettar->phcur == GRP_L)
; 686  : 				{
; 687  : 					if (((feanex & FVOWEL) IS_PLUS) &&
; 688  : 						((begtyp(pDphsettar->phonex) != 2) &&
; 689  : 						 (begtyp(pDphsettar->phonex) != 6) &&
; 690  : 						 !((endtyp(pholas) != 1) &&
; 691  : 						   (begtyp(pDphsettar->phonex) == 1))))
; 692  : 					{
; 693  : 						if (pDphsettar->np == &PF1)
; 694  : 						{
; 695  : 							pDphsettar->gencoartic = N30PRCNT;
; 696  : 						}
; 697  : 						else
; 698  : 						{
; 699  : 							pDphsettar->gencoartic = N50PRCNT;
; 700  : 						}
; 701  : 						phontemp = GRP_L;
; 702  : 					}
; 703  : 					else if ((endtyp(pholas) == 1) ||
; 704  : 							 ((endtyp(pholas) == 2) ||
; 705  : 							  (endtyp(pholas) == 6)))
; 706  : 					{
; 707  : 						if (pDphsettar->np == &PF1)
; 708  : 						{
; 709  : 							pDphsettar->gencoartic = N40PRCNT;
; 710  : 						}
; 711  : 						else
; 712  : 						{
; 713  : 							pDphsettar->gencoartic = N50PRCNT;
; 714  : 						}
; 715  : 						phontemp = GRP_R;
; 716  : 					}
; 717  : 					/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 718  : 					/* make 'L' audible in 'schwa'-'L'-'nasal' cluster           */
; 719  : 					/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 720  : 					else if ((pholas == GRP_EX) &&
; 721  : 							 ((phone_feature( pDph_t,pDphsettar->phonex) & FNASAL) IS_PLUS))
; 722  : 					{
; 723  : 						if (pDphsettar->np == &PF1)
; 724  : 						{
; 725  : 							pDphsettar->np->tarnex -= 0;
; 726  : 						}
; 727  : 						else if (pDphsettar->np == &PF2)
; 728  : 						{
; 729  : 							pDphsettar->np->tarnex += 200;
; 730  : 						}
; 731  : 						pDphsettar->gencoartic = 0;
; 732  : 						phontemp = GRP_L;
; 733  : 					}
; 734  : 				}
; 735  : #endif //LRULES
; 736  : 				/* eab 4/2/7/98 f2 needs some dropping in these contexts*/
; 737  : 				if (pDphsettar->phcur == GRP_RR && (pDphsettar->phonex == GRP_U))
; 738  : 						if (pDphsettar->np == &PF2)
; 739  : 						{
; 740  : 							pDphsettar->np->tarcur -= 300;
; 741  : 						}
; 742  : 					
; 743  : #ifdef RRULES
; 744  : 				/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 745  : 				/* special coarticulation rules for uvular R (RR)           */
; 746  : 				/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 747  : 				else if ((pDphsettar->phcur == GRP_RR))
; 748  : 				{
; 749  : 					pDphsettar->gencoartic = N20PRCNT;
; 750  : 					phontemp = 0;
; 751  : 					if (begtyp(pDphsettar->phonex) == 1)
; 752  : 					{
; 753  : 						pDphsettar->gencoartic += N10PRCNT;
; 754  : 						phontemp = GRP_L;
; 755  : 					}
; 756  : 					
; 757  : 					if (endtyp[pDphsettar->phonex] == 1)
; 758  : 					{
; 759  : 						pDphsettar->gencoartic += N30PRCNT;
; 760  : 						phontemp = GRP_R;
; 761  : 					}
; 762  : 
; 763  : 				}
; 764  : #endif //RRULES
; 765  : 				else
; 766  : 				{                                          /* standard dt3 treatment */
; 767  : #endif  /* #ifdef GERMAN */
; 768  : #ifndef FRENCH
; 769  : 				if ((struccur & FSTRESS) IS_MINUS)

  0248f	8a 44 24 18	 mov	 al, BYTE PTR _struccur$[esp+56]
  02493	a8 03		 test	 al, 3
  02495	75 16		 jne	 SHORT $L74460

; 770  : 				{
; 771  : 					/* Increased coarticulation, especially F2, if unstressed */
; 772  : 					pDphsettar->gencoartic = N15PRCNT;
; 773  : 					if (pDphsettar->np == &PF2)

  02497	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  0249a	8d 47 48	 lea	 eax, DWORD PTR [edi+72]
  0249d	3b c8		 cmp	 ecx, eax
  0249f	66 c7 46 0c 99
	09		 mov	 WORD PTR [esi+12], 2457	; 00000999H
  024a5	75 06		 jne	 SHORT $L74460

; 774  : 					{
; 775  : 						pDphsettar->gencoartic = N25PRCNT;

  024a7	66 c7 46 0c 00
	10		 mov	 WORD PTR [esi+12], 4096	; 00001000H
$L74460:

; 776  : 					}
; 777  : 				} 
; 778  : #endif
; 779  : #ifdef GERMAN
; 780  : 				}
; 781  : 				/* end of else, standard dt3 treatment */
; 782  : 				if (pDphsettar->np->tarnex <= 0)
; 783  : 				{
; 784  : 					pDph_t->arg1 = pDphsettar->np->tarlas - pDphsettar->np->tarcur;
; 785  : 				}
; 786  : 				/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 787  : 				/* german R-coarticulation only with previous phonemes      */
; 788  : 				/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 789  : 				else if (phontemp == GRP_R)
; 790  : 				{
; 791  : 					pDph_t->arg1 = pDphsettar->np->tarlas - pDphsettar->np->tarcur;
; 792  : 				}
; 793  : 
; 794  : #ifdef LRULES
; 795  : 				/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 796  : 				/* most german L-coarticulation only with next phonemes     */
; 797  : 				/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 798  : 				else if (phontemp == GRP_L)
; 799  : 				{
; 800  : 					pDph_t->arg1 = pDphsettar->np->tarnex - pDphsettar->np->tarcur;
; 801  : 				}
; 802  : #endif // LRULES
; 803  : 				else
; 804  : 				{
; 805  : #endif /* #ifdef GERMAN */                              
; 806  : 				pDph_t->arg1 = ((pDphsettar->np->tarlas + pDphsettar->np->tarnex) >> 1) - pDphsettar->np->tarcur;

  024ad	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  024b0	0f bf 50 18	 movsx	 edx, WORD PTR [eax+24]
  024b4	0f bf 48 16	 movsx	 ecx, WORD PTR [eax+22]
  024b8	03 d1		 add	 edx, ecx
  024ba	d1 fa		 sar	 edx, 1
  024bc	66 2b 10	 sub	 dx, WORD PTR [eax]
  024bf	66 89 97 20 15
	00 00		 mov	 WORD PTR [edi+5408], dx

; 807  : #ifdef GERMAN
; 808  : 				}
; 809  : #endif //GERMAN
; 810  : 				pDph_t->arg2 = pDphsettar->gencoartic;

  024c6	66 8b 46 0c	 mov	 ax, WORD PTR [esi+12]
  024ca	66 89 87 22 15
	00 00		 mov	 WORD PTR [edi+5410], ax

; 811  : 				pDphsettar->np->tarcur += mlsh1 (pDph_t->arg1, pDph_t->arg2);

  024d1	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  024d4	0f bf d0	 movsx	 edx, ax
  024d7	0f bf 87 20 15
	00 00		 movsx	 eax, WORD PTR [edi+5408]
  024de	0f af d0	 imul	 edx, eax
  024e1	c1 fa 0e	 sar	 edx, 14			; 0000000eH
  024e4	66 01 11	 add	 WORD PTR [ecx], dx
$L74458:

; 812  : 			}
; 813  : 			pDphsettar->np->tarend = pDphsettar->np->tarcur;        /* Tar at end of cur phone */

  024e7	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  024ea	66 8b 08	 mov	 cx, WORD PTR [eax]
  024ed	66 89 48 1a	 mov	 WORD PTR [eax+26], cx
$L74457:

; 814  : 		}
; 815  : 		/* end of 'else' begun in rule 3 */
; 816  : 
; 817  : 		/* 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 */
; 818  : 		/* Compute (approx.) general coartic of tarnex with tarend         */
; 819  : 		/* THIS IS BAD, FIX IT IF POSSIBLE                                 */
; 820  : 		/* 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 */
; 821  : 		if (pDphsettar->par_type IS_FORM_FREQ)

  024f1	80 7e 14 03	 cmp	 BYTE PTR [esi+20], 3
  024f5	75 32		 jne	 SHORT $L74461

; 822  : 		{
; 823  : 			pDph_t->arg2 = N10PRCNT;

  024f7	66 c7 87 22 15
	00 00 66 06	 mov	 WORD PTR [edi+5410], 1638 ; 00000666H

; 824  : #ifdef GERMAN
; 825  : 			phontemp = 0;
; 826  : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 827  : 			/* special german coarticulation rules             */
; 828  : 			/* /R/-coarticulation rules after vowel                */
; 829  : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 830  : 			if ((pDphsettar->phonex == GRP_R) && (pDphsettar->phcur != GRP_EX) &&
; 831  : 				((feacur & FVOWEL) IS_PLUS))
; 832  : 			{
; 833  : 				pDph_t->arg2 = N20PRCNT;
; 834  : 				phontemp = GRP_R;
; 835  : 
; 836  : 			}
; 837  : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 838  : 			/* special rule for '@r' suffix                    */
; 839  : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 840  : 			else if ((pDphsettar->phcur == GRP_EX) && (pDphsettar->phonex == GRP_R))
; 841  : 			{
; 842  : 				pDph_t->arg2 = 0;
; 843  : 				phontemp = GRP_R;
; 844  : 
; 845  : 			}
; 846  : 
; 847  : #ifdef LRULES
; 848  : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 849  : 			/* special german coarticulation rules, if next phoneme is 'L' */
; 850  : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 851  : 			else if (pDphsettar->phonex == GRP_L)
; 852  : 			{
; 853  : 				if (((phone_feature( pDph_t,phonp2) & FVOWEL) IS_PLUS) &&
; 854  : 					((begtyp(phonp2) != 2) &&
; 855  : 					 (begtyp(phonp2) != 6) &&
; 856  : 					 !((endtyp(pDphsettar->phcur) != 1) &&
; 857  : 					   (begtyp(phonp2) == 1))))
; 858  : 				{
; 859  : 					if (pDphsettar->np == &PF1)
; 860  : 					{
; 861  : 						pDph_t->arg2 = N30PRCNT;
; 862  : 					}
; 863  : 					else
; 864  : 					{
; 865  : 						pDph_t->arg2 = N50PRCNT;
; 866  : 					}
; 867  : 					phontemp = GRP_L;
; 868  : 				}
; 869  : 				else if ((endtyp(pDphsettar->phcur) == 1) ||
; 870  : 						 ((endtyp(pDphsettar->phcur) == 2) ||
; 871  : 						  (endtyp(pDphsettar->phcur) == 6)))
; 872  : 				{
; 873  : 					if (pDphsettar->np == &PF1)
; 874  : 					{
; 875  : 						pDph_t->arg2 = N20PRCNT;        /* n40prcnt, eab 5/95  */
; 876  : 					}
; 877  : 					else
; 878  : 					{
; 879  : 						pDph_t->arg2 = N20PRCNT;        /* n50prcnt, eab 5/95 */
; 880  : 					}
; 881  : 					phontemp = GRP_R;
; 882  : 				}
; 883  : 				/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 884  : 				/* make 'L' audible in 'schwa'-'L'-'nasal' cluster          */
; 885  : 				/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 886  : 				else if ((pDphsettar->phcur == GRP_EX) &&
; 887  : 						 ((phone_feature( pDph_t,phonp2) & FNASAL) IS_PLUS))
; 888  : 				{
; 889  : 					if (pDphsettar->np == &PF1)
; 890  : 					{
; 891  : 						pDphsettar->np->tarnex -= 0;
; 892  : 					}
; 893  : 					else if (pDphsettar->np == &PF2)
; 894  : 					{
; 895  : 						pDphsettar->np->tarnex += 200;
; 896  : 					}
; 897  : 					pDph_t->arg2 = 0;
; 898  : 					phontemp = GRP_L;
; 899  : 				}
; 900  : 			}
; 901  : #endif //LRULES
; 902  : 
; 903  : #ifdef RRULES
; 904  : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 905  : 			/* special coarticulation rules for uvular R (RR)          */
; 906  : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 907  : 			else if ((pDphsettar->phonex == GRP_RR))
; 908  : 			{
; 909  : 				pDph_t->arg2 = N20PRCNT;
; 910  : 				phontemp = 0;
; 911  : 				if (begtyp(phonp2) == 1)
; 912  : 				{
; 913  : 					pDph_t->arg2 += N10PRCNT;
; 914  : 					phontemp = GRP_L;
; 915  : 				}
; 916  : 				if (endtyp(phonp2) == 1)
; 917  : 				{
; 918  : 					pDph_t->arg2 += N30PRCNT;
; 919  : 					phontemp = GRP_R;
; 920  : 				}
; 921  : 			}
; 922  : #endif //RRULES
; 923  : 			else
; 924  : 			{                                                  /* standard dt3 treatment */
; 925  : 				if ((struccur & FSTRESS) IS_MINUS)
; 926  : 				{
; 927  : 					/* Increased coarticulation, especially F2, if unstressed */
; 928  : 					pDph_t->arg2 = N15PRCNT;
; 929  : 					if (pDphsettar->np == &PF2)
; 930  : 					{
; 931  : 						pDph_t->arg2 = N25PRCNT;
; 932  : 					}
; 933  : 				}
; 934  : 			}
; 935  : 
; 936  : 			/* end of else, standard dt3 treatment */
; 937  : 			if (pDphsettar->np->tarnex <= 0)
; 938  : 			{
; 939  : 				pDph_t->arg1 = pDphsettar->np->tarend;
; 940  : 			}
; 941  : 
; 942  : #ifdef LRULES
; 943  : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 944  : 			/* some german L-coarticulation rules with second next phonemes    */
; 945  : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 946  : 			else if (phontemp == GRP_L)
; 947  : 			{
; 948  : 				pDph_t->arg1 = pDphsettar->np->tarend - getbegtar (phTTS,pDph_t->nphone + 2);
; 949  : 				/* Calls gettar() */
; 950  : 			}
; 951  : #endif //LRULES
; 952  : 			else
; 953  : 			{
; 954  : #endif /* #ifdef GERMAN */
; 955  : 				pDph_t->arg1 = pDphsettar->np->tarend - pDphsettar->np->tarnex;

  02500	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  02503	66 8b 41 1a	 mov	 ax, WORD PTR [ecx+26]
  02507	66 2b 41 16	 sub	 ax, WORD PTR [ecx+22]
  0250b	66 89 87 20 15
	00 00		 mov	 WORD PTR [edi+5408], ax

; 956  : #ifdef GERMAN
; 957  : 		}
; 958  : #endif //GERMAN
; 959  : 			pDphsettar->np->tarnex += mlsh1 (pDph_t->arg1, pDph_t->arg2);

  02512	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  02515	0f bf d0	 movsx	 edx, ax
  02518	0f bf 87 22 15
	00 00		 movsx	 eax, WORD PTR [edi+5410]
  0251f	0f af d0	 imul	 edx, eax
  02522	c1 fa 0e	 sar	 edx, 14			; 0000000eH
  02525	66 01 51 16	 add	 WORD PTR [ecx+22], dx
$L74461:

; 960  : 		}
; 961  : //		WINprintf("pholas=%d  pDphsettar->phcur=%d  pDphsettar->phonex=%d \n",
; 962  : //	  pholas, pDphsettar->phcur, pDphsettar->phonex); 
; 963  : 		
; 964  : 
; 965  : 		/* 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 */
; 966  : 		/* Smooth forward from beginning of current phone            */
; 967  : 		/* Default bouval is halfway, half of transition duration is 30 ms */
; 968  : 		/* 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 */
; 969  : 
; 970  : 		pDphsettar->bouval = (pDphsettar->np->tarlas + pDphsettar->np->tarcur) >> 1;

  02529	8b 46 10	 mov	 eax, DWORD PTR [esi+16]

; 971  : 		pDphsettar->durtran = NF30MS;
; 972  : 		/* 
; 973  : 		 * printf("pDph_t->shrif %d, pholas %d, fealas %d, feacur %d, struclas %d, struccur %d, 
; 974  : 		 * feanex %d\n",pDph_t->shrif, pholas,fealas, feacur, struclas, struccur,feanex);
; 975  : 		 */
; 976  : 		tmp = (pDphsettar->phcur & PFONT);

  0252c	66 8b 6e 18	 mov	 bp, WORD PTR [esi+24]
  02530	81 e5 00 1f 00
	00		 and	 ebp, 7936		; 00001f00H
  02536	0f bf 48 18	 movsx	 ecx, WORD PTR [eax+24]
  0253a	0f bf 10	 movsx	 edx, WORD PTR [eax]
  0253d	03 ca		 add	 ecx, edx
  0253f	66 c7 46 06 05
	00		 mov	 WORD PTR [esi+6], 5
  02545	d1 f9		 sar	 ecx, 1

; 977  : 		
; 978  : 			
; 979  : 		if(tmp == PFUSA<<PSFONT)

  02547	66 81 fd 00 1e	 cmp	 bp, 7680		; 00001e00H
  0254c	66 89 0e	 mov	 WORD PTR [esi], cx

; 980  : 		{
; 981  : 			us_forw_smooth_rules (phTTS, pDph_t->shrif, pholas,
; 982  : 						   fealas, feacur, struclas, struccur,feanex);
; 983  : 			
; 984  : 		}
; 985  : 		else if(tmp == PFUK<<PSFONT)

  0254f	0f 84 12 01 00
	00		 je	 $L74472
  02555	66 81 fd 00 1d	 cmp	 bp, 7424		; 00001d00H
  0255a	75 31		 jne	 SHORT $L74464

; 986  : 		{
; 987  : 			uk_forw_smooth_rules (phTTS, pDph_t->shrif, pholas,
; 988  : 						   fealas, feacur, struclas, struccur,feanex);

  0255c	8b 4c 24 10	 mov	 ecx, DWORD PTR _feanex$[esp+56]
  02560	8b 54 24 18	 mov	 edx, DWORD PTR _struccur$[esp+56]
  02564	8b 44 24 1c	 mov	 eax, DWORD PTR _struclas$[esp+56]
  02568	51		 push	 ecx
  02569	8b 4c 24 18	 mov	 ecx, DWORD PTR _feacur$[esp+60]
  0256d	52		 push	 edx
  0256e	8b 54 24 2c	 mov	 edx, DWORD PTR _fealas$[esp+64]
  02572	50		 push	 eax
  02573	8b 44 24 2c	 mov	 eax, DWORD PTR _pholas$[esp+68]
  02577	51		 push	 ecx
  02578	66 8b 8f e6 2b
	00 00		 mov	 cx, WORD PTR [edi+11238]
  0257f	52		 push	 edx
  02580	50		 push	 eax
  02581	51		 push	 ecx
  02582	53		 push	 ebx
  02583	e8 00 00 00 00	 call	 _uk_forw_smooth_rules

; 989  : 		}
; 990  : 		else if(tmp == PFGR<<PSFONT)

  02588	e9 06 01 00 00	 jmp	 $L75051
$L74464:
  0258d	66 81 fd 00 1c	 cmp	 bp, 7168		; 00001c00H
  02592	75 31		 jne	 SHORT $L74466

; 991  : 		{
; 992  : 			gr_forw_smooth_rules (phTTS, pDph_t->shrif, pholas,
; 993  : 						   fealas, feacur, struclas, struccur,feanex); 

  02594	8b 54 24 10	 mov	 edx, DWORD PTR _feanex$[esp+56]
  02598	8b 44 24 18	 mov	 eax, DWORD PTR _struccur$[esp+56]
  0259c	8b 4c 24 1c	 mov	 ecx, DWORD PTR _struclas$[esp+56]
  025a0	52		 push	 edx
  025a1	8b 54 24 18	 mov	 edx, DWORD PTR _feacur$[esp+60]
  025a5	50		 push	 eax
  025a6	8b 44 24 2c	 mov	 eax, DWORD PTR _fealas$[esp+64]
  025aa	51		 push	 ecx
  025ab	8b 4c 24 2c	 mov	 ecx, DWORD PTR _pholas$[esp+68]
  025af	52		 push	 edx
  025b0	66 8b 97 e6 2b
	00 00		 mov	 dx, WORD PTR [edi+11238]
  025b7	50		 push	 eax
  025b8	51		 push	 ecx
  025b9	52		 push	 edx
  025ba	53		 push	 ebx
  025bb	e8 00 00 00 00	 call	 _gr_forw_smooth_rules

; 994  : 		}
; 995  : 		else if(tmp == PFLA<<PSFONT)

  025c0	e9 ce 00 00 00	 jmp	 $L75051
$L74466:
  025c5	66 81 fd 00 1a	 cmp	 bp, 6656		; 00001a00H
  025ca	75 31		 jne	 SHORT $L74468

; 996  : 		{
; 997  : 			la_forw_smooth_rules (phTTS, pDph_t->shrif, pholas,
; 998  : 						   fealas, feacur, struclas, struccur,feanex);

  025cc	8b 44 24 10	 mov	 eax, DWORD PTR _feanex$[esp+56]
  025d0	8b 4c 24 18	 mov	 ecx, DWORD PTR _struccur$[esp+56]
  025d4	8b 54 24 1c	 mov	 edx, DWORD PTR _struclas$[esp+56]
  025d8	50		 push	 eax
  025d9	8b 44 24 18	 mov	 eax, DWORD PTR _feacur$[esp+60]
  025dd	51		 push	 ecx
  025de	8b 4c 24 2c	 mov	 ecx, DWORD PTR _fealas$[esp+64]
  025e2	52		 push	 edx
  025e3	8b 54 24 2c	 mov	 edx, DWORD PTR _pholas$[esp+68]
  025e7	50		 push	 eax
  025e8	66 8b 87 e6 2b
	00 00		 mov	 ax, WORD PTR [edi+11238]
  025ef	51		 push	 ecx
  025f0	52		 push	 edx
  025f1	50		 push	 eax
  025f2	53		 push	 ebx
  025f3	e8 00 00 00 00	 call	 _la_forw_smooth_rules

; 999  : 		}
; 1000 : 		else if(tmp == PFSP<<PSFONT)

  025f8	e9 96 00 00 00	 jmp	 $L75051
$L74468:
  025fd	66 81 fd 00 1b	 cmp	 bp, 6912		; 00001b00H
  02602	75 2e		 jne	 SHORT $L74470

; 1001 : 		{
; 1002 : 			sp_forw_smooth_rules (phTTS, pDph_t->shrif, pholas,
; 1003 : 						   fealas, feacur, struclas, struccur,feanex);

  02604	8b 4c 24 10	 mov	 ecx, DWORD PTR _feanex$[esp+56]
  02608	8b 54 24 18	 mov	 edx, DWORD PTR _struccur$[esp+56]
  0260c	8b 44 24 1c	 mov	 eax, DWORD PTR _struclas$[esp+56]
  02610	51		 push	 ecx
  02611	8b 4c 24 18	 mov	 ecx, DWORD PTR _feacur$[esp+60]
  02615	52		 push	 edx
  02616	8b 54 24 2c	 mov	 edx, DWORD PTR _fealas$[esp+64]
  0261a	50		 push	 eax
  0261b	8b 44 24 2c	 mov	 eax, DWORD PTR _pholas$[esp+68]
  0261f	51		 push	 ecx
  02620	66 8b 8f e6 2b
	00 00		 mov	 cx, WORD PTR [edi+11238]
  02627	52		 push	 edx
  02628	50		 push	 eax
  02629	51		 push	 ecx
  0262a	53		 push	 ebx
  0262b	e8 00 00 00 00	 call	 _sp_forw_smooth_rules

; 1004 : 		}
; 1005 : 		else if(tmp == PFFR<<PSFONT)

  02630	eb 61		 jmp	 SHORT $L75051
$L74470:
  02632	66 81 fd 00 19	 cmp	 bp, 6400		; 00001900H
  02637	75 2e		 jne	 SHORT $L74472

; 1006 : 		{
; 1007 : 			fr_forw_smooth_rules (phTTS, pDph_t->shrif, pholas,
; 1008 : 						   fealas, feacur, struclas, struccur,feanex);

  02639	8b 54 24 10	 mov	 edx, DWORD PTR _feanex$[esp+56]
  0263d	8b 44 24 18	 mov	 eax, DWORD PTR _struccur$[esp+56]
  02641	8b 4c 24 1c	 mov	 ecx, DWORD PTR _struclas$[esp+56]
  02645	52		 push	 edx
  02646	8b 54 24 18	 mov	 edx, DWORD PTR _feacur$[esp+60]
  0264a	50		 push	 eax
  0264b	8b 44 24 2c	 mov	 eax, DWORD PTR _fealas$[esp+64]
  0264f	51		 push	 ecx
  02650	8b 4c 24 2c	 mov	 ecx, DWORD PTR _pholas$[esp+68]
  02654	52		 push	 edx
  02655	66 8b 97 e6 2b
	00 00		 mov	 dx, WORD PTR [edi+11238]
  0265c	50		 push	 eax
  0265d	51		 push	 ecx
  0265e	52		 push	 edx
  0265f	53		 push	 ebx
  02660	e8 00 00 00 00	 call	 _fr_forw_smooth_rules

; 1009 : 		}
; 1010 : 		else 

  02665	eb 2c		 jmp	 SHORT $L75051
$L74472:

; 1011 : 		{
; 1012 : #ifdef _DEBUG
; 1013 : 		printf("OH MY GOD! You gave me ecoli, you dirty rat!\n");
; 1014 : #endif
; 1015 : 		us_forw_smooth_rules (phTTS, pDph_t->shrif, pholas,
; 1016 : 						   fealas, feacur, struclas, struccur,feanex);

  02667	8b 44 24 10	 mov	 eax, DWORD PTR _feanex$[esp+56]
  0266b	8b 4c 24 18	 mov	 ecx, DWORD PTR _struccur$[esp+56]
  0266f	8b 54 24 1c	 mov	 edx, DWORD PTR _struclas$[esp+56]
  02673	50		 push	 eax
  02674	8b 44 24 18	 mov	 eax, DWORD PTR _feacur$[esp+60]
  02678	51		 push	 ecx
  02679	8b 4c 24 2c	 mov	 ecx, DWORD PTR _fealas$[esp+64]
  0267d	52		 push	 edx
  0267e	8b 54 24 2c	 mov	 edx, DWORD PTR _pholas$[esp+68]
  02682	50		 push	 eax
  02683	66 8b 87 e6 2b
	00 00		 mov	 ax, WORD PTR [edi+11238]
  0268a	51		 push	 ecx
  0268b	52		 push	 edx
  0268c	50		 push	 eax
  0268d	53		 push	 ebx
  0268e	e8 00 00 00 00	 call	 _us_forw_smooth_rules
$L75051:

; 1017 : 		}
; 1018 : 
; 1019 : 		/* Convert bouval and pDphsettar->durtran into params used directly by phdraw() */
; 1020 : 		pDphsettar->np->ftran = 0;

  02693	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  02696	33 c9		 xor	 ecx, ecx
  02698	83 c4 20	 add	 esp, 32			; 00000020H
  0269b	66 89 4a 08	 mov	 WORD PTR [edx+8], cx

; 1021 : #ifdef FRENCH
; 1022 : 		pDphsettar->np->dftran = 0;
; 1023 : #endif
; 1024 : 		if (pDphsettar->durtran > 0)

  0269f	66 39 4e 06	 cmp	 WORD PTR [esi+6], cx
  026a3	7e 5d		 jle	 SHORT $L74475

; 1025 : 		{
; 1026 : 			/* Incremental change per frame                        */
; 1027 : 			/* (shift left 3 bits to avoid roundoff accumulation)  */
; 1028 : 			pDphsettar->np->ftran = (pDphsettar->bouval - pDphsettar->np->tarcur) << 3;

  026a5	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  026a8	66 8b 16	 mov	 dx, WORD PTR [esi]
  026ab	66 2b 10	 sub	 dx, WORD PTR [eax]
  026ae	c1 e2 03	 shl	 edx, 3
  026b1	66 89 50 08	 mov	 WORD PTR [eax+8], dx

; 1029 : 			if (pDphsettar->np->ftran != 0)

  026b5	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  026b8	66 8b 40 08	 mov	 ax, WORD PTR [eax+8]
  026bc	66 3b c1	 cmp	 ax, cx
  026bf	74 41		 je	 SHORT $L74475

; 1030 : 			{
; 1031 : 				pDph_t->arg1 = pDphsettar->np->ftran;

  026c1	66 89 87 20 15
	00 00		 mov	 WORD PTR [edi+5408], ax

; 1032 : 				pDph_t->arg2 = divtab[pDphsettar->durtran];

  026c8	0f bf 56 06	 movsx	 edx, WORD PTR [esi+6]
  026cc	66 8b 04 55 00
	00 00 00	 mov	 ax, WORD PTR _divtab[edx*2]

; 1033 : 				pDphsettar->np->dftran = mlsh1 (pDph_t->arg1, pDph_t->arg2);

  026d4	0f bf 97 20 15
	00 00		 movsx	 edx, WORD PTR [edi+5408]
  026db	66 89 87 22 15
	00 00		 mov	 WORD PTR [edi+5410], ax
  026e2	0f bf c0	 movsx	 eax, ax
  026e5	0f af c2	 imul	 eax, edx
  026e8	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  026eb	c1 f8 0e	 sar	 eax, 14			; 0000000eH
  026ee	66 89 42 0a	 mov	 WORD PTR [edx+10], ax

; 1034 : 				pDphsettar->np->ftran = pDphsettar->np->dftran * pDphsettar->durtran;

  026f2	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  026f5	66 8b 50 0a	 mov	 dx, WORD PTR [eax+10]
  026f9	66 0f af 56 06	 imul	 dx, WORD PTR [esi+6]
  026fe	66 89 50 08	 mov	 WORD PTR [eax+8], dx
$L74475:

; 1035 : 			}
; 1036 : 
; 1037 : #if 0 // for FRENCH
; 1038 : 			if (pDphsettar->np == &PF2) 
; 1039 : 			{
; 1040 :         		printf ("ph_setar.c phsettar() phcur %d (%x) phprint (pDphsettar->phcur) %s\n",
; 1041 :             	pDphsettar->phcur, pDphsettar->phcur, phprint (pDphsettar->phcur));
; 1042 :         		printf ("  pDphsettar->bouval %d, pDphsettar->np->tarcur %d, pDphsettar->durtran %d\n",
; 1043 :                 pDphsettar->bouval, pDphsettar->np->tarcur, pDphsettar->durtran);
; 1044 :         		printf ("pDphsettar->np->ftran %d \n", pDphsettar->np->ftran>>3);
; 1045 : 			}
; 1046 : #endif
; 1047 : 		}
; 1048 : 		//debugforward (" Unknown rule must have been executed", pDphsettar->np);
; 1049 : 
; 1050 : 		/* Slowish vowel-vowel formant motions across consonant modeled by   */
; 1051 : 		/* a separate transition increment and duration, so far only for F2 */
; 1052 : 		/* (vvbouval and vvdurtran set in routine forw_smooth_rules() which */
; 1053 : 		/* calls setloc() which calls vv_coartic_across_c())                  */
; 1054 :     if (pDphsettar->np == &PF2)

  02702	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  02705	8d 47 48	 lea	 eax, DWORD PTR [edi+72]
  02708	3b d0		 cmp	 edx, eax
  0270a	75 79		 jne	 SHORT $L74476

; 1055 :     {
; 1056 : #if 0 // for FRENCH
; 1057 :         printf ("ph_setar.c  phsettar() PF2  bouval %d, durtran %d, tarcur %d\n", 
; 1058 :                  pDphsettar->bouval, pDphsettar->durtran, pDphsettar->np->tarcur);
; 1059 : #endif
; 1060 : 
; 1061 : 			pDph_t->fvvtran = 0;
; 1062 : 			pDph_t->dfvvtran = 0;
; 1063 : 			/* Truncate tran dur if exceeds duration of current phone */
; 1064 : 			if (pDphsettar->vvdurtran > pDph_t->durfon)

  0270c	66 8b 87 04 15
	00 00		 mov	 ax, WORD PTR [edi+5380]
  02713	66 89 8f 84 03
	00 00		 mov	 WORD PTR [edi+900], cx
  0271a	66 89 8f 8a 03
	00 00		 mov	 WORD PTR [edi+906], cx
  02721	66 39 46 08	 cmp	 WORD PTR [esi+8], ax
  02725	7e 04		 jle	 SHORT $L74477

; 1065 : 			{	
; 1066 : 				pDphsettar->vvdurtran = pDph_t->durfon;

  02727	66 89 46 08	 mov	 WORD PTR [esi+8], ax
$L74477:

; 1067 : 			}
; 1068 : 
; 1069 : 			if ((pDphsettar->vvdurtran > 0) && (pDphsettar->vvbouval != 0))

  0272b	66 39 4e 08	 cmp	 WORD PTR [esi+8], cx
  0272f	7e 4c		 jle	 SHORT $L74478
  02731	66 8b 46 04	 mov	 ax, WORD PTR [esi+4]
  02735	66 3b c1	 cmp	 ax, cx
  02738	74 43		 je	 SHORT $L74478

; 1070 : 			{
; 1071 : 				/* Shift left 3 bits to avoid roundoff accumulation */
; 1072 : 				pDph_t->arg1 = pDphsettar->vvbouval << 3;

  0273a	c1 e0 03	 shl	 eax, 3
  0273d	66 89 87 20 15
	00 00		 mov	 WORD PTR [edi+5408], ax

; 1073 : 				pDph_t->arg2 = divtab[pDphsettar->vvdurtran];

  02744	0f bf 56 08	 movsx	 edx, WORD PTR [esi+8]
  02748	66 8b 04 55 00
	00 00 00	 mov	 ax, WORD PTR _divtab[edx*2]

; 1074 : 				pDph_t->dfvvtran = mlsh1 (pDph_t->arg1, pDph_t->arg2);  /* pDphsettar->vvbouval*8 / pDphsettar->vvdurtran */

  02750	0f bf 97 20 15
	00 00		 movsx	 edx, WORD PTR [edi+5408]
  02757	66 89 87 22 15
	00 00		 mov	 WORD PTR [edi+5410], ax
  0275e	0f bf c0	 movsx	 eax, ax
  02761	0f af c2	 imul	 eax, edx
  02764	c1 f8 0e	 sar	 eax, 14			; 0000000eH
  02767	66 89 87 8a 03
	00 00		 mov	 WORD PTR [edi+906], ax

; 1075 : 				pDph_t->fvvtran = pDph_t->dfvvtran * pDphsettar->vvdurtran;

  0276e	66 8b 56 08	 mov	 dx, WORD PTR [esi+8]
  02772	66 0f af d0	 imul	 dx, ax
  02776	66 89 97 84 03
	00 00		 mov	 WORD PTR [edi+900], dx
$L74478:

; 1076 : 			}
; 1077 : 			pDphsettar->vvdurtran = 0;

  0277d	66 89 4e 08	 mov	 WORD PTR [esi+8], cx

; 1078 : 			pDphsettar->vvbouval = 0;

  02781	66 89 4e 04	 mov	 WORD PTR [esi+4], cx
$L74476:

; 1079 : 		}
; 1080 : 		/* 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 */
; 1081 : 		/* Smooth backward from end of current phone                               */
; 1082 : 		/* Default bouval is halfway, half of transition duration is 30 ms                 */
; 1083 : 		/* 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 */
; 1084 : 
; 1085 : 		pDphsettar->bouval = (pDphsettar->np->tarend + pDphsettar->np->tarnex) >> 1;

  02785	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  02788	0f bf 48 1a	 movsx	 ecx, WORD PTR [eax+26]
  0278c	0f bf 50 16	 movsx	 edx, WORD PTR [eax+22]
  02790	03 ca		 add	 ecx, edx

; 1086 : 		pDphsettar->durtran = NF25MS;

  02792	66 c7 46 06 04
	00		 mov	 WORD PTR [esi+6], 4
  02798	d1 f9		 sar	 ecx, 1

; 1087 : 
; 1088 : 		/* 
; 1089 : 		 * printf("pDph_t->shrib %d, pDphsettar->phcur %d feacur %d, feanex %d, 
; 1090 : 		 * strucnex %d\n",pDph_t->shrib, pDphsettar->phcur, feacur, feanex, strucnex); 
; 1091 : 		 */
; 1092 : 		/* This routine contains all the "smarts" */
; 1093 : 
; 1094 : 		if(tmp == PFUSA<<PSFONT)

  0279a	66 81 fd 00 1e	 cmp	 bp, 7680		; 00001e00H
  0279f	66 89 0e	 mov	 WORD PTR [esi], cx

; 1095 : 		{
; 1096 : 			us_back_smooth_rules (phTTS, pDph_t->shrib, feacur, 
; 1097 : 				feanex, strucnex);
; 1098 : 		}
; 1099 : 		else if(tmp == PFUK<<PSFONT)

  027a2	0f 84 c4 00 00
	00		 je	 $L74489
  027a8	66 81 fd 00 1d	 cmp	 bp, 7424		; 00001d00H
  027ad	75 22		 jne	 SHORT $L74481

; 1100 : 		{
; 1101 : 			uk_back_smooth_rules (phTTS, pDph_t->shrib, feacur, 
; 1102 : 				feanex, strucnex);

  027af	8b 4c 24 28	 mov	 ecx, DWORD PTR _strucnex$[esp+56]
  027b3	8b 54 24 10	 mov	 edx, DWORD PTR _feanex$[esp+56]
  027b7	8b 44 24 14	 mov	 eax, DWORD PTR _feacur$[esp+56]
  027bb	51		 push	 ecx
  027bc	66 8b 8f e8 2b
	00 00		 mov	 cx, WORD PTR [edi+11240]
  027c3	52		 push	 edx
  027c4	50		 push	 eax
  027c5	51		 push	 ecx
  027c6	53		 push	 ebx
  027c7	e8 00 00 00 00	 call	 _uk_back_smooth_rules

; 1103 : 		}
; 1104 : 		else if(tmp == PFGR<<PSFONT)

  027cc	e9 b8 00 00 00	 jmp	 $L75052
$L74481:
  027d1	66 81 fd 00 1c	 cmp	 bp, 7168		; 00001c00H
  027d6	75 22		 jne	 SHORT $L74483

; 1105 : 		{
; 1106 : 			gr_back_smooth_rules (phTTS, pDph_t->shrib, feacur, 
; 1107 : 				feanex, strucnex);

  027d8	8b 54 24 28	 mov	 edx, DWORD PTR _strucnex$[esp+56]
  027dc	8b 44 24 10	 mov	 eax, DWORD PTR _feanex$[esp+56]
  027e0	8b 4c 24 14	 mov	 ecx, DWORD PTR _feacur$[esp+56]
  027e4	52		 push	 edx
  027e5	66 8b 97 e8 2b
	00 00		 mov	 dx, WORD PTR [edi+11240]
  027ec	50		 push	 eax
  027ed	51		 push	 ecx
  027ee	52		 push	 edx
  027ef	53		 push	 ebx
  027f0	e8 00 00 00 00	 call	 _gr_back_smooth_rules

; 1108 : 		}
; 1109 : 		else if(tmp == PFLA<<PSFONT)

  027f5	e9 8f 00 00 00	 jmp	 $L75052
$L74483:
  027fa	66 81 fd 00 1a	 cmp	 bp, 6656		; 00001a00H
  027ff	75 1f		 jne	 SHORT $L74485

; 1110 : 		{
; 1111 : 			la_back_smooth_rules (phTTS, pDph_t->shrib, feacur, 
; 1112 : 				feanex, strucnex);

  02801	8b 44 24 28	 mov	 eax, DWORD PTR _strucnex$[esp+56]
  02805	8b 4c 24 10	 mov	 ecx, DWORD PTR _feanex$[esp+56]
  02809	8b 54 24 14	 mov	 edx, DWORD PTR _feacur$[esp+56]
  0280d	50		 push	 eax
  0280e	66 8b 87 e8 2b
	00 00		 mov	 ax, WORD PTR [edi+11240]
  02815	51		 push	 ecx
  02816	52		 push	 edx
  02817	50		 push	 eax
  02818	53		 push	 ebx
  02819	e8 00 00 00 00	 call	 _la_back_smooth_rules

; 1113 : 		}
; 1114 : 		else if(tmp == PFSP<<PSFONT)

  0281e	eb 69		 jmp	 SHORT $L75052
$L74485:
  02820	66 81 fd 00 1b	 cmp	 bp, 6912		; 00001b00H
  02825	75 1f		 jne	 SHORT $L74487

; 1115 : 		{
; 1116 : 			sp_back_smooth_rules (phTTS, pDph_t->shrib, feacur, 
; 1117 : 				feanex, strucnex);

  02827	8b 4c 24 28	 mov	 ecx, DWORD PTR _strucnex$[esp+56]
  0282b	8b 54 24 10	 mov	 edx, DWORD PTR _feanex$[esp+56]
  0282f	8b 44 24 14	 mov	 eax, DWORD PTR _feacur$[esp+56]
  02833	51		 push	 ecx
  02834	66 8b 8f e8 2b
	00 00		 mov	 cx, WORD PTR [edi+11240]
  0283b	52		 push	 edx
  0283c	50		 push	 eax
  0283d	51		 push	 ecx
  0283e	53		 push	 ebx
  0283f	e8 00 00 00 00	 call	 _sp_back_smooth_rules

; 1118 : 		}
; 1119 : 		else if(tmp == PFFR<<PSFONT)

  02844	eb 43		 jmp	 SHORT $L75052
$L74487:
  02846	66 81 fd 00 19	 cmp	 bp, 6400		; 00001900H
  0284b	75 1f		 jne	 SHORT $L74489

; 1120 : 		{
; 1121 : 			fr_back_smooth_rules (phTTS, pDph_t->shrib, feacur, 
; 1122 : 				feanex, strucnex);

  0284d	8b 54 24 28	 mov	 edx, DWORD PTR _strucnex$[esp+56]
  02851	8b 44 24 10	 mov	 eax, DWORD PTR _feanex$[esp+56]
  02855	8b 4c 24 14	 mov	 ecx, DWORD PTR _feacur$[esp+56]
  02859	52		 push	 edx
  0285a	66 8b 97 e8 2b
	00 00		 mov	 dx, WORD PTR [edi+11240]
  02861	50		 push	 eax
  02862	51		 push	 ecx
  02863	52		 push	 edx
  02864	53		 push	 ebx
  02865	e8 00 00 00 00	 call	 _fr_back_smooth_rules

; 1123 : 		}
; 1124 : 		else 

  0286a	eb 1d		 jmp	 SHORT $L75052
$L74489:

; 1125 : 		{
; 1126 : #ifdef _DEBUG
; 1127 : 			printf("OH MY GOD!! You got the West Nile Virus!\n");
; 1128 : #endif
; 1129 : 			us_back_smooth_rules (phTTS, pDph_t->shrib, feacur, 
; 1130 : 				feanex, strucnex);

  0286c	8b 44 24 28	 mov	 eax, DWORD PTR _strucnex$[esp+56]
  02870	8b 4c 24 10	 mov	 ecx, DWORD PTR _feanex$[esp+56]
  02874	8b 54 24 14	 mov	 edx, DWORD PTR _feacur$[esp+56]
  02878	50		 push	 eax
  02879	66 8b 87 e8 2b
	00 00		 mov	 ax, WORD PTR [edi+11240]
  02880	51		 push	 ecx
  02881	52		 push	 edx
  02882	50		 push	 eax
  02883	53		 push	 ebx
  02884	e8 00 00 00 00	 call	 _us_back_smooth_rules
$L75052:

; 1131 : 		}
; 1132 : 		
; 1133 : 
; 1134 : 
; 1135 : 		 /*
; 1136 : 		  printf("backward durtran %d tarend %d tarlas %d bouval %d tbacktr %d\n",
; 1137 : 		  pDphsettar->durtran, 
; 1138 : 		  pDphsettar->np->tarend,pDphsettar->np->tarlas,pDphsettar->bouval, 
; 1139 : 		  pDphsettar->np->tbacktr);
; 1140 : 		 */
; 1141 : 
; 1142 : 		/* Convert bouval and pDphsettar->durtran into params used directly by phdraw() */
; 1143 : 		pDphsettar->np->btran = 0;

  02889	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  0288c	33 c9		 xor	 ecx, ecx
  0288e	83 c4 14	 add	 esp, 20			; 00000014H
  02891	66 89 4a 0c	 mov	 WORD PTR [edx+12], cx

; 1144 : 		pDphsettar->np->dbtran = 0;

  02895	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  02898	66 89 48 0e	 mov	 WORD PTR [eax+14], cx

; 1145 : 		if (pDphsettar->durtran > 0)

  0289c	66 39 4e 06	 cmp	 WORD PTR [esi+6], cx
  028a0	7e 43		 jle	 SHORT $L74492

; 1146 : 		{
; 1147 : 			/* Shift left 3 bits to avoid roundoff accumulation */
; 1148 : 			temp = (pDphsettar->bouval - pDphsettar->np->tarend) << 3;

  028a2	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  028a5	66 8b 06	 mov	 ax, WORD PTR [esi]
  028a8	66 2b 42 1a	 sub	 ax, WORD PTR [edx+26]
  028ac	c1 e0 03	 shl	 eax, 3

; 1149 : 			if (temp != 0)

  028af	66 3b c1	 cmp	 ax, cx
  028b2	74 31		 je	 SHORT $L74492

; 1150 : 			{
; 1151 : 				pDph_t->arg1 = temp;

  028b4	66 89 87 20 15
	00 00		 mov	 WORD PTR [edi+5408], ax

; 1152 : 				pDph_t->arg2 = divtab[pDphsettar->durtran];

  028bb	0f bf 46 06	 movsx	 eax, WORD PTR [esi+6]
  028bf	66 8b 04 45 00
	00 00 00	 mov	 ax, WORD PTR _divtab[eax*2]
  028c7	66 89 87 22 15
	00 00		 mov	 WORD PTR [edi+5410], ax

; 1153 : 				pDphsettar->np->dbtran = mlsh1 (pDph_t->arg1, pDph_t->arg2);

  028ce	0f bf d0	 movsx	 edx, ax
  028d1	0f bf 87 20 15
	00 00		 movsx	 eax, WORD PTR [edi+5408]
  028d8	0f af d0	 imul	 edx, eax
  028db	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  028de	c1 fa 0e	 sar	 edx, 14			; 0000000eH
  028e1	66 89 50 0e	 mov	 WORD PTR [eax+14], dx
$L74492:

; 1154 : 			}
; 1155 : 		}
; 1156 : 		//debugbackward (" Unknown rule must have been executed", pDphsettar->np);
; 1157 : 
; 1158 : 		/* Slowish vowel-vowel formant motions across consonant modeled by   */
; 1159 : 		/* a separate transition increment and duration, so far only for F2 */
; 1160 : 		/* (vvbouval and pDphsettar->vvdurtran set in routine back_smooth_rules() which */
; 1161 : 		/* calls setloc() which calls vv_coartic_across_c())                  */
; 1162 : 		if (pDphsettar->np == &PF2)

  028e5	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  028e8	8d 47 48	 lea	 eax, DWORD PTR [edi+72]
  028eb	3b d0		 cmp	 edx, eax
  028ed	0f 85 87 00 00
	00		 jne	 $L74449

; 1163 : 		{
; 1164 : 			pDph_t->bvvtran = 0;       /* Default if no vv-coartic */
; 1165 : 			pDph_t->dbvvtran = 0;      /* Default if no vv-coartic */
; 1166 : 			pDph_t->tvvbacktr = pDph_t->durfon;             /* Default if no vv-coartic */

  028f3	66 8b 87 04 15
	00 00		 mov	 ax, WORD PTR [edi+5380]
  028fa	66 89 8f 86 03
	00 00		 mov	 WORD PTR [edi+902], cx
  02901	66 89 8f 8c 03
	00 00		 mov	 WORD PTR [edi+908], cx
  02908	66 89 87 88 03
	00 00		 mov	 WORD PTR [edi+904], ax

; 1167 : 			/* Truncate tran dur if exceeds duration of current phone */
; 1168 : 			if (pDphsettar->vvdurtran > pDph_t->durfon)

  0290f	66 39 46 08	 cmp	 WORD PTR [esi+8], ax
  02913	7e 04		 jle	 SHORT $L74494

; 1169 : 			{
; 1170 : 				pDphsettar->vvdurtran = pDph_t->durfon;

  02915	66 89 46 08	 mov	 WORD PTR [esi+8], ax
$L74494:

; 1171 : 			}
; 1172 : 
; 1173 : 			if ((pDphsettar->vvdurtran > 0) && (pDphsettar->vvbouval != 0))

  02919	66 8b 46 08	 mov	 ax, WORD PTR [esi+8]
  0291d	66 3b c1	 cmp	 ax, cx
  02920	7e 50		 jle	 SHORT $L74495
  02922	66 39 4e 04	 cmp	 WORD PTR [esi+4], cx
  02926	74 4a		 je	 SHORT $L74495

; 1174 : 			{
; 1175 : 				pDph_t->tvvbacktr = pDph_t->durfon - pDphsettar->vvdurtran;

  02928	66 8b 97 04 15
	00 00		 mov	 dx, WORD PTR [edi+5380]
  0292f	66 2b d0	 sub	 dx, ax
  02932	66 89 97 88 03
	00 00		 mov	 WORD PTR [edi+904], dx

; 1176 : 				/* Shift left 3 bits to avoid roundoff accumulation */
; 1177 : 				pDph_t->arg1 = pDphsettar->vvbouval << 3;

  02939	66 8b 46 04	 mov	 ax, WORD PTR [esi+4]
  0293d	66 c1 e0 03	 shl	 ax, 3
  02941	66 89 87 20 15
	00 00		 mov	 WORD PTR [edi+5408], ax

; 1178 : 				pDph_t->arg2 = divtab[pDphsettar->vvdurtran];

  02948	0f bf 56 08	 movsx	 edx, WORD PTR [esi+8]
  0294c	66 8b 04 55 00
	00 00 00	 mov	 ax, WORD PTR _divtab[edx*2]

; 1179 : 				pDph_t->dbvvtran = mlsh1 (pDph_t->arg1, pDph_t->arg2);  /* vvbouval*8 / pDphsettar->vvdurtran */

  02954	0f bf 97 20 15
	00 00		 movsx	 edx, WORD PTR [edi+5408]
  0295b	66 89 87 22 15
	00 00		 mov	 WORD PTR [edi+5410], ax
  02962	0f bf c0	 movsx	 eax, ax
  02965	0f af c2	 imul	 eax, edx
  02968	c1 f8 0e	 sar	 eax, 14			; 0000000eH
  0296b	66 89 87 8c 03
	00 00		 mov	 WORD PTR [edi+908], ax
$L74495:

; 1180 : 			}
; 1181 : 			pDphsettar->vvdurtran = 0;

  02972	66 89 4e 08	 mov	 WORD PTR [esi+8], cx

; 1182 : 			pDphsettar->vvbouval = 0;

  02976	66 89 4e 04	 mov	 WORD PTR [esi+4], cx
$L74449:
  0297a	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  0297d	8d 87 40 02 00
	00		 lea	 eax, DWORD PTR [edi+576]
  02983	83 c2 24	 add	 edx, 36			; 00000024H
  02986	8b ca		 mov	 ecx, edx
  02988	89 56 10	 mov	 DWORD PTR [esi+16], edx
  0298b	3b c8		 cmp	 ecx, eax
  0298d	0f 86 ef f9 ff
	ff		 jbe	 $L74448

; 1183 : 		}
; 1184 : 		
; 1185 : 	}
; 1186 : 	/* 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 */
; 1187 : 	/* Special rules that override values computed in regular way.          */
; 1188 : 	/* From the beginning of the current phone to a time "tspesh",          */
; 1189 : 	/* place the constant value "pspesh" in the given parameter track.      */
; 1190 : 	/* (Used to generate bursts, aspiration for [ptk], voicebar for [bdg]) */
; 1191 : 	/* 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 */
; 1192 : 
; 1193 : 		if(tmp == PFUSA<<PSFONT)

  02993	66 81 fd 00 1e	 cmp	 bp, 7680		; 00001e00H

; 1194 : 		{
; 1195 : 			us_special_rules (phTTS, fealas, feacur, feanex, struclm2,
; 1196 : 				struccur, pholas, struclas);
; 1197 : 		}
; 1198 : 		else if(tmp == PFUK<<PSFONT)

  02998	0f 84 27 01 00
	00		 je	 $L74506
  0299e	66 81 fd 00 1d	 cmp	 bp, 7424		; 00001d00H
  029a3	75 34		 jne	 SHORT $L74498

; 1199 : 		{
; 1200 : 			uk_special_rules (phTTS, fealas, feacur, feanex, struclm2,
; 1201 : 				struccur, pholas, struclas);

  029a5	8b 4c 24 1c	 mov	 ecx, DWORD PTR _struclas$[esp+56]
  029a9	8b 54 24 20	 mov	 edx, DWORD PTR _pholas$[esp+56]
  029ad	8b 44 24 18	 mov	 eax, DWORD PTR _struccur$[esp+56]
  029b1	51		 push	 ecx
  029b2	8b 4c 24 30	 mov	 ecx, DWORD PTR _struclm2$[esp+60]
  029b6	52		 push	 edx
  029b7	8b 54 24 18	 mov	 edx, DWORD PTR _feanex$[esp+64]
  029bb	50		 push	 eax
  029bc	8b 44 24 20	 mov	 eax, DWORD PTR _feacur$[esp+68]
  029c0	51		 push	 ecx
  029c1	8b 4c 24 34	 mov	 ecx, DWORD PTR _fealas$[esp+72]
  029c5	52		 push	 edx
  029c6	50		 push	 eax
  029c7	51		 push	 ecx
  029c8	53		 push	 ebx
  029c9	e8 00 00 00 00	 call	 _uk_special_rules

; 1222 : 		}
; 1223 : 		else 
; 1224 : 		{
; 1225 : #ifdef _DEBUG
; 1226 : 			printf("OH MY GOD! You got the screwed!\n");
; 1227 : #endif
; 1228 : 			us_special_rules (phTTS, fealas, feacur, feanex, struclm2,
; 1229 : 				struccur, pholas, struclas);

  029ce	83 c4 20	 add	 esp, 32			; 00000020H
  029d1	5f		 pop	 edi
  029d2	5e		 pop	 esi
  029d3	5d		 pop	 ebp
  029d4	5b		 pop	 ebx

; 1230 : 		}
; 1231 : 
; 1232 : #if DEBGFRENCH // for FRENCH
; 1233 :      print_parameters (phTTS, pDphsettar->phcur);
; 1234 : #endif
; 1235 : } // phsettar

  029d5	83 c4 28	 add	 esp, 40			; 00000028H
  029d8	c3		 ret	 0
$L74498:

; 1202 : 		}
; 1203 : 		else if(tmp == PFGR<<PSFONT)

  029d9	66 81 fd 00 1c	 cmp	 bp, 7168		; 00001c00H
  029de	75 34		 jne	 SHORT $L74500

; 1204 : 		{
; 1205 : 			gr_special_rules (phTTS, fealas, feacur, feanex, struclm2,
; 1206 : 				struccur, pholas, struclas);

  029e0	8b 54 24 1c	 mov	 edx, DWORD PTR _struclas$[esp+56]
  029e4	8b 44 24 20	 mov	 eax, DWORD PTR _pholas$[esp+56]
  029e8	8b 4c 24 18	 mov	 ecx, DWORD PTR _struccur$[esp+56]
  029ec	52		 push	 edx
  029ed	8b 54 24 30	 mov	 edx, DWORD PTR _struclm2$[esp+60]
  029f1	50		 push	 eax
  029f2	8b 44 24 18	 mov	 eax, DWORD PTR _feanex$[esp+64]
  029f6	51		 push	 ecx
  029f7	8b 4c 24 20	 mov	 ecx, DWORD PTR _feacur$[esp+68]
  029fb	52		 push	 edx
  029fc	8b 54 24 34	 mov	 edx, DWORD PTR _fealas$[esp+72]
  02a00	50		 push	 eax
  02a01	51		 push	 ecx
  02a02	52		 push	 edx
  02a03	53		 push	 ebx
  02a04	e8 00 00 00 00	 call	 _gr_special_rules

; 1222 : 		}
; 1223 : 		else 
; 1224 : 		{
; 1225 : #ifdef _DEBUG
; 1226 : 			printf("OH MY GOD! You got the screwed!\n");
; 1227 : #endif
; 1228 : 			us_special_rules (phTTS, fealas, feacur, feanex, struclm2,
; 1229 : 				struccur, pholas, struclas);

  02a09	83 c4 20	 add	 esp, 32			; 00000020H
  02a0c	5f		 pop	 edi
  02a0d	5e		 pop	 esi
  02a0e	5d		 pop	 ebp
  02a0f	5b		 pop	 ebx

; 1230 : 		}
; 1231 : 
; 1232 : #if DEBGFRENCH // for FRENCH
; 1233 :      print_parameters (phTTS, pDphsettar->phcur);
; 1234 : #endif
; 1235 : } // phsettar

  02a10	83 c4 28	 add	 esp, 40			; 00000028H
  02a13	c3		 ret	 0
$L74500:

; 1207 : 		}
; 1208 : 		else if(tmp == PFLA<<PSFONT)

  02a14	66 81 fd 00 1a	 cmp	 bp, 6656		; 00001a00H
  02a19	75 34		 jne	 SHORT $L74502

; 1209 : 		{
; 1210 : 			la_special_rules (phTTS, fealas, feacur, feanex, struclm2,
; 1211 : 				struccur, pholas, struclas);

  02a1b	8b 44 24 1c	 mov	 eax, DWORD PTR _struclas$[esp+56]
  02a1f	8b 4c 24 20	 mov	 ecx, DWORD PTR _pholas$[esp+56]
  02a23	8b 54 24 18	 mov	 edx, DWORD PTR _struccur$[esp+56]
  02a27	50		 push	 eax
  02a28	8b 44 24 30	 mov	 eax, DWORD PTR _struclm2$[esp+60]
  02a2c	51		 push	 ecx
  02a2d	8b 4c 24 18	 mov	 ecx, DWORD PTR _feanex$[esp+64]
  02a31	52		 push	 edx
  02a32	8b 54 24 20	 mov	 edx, DWORD PTR _feacur$[esp+68]
  02a36	50		 push	 eax
  02a37	8b 44 24 34	 mov	 eax, DWORD PTR _fealas$[esp+72]
  02a3b	51		 push	 ecx
  02a3c	52		 push	 edx
  02a3d	50		 push	 eax
  02a3e	53		 push	 ebx
  02a3f	e8 00 00 00 00	 call	 _la_special_rules

; 1222 : 		}
; 1223 : 		else 
; 1224 : 		{
; 1225 : #ifdef _DEBUG
; 1226 : 			printf("OH MY GOD! You got the screwed!\n");
; 1227 : #endif
; 1228 : 			us_special_rules (phTTS, fealas, feacur, feanex, struclm2,
; 1229 : 				struccur, pholas, struclas);

  02a44	83 c4 20	 add	 esp, 32			; 00000020H
  02a47	5f		 pop	 edi
  02a48	5e		 pop	 esi
  02a49	5d		 pop	 ebp
  02a4a	5b		 pop	 ebx

; 1230 : 		}
; 1231 : 
; 1232 : #if DEBGFRENCH // for FRENCH
; 1233 :      print_parameters (phTTS, pDphsettar->phcur);
; 1234 : #endif
; 1235 : } // phsettar

  02a4b	83 c4 28	 add	 esp, 40			; 00000028H
  02a4e	c3		 ret	 0
$L74502:

; 1212 : 		}
; 1213 : 		else if(tmp == PFSP<<PSFONT)

  02a4f	66 81 fd 00 1b	 cmp	 bp, 6912		; 00001b00H
  02a54	75 34		 jne	 SHORT $L74504

; 1214 : 		{
; 1215 : 			sp_special_rules (phTTS, fealas, feacur, feanex, struclm2,
; 1216 : 				struccur, pholas, struclas);

  02a56	8b 4c 24 1c	 mov	 ecx, DWORD PTR _struclas$[esp+56]
  02a5a	8b 54 24 20	 mov	 edx, DWORD PTR _pholas$[esp+56]
  02a5e	8b 44 24 18	 mov	 eax, DWORD PTR _struccur$[esp+56]
  02a62	51		 push	 ecx
  02a63	8b 4c 24 30	 mov	 ecx, DWORD PTR _struclm2$[esp+60]
  02a67	52		 push	 edx
  02a68	8b 54 24 18	 mov	 edx, DWORD PTR _feanex$[esp+64]
  02a6c	50		 push	 eax
  02a6d	8b 44 24 20	 mov	 eax, DWORD PTR _feacur$[esp+68]
  02a71	51		 push	 ecx
  02a72	8b 4c 24 34	 mov	 ecx, DWORD PTR _fealas$[esp+72]
  02a76	52		 push	 edx
  02a77	50		 push	 eax
  02a78	51		 push	 ecx
  02a79	53		 push	 ebx
  02a7a	e8 00 00 00 00	 call	 _sp_special_rules

; 1222 : 		}
; 1223 : 		else 
; 1224 : 		{
; 1225 : #ifdef _DEBUG
; 1226 : 			printf("OH MY GOD! You got the screwed!\n");
; 1227 : #endif
; 1228 : 			us_special_rules (phTTS, fealas, feacur, feanex, struclm2,
; 1229 : 				struccur, pholas, struclas);

  02a7f	83 c4 20	 add	 esp, 32			; 00000020H
  02a82	5f		 pop	 edi
  02a83	5e		 pop	 esi
  02a84	5d		 pop	 ebp
  02a85	5b		 pop	 ebx

; 1230 : 		}
; 1231 : 
; 1232 : #if DEBGFRENCH // for FRENCH
; 1233 :      print_parameters (phTTS, pDphsettar->phcur);
; 1234 : #endif
; 1235 : } // phsettar

  02a86	83 c4 28	 add	 esp, 40			; 00000028H
  02a89	c3		 ret	 0
$L74504:

; 1217 : 		}
; 1218 : 		else if(tmp == PFFR<<PSFONT)

  02a8a	66 81 fd 00 19	 cmp	 bp, 6400		; 00001900H
  02a8f	75 34		 jne	 SHORT $L74506

; 1219 : 		{
; 1220 : 			fr_special_rules (phTTS, fealas, feacur, feanex, struclm2,
; 1221 : 				struccur, pholas, struclas);

  02a91	8b 54 24 1c	 mov	 edx, DWORD PTR _struclas$[esp+56]
  02a95	8b 44 24 20	 mov	 eax, DWORD PTR _pholas$[esp+56]
  02a99	8b 4c 24 18	 mov	 ecx, DWORD PTR _struccur$[esp+56]
  02a9d	52		 push	 edx
  02a9e	8b 54 24 30	 mov	 edx, DWORD PTR _struclm2$[esp+60]
  02aa2	50		 push	 eax
  02aa3	8b 44 24 18	 mov	 eax, DWORD PTR _feanex$[esp+64]
  02aa7	51		 push	 ecx
  02aa8	8b 4c 24 20	 mov	 ecx, DWORD PTR _feacur$[esp+68]
  02aac	52		 push	 edx
  02aad	8b 54 24 34	 mov	 edx, DWORD PTR _fealas$[esp+72]
  02ab1	50		 push	 eax
  02ab2	51		 push	 ecx
  02ab3	52		 push	 edx
  02ab4	53		 push	 ebx
  02ab5	e8 00 00 00 00	 call	 _fr_special_rules

; 1222 : 		}
; 1223 : 		else 
; 1224 : 		{
; 1225 : #ifdef _DEBUG
; 1226 : 			printf("OH MY GOD! You got the screwed!\n");
; 1227 : #endif
; 1228 : 			us_special_rules (phTTS, fealas, feacur, feanex, struclm2,
; 1229 : 				struccur, pholas, struclas);

  02aba	83 c4 20	 add	 esp, 32			; 00000020H
  02abd	5f		 pop	 edi
  02abe	5e		 pop	 esi
  02abf	5d		 pop	 ebp
  02ac0	5b		 pop	 ebx

; 1230 : 		}
; 1231 : 
; 1232 : #if DEBGFRENCH // for FRENCH
; 1233 :      print_parameters (phTTS, pDphsettar->phcur);
; 1234 : #endif
; 1235 : } // phsettar

  02ac1	83 c4 28	 add	 esp, 40			; 00000028H
  02ac4	c3		 ret	 0
$L74506:

; 1222 : 		}
; 1223 : 		else 
; 1224 : 		{
; 1225 : #ifdef _DEBUG
; 1226 : 			printf("OH MY GOD! You got the screwed!\n");
; 1227 : #endif
; 1228 : 			us_special_rules (phTTS, fealas, feacur, feanex, struclm2,
; 1229 : 				struccur, pholas, struclas);

  02ac5	8b 44 24 1c	 mov	 eax, DWORD PTR _struclas$[esp+56]
  02ac9	8b 4c 24 20	 mov	 ecx, DWORD PTR _pholas$[esp+56]
  02acd	8b 54 24 18	 mov	 edx, DWORD PTR _struccur$[esp+56]
  02ad1	50		 push	 eax
  02ad2	8b 44 24 30	 mov	 eax, DWORD PTR _struclm2$[esp+60]
  02ad6	51		 push	 ecx
  02ad7	8b 4c 24 18	 mov	 ecx, DWORD PTR _feanex$[esp+64]
  02adb	52		 push	 edx
  02adc	8b 54 24 20	 mov	 edx, DWORD PTR _feacur$[esp+68]
  02ae0	50		 push	 eax
  02ae1	8b 44 24 34	 mov	 eax, DWORD PTR _fealas$[esp+72]
  02ae5	51		 push	 ecx
  02ae6	52		 push	 edx
  02ae7	50		 push	 eax
  02ae8	53		 push	 ebx
  02ae9	e8 00 00 00 00	 call	 _us_special_rules
  02aee	83 c4 20	 add	 esp, 32			; 00000020H
  02af1	5f		 pop	 edi
  02af2	5e		 pop	 esi
  02af3	5d		 pop	 ebp
  02af4	5b		 pop	 ebx

; 1230 : 		}
; 1231 : 
; 1232 : #if DEBGFRENCH // for FRENCH
; 1233 :      print_parameters (phTTS, pDphsettar->phcur);
; 1234 : #endif
; 1235 : } // phsettar

  02af5	83 c4 28	 add	 esp, 40			; 00000028H
  02af8	c3		 ret	 0
_phsettar ENDP
_phTTS$ = 8
_shrif$ = 12
_pholas$ = 16
_fealas$ = 20
_feacur$ = 24
_struclas$ = 28
_feanex$ = 36
_us_forw_smooth_rules PROC NEAR

; 467  : {

  02b00	53		 push	 ebx

; 468  : 	short                   temp;	   /* MVP MI : This variable is made local */
; 469  : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  02b01	8b 5c 24 08	 mov	 ebx, DWORD PTR _phTTS$[esp]
  02b05	55		 push	 ebp
  02b06	56		 push	 esi
  02b07	57		 push	 edi
  02b08	8b 7b 18	 mov	 edi, DWORD PTR [ebx+24]

; 470  : 	PKSD_T                  pKsd_t = phTTS->pKernelShareData;
; 471  : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;
; 472  : 
; 473  : 	//debugforward ("Set default", pDphsettar->np);
; 474  : 	/* FORWARD SMOOTH: F1, F2, F3 */
; 475  : 	if (pDphsettar->par_type IS_FORM_FREQ)

  02b0b	bd 03 00 00 00	 mov	 ebp, 3
  02b10	8b b7 10 2c 00
	00		 mov	 esi, DWORD PTR [edi+11280]
  02b16	8a 46 14	 mov	 al, BYTE PTR [esi+20]
  02b19	3c 03		 cmp	 al, 3
  02b1b	0f 85 74 02 00
	00		 jne	 $L72035

; 476  : 	{
; 477  : 		/* 0. Use default values for obst-obst transition */
; 478  : 		if ((feacur & FSONOR) IS_PLUS)

  02b21	8b 44 24 24	 mov	 eax, DWORD PTR _feacur$[esp+12]
  02b25	8b 54 24 1c	 mov	 edx, DWORD PTR _pholas$[esp+12]
  02b29	a8 10		 test	 al, 16			; 00000010H
  02b2b	bd 05 00 00 00	 mov	 ebp, 5
  02b30	0f 84 99 00 00
	00		 je	 $L72045

; 479  : 		{
; 480  : 			if ((feacur & FSONCON) IS_MINUS)

  02b36	25 00 02 00 00	 and	 eax, 512		; 00000200H
  02b3b	66 85 c0	 test	 ax, ax
  02b3e	75 6c		 jne	 SHORT $L72037

; 481  : 			{
; 482  : 				pDphsettar->durtran = NF45MS;
; 483  : 				if ((fealas & FSONCON) IS_PLUS)

  02b40	8b 44 24 20	 mov	 eax, DWORD PTR _fealas$[esp+12]
  02b44	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
  02b4a	25 00 02 00 00	 and	 eax, 512		; 00000200H
  02b4f	66 85 c0	 test	 ax, ax
  02b52	74 3d		 je	 SHORT $L72038

; 484  : 				{
; 485  : 					/* 1. Soncon-vowel transition, use 25-75% rule */
; 486  : 					pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarlas) >> 1;

  02b54	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  02b57	0f bf 2e	 movsx	 ebp, WORD PTR [esi]
  02b5a	0f bf 41 18	 movsx	 eax, WORD PTR [ecx+24]
  02b5e	03 c5		 add	 eax, ebp
  02b60	d1 f8		 sar	 eax, 1

; 487  : 					/* Make F1 discontinuous for light /l/ */
; 488  : 					if ((pholas == USP_LL) && (pDphsettar->np == &PF1))

  02b62	66 81 fa 1b 1e	 cmp	 dx, 7707		; 00001e1bH
  02b67	66 89 06	 mov	 WORD PTR [esi], ax
  02b6a	75 0f		 jne	 SHORT $L72039
  02b6c	8d 57 24	 lea	 edx, DWORD PTR [edi+36]
  02b6f	3b ca		 cmp	 ecx, edx
  02b71	75 5c		 jne	 SHORT $L72045

; 489  : 					{
; 490  : 						pDphsettar->bouval += 80;

  02b73	83 c0 50	 add	 eax, 80			; 00000050H
  02b76	66 89 06	 mov	 WORD PTR [esi], ax

; 491  : 					}
; 492  : 					/* Make F3 & F2 transitions slower out of /r/ */
; 493  : 					if ((pholas == USP_R) && (pDphsettar->np != &PF1))

  02b79	eb 54		 jmp	 SHORT $L72045
$L72039:
  02b7b	66 81 fa 1a 1e	 cmp	 dx, 7706		; 00001e1aH
  02b80	75 4d		 jne	 SHORT $L72045
  02b82	8d 47 24	 lea	 eax, DWORD PTR [edi+36]
  02b85	3b c8		 cmp	 ecx, eax
  02b87	74 46		 je	 SHORT $L72045

; 494  : 					{
; 495  : 						pDphsettar->durtran = NF70MS;

  02b89	66 c7 46 06 0b
	00		 mov	 WORD PTR [esi+6], 11	; 0000000bH

; 496  : 					}
; 497  : 				}
; 498  : 				else

  02b8f	eb 3e		 jmp	 SHORT $L72045
$L72038:

; 499  : 				{
; 500  : 					/* 2. Vowel-[vowel/h] transition */
; 501  : 					/* Preceeding seg has strong influence on [h] init val */
; 502  : 					if (pDphsettar->phcur == USP_HX)

  02b91	66 81 7e 18 1c
	1e		 cmp	 WORD PTR [esi+24], 7708	; 00001e1cH
  02b97	75 36		 jne	 SHORT $L72045

; 503  : 					{
; 504  : 						pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarlas) >> 1;

  02b99	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  02b9c	0f bf 06	 movsx	 eax, WORD PTR [esi]
  02b9f	0f bf 51 18	 movsx	 edx, WORD PTR [ecx+24]
  02ba3	03 d0		 add	 edx, eax
  02ba5	d1 fa		 sar	 edx, 1
  02ba7	66 89 16	 mov	 WORD PTR [esi], dx

; 505  : 					}
; 506  : 				}
; 507  : 			}
; 508  : 			else

  02baa	eb 23		 jmp	 SHORT $L72045
$L72037:

; 509  : 			{
; 510  : 				/* Phcur is a sonorant conson */
; 511  : 				if ((fealas & FSONCON) IS_MINUS)

  02bac	8b 4c 24 20	 mov	 ecx, DWORD PTR _fealas$[esp+12]
  02bb0	81 e1 00 02 00
	00		 and	 ecx, 512		; 00000200H
  02bb6	66 85 c9	 test	 cx, cx
  02bb9	75 10		 jne	 SHORT $L72044

; 512  : 				{
; 513  : 					/* 3. Vowel-soncon trans, use 75-25% rule */
; 514  : 					pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarcur) >> 1;

  02bbb	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  02bbe	0f bf 0e	 movsx	 ecx, WORD PTR [esi]
  02bc1	0f bf 02	 movsx	 eax, WORD PTR [edx]
  02bc4	03 c1		 add	 eax, ecx
  02bc6	d1 f8		 sar	 eax, 1
  02bc8	66 89 06	 mov	 WORD PTR [esi], ax
$L72044:

; 515  : 					pDphsettar->durtran = NF30MS;
; 516  : 				}
; 517  : 				else
; 518  : 				{
; 519  : 					/* 4. Soncon-soncon transition */
; 520  : 					pDphsettar->durtran = NF30MS;

  02bcb	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L72045:

; 521  : 				}
; 522  : 			}
; 523  : 		}
; 524  : 		/* Bound value = previous target if current phone is sil */
; 525  : 		/* eab not if it's the first sil EAB 4/apr/95 I've fixed this once before */
; 526  : 		if (pDphsettar->phcur == GEN_SIL)

  02bcf	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  02bd5	75 3e		 jne	 SHORT $L72046

; 527  : 		{
; 528  : 			/*Eab 7/31/96 changed > 2 to >1 for ending sil*/
; 529  : 			if (pDph_t->nphone > 1)

  02bd7	66 83 bf d0 23
	00 00 01	 cmp	 WORD PTR [edi+9168], 1
  02bdf	7e 1a		 jle	 SHORT $L72047

; 530  : 			{
; 531  : 				pDphsettar->bouval = pDphsettar->np->tarlas;

  02be1	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  02be4	66 8b 42 18	 mov	 ax, WORD PTR [edx+24]
  02be8	66 89 06	 mov	 WORD PTR [esi], ax

; 536  : 			}
; 537  :             pDphsettar->durtran = pDph_t->durfon;

  02beb	66 8b 87 04 15
	00 00		 mov	 ax, WORD PTR [edi+5380]
  02bf2	66 89 46 06	 mov	 WORD PTR [esi+6], ax

; 538  : 		}
; 539  : 		else

  02bf6	e9 49 01 00 00	 jmp	 $L72071
$L72047:

; 532  : 			}
; 533  : 			else
; 534  : 			{
; 535  : 				pDphsettar->bouval = pDphsettar->np->tarnex;

  02bfb	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  02bfe	66 8b 51 16	 mov	 dx, WORD PTR [ecx+22]
  02c02	66 89 16	 mov	 WORD PTR [esi], dx

; 536  : 			}
; 537  :             pDphsettar->durtran = pDph_t->durfon;

  02c05	66 8b 87 04 15
	00 00		 mov	 ax, WORD PTR [edi+5380]
  02c0c	66 89 46 06	 mov	 WORD PTR [esi+6], ax

; 538  : 		}
; 539  : 		else

  02c10	e9 2f 01 00 00	 jmp	 $L72071
$L72046:

; 540  : 		{
; 541  : 			/* 5. pholas=obst, pDphsettar->phcur=sonor transition */
; 542  : 			if (setloc (phTTS, (short)(pDph_t->nphone - 1), pDph_t->nphone, 'i', (short)(pDph_t->nphone - 2), feanex)) // NAL warning removal

  02c15	66 8b 87 d0 23
	00 00		 mov	 ax, WORD PTR [edi+9168]
  02c1c	8b 6c 24 30	 mov	 ebp, DWORD PTR _feanex$[esp+12]
  02c20	55		 push	 ebp
  02c21	8d 48 fe	 lea	 ecx, DWORD PTR [eax-2]
  02c24	51		 push	 ecx
  02c25	6a 69		 push	 105			; 00000069H
  02c27	50		 push	 eax
  02c28	48		 dec	 eax
  02c29	50		 push	 eax
  02c2a	53		 push	 ebx
  02c2b	e8 00 00 00 00	 call	 _setloc

; 543  : 			{
; 544  : 				//debugforward (" Use locus,percent", pDphsettar->np);
; 545  : 			}
; 546  : 			/* 6. pholas=sonor, pDphsettar->phcur=obst transition */
; 547  : 			if (setloc (phTTS, pDph_t->nphone, (short)(pDph_t->nphone - 1), 'f', (short)(pDph_t->nphone + 1),feanex)) // NAL warning removal

  02c30	66 8b 87 d0 23
	00 00		 mov	 ax, WORD PTR [edi+9168]
  02c37	55		 push	 ebp
  02c38	8d 50 01	 lea	 edx, DWORD PTR [eax+1]
  02c3b	8d 48 ff	 lea	 ecx, DWORD PTR [eax-1]
  02c3e	52		 push	 edx
  02c3f	6a 66		 push	 102			; 00000066H
  02c41	51		 push	 ecx
  02c42	50		 push	 eax
  02c43	53		 push	 ebx
  02c44	e8 00 00 00 00	 call	 _setloc

; 548  : 			{
; 549  : 				//debugforward (" Use locus,percent", pDphsettar->np);
; 550  : 			}
; 551  : 			/* Dummy vowel for final plosive release into silence is too */
; 552  : 			/* short for an extensive formant transition, make tran less */
; 553  : 			if ((struccur & FDUMMY_VOWEL) IS_PLUS)
; 554  : 			{
; 555  : 				/* OUT                      xx += ((pDphsettar->bouval - pDphsettar->np->tarend) >> 1); pDphsettar->np->tarend += xx;   (DOESN'T
; 556  : 				 * WORK) END OUT */
; 557  : 			}
; 558  : 			/* F1 raised at onset of voiceless plosive release */
; 559  : 			if (((fealas & FPLOSV) IS_PLUS)
; 560  : 				&& ((fealas & FVOICD) IS_MINUS))

  02c49	8a 44 24 50	 mov	 al, BYTE PTR _fealas$[esp+60]
  02c4d	83 c4 30	 add	 esp, 48			; 00000030H
  02c50	a8 40		 test	 al, 64			; 00000040H
  02c52	74 12		 je	 SHORT $L72058
  02c54	a8 02		 test	 al, 2
  02c56	75 0e		 jne	 SHORT $L72058

; 561  : 			{
; 562  : 				if (pDphsettar->np == &PF1)

  02c58	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  02c5b	8d 57 24	 lea	 edx, DWORD PTR [edi+36]
  02c5e	3b c2		 cmp	 eax, edx
  02c60	75 04		 jne	 SHORT $L72058

; 563  : 					pDphsettar->bouval += 100;

  02c62	66 83 06 64	 add	 WORD PTR [esi], 100	; 00000064H
$L72058:

; 564  : 			}
; 565  : 			/* Transitions modified inside obstruents */
; 566  : 			if ((feacur & FOBST) IS_PLUS)

  02c66	8a 44 24 24	 mov	 al, BYTE PTR _feacur$[esp+12]
  02c6a	a8 20		 test	 al, 32			; 00000020H
  02c6c	74 25		 je	 SHORT $L72061

; 567  : 			{
; 568  : 				pDphsettar->durtran = NF30MS;
; 569  : 				if (pDphsettar->np == &PF1)

  02c6e	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  02c71	8d 4f 24	 lea	 ecx, DWORD PTR [edi+36]
  02c74	3b d1		 cmp	 edx, ecx
  02c76	66 c7 46 06 05
	00		 mov	 WORD PTR [esi+6], 5
  02c7c	75 06		 jne	 SHORT $L72060

; 570  : 					pDphsettar->durtran = NF20MS;

  02c7e	66 c7 46 06 03
	00		 mov	 WORD PTR [esi+6], 3
$L72060:

; 571  : 				/* Transitions take all of plosive duration */
; 572  : 				if ((feacur & FPLOSV) IS_PLUS)

  02c84	a8 40		 test	 al, 64			; 00000040H
  02c86	74 0b		 je	 SHORT $L72061

; 573  : 				{
; 574  : 					pDphsettar->durtran = pDph_t->durfon;

  02c88	66 8b 97 04 15
	00 00		 mov	 dx, WORD PTR [edi+5380]
  02c8f	66 89 56 06	 mov	 WORD PTR [esi+6], dx
$L72061:

; 575  : 				}
; 576  : 			}
; 577  : 			/* Higher formant transitions slow inside a nasal */
; 578  : 			if ((feacur & FNASAL) IS_PLUS)

  02c93	a8 80		 test	 al, -128		; ffffff80H
  02c95	0f 84 a9 00 00
	00		 je	 $L72071

; 579  : 			{
; 580  : 				pDphsettar->durtran = pDph_t->durfon;
; 581  : 				/* Except F1, which jumps to value above FNZRO */
; 582  : 				if (pDphsettar->np == &PF1)

  02c9b	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  02c9e	66 8b 87 04 15
	00 00		 mov	 ax, WORD PTR [edi+5380]
  02ca5	8d 4f 24	 lea	 ecx, DWORD PTR [edi+36]
  02ca8	66 89 46 06	 mov	 WORD PTR [esi+6], ax
  02cac	3b d1		 cmp	 edx, ecx
  02cae	75 0b		 jne	 SHORT $L72063

; 583  : 				{
; 584  : 					pDphsettar->durtran = 0;

  02cb0	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0

; 585  : 				}
; 586  : 				/* Lower F2 & F3 of [n] nasal murmur after front vowels */
; 587  : 				else if (((pDphsettar->phcur == USP_N) || (pDphsettar->phcur == USP_EN))

  02cb6	e9 89 00 00 00	 jmp	 $L72071
$L72063:

; 588  : 						 && (endtyp(pholas) == 1))

  02cbb	66 8b 4e 18	 mov	 cx, WORD PTR [esi+24]
  02cbf	66 81 f9 20 1e	 cmp	 cx, 7712		; 00001e20H
  02cc4	74 07		 je	 SHORT $L72066
  02cc6	66 81 f9 24 1e	 cmp	 cx, 7716		; 00001e24H
  02ccb	75 50		 jne	 SHORT $L72065
$L72066:
  02ccd	0f bf 44 24 1c	 movsx	 eax, WORD PTR _pholas$[esp+12]
  02cd2	8b d8		 mov	 ebx, eax
  02cd4	8b e8		 mov	 ebp, eax
  02cd6	c1 fb 08	 sar	 ebx, 8
  02cd9	81 e5 ff 00 00
	00		 and	 ebp, 255		; 000000ffH
  02cdf	8b 1c 9d 00 00
	00 00		 mov	 ebx, DWORD PTR _all_endtyp[ebx*4]
  02ce6	66 83 3c 6b 01	 cmp	 WORD PTR [ebx+ebp*2], 1
  02ceb	75 30		 jne	 SHORT $L72065

; 589  : 				{
; 590  : 					if (pDphsettar->np == &PF2)

  02ced	8d 4f 48	 lea	 ecx, DWORD PTR [edi+72]
  02cf0	3b d1		 cmp	 edx, ecx
  02cf2	75 1c		 jne	 SHORT $L72068

; 591  : 					{
; 592  : 						pDphsettar->bouval -= 100;

  02cf4	66 83 06 9c	 add	 WORD PTR [esi], -100	; ffffff9cH
  02cf8	66 8b 0e	 mov	 cx, WORD PTR [esi]

; 593  : 						if ((us_place[pholas  & PVALUE] & F2BACKF) IS_PLUS)

  02cfb	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  02d00	f6 04 45 00 00
	00 00 80	 test	 BYTE PTR _us_place[eax*2], -128 ; ffffff80H
  02d08	74 06		 je	 SHORT $L72068

; 594  : 						{
; 595  : 							pDphsettar->bouval -= 100;

  02d0a	83 c1 9c	 add	 ecx, -100		; ffffff9cH
  02d0d	66 89 0e	 mov	 WORD PTR [esi], cx
$L72068:

; 596  : 						}
; 597  : 					}
; 598  : 					if (pDphsettar->np == &PF3)

  02d10	8d 47 6c	 lea	 eax, DWORD PTR [edi+108]
  02d13	3b d0		 cmp	 edx, eax
  02d15	75 2d		 jne	 SHORT $L72071

; 599  : 						pDphsettar->bouval -= 100;;

  02d17	66 83 06 9c	 add	 WORD PTR [esi], -100	; ffffff9cH

; 600  : 				}
; 601  : 				/* Lower F2 of [m] nasal murmur near [i,e] */
; 602  : 				else if ((pDphsettar->np == &PF2) && (pDphsettar->phcur == USP_M)

  02d1b	eb 27		 jmp	 SHORT $L72071
$L72065:

; 603  : 						 && ((us_place[pholas  & PVALUE] & F2BACKF) IS_PLUS))

  02d1d	8d 47 48	 lea	 eax, DWORD PTR [edi+72]
  02d20	3b d0		 cmp	 edx, eax
  02d22	75 20		 jne	 SHORT $L72071
  02d24	66 81 f9 1f 1e	 cmp	 cx, 7711		; 00001e1fH
  02d29	75 19		 jne	 SHORT $L72071
  02d2b	8b 4c 24 1c	 mov	 ecx, DWORD PTR _pholas$[esp+12]
  02d2f	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  02d35	f6 04 4d 00 00
	00 00 80	 test	 BYTE PTR _us_place[ecx*2], -128 ; ffffff80H
  02d3d	74 05		 je	 SHORT $L72071

; 604  : 				{
; 605  : 					pDphsettar->bouval -= 150;

  02d3f	66 81 06 6a ff	 add	 WORD PTR [esi], -150	; ffffff6aH
$L72071:

; 606  : 				}
; 607  : 			}
; 608  : 		}
; 609  : 		/* Shrink transition dur inside sonor if sonor short */
; 610  : 		if (((feacur & FOBST) IS_MINUS)
; 611  : 			&& (endtyp(pholas) != OBSTRUENT)   /* Unless prev seg is obst */
; 612  : 			&& (pDphsettar->durtran > 0))

  02d44	f6 44 24 24 20	 test	 BYTE PTR _feacur$[esp+12], 32 ; 00000020H
  02d49	0f 85 94 03 00
	00		 jne	 $L72120
  02d4f	0f bf 44 24 1c	 movsx	 eax, WORD PTR _pholas$[esp+12]
  02d54	8b d0		 mov	 edx, eax
  02d56	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  02d5b	c1 fa 08	 sar	 edx, 8
  02d5e	8b 0c 95 00 00
	00 00		 mov	 ecx, DWORD PTR _all_endtyp[edx*4]
  02d65	66 83 3c 41 04	 cmp	 WORD PTR [ecx+eax*2], 4
  02d6a	0f 84 73 03 00
	00		 je	 $L72120
  02d70	66 8b 46 06	 mov	 ax, WORD PTR [esi+6]
  02d74	66 85 c0	 test	 ax, ax
  02d77	0f 8e 66 03 00
	00		 jle	 $L72120

; 613  : 		{
; 614  : 			//pDph_t->arg1 = pDphsettar->durtran;
; 615  : 			//pDph_t->arg2 = shrif;
; 616  : 			pDphsettar->durtran = mlsh1 (pDphsettar->durtran, shrif) + 1;

  02d7d	0f bf d0	 movsx	 edx, ax
  02d80	0f bf 44 24 18	 movsx	 eax, WORD PTR _shrif$[esp+12]
  02d85	0f af d0	 imul	 edx, eax
  02d88	c1 fa 0e	 sar	 edx, 14			; 0000000eH
  02d8b	42		 inc	 edx
  02d8c	66 89 56 06	 mov	 WORD PTR [esi+6], dx

; 617  : 		}
; 618  : 	}
; 619  : 	/* FORWARD SMOOTH:  FN */
; 620  : 	else if (pDphsettar->par_type IS_NASAL_ZERO_FREQ)

  02d90	e9 4e 03 00 00	 jmp	 $L72120
$L72035:
  02d95	3c 01		 cmp	 al, 1
  02d97	75 2e		 jne	 SHORT $L72074

; 621  : 	{
; 622  : 		pDphsettar->durtran = 0;
; 623  : 		if (((fealas & FNASAL) IS_PLUS)
; 624  : 			&& ((feacur & FNASAL) IS_MINUS))

  02d99	8a 4c 24 20	 mov	 cl, BYTE PTR _fealas$[esp+12]
  02d9d	b0 80		 mov	 al, -128		; ffffff80H
  02d9f	84 c8		 test	 cl, al
  02da1	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
  02da7	0f 84 36 03 00
	00		 je	 $L72120
  02dad	84 44 24 24	 test	 BYTE PTR _feacur$[esp+12], al
  02db1	0f 85 2c 03 00
	00		 jne	 $L72120

; 625  : 		{
; 626  : 			pDphsettar->bouval = NASAL_ZERO_BOUNDARY;

  02db7	66 c7 06 72 01	 mov	 WORD PTR [esi], 370	; 00000172H

; 627  : 			pDphsettar->durtran = NF80MS;

  02dbc	66 c7 46 06 0d
	00		 mov	 WORD PTR [esi+6], 13	; 0000000dH

; 628  : 		}
; 629  : 	}
; 630  : 	/* FORWARD SMOOTH:  B1, B2, B3 */
; 631  : 	else if (pDphsettar->par_type IS_FORM_BW)

  02dc2	e9 1c 03 00 00	 jmp	 $L72120
$L72074:
  02dc7	3c 04		 cmp	 al, 4
  02dc9	0f 85 6e 01 00
	00		 jne	 $L72077

; 632  : 	{
; 633  : 		/* Default transition duration is 40 ms */
; 634  : 		pDphsettar->durtran = NF40MS;
; 635  : 		/* Widen first formant bw if preceeding seg voiceless */
; 636  : 		if ((feacur & FVOICD) IS_PLUS)

  02dcf	8a 44 24 24	 mov	 al, BYTE PTR _feacur$[esp+12]
  02dd3	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
  02dd9	a8 02		 test	 al, 2
  02ddb	bb 08 00 00 00	 mov	 ebx, 8
  02de0	74 28		 je	 SHORT $L72078

; 637  : 		{
; 638  : 			if ((pDphsettar->np == &PB1)
; 639  : 				&& ((fealas & FVOICD) IS_MINUS))

  02de2	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  02de5	8d 8f b4 00 00
	00		 lea	 ecx, DWORD PTR [edi+180]
  02deb	3b c1		 cmp	 eax, ecx
  02ded	75 1f		 jne	 SHORT $L72080
  02def	f6 44 24 20 02	 test	 BYTE PTR _fealas$[esp+12], 2
  02df4	75 18		 jne	 SHORT $L72080

; 640  : 			{
; 641  : 				pDphsettar->durtran = NF50MS;

  02df6	66 89 5e 06	 mov	 WORD PTR [esi+6], bx

; 642  : 				/* More increase for low vowels (F1 high) */
; 643  : 				pDphsettar->bouval = pDphsettar->np->tarcur + (PF1.tarcur >> 3);

  02dfa	66 8b 57 24	 mov	 dx, WORD PTR [edi+36]
  02dfe	66 c1 fa 03	 sar	 dx, 3
  02e02	66 03 10	 add	 dx, WORD PTR [eax]
  02e05	66 89 16	 mov	 WORD PTR [esi], dx

; 644  : 			}
; 645  : 		}
; 646  : 		else

  02e08	eb 04		 jmp	 SHORT $L72080
$L72078:

; 647  : 		{                                       
; 648  : 			pDphsettar->durtran = NF20MS;

  02e0a	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L72080:

; 649  : 		}
; 650  : 		/* Treat boundary with silence */
; 651  : 		if (pholas == GEN_SIL)

  02e0e	b8 00 1e 00 00	 mov	 eax, 7680		; 00001e00H
  02e13	66 39 44 24 1c	 cmp	 WORD PTR _pholas$[esp+12], ax
  02e18	75 2f		 jne	 SHORT $L72081

; 652  : 		{
; 653  : 			pDphsettar->bouval = pDphsettar->np->tarcur + ((&PB3 - pDphsettar->np) * 50);

  02e1a	8b 6e 10	 mov	 ebp, DWORD PTR [esi+16]
  02e1d	8b cf		 mov	 ecx, edi
  02e1f	2b cd		 sub	 ecx, ebp
  02e21	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  02e26	81 c1 fc 00 00
	00		 add	 ecx, 252		; 000000fcH
  02e2c	f7 e9		 imul	 ecx
  02e2e	c1 fa 03	 sar	 edx, 3
  02e31	8b c2		 mov	 eax, edx
  02e33	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  02e36	03 d0		 add	 edx, eax
  02e38	8d 04 92	 lea	 eax, DWORD PTR [edx+edx*4]
  02e3b	8d 0c 80	 lea	 ecx, DWORD PTR [eax+eax*4]
  02e3e	d1 e1		 shl	 ecx, 1
  02e40	66 03 4d 00	 add	 cx, WORD PTR [ebp]
  02e44	66 89 0e	 mov	 WORD PTR [esi], cx

; 654  : 			pDphsettar->durtran = NF50MS;
; 655  : 		}
; 656  : 		else if (pDphsettar->phcur == GEN_SIL)

  02e47	eb 71		 jmp	 SHORT $L72084
$L72081:
  02e49	66 39 46 18	 cmp	 WORD PTR [esi+24], ax
  02e4d	75 6f		 jne	 SHORT $L72083

; 657  : 		{
; 658  : 			pDphsettar->bouval = pDphsettar->np->tarlas + ((&PB3 - pDphsettar->np) * 50);

  02e4f	8b 6e 10	 mov	 ebp, DWORD PTR [esi+16]
  02e52	8b cf		 mov	 ecx, edi
  02e54	2b cd		 sub	 ecx, ebp
  02e56	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  02e5b	81 c1 fc 00 00
	00		 add	 ecx, 252		; 000000fcH
  02e61	f7 e9		 imul	 ecx
  02e63	c1 fa 03	 sar	 edx, 3
  02e66	8b c2		 mov	 eax, edx
  02e68	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  02e6b	03 d0		 add	 edx, eax
  02e6d	8d 04 92	 lea	 eax, DWORD PTR [edx+edx*4]
  02e70	8d 0c 80	 lea	 ecx, DWORD PTR [eax+eax*4]
  02e73	d1 e1		 shl	 ecx, 1
  02e75	66 03 4d 18	 add	 cx, WORD PTR [ebp+24]
  02e79	66 89 0e	 mov	 WORD PTR [esi], cx

; 659  : 			if (((phone_feature( pDph_t,pDph_t->allophons[pDph_t->nphone - 2]) & FVOICD) IS_MINUS)
; 660  : 				&& ((struclas & FDUMMY_VOWEL) IS_PLUS)
; 661  : 				&& (pDphsettar->np == &PB1))

  02e7c	0f bf 97 d0 23
	00 00		 movsx	 edx, WORD PTR [edi+9168]
  02e83	0f bf 84 57 e8
	03 00 00	 movsx	 eax, WORD PTR [edi+edx*2+1000]
  02e8b	50		 push	 eax
  02e8c	57		 push	 edi
  02e8d	e8 00 00 00 00	 call	 _phone_feature
  02e92	83 c4 08	 add	 esp, 8
  02e95	a8 02		 test	 al, 2
  02e97	75 21		 jne	 SHORT $L72084
  02e99	8b 4c 24 28	 mov	 ecx, DWORD PTR _struclas$[esp+12]
  02e9d	81 e1 00 08 00
	00		 and	 ecx, 2048		; 00000800H
  02ea3	66 85 c9	 test	 cx, cx
  02ea6	74 12		 je	 SHORT $L72084
  02ea8	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  02eab	8d 97 b4 00 00
	00		 lea	 edx, DWORD PTR [edi+180]
  02eb1	3b c2		 cmp	 eax, edx
  02eb3	75 05		 jne	 SHORT $L72084

; 662  : 			{
; 663  : 				pDphsettar->bouval = 260;	/* Kluge to avoid discontinutiy */

  02eb5	66 c7 06 04 01	 mov	 WORD PTR [esi], 260	; 00000104H
$L72084:

; 664  : 			}
; 665  : 			pDphsettar->durtran = NF50MS;

  02eba	66 89 5e 06	 mov	 WORD PTR [esi+6], bx
$L72083:

; 666  : 		}
; 667  : 
; 668  : 		/* BW1 widen, to nasalize transition out of previous nasal */
; 669  : 		if ((fealas & FNASAL) IS_PLUS)

  02ebe	8a 44 24 20	 mov	 al, BYTE PTR _fealas$[esp+12]
  02ec2	b3 80		 mov	 bl, -128		; ffffff80H
  02ec4	84 c3		 test	 al, bl
  02ec6	74 60		 je	 SHORT $L72088

; 670  : 		{
; 671  : 			pDphsettar->bouval = pDphsettar->np->tarcur;	/* B2,B3 not influ by nasal */

  02ec8	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]

; 672  : 			/* Except F2 of [n], which is wider in a non-front vowel */
; 673  : 			if ((pDphsettar->np == &PB2) && ((pholas == USP_N) || (pholas == USP_EN))
; 674  : 				&& (begtyp(pDphsettar->phcur) != 1))

  02ecb	8d 87 d8 00 00
	00		 lea	 eax, DWORD PTR [edi+216]
  02ed1	3b c8		 cmp	 ecx, eax
  02ed3	66 8b 11	 mov	 dx, WORD PTR [ecx]
  02ed6	66 89 16	 mov	 WORD PTR [esi], dx
  02ed9	75 39		 jne	 SHORT $L72086
  02edb	8b 44 24 1c	 mov	 eax, DWORD PTR _pholas$[esp+12]
  02edf	66 3d 20 1e	 cmp	 ax, 7712		; 00001e20H
  02ee3	74 06		 je	 SHORT $L72087
  02ee5	66 3d 24 1e	 cmp	 ax, 7716		; 00001e24H
  02ee9	75 29		 jne	 SHORT $L72086
$L72087:
  02eeb	0f bf 46 18	 movsx	 eax, WORD PTR [esi+24]
  02eef	8b e8		 mov	 ebp, eax
  02ef1	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  02ef6	c1 fd 08	 sar	 ebp, 8
  02ef9	8b 2c ad 00 00
	00 00		 mov	 ebp, DWORD PTR _all_begtyp[ebp*4]
  02f00	66 83 7c 45 00
	01		 cmp	 WORD PTR [ebp+eax*2], 1
  02f06	74 0c		 je	 SHORT $L72086

; 675  : 			{
; 676  : 				pDphsettar->bouval += 60;

  02f08	83 c2 3c	 add	 edx, 60			; 0000003cH

; 677  : 				pDphsettar->durtran = NF60MS;

  02f0b	66 c7 46 06 09
	00		 mov	 WORD PTR [esi+6], 9
  02f11	66 89 16	 mov	 WORD PTR [esi], dx
$L72086:

; 678  : 			}
; 679  : 			if (pDphsettar->np == &PB1)

  02f14	8d 97 b4 00 00
	00		 lea	 edx, DWORD PTR [edi+180]
  02f1a	3b ca		 cmp	 ecx, edx
  02f1c	75 0a		 jne	 SHORT $L72088

; 680  : 			{
; 681  : 				pDphsettar->durtran = NF100MS;
; 682  : 				pDphsettar->bouval += 70;

  02f1e	66 83 06 46	 add	 WORD PTR [esi], 70	; 00000046H
  02f22	66 c7 46 06 10
	00		 mov	 WORD PTR [esi+6], 16	; 00000010H
$L72088:

; 683  : 			}
; 684  : 		}
; 685  : 		/* Nasals have constant bandwidths at target values */
; 686  : 		if ((feacur & FNASAL) IS_PLUS)

  02f28	84 5c 24 24	 test	 BYTE PTR _feacur$[esp+12], bl
  02f2c	0f 84 b1 01 00
	00		 je	 $L72120

; 687  : 		{
; 688  : 			pDphsettar->durtran = 0;

  02f32	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0

; 689  : 			//debugforward (" Nasal has const par val", pDphsettar->np);
; 690  : 		}
; 691  : 	}
; 692  : 	/* FORWARD SMOOTH:  AV, AP, A2, A3, A4, A5, A6, AB */
; 693  : 
; 694  : 	/* Default pDphsettar->bouval is average of tarcur & tarend, default tc is 30 ms */
; 695  : 	else if ((pDphsettar->par_type IS_PARALLEL_FORM_AMP)

  02f38	e9 a6 01 00 00	 jmp	 $L72120
$L72077:

; 696  : 			 || (pDphsettar->par_type IS_AV_OR_AH))

  02f3d	3c 02		 cmp	 al, 2
  02f3f	74 08		 je	 SHORT $L72092
  02f41	84 c0		 test	 al, al
  02f43	0f 85 9a 01 00
	00		 jne	 $L72120
$L72092:

; 697  : 	{
; 698  : 
; 699  : 		/* See if onset, i.e. plosive or large source intensity increase */
; 700  : 		temp = pDphsettar->np->tarcur - 10;

  02f49	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]

; 701  : 		if ((pDphsettar->bouval < temp) || ((fealas & FPLOSV) IS_PLUS)
; 702  : 			|| (pholas == USP_JH))

  02f4c	8b 54 24 24	 mov	 edx, DWORD PTR _feacur$[esp+12]
  02f50	8b 5c 24 20	 mov	 ebx, DWORD PTR _fealas$[esp+12]
  02f54	66 8b 01	 mov	 ax, WORD PTR [ecx]
  02f57	66 2d 0a 00	 sub	 ax, 10			; 0000000aH
  02f5b	66 39 06	 cmp	 WORD PTR [esi], ax
  02f5e	7c 0e		 jl	 SHORT $L72094
  02f60	f6 c3 40	 test	 bl, 64			; 00000040H
  02f63	75 09		 jne	 SHORT $L72094
  02f65	66 81 7c 24 1c
	37 1e		 cmp	 WORD PTR _pholas$[esp+12], 7735 ; 00001e37H
  02f6c	75 48		 jne	 SHORT $L72100
$L72094:

; 703  : 		{
; 704  : 			pDphsettar->bouval = temp;
; 705  : 			if ((feacur & FOBST) IS_MINUS)

  02f6e	f6 c2 20	 test	 dl, 32			; 00000020H
  02f71	66 89 06	 mov	 WORD PTR [esi], ax
  02f74	75 04		 jne	 SHORT $L72095

; 706  : 				pDphsettar->durtran = NF20MS;

  02f76	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L72095:

; 707  : 			/* Voicing is special */
; 708  : 			if (pDphsettar->np == &PAV)

  02f7a	8d af 20 01 00
	00		 lea	 ebp, DWORD PTR [edi+288]
  02f80	3b cd		 cmp	 ecx, ebp
  02f82	75 32		 jne	 SHORT $L72100

; 709  : 			{
; 710  : 				/* Gradual buildup of voicing */
; 711  : 				if (pholas == GEN_SIL)

  02f84	66 81 7c 24 1c
	00 1e		 cmp	 WORD PTR _pholas$[esp+12], 7680 ; 00001e00H
  02f8b	75 0f		 jne	 SHORT $L72098

; 712  : 				{
; 713  : 					if ((feacur & FVOICD) IS_PLUS)

  02f8d	f6 c2 02	 test	 dl, 2
  02f90	74 0a		 je	 SHORT $L72098

; 714  : 					{
; 715  : 						pDphsettar->durtran = NF45MS;
; 716  : 						pDphsettar->bouval -= 8;

  02f92	66 83 06 f8	 add	 WORD PTR [esi], -8	; fffffff8H
  02f96	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
$L72098:

; 717  : 					}
; 718  : 				}
; 719  : 				/* Obstruent voicing onset is abrupt */
; 720  : 				if ((fealas & FOBST) IS_PLUS)

  02f9c	f6 c3 20	 test	 bl, 32			; 00000020H
  02f9f	74 06		 je	 SHORT $L72099

; 721  : 				{
; 722  : 					pDphsettar->bouval = temp + 6;

  02fa1	83 c0 06	 add	 eax, 6
  02fa4	66 89 06	 mov	 WORD PTR [esi], ax
$L72099:

; 723  : 				}
; 724  : 				/* Plosive onset is abrupt (used mainly for [bdg]) */
; 725  : 				if ((fealas & FPLOSV) IS_PLUS)

  02fa7	f6 c3 40	 test	 bl, 64			; 00000040H
  02faa	74 0a		 je	 SHORT $L72100

; 726  : 				{
; 727  : 					pDphsettar->bouval = pDphsettar->np->tarcur - 5;

  02fac	66 8b 01	 mov	 ax, WORD PTR [ecx]
  02faf	66 2d 05 00	 sub	 ax, 5
  02fb3	66 89 06	 mov	 WORD PTR [esi], ax
$L72100:

; 728  : 				}
; 729  : 			}
; 730  : 			//debugforward (" Onset", pDphsettar->np);
; 731  : 		}
; 732  : 		/* If last nasal, and source amp increased, abrupt onset */
; 733  : 		if (((fealas & FNASAL) IS_PLUS)
; 734  : 			&& ((feacur & FVOICD) IS_PLUS))

  02fb6	f6 c3 80	 test	 bl, -128		; ffffff80H
  02fb9	74 0d		 je	 SHORT $L75076
  02fbb	f6 c2 02	 test	 dl, 2
  02fbe	74 08		 je	 SHORT $L75076

; 735  : 		{
; 736  : 			pDphsettar->durtran = 0;

  02fc0	33 ed		 xor	 ebp, ebp
  02fc2	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
  02fc6	eb 02		 jmp	 SHORT $L72101
$L75076:
  02fc8	33 ed		 xor	 ebp, ebp
$L72101:

; 737  : 			//debugforward (" Onset from nasal", pDphsettar->np);
; 738  : 		}
; 739  : 		/* Voicing source amp const in intervocalic nasal */
; 740  : 		if ((feacur & FNASAL) IS_PLUS)

  02fca	f6 c2 80	 test	 dl, -128		; ffffff80H
  02fcd	74 13		 je	 SHORT $L72104

; 741  : 		{
; 742  : 			if ((fealas & FVOICD) IS_PLUS)

  02fcf	f6 c3 02	 test	 bl, 2
  02fd2	74 0e		 je	 SHORT $L72104

; 743  : 			{
; 744  : 				if (pDphsettar->np == &PAV)

  02fd4	8d 87 20 01 00
	00		 lea	 eax, DWORD PTR [edi+288]
  02fda	3b c8		 cmp	 ecx, eax
  02fdc	75 04		 jne	 SHORT $L72104

; 745  : 					pDphsettar->durtran = 0;

  02fde	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L72104:

; 746  : 			}
; 747  : 		}
; 748  : 		/* See if offset, i.e. source intensity decreasing */
; 749  : 		temp = pDphsettar->np->tarlas - 10;

  02fe2	66 8b 41 18	 mov	 ax, WORD PTR [ecx+24]
  02fe6	66 2d 0a 00	 sub	 ax, 10			; 0000000aH

; 750  : 		if (pDphsettar->bouval < temp)

  02fea	66 39 06	 cmp	 WORD PTR [esi], ax
  02fed	7d 22		 jge	 SHORT $L72107

; 751  : 		{
; 752  : 			/* Reduce bounval by 3 dB because bval time is onset */
; 753  : 			/* of next phoneme */
; 754  : 			pDphsettar->bouval = temp - 3;

  02fef	83 c0 fd	 add	 eax, -3			; fffffffdH

; 755  : 			/* Source amplitudes fall gradually into silence */
; 756  : 			if (pDphsettar->phcur == GEN_SIL)

  02ff2	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  02ff8	66 89 06	 mov	 WORD PTR [esi], ax
  02ffb	75 06		 jne	 SHORT $L72106

; 757  : 				pDphsettar->durtran = NF70MS;

  02ffd	66 c7 46 06 0b
	00		 mov	 WORD PTR [esi+6], 11	; 0000000bH
$L72106:

; 758  : 			/* Except voicing offset is abrupt */
; 759  : 			if (pDphsettar->np == &PAV)

  03003	8d 87 20 01 00
	00		 lea	 eax, DWORD PTR [edi+288]
  03009	3b c8		 cmp	 ecx, eax
  0300b	75 04		 jne	 SHORT $L72107

; 760  : 				pDphsettar->durtran = 0;

  0300d	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L72107:

; 761  : 			//debugforward (" Offset", pDphsettar->np);
; 762  : 		}
; 763  : 		/* Buildup A3 gradually in [C, J] */
; 764  : 		if (pDphsettar->np == &PA3)

  03011	8d 87 8c 01 00
	00		 lea	 eax, DWORD PTR [edi+396]
  03017	3b c8		 cmp	 ecx, eax
  03019	75 29		 jne	 SHORT $L72109

; 765  : 		{
; 766  : 			if ((pDphsettar->phcur == USP_CH) || (pDphsettar->phcur == USP_JH))

  0301b	66 8b 46 18	 mov	 ax, WORD PTR [esi+24]
  0301f	66 3d 36 1e	 cmp	 ax, 7734		; 00001e36H
  03023	74 06		 je	 SHORT $L72110
  03025	66 3d 37 1e	 cmp	 ax, 7735		; 00001e37H
  03029	75 19		 jne	 SHORT $L72109
$L72110:

; 767  : 			{
; 768  : 				pDphsettar->durtran = pDph_t->durfon - NF15MS;

  0302b	66 8b 87 04 15
	00 00		 mov	 ax, WORD PTR [edi+5380]
  03032	66 2d 02 00	 sub	 ax, 2
  03036	66 89 46 06	 mov	 WORD PTR [esi+6], ax

; 769  : 				pDphsettar->bouval = pDphsettar->np->tarcur - 30;

  0303a	66 8b 01	 mov	 ax, WORD PTR [ecx]
  0303d	66 2d 1e 00	 sub	 ax, 30			; 0000001eH
  03041	66 89 06	 mov	 WORD PTR [esi], ax
$L72109:

; 770  : 				//debugforward (" CH/JH rule", pDphsettar->np);
; 771  : 			}
; 772  : 		}
; 773  : 		/* Offset of a vowel into voiceless open vocal tract is breathy */
; 774  : 		if (pDphsettar->np == &PAP)

  03044	8d 87 44 01 00
	00		 lea	 eax, DWORD PTR [edi+324]
  0304a	3b c8		 cmp	 ecx, eax
  0304c	75 4a		 jne	 SHORT $L72116

; 775  : 		{
; 776  : 			if ((pDphsettar->phcur == GEN_SIL) || (pDphsettar->phcur == USP_F) || (pDphsettar->phcur == USP_TH)
; 777  : 				|| (pDphsettar->phcur == USP_S) || (pDphsettar->phcur == USP_SH))

  0304e	66 8b 46 18	 mov	 ax, WORD PTR [esi+24]
  03052	66 3d 00 1e	 cmp	 ax, 7680		; 00001e00H
  03056	74 18		 je	 SHORT $L72113
  03058	66 3d 25 1e	 cmp	 ax, 7717		; 00001e25H
  0305c	74 12		 je	 SHORT $L72113
  0305e	66 3d 27 1e	 cmp	 ax, 7719		; 00001e27H
  03062	74 0c		 je	 SHORT $L72113
  03064	66 3d 29 1e	 cmp	 ax, 7721		; 00001e29H
  03068	74 06		 je	 SHORT $L72113
  0306a	66 3d 2b 1e	 cmp	 ax, 7723		; 00001e2bH
  0306e	75 28		 jne	 SHORT $L72116
$L72113:

; 778  : 			{
; 779  : 				if (((fealas & FVOICD) IS_PLUS)
; 780  : 					&& ((fealas & FOBST) IS_MINUS))

  03070	f6 c3 02	 test	 bl, 2
  03073	74 23		 je	 SHORT $L72116
  03075	f6 c3 20	 test	 bl, 32			; 00000020H
  03078	75 1e		 jne	 SHORT $L72116

; 781  : 				{
; 782  : 					if (pDphsettar->phcur == GEN_SIL)

  0307a	66 3d 00 1e	 cmp	 ax, 7680		; 00001e00H
  0307e	75 0d		 jne	 SHORT $L72115

; 783  : 					{
; 784  : 						pDphsettar->bouval = 52;

  03080	66 c7 06 34 00	 mov	 WORD PTR [esi], 52	; 00000034H

; 785  : 						pDphsettar->durtran = NF80MS;

  03085	66 c7 46 06 0d
	00		 mov	 WORD PTR [esi+6], 13	; 0000000dH

; 786  : 					}
; 787  : 					else

  0308b	eb 0b		 jmp	 SHORT $L72116
$L72115:

; 788  : 					{
; 789  : 						pDphsettar->bouval = 48;

  0308d	66 c7 06 30 00	 mov	 WORD PTR [esi], 48	; 00000030H

; 790  : 						pDphsettar->durtran = NF45MS;

  03092	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
$L72116:

; 791  : 					}
; 792  : 				}
; 793  : 			}
; 794  : 		}
; 795  : 		/* FORWARD SMOOTH:  TLT */
; 796  : 
; 797  : 		/* Tilt parameter jumps to target values near stops and silence */
; 798  : 		if (pDphsettar->np == &PTILT)

  03098	8d 87 40 02 00
	00		 lea	 eax, DWORD PTR [edi+576]
  0309e	3b c8		 cmp	 ecx, eax
  030a0	75 41		 jne	 SHORT $L72120

; 799  : 		{
; 800  : 			pDphsettar->durtran = NF25MS;
; 801  : 			if (pholas == GEN_SIL)

  030a2	66 81 7c 24 1c
	00 1e		 cmp	 WORD PTR _pholas$[esp+12], 7680 ; 00001e00H
  030a9	66 c7 46 06 04
	00		 mov	 WORD PTR [esi+6], 4
  030af	75 06		 jne	 SHORT $L72118

; 802  : 			{
; 803  : 				pDphsettar->bouval = pDphsettar->np->tarcur;

  030b1	66 8b 09	 mov	 cx, WORD PTR [ecx]
  030b4	66 89 0e	 mov	 WORD PTR [esi], cx
$L72118:

; 804  : 			}
; 805  : 			if (pDphsettar->phcur == GEN_SIL)

  030b7	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  030bd	75 0a		 jne	 SHORT $L72119

; 806  : 			{
; 807  : 				/* Reach into par buffer to get actual previous value */
; 808  : 				pDphsettar->bouval = pDph_t->parstochip[OUT_TLT];

  030bf	66 8b 87 ae 03
	00 00		 mov	 ax, WORD PTR [edi+942]
  030c6	66 89 06	 mov	 WORD PTR [esi], ax
$L72119:

; 809  : 			}
; 810  : 			if (((fealas & FSTOP) IS_PLUS)
; 811  : 				|| ((feacur & FSTOP) IS_PLUS))

  030c9	81 e3 00 20 00
	00		 and	 ebx, 8192		; 00002000H
  030cf	66 85 db	 test	 bx, bx
  030d2	75 0b		 jne	 SHORT $L72121
  030d4	81 e2 00 20 00
	00		 and	 edx, 8192		; 00002000H
  030da	66 85 d2	 test	 dx, dx
  030dd	74 04		 je	 SHORT $L72120
$L72121:

; 812  : 			{
; 813  : 				pDphsettar->durtran = 0;

  030df	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L72120:

; 814  : 			}
; 815  : 		}
; 816  : 	}
; 817  : 	/* Truncate tran dur if exceeds duration of current phone */
; 818  : 	if (pDphsettar->durtran > pDph_t->durfon)

  030e3	66 8b bf 04 15
	00 00		 mov	 di, WORD PTR [edi+5380]
  030ea	66 39 7e 06	 cmp	 WORD PTR [esi+6], di
  030ee	7e 04		 jle	 SHORT $L72122

; 819  : 		pDphsettar->durtran = pDph_t->durfon;

  030f0	66 89 7e 06	 mov	 WORD PTR [esi+6], di
$L72122:

; 820  : 	/* Or duration of 20 frames */
; 821  : 	if (pDphsettar->durtran > NF130MS)

  030f4	b8 14 00 00 00	 mov	 eax, 20			; 00000014H
  030f9	66 39 46 06	 cmp	 WORD PTR [esi+6], ax
  030fd	7e 04		 jle	 SHORT $L72123

; 822  : 		pDphsettar->durtran = NF130MS;

  030ff	66 89 46 06	 mov	 WORD PTR [esi+6], ax
$L72123:

; 823  : 	/* Do not allow amplitude value to go below zero */
; 824  : 	if (pDphsettar->bouval < 0)

  03103	66 83 3e 00	 cmp	 WORD PTR [esi], 0
  03107	7d 05		 jge	 SHORT $L72124

; 825  : 		pDphsettar->bouval = 0;

  03109	66 c7 06 00 00	 mov	 WORD PTR [esi], 0
$L72124:
  0310e	5f		 pop	 edi
  0310f	5e		 pop	 esi
  03110	5d		 pop	 ebp
  03111	5b		 pop	 ebx

; 826  : }

  03112	c3		 ret	 0
_us_forw_smooth_rules ENDP
_phTTS$ = 8
_shrib$ = 12
_feacur$ = 16
_feanex$ = 20
_strucnex$ = 24
_pDph_t$ = 8
_us_back_smooth_rules PROC NEAR

; 851  : {

  03120	53		 push	 ebx
  03121	55		 push	 ebp

; 852  : 	short                   temp;	   /* MVP MI : This varaible is made local */
; 853  : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  03122	8b 6c 24 0c	 mov	 ebp, DWORD PTR _phTTS$[esp+4]
  03126	56		 push	 esi

; 854  : 	PKSD_T                  pKsd_t = phTTS->pKernelShareData;
; 855  : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;
; 856  : 
; 857  : 	//debugbackward ("Set default", pDphsettar->np);
; 858  : 
; 859  : 	/* BACKWARD SMOOTH:  F1, F2, F3 */
; 860  : 	if (pDphsettar->par_type IS_FORM_FREQ)

  03127	ba 03 00 00 00	 mov	 edx, 3
  0312c	57		 push	 edi
  0312d	8b 5d 18	 mov	 ebx, DWORD PTR [ebp+24]
  03130	89 5c 24 14	 mov	 DWORD PTR _pDph_t$[esp+12], ebx
  03134	8b b3 10 2c 00
	00		 mov	 esi, DWORD PTR [ebx+11280]
  0313a	8a 46 14	 mov	 al, BYTE PTR [esi+20]
  0313d	3a c2		 cmp	 al, dl
  0313f	0f 85 23 02 00
	00		 jne	 $L72140

; 861  : 	{
; 862  : 		/* 0. Use default values for obst-obst transition */
; 863  : 		if ((feacur & FSONOR) IS_PLUS)

  03145	8b 44 24 1c	 mov	 eax, DWORD PTR _feacur$[esp+12]
  03149	8b 7c 24 20	 mov	 edi, DWORD PTR _feanex$[esp+12]
  0314d	a8 10		 test	 al, 16			; 00000010H
  0314f	0f 84 91 00 00
	00		 je	 $L72149

; 864  : 		{
; 865  : 			pDphsettar->durtran = NF45MS;
; 866  : 			if ((feacur & FSONCON) IS_MINUS)

  03155	25 00 02 00 00	 and	 eax, 512		; 00000200H
  0315a	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
  03160	66 85 c0	 test	 ax, ax
  03163	75 5a		 jne	 SHORT $L72142

; 867  : 			{
; 868  : 				if ((feanex & FSONCON) IS_PLUS)

  03165	8b c7		 mov	 eax, edi
  03167	25 00 02 00 00	 and	 eax, 512		; 00000200H
  0316c	66 85 c0	 test	 ax, ax
  0316f	74 33		 je	 SHORT $L72143

; 869  : 				{
; 870  : 					/* 1. Vowel-soncon trans, use 75-25% rule */
; 871  : 					pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarnex) >> 1;

  03171	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  03174	0f bf 16	 movsx	 edx, WORD PTR [esi]
  03177	0f bf 48 16	 movsx	 ecx, WORD PTR [eax+22]
  0317b	03 ca		 add	 ecx, edx
  0317d	d1 f9		 sar	 ecx, 1
  0317f	66 89 0e	 mov	 WORD PTR [esi], cx

; 872  : 					/* F3 transitions slower esp for [r,l] */
; 873  : 					if (pDphsettar->np == &PF3)

  03182	8d 4b 6c	 lea	 ecx, DWORD PTR [ebx+108]
  03185	3b c1		 cmp	 eax, ecx
  03187	75 06		 jne	 SHORT $L72144

; 874  : 					{
; 875  : 						pDphsettar->durtran = NF64MS;

  03189	66 c7 46 06 0a
	00		 mov	 WORD PTR [esi+6], 10	; 0000000aH
$L72144:

; 876  : 					}
; 877  : 					/* First formant jumps down 80 Hz in /l/ */
; 878  : 					if ((pDphsettar->phonex == USP_LL) && (pDphsettar->np == &PF1))

  0318f	66 81 7e 0a 1b
	1e		 cmp	 WORD PTR [esi+10], 7707	; 00001e1bH
  03195	75 4f		 jne	 SHORT $L72149
  03197	8d 53 24	 lea	 edx, DWORD PTR [ebx+36]
  0319a	3b c2		 cmp	 eax, edx
  0319c	75 48		 jne	 SHORT $L72149

; 879  : 					{
; 880  : 						pDphsettar->bouval += 80;

  0319e	66 83 06 50	 add	 WORD PTR [esi], 80	; 00000050H

; 881  : 					}
; 882  : 				}
; 883  : 				else

  031a2	eb 42		 jmp	 SHORT $L72149
$L72143:

; 884  : 				{
; 885  : 					/* 2. Vowel-[vowel/h] transition */
; 886  : 					/* Following [h] has little influence on pDphsettar->bouval */
; 887  : 					if (pDphsettar->phonex == USP_HX)

  031a4	66 81 7e 0a 1c
	1e		 cmp	 WORD PTR [esi+10], 7708	; 00001e1cH
  031aa	75 3a		 jne	 SHORT $L72149

; 888  : 					{
; 889  : 						pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarend) >> 1;

  031ac	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  031af	0f bf 16	 movsx	 edx, WORD PTR [esi]
  031b2	0f bf 48 1a	 movsx	 ecx, WORD PTR [eax+26]
  031b6	03 ca		 add	 ecx, edx
  031b8	d1 f9		 sar	 ecx, 1
  031ba	66 89 0e	 mov	 WORD PTR [esi], cx

; 890  : 					}
; 891  : 				}
; 892  : 			}
; 893  : 			else

  031bd	eb 27		 jmp	 SHORT $L72149
$L72142:

; 894  : 			{
; 895  : 				pDphsettar->durtran = NF40MS;
; 896  : 				if ((feanex & FSONCON) IS_MINUS)

  031bf	8b c7		 mov	 eax, edi
  031c1	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
  031c7	25 00 02 00 00	 and	 eax, 512		; 00000200H
  031cc	66 85 c0	 test	 ax, ax
  031cf	75 15		 jne	 SHORT $L72149

; 897  : 				{
; 898  : 					/* 3. Soncon-vowel trans, use 25-75% rule */
; 899  : 					pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarend) >> 1;

  031d1	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  031d4	0f bf 41 1a	 movsx	 eax, WORD PTR [ecx+26]
  031d8	0f bf 0e	 movsx	 ecx, WORD PTR [esi]
  031db	03 c1		 add	 eax, ecx

; 900  : 					pDphsettar->durtran = NF20MS;

  031dd	66 89 56 06	 mov	 WORD PTR [esi+6], dx
  031e1	d1 f8		 sar	 eax, 1
  031e3	66 89 06	 mov	 WORD PTR [esi], ax
$L72149:

; 901  : 				}
; 902  : 				else
; 903  : 				{
; 904  : 					/* 4. Soncon-soncon transition */
; 905  : 					/* Use defaults */
; 906  : 				}
; 907  : 			}
; 908  : 		}
; 909  : 		/* No backward smoothing if next phone is silence */
; 910  : 		if (pDphsettar->phonex == GEN_SIL)

  031e6	66 81 7e 0a 00
	1e		 cmp	 WORD PTR [esi+10], 7680	; 00001e00H
  031ec	75 0b		 jne	 SHORT $L72151

; 911  : 		{
; 912  : 			pDphsettar->durtran = 0;

  031ee	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0

; 913  : 		}
; 914  : 		else

  031f4	e9 1f 01 00 00	 jmp	 $L72172
$L72151:

; 915  : 		{
; 916  : 			/* 5. pDphsettar->phcur=sonor, pDphsettar->phonex=obst transition */
; 917  : 			if (setloc (phTTS, (short)(pDph_t->nphone + 1), pDph_t->nphone, 'f', (short)(pDph_t->nphone + 2),feanex)) // NAL warning removal

  031f9	66 8b 83 d0 23
	00 00		 mov	 ax, WORD PTR [ebx+9168]
  03200	57		 push	 edi
  03201	8d 50 02	 lea	 edx, DWORD PTR [eax+2]
  03204	52		 push	 edx
  03205	6a 66		 push	 102			; 00000066H
  03207	50		 push	 eax
  03208	40		 inc	 eax
  03209	50		 push	 eax
  0320a	55		 push	 ebp
  0320b	e8 00 00 00 00	 call	 _setloc

; 918  : 			{
; 919  : 				//debugbackward (" Use locus,percent", pDphsettar->np);
; 920  : 			}
; 921  : 			/* 6. pDphsettar->phcur=obst, pDphsettar->phonex=sonor transition */
; 922  : 			if (setloc (phTTS, pDph_t->nphone, (short)(pDph_t->nphone + 1), 'i', (short)(pDph_t->nphone - 1),feanex)) // NAL warning removal

  03210	66 8b 83 d0 23
	00 00		 mov	 ax, WORD PTR [ebx+9168]
  03217	57		 push	 edi
  03218	8d 48 ff	 lea	 ecx, DWORD PTR [eax-1]
  0321b	8d 50 01	 lea	 edx, DWORD PTR [eax+1]
  0321e	51		 push	 ecx
  0321f	6a 69		 push	 105			; 00000069H
  03221	52		 push	 edx
  03222	50		 push	 eax
  03223	55		 push	 ebp
  03224	e8 00 00 00 00	 call	 _setloc

; 923  : 			{
; 924  : 				//debugbackward (" Use locus,percent", pDphsettar->np);
; 925  : 			}
; 926  : 			/* Transitions slow inside obstruents */
; 927  : 			if ((feacur & FOBST) IS_PLUS)

  03229	8a 54 24 4c	 mov	 dl, BYTE PTR _feacur$[esp+60]
  0322d	83 c4 30	 add	 esp, 48			; 00000030H
  03230	f6 c2 20	 test	 dl, 32			; 00000020H
  03233	74 33		 je	 SHORT $L72162

; 928  : 			{
; 929  : 				pDphsettar->durtran = NF30MS;
; 930  : 				if (pDphsettar->np == &PF1)

  03235	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  03238	8d 43 24	 lea	 eax, DWORD PTR [ebx+36]
  0323b	3b c8		 cmp	 ecx, eax
  0323d	66 c7 46 06 05
	00		 mov	 WORD PTR [esi+6], 5
  03243	75 06		 jne	 SHORT $L72160

; 931  : 					pDphsettar->durtran = NF20MS;

  03245	66 c7 46 06 03
	00		 mov	 WORD PTR [esi+6], 3
$L72160:

; 932  : 				/* Transitions take all of plosive duration */
; 933  : 				if ((feacur & FPLOSV) IS_PLUS)

  0324b	f6 c2 40	 test	 dl, 64			; 00000040H
  0324e	74 18		 je	 SHORT $L72162

; 934  : 				{
; 935  : 					pDphsettar->durtran = pDph_t->durfon;

  03250	66 8b bb 04 15
	00 00		 mov	 di, WORD PTR [ebx+5380]

; 936  : 					if ((pDphsettar->np == &PF1) && ((feacur & FVOICD) IS_MINUS))

  03257	3b c8		 cmp	 ecx, eax
  03259	66 89 7e 06	 mov	 WORD PTR [esi+6], di
  0325d	75 09		 jne	 SHORT $L72162
  0325f	f6 c2 02	 test	 dl, 2
  03262	75 04		 jne	 SHORT $L72162

; 937  : 					{
; 938  : 						pDphsettar->bouval += 100;

  03264	66 83 06 64	 add	 WORD PTR [esi], 100	; 00000064H
$L72162:

; 939  : 					}
; 940  : 				}
; 941  : 			}
; 942  : 			/* Higher formant transitions slow inside a nasal */
; 943  : 			if ((feacur & FNASAL) IS_PLUS)

  03268	f6 c2 80	 test	 dl, -128		; ffffff80H
  0326b	0f 84 a7 00 00
	00		 je	 $L72172

; 944  : 			{
; 945  : 				pDphsettar->durtran = pDph_t->durfon;
; 946  : 				/* Except F1, which jumps to value below FNZRO */
; 947  : 				if (pDphsettar->np == &PF1)

  03271	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  03274	66 8b 83 04 15
	00 00		 mov	 ax, WORD PTR [ebx+5380]
  0327b	8d 4b 24	 lea	 ecx, DWORD PTR [ebx+36]
  0327e	66 89 46 06	 mov	 WORD PTR [esi+6], ax
  03282	3b d1		 cmp	 edx, ecx
  03284	75 0b		 jne	 SHORT $L72164

; 948  : 				{
; 949  : 					pDphsettar->durtran = 0;

  03286	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0

; 950  : 				}
; 951  : 				/* Lower F2 & F3 of [n] nasal murmur before front vowels */
; 952  : 				else if (((pDphsettar->phcur == USP_N) || (pDphsettar->phcur == USP_EN))

  0328c	e9 87 00 00 00	 jmp	 $L72172
$L72164:

; 953  : 						 && (begtyp(pDphsettar->phonex) == 1))

  03291	66 8b 4e 18	 mov	 cx, WORD PTR [esi+24]
  03295	66 81 f9 20 1e	 cmp	 cx, 7712		; 00001e20H
  0329a	74 07		 je	 SHORT $L72167
  0329c	66 81 f9 24 1e	 cmp	 cx, 7716		; 00001e24H
  032a1	75 4f		 jne	 SHORT $L72166
$L72167:
  032a3	0f bf 46 0a	 movsx	 eax, WORD PTR [esi+10]
  032a7	8b f8		 mov	 edi, eax
  032a9	8b e8		 mov	 ebp, eax
  032ab	c1 ff 08	 sar	 edi, 8
  032ae	81 e5 ff 00 00
	00		 and	 ebp, 255		; 000000ffH
  032b4	8b 3c bd 00 00
	00 00		 mov	 edi, DWORD PTR _all_begtyp[edi*4]
  032bb	66 83 3c 6f 01	 cmp	 WORD PTR [edi+ebp*2], 1
  032c0	75 30		 jne	 SHORT $L72166

; 954  : 				{
; 955  : 					if (pDphsettar->np == &PF2)

  032c2	8d 4b 48	 lea	 ecx, DWORD PTR [ebx+72]
  032c5	3b d1		 cmp	 edx, ecx
  032c7	75 1c		 jne	 SHORT $L72169

; 956  : 					{
; 957  : 						pDphsettar->bouval -= 100;

  032c9	66 83 06 9c	 add	 WORD PTR [esi], -100	; ffffff9cH
  032cd	66 8b 0e	 mov	 cx, WORD PTR [esi]

; 958  : 						if ((us_place[pDphsettar->phonex  & PVALUE] & F2BACKI) IS_PLUS)

  032d0	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  032d5	f6 04 45 00 00
	00 00 40	 test	 BYTE PTR _us_place[eax*2], 64 ; 00000040H
  032dd	74 06		 je	 SHORT $L72169

; 959  : 						{
; 960  : 							pDphsettar->bouval -= 100;

  032df	83 c1 9c	 add	 ecx, -100		; ffffff9cH
  032e2	66 89 0e	 mov	 WORD PTR [esi], cx
$L72169:

; 961  : 						}
; 962  : 					}
; 963  : 					if (pDphsettar->np == &PF3)

  032e5	83 c3 6c	 add	 ebx, 108		; 0000006cH
  032e8	3b d3		 cmp	 edx, ebx
  032ea	75 2c		 jne	 SHORT $L72172

; 964  : 						pDphsettar->bouval -= 100;

  032ec	66 83 06 9c	 add	 WORD PTR [esi], -100	; ffffff9cH

; 965  : 				}
; 966  : 				/* Lower F2 of [m] murmur near [i,y,yu,ir] */
; 967  : 				else if ((pDphsettar->np == &PF2) && (pDphsettar->phcur == USP_M)

  032f0	eb 26		 jmp	 SHORT $L72172
$L72166:

; 968  : 						 && ((us_place[pDphsettar->phonex & PVALUE] & F2BACKI) IS_PLUS))

  032f2	83 c3 48	 add	 ebx, 72			; 00000048H
  032f5	3b d3		 cmp	 edx, ebx
  032f7	75 1f		 jne	 SHORT $L72172
  032f9	66 81 f9 1f 1e	 cmp	 cx, 7711		; 00001e1fH
  032fe	75 18		 jne	 SHORT $L72172
  03300	8a 56 0a	 mov	 dl, BYTE PTR [esi+10]
  03303	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  03309	f6 04 55 00 00
	00 00 40	 test	 BYTE PTR _us_place[edx*2], 64 ; 00000040H
  03311	74 05		 je	 SHORT $L72172

; 969  : 				{
; 970  : 					pDphsettar->bouval -= 150;

  03313	66 81 06 6a ff	 add	 WORD PTR [esi], -150	; ffffff6aH
$L72172:

; 971  : 				}
; 972  : 			}
; 973  : 		}
; 974  : 		/* Shrink tran dur inside sonorant if sonorant short */
; 975  : 		if (((feacur & FOBST) IS_MINUS)
; 976  : 			&& (begtyp(pDphsettar->phonex) != 4)	/* Unless next seg is obst */
; 977  : 			&& (pDphsettar->durtran > 0))

  03318	f6 44 24 1c 20	 test	 BYTE PTR _feacur$[esp+12], 32 ; 00000020H
  0331d	0f 85 31 04 00
	00		 jne	 $endbsmo$72203
  03323	0f bf 46 0a	 movsx	 eax, WORD PTR [esi+10]
  03327	8b c8		 mov	 ecx, eax
  03329	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  0332e	c1 f9 08	 sar	 ecx, 8
  03331	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_begtyp[ecx*4]
  03338	66 83 3c 42 04	 cmp	 WORD PTR [edx+eax*2], 4
  0333d	0f 84 11 04 00
	00		 je	 $endbsmo$72203
  03343	66 8b 46 06	 mov	 ax, WORD PTR [esi+6]
  03347	66 85 c0	 test	 ax, ax
  0334a	0f 8e 04 04 00
	00		 jle	 $endbsmo$72203

; 978  : 		{
; 979  : 			//pDph_t->arg1 = pDphsettar->durtran;
; 980  : 			//pDph_t->arg2 = shrib;
; 981  : 			pDphsettar->durtran = mlsh1 (pDphsettar->durtran, shrib) + 1;

  03350	0f bf 4c 24 18	 movsx	 ecx, WORD PTR _shrib$[esp+12]
  03355	0f bf c0	 movsx	 eax, ax
  03358	0f af c1	 imul	 eax, ecx
  0335b	c1 f8 0e	 sar	 eax, 14			; 0000000eH
  0335e	40		 inc	 eax
  0335f	66 89 46 06	 mov	 WORD PTR [esi+6], ax

; 982  : 		}
; 983  : 	}
; 984  : 	/* BACKWARD SMOOTH:  FN */
; 985  : 	else if (pDphsettar->par_type IS_NASAL_ZERO_FREQ)

  03363	e9 ec 03 00 00	 jmp	 $endbsmo$72203
$L72140:
  03368	3c 01		 cmp	 al, 1
  0336a	75 39		 jne	 SHORT $L72175

; 986  : 	{
; 987  : 		pDphsettar->durtran = 0;
; 988  : 		/* Nasalization cue: place zero between F1 and FP */
; 989  : 		if (((feanex & FNASAL) IS_PLUS)
; 990  : 			&& ((feacur & FNASAL) IS_MINUS))

  0336c	8a 44 24 20	 mov	 al, BYTE PTR _feanex$[esp+12]
  03370	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
  03376	a8 80		 test	 al, -128		; ffffff80H
  03378	0f 84 d6 03 00
	00		 je	 $endbsmo$72203
  0337e	f6 44 24 1c 80	 test	 BYTE PTR _feacur$[esp+12], -128 ; ffffff80H
  03383	0f 85 cb 03 00
	00		 jne	 $endbsmo$72203

; 991  : 		{
; 992  : 			pDphsettar->bouval = NASAL_ZERO_BOUNDARY;
; 993  : 			pDphsettar->durtran = NF80MS;
; 994  : 			if (pDphsettar->phonex == USP_EN)

  03389	66 81 7e 0a 24
	1e		 cmp	 WORD PTR [esi+10], 7716	; 00001e24H
  0338f	66 c7 06 72 01	 mov	 WORD PTR [esi], 370	; 00000172H
  03394	66 c7 46 06 0d
	00		 mov	 WORD PTR [esi+6], 13	; 0000000dH
  0339a	0f 85 b4 03 00
	00		 jne	 $endbsmo$72203

; 995  : 				pDphsettar->durtran = NF130MS;
; 996  : 		}
; 997  : 	}
; 998  : 	/* BACKWARD SMOOTH:  B1, B2, B3 */
; 999  : 	else if (pDphsettar->par_type IS_FORM_BW)

  033a0	e9 a9 03 00 00	 jmp	 $L75115
$L72175:
  033a5	3c 04		 cmp	 al, 4
  033a7	0f 85 44 01 00
	00		 jne	 $L72179

; 1000 : 	{
; 1001 : 		pDphsettar->durtran = NF40MS;
; 1002 : 		if ((feacur & FVOICD) IS_PLUS)

  033ad	8a 44 24 1c	 mov	 al, BYTE PTR _feacur$[esp+12]
  033b1	b1 02		 mov	 cl, 2
  033b3	84 c1		 test	 al, cl
  033b5	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
  033bb	bd 08 00 00 00	 mov	 ebp, 8
  033c0	74 38		 je	 SHORT $L72180

; 1003 : 		{
; 1004 : 			/* Glottis opens early before -voice C, widen B1 */
; 1005 : 			if (pDphsettar->np == &PB1)

  033c2	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  033c5	8d 93 b4 00 00
	00		 lea	 edx, DWORD PTR [ebx+180]
  033cb	3b c2		 cmp	 eax, edx
  033cd	75 2f		 jne	 SHORT $L72184

; 1006 : 			{
; 1007 : 				if ((feanex & FVOICD) IS_MINUS)

  033cf	84 4c 24 20	 test	 BYTE PTR _feanex$[esp+12], cl
  033d3	75 29		 jne	 SHORT $L72184

; 1008 : 				{
; 1009 : 					pDphsettar->durtran = NF50MS;

  033d5	66 89 6e 06	 mov	 WORD PTR [esi+6], bp

; 1010 : 					/* More increase for low vowels (F1 high) */
; 1011 : 					pDphsettar->bouval = pDphsettar->np->tarend + (PF1.tarcur >> 3);

  033d9	66 8b 4b 24	 mov	 cx, WORD PTR [ebx+36]
  033dd	66 c1 f9 03	 sar	 cx, 3
  033e1	66 03 48 1a	 add	 cx, WORD PTR [eax+26]
  033e5	66 89 0e	 mov	 WORD PTR [esi], cx

; 1012 : 					/* Effect is greater for a female voice */
; 1013 : 					if (pDph_t->malfem == FEMALE)

  033e8	66 83 bb 08 15
	00 00 00	 cmp	 WORD PTR [ebx+5384], 0
  033f0	75 0c		 jne	 SHORT $L72184

; 1014 : 					{
; 1015 : 						pDphsettar->durtran = NF100MS;

  033f2	66 c7 46 06 10
	00		 mov	 WORD PTR [esi+6], 16	; 00000010H

; 1016 : 					}
; 1017 : 				}
; 1018 : 			}
; 1019 : 		}
; 1020 : 		else

  033f8	eb 04		 jmp	 SHORT $L72184
$L72180:

; 1021 : 		{
; 1022 : 			pDphsettar->durtran = NF20MS;

  033fa	66 89 56 06	 mov	 WORD PTR [esi+6], dx
$L72184:

; 1023 : 		}
; 1024 : 		/* Treat boundary with silence */
; 1025 : 		/* OUT ??? */
; 1026 : 		if (pDphsettar->phonex == GEN_SIL)

  033fe	66 8b 5e 0a	 mov	 bx, WORD PTR [esi+10]
  03402	66 81 fb 00 1e	 cmp	 bx, 7680		; 00001e00H
  03407	75 2e		 jne	 SHORT $L72185

; 1027 : 		{
; 1028 : 			pDphsettar->bouval = pDphsettar->np->tarend + ((&PB3 - pDphsettar->np) * 50);

  03409	8b 7e 10	 mov	 edi, DWORD PTR [esi+16]
  0340c	8b 4c 24 14	 mov	 ecx, DWORD PTR _pDph_t$[esp+12]
  03410	2b cf		 sub	 ecx, edi
  03412	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  03417	81 c1 fc 00 00
	00		 add	 ecx, 252		; 000000fcH
  0341d	f7 e9		 imul	 ecx
  0341f	c1 fa 03	 sar	 edx, 3
  03422	8b c2		 mov	 eax, edx
  03424	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  03427	03 d0		 add	 edx, eax
  03429	8d 04 92	 lea	 eax, DWORD PTR [edx+edx*4]
  0342c	8d 0c 80	 lea	 ecx, DWORD PTR [eax+eax*4]
  0342f	d1 e1		 shl	 ecx, 1
  03431	66 03 4f 1a	 add	 cx, WORD PTR [edi+26]

; 1029 : 			pDphsettar->durtran = NF50MS;
; 1030 : 		}
; 1031 : 		else if (pDphsettar->phcur == GEN_SIL)

  03435	eb 34		 jmp	 SHORT $L75116
$L72185:
  03437	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  0343d	75 33		 jne	 SHORT $L72187

; 1032 : 		{
; 1033 : 			pDphsettar->bouval = pDphsettar->np->tarnex + ((&PB3 - pDphsettar->np) * 50);

  0343f	8b 7e 10	 mov	 edi, DWORD PTR [esi+16]
  03442	8b 4c 24 14	 mov	 ecx, DWORD PTR _pDph_t$[esp+12]
  03446	2b cf		 sub	 ecx, edi
  03448	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  0344d	81 c1 fc 00 00
	00		 add	 ecx, 252		; 000000fcH
  03453	f7 e9		 imul	 ecx
  03455	c1 fa 03	 sar	 edx, 3
  03458	8b c2		 mov	 eax, edx
  0345a	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  0345d	03 d0		 add	 edx, eax
  0345f	8d 04 92	 lea	 eax, DWORD PTR [edx+edx*4]
  03462	8d 0c 80	 lea	 ecx, DWORD PTR [eax+eax*4]
  03465	d1 e1		 shl	 ecx, 1
  03467	66 03 4f 16	 add	 cx, WORD PTR [edi+22]
$L75116:
  0346b	66 89 0e	 mov	 WORD PTR [esi], cx

; 1034 : 			pDphsettar->durtran = NF50MS;

  0346e	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L72187:

; 1035 : 		}
; 1036 : 		/* BW1 widen, to nasalize transition into next nasal */
; 1037 : 		if ((feanex & FNASAL) IS_PLUS)

  03472	f6 44 24 20 80	 test	 BYTE PTR _feanex$[esp+12], -128 ; ffffff80H
  03477	74 62		 je	 SHORT $L72191

; 1038 : 		{
; 1039 : 			pDphsettar->bouval = pDphsettar->np->tarend;
; 1040 : 			/* Except F2 of [n], which is wider before a non-front vowel */
; 1041 : 			if ((pDphsettar->np == &PB2) && ((pDphsettar->phonex == USP_N) || (pDphsettar->phonex == USP_EN))
; 1042 : 				&& (endtyp(pDphsettar->phcur) != 1))

  03479	8b 7c 24 14	 mov	 edi, DWORD PTR _pDph_t$[esp+12]
  0347d	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  03480	66 8b 51 1a	 mov	 dx, WORD PTR [ecx+26]
  03484	8d 87 d8 00 00
	00		 lea	 eax, DWORD PTR [edi+216]
  0348a	3b c8		 cmp	 ecx, eax
  0348c	66 89 16	 mov	 WORD PTR [esi], dx
  0348f	75 36		 jne	 SHORT $L72189
  03491	66 81 fb 20 1e	 cmp	 bx, 7712		; 00001e20H
  03496	74 07		 je	 SHORT $L72190
  03498	66 81 fb 24 1e	 cmp	 bx, 7716		; 00001e24H
  0349d	75 28		 jne	 SHORT $L72189
$L72190:
  0349f	0f bf 46 18	 movsx	 eax, WORD PTR [esi+24]
  034a3	8b d8		 mov	 ebx, eax
  034a5	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  034aa	c1 fb 08	 sar	 ebx, 8
  034ad	8b 1c 9d 00 00
	00 00		 mov	 ebx, DWORD PTR _all_endtyp[ebx*4]
  034b4	66 83 3c 43 01	 cmp	 WORD PTR [ebx+eax*2], 1
  034b9	74 0c		 je	 SHORT $L72189

; 1043 : 			{
; 1044 : 				pDphsettar->bouval += 60;

  034bb	83 c2 3c	 add	 edx, 60			; 0000003cH

; 1045 : 				pDphsettar->durtran = NF60MS;

  034be	66 c7 46 06 09
	00		 mov	 WORD PTR [esi+6], 9
  034c4	66 89 16	 mov	 WORD PTR [esi], dx
$L72189:

; 1046 : 			}
; 1047 : 			if (pDphsettar->np == &PB1)

  034c7	81 c7 b4 00 00
	00		 add	 edi, 180		; 000000b4H
  034cd	3b cf		 cmp	 ecx, edi
  034cf	75 0a		 jne	 SHORT $L72191

; 1048 : 			{
; 1049 : 				pDphsettar->durtran = NF100MS;
; 1050 : 				pDphsettar->bouval += 100;

  034d1	66 83 06 64	 add	 WORD PTR [esi], 100	; 00000064H
  034d5	66 c7 46 06 10
	00		 mov	 WORD PTR [esi+6], 16	; 00000010H
$L72191:

; 1051 : 			}
; 1052 : 		}
; 1053 : 		/* Nasals have constant bandwidths at target values */
; 1054 : 		if ((feacur & FNASAL) IS_PLUS)

  034db	f6 44 24 1c 80	 test	 BYTE PTR _feacur$[esp+12], -128 ; ffffff80H
  034e0	0f 84 6e 02 00
	00		 je	 $endbsmo$72203

; 1055 : 		{
; 1056 : 			pDphsettar->durtran = 0;

  034e6	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0

; 1057 : 			//debugbackward (" Nasal has const. par val", pDphsettar->np);
; 1058 : 		}
; 1059 : 	}
; 1060 : 	/* BACKWARD SMOOTH:  AV, AP, A2, A3, A4, A5, A6, AB */
; 1061 : 	else if ((pDphsettar->par_type IS_PARALLEL_FORM_AMP)

  034ec	e9 63 02 00 00	 jmp	 $endbsmo$72203
$L72179:

; 1062 : 			 || (pDphsettar->par_type IS_AV_OR_AH))

  034f1	33 ed		 xor	 ebp, ebp
  034f3	3c 02		 cmp	 al, 2
  034f5	74 08		 je	 SHORT $L72195
  034f7	84 c0		 test	 al, al
  034f9	0f 85 55 02 00
	00		 jne	 $endbsmo$72203
$L72195:

; 1063 : 	{
; 1064 : 		/* See if onset, i.e. source intensity increasing */
; 1065 : 		temp = pDphsettar->np->tarnex - 10;

  034ff	8b 7e 10	 mov	 edi, DWORD PTR [esi+16]
  03502	66 8b 47 16	 mov	 ax, WORD PTR [edi+22]
  03506	66 2d 0a 00	 sub	 ax, 10			; 0000000aH

; 1066 : 		if (pDphsettar->bouval < temp)

  0350a	66 39 06	 cmp	 WORD PTR [esi], ax
  0350d	7d 11		 jge	 SHORT $L72197

; 1067 : 		{
; 1068 : 			pDphsettar->bouval = temp;
; 1069 : 			/* Onset of an init fricative or /h/ is very gradual */
; 1070 : 			if (pDphsettar->phcur == GEN_SIL)

  0350f	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  03515	66 89 06	 mov	 WORD PTR [esi], ax
  03518	75 06		 jne	 SHORT $L72197

; 1071 : 			{
; 1072 : 				pDphsettar->durtran = NF70MS;

  0351a	66 c7 46 06 0b
	00		 mov	 WORD PTR [esi+6], 11	; 0000000bH
$L72197:

; 1073 : 			}
; 1074 : 			//debugbackward (" Onset", pDphsettar->np);
; 1075 : 		}
; 1076 : 		/* Voicing is special:  onset is abrupt, except if a voiced fric */
; 1077 : 		if ((pDphsettar->np == &PAV) && (pDphsettar->bouval < pDphsettar->np->tarnex)
; 1078 : 			&& (pDphsettar->phcur != USP_V) && (pDphsettar->phcur != USP_DH)
; 1079 : 			&& (pDphsettar->phcur != USP_JH) && (pDphsettar->phcur != USP_ZH) && (pDphsettar->phcur != USP_Z))

  03520	8b 4c 24 1c	 mov	 ecx, DWORD PTR _feacur$[esp+12]
  03524	8d 83 20 01 00
	00		 lea	 eax, DWORD PTR [ebx+288]
  0352a	3b f8		 cmp	 edi, eax
  0352c	75 5c		 jne	 SHORT $L72199
  0352e	66 8b 06	 mov	 ax, WORD PTR [esi]
  03531	66 3b 47 16	 cmp	 ax, WORD PTR [edi+22]
  03535	7d 53		 jge	 SHORT $L72199
  03537	66 8b 46 18	 mov	 ax, WORD PTR [esi+24]
  0353b	66 3d 26 1e	 cmp	 ax, 7718		; 00001e26H
  0353f	74 49		 je	 SHORT $L72199
  03541	66 3d 28 1e	 cmp	 ax, 7720		; 00001e28H
  03545	74 43		 je	 SHORT $L72199
  03547	66 3d 37 1e	 cmp	 ax, 7735		; 00001e37H
  0354b	74 3d		 je	 SHORT $L72199
  0354d	66 3d 2c 1e	 cmp	 ax, 7724		; 00001e2cH
  03551	74 37		 je	 SHORT $L72199
  03553	66 3d 2a 1e	 cmp	 ax, 7722		; 00001e2aH
  03557	74 31		 je	 SHORT $L72199

; 1080 : 		{
; 1081 : 			pDphsettar->durtran = 0;
; 1082 : 			//debugbackward (" Make next onset abrupt", pDphsettar->np);
; 1083 : 			/* Voicebar dies out in a voiced plosive */
; 1084 : 			if (((feacur & FPLOSV) IS_PLUS) || (pDphsettar->phcur == USP_CH))

  03559	f6 c1 40	 test	 cl, 64			; 00000040H
  0355c	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
  03560	75 06		 jne	 SHORT $L72200
  03562	66 3d 36 1e	 cmp	 ax, 7734		; 00001e36H
  03566	75 22		 jne	 SHORT $L72199
$L72200:

; 1085 : 			{
; 1086 : 				if ((feacur & FVOICD) IS_PLUS)

  03568	f6 c1 02	 test	 cl, 2
  0356b	74 15		 je	 SHORT $L72201

; 1087 : 				{
; 1088 : 					pDphsettar->bouval = pDphsettar->np->tarend - 3;

  0356d	66 8b 4f 1a	 mov	 cx, WORD PTR [edi+26]

; 1089 : 					pDphsettar->durtran = NF45MS;

  03571	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
  03577	66 2b ca	 sub	 cx, dx
  0357a	66 89 0e	 mov	 WORD PTR [esi], cx

; 1090 : 					//debugbackward (" Voicebar dies out", pDphsettar->np);
; 1091 : 				}
; 1092 : 				/* Do not allow prevoicing in a voiceless plosive */
; 1093 : 				else

  0357d	e9 d2 01 00 00	 jmp	 $endbsmo$72203
$L72201:

; 1094 : 				{
; 1095 : 					pDphsettar->bouval = 0;

  03582	66 89 2e	 mov	 WORD PTR [esi], bp

; 1096 : 				}
; 1097 : 				goto endbsmo;

  03585	e9 ca 01 00 00	 jmp	 $endbsmo$72203
$L72199:

; 1098 : 			}
; 1099 : 		}
; 1100 : 		/* If next nasal, & curr phone is voiced, set AV const */
; 1101 : 		if (((feanex & FNASAL) IS_PLUS)
; 1102 : 			&& ((feacur & FVOICD) IS_PLUS))

  0358a	8a 54 24 20	 mov	 dl, BYTE PTR _feanex$[esp+12]
  0358e	f6 c2 80	 test	 dl, -128		; ffffff80H
  03591	74 09		 je	 SHORT $L72204
  03593	f6 c1 02	 test	 cl, 2
  03596	74 04		 je	 SHORT $L72204

; 1103 : 		{
; 1104 : 			pDphsettar->durtran = 0;

  03598	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L72204:

; 1105 : 			//debugforward (" AV const in voiced to  nasal", pDphsettar->np);
; 1106 : 		}
; 1107 : 		/* If curr phone nasal, and next is voiced non-obst, AV const */
; 1108 : 		if ((feacur & FNASAL) IS_PLUS)

  0359c	8b 6c 24 24	 mov	 ebp, DWORD PTR _strucnex$[esp+12]
  035a0	8b c1		 mov	 eax, ecx
  035a2	25 80 00 00 00	 and	 eax, 128		; 00000080H
  035a7	66 85 c0	 test	 ax, ax
  035aa	89 44 24 18	 mov	 DWORD PTR 12+[esp+12], eax
  035ae	74 23		 je	 SHORT $L72207

; 1109 : 		{
; 1110 : 			if (((feanex & FVOICD) IS_PLUS)
; 1111 : 				&& ((feanex & FOBST) IS_MINUS)
; 1112 : 				&& ((strucnex & FDUMMY_VOWEL) IS_MINUS))

  035b0	f6 c2 02	 test	 dl, 2
  035b3	74 18		 je	 SHORT $L72206
  035b5	f6 c2 20	 test	 dl, 32			; 00000020H
  035b8	75 13		 jne	 SHORT $L72206
  035ba	8b d5		 mov	 edx, ebp
  035bc	81 e2 00 08 00
	00		 and	 edx, 2048		; 00000800H
  035c2	66 85 d2	 test	 dx, dx
  035c5	75 06		 jne	 SHORT $L72206

; 1113 : 			{
; 1114 : 				pDphsettar->durtran = 0;

  035c7	66 89 56 06	 mov	 WORD PTR [esi+6], dx

; 1115 : 				//debugbackward (" Make murmur const AV", pDphsettar->np);
; 1116 : 			}
; 1117 : 			else

  035cb	eb 06		 jmp	 SHORT $L72207
$L72206:

; 1118 : 			{
; 1119 : 				pDphsettar->durtran = NF40MS;

  035cd	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
$L72207:

; 1120 : 			}
; 1121 : 		}
; 1122 : 		/* See if offset, i.e. source intensity decreasing */
; 1123 : 		temp = pDphsettar->np->tarend - 10;

  035d3	66 8b 47 1a	 mov	 ax, WORD PTR [edi+26]

; 1124 : 		/* Plosive burst does not get attenuated during offset */
; 1125 : 		if (pDphsettar->phcur >= USP_P)

  035d7	66 8b 4e 18	 mov	 cx, WORD PTR [esi+24]
  035db	66 2d 0a 00	 sub	 ax, 10			; 0000000aH
  035df	66 81 f9 2d 1e	 cmp	 cx, 7725		; 00001e2dH
  035e4	7c 11		 jl	 SHORT $L72209

; 1126 : 		{
; 1127 : 			pDphsettar->durtran = NF15MS;
; 1128 : 			if (pDphsettar->phcur < USP_CH)

  035e6	66 81 f9 36 1e	 cmp	 cx, 7734		; 00001e36H
  035eb	66 c7 46 06 02
	00		 mov	 WORD PTR [esi+6], 2
  035f1	7d 04		 jge	 SHORT $L72209

; 1129 : 			{
; 1130 : 				temp = pDphsettar->np->tarend;

  035f3	66 8b 47 1a	 mov	 ax, WORD PTR [edi+26]
$L72209:

; 1131 : 			}
; 1132 : 		}
; 1133 : 		if (pDphsettar->bouval < temp)

  035f7	66 39 06	 cmp	 WORD PTR [esi], ax
  035fa	7d 0c		 jge	 SHORT $L72210

; 1134 : 		{							   /* Or does it ??? */
; 1135 : 			pDphsettar->bouval = temp - 3;

  035fc	8d 50 fd	 lea	 edx, DWORD PTR [eax-3]

; 1136 : 			pDphsettar->durtran = NF20MS;

  035ff	66 c7 46 06 03
	00		 mov	 WORD PTR [esi+6], 3
  03605	66 89 16	 mov	 WORD PTR [esi], dx
$L72210:

; 1137 : 		}
; 1138 : 		/* Voicing amp falls gradually at end of phrase */
; 1139 : 		/* (Source sudden offset, or next seg is a dummy vowel) */
; 1140 : 		if (pDphsettar->np == &PAV)

  03608	8d 93 20 01 00
	00		 lea	 edx, DWORD PTR [ebx+288]
  0360e	3b fa		 cmp	 edi, edx
  03610	75 50		 jne	 SHORT $L72214

; 1141 : 		{
; 1142 : 			if ((pDphsettar->bouval < temp) || ((temp > 0)
; 1143 : 												&& (pDphsettar->np == &PAV) && ((strucnex & FDUMMY_VOWEL) IS_PLUS)))

  03612	66 39 06	 cmp	 WORD PTR [esi], ax
  03615	7c 2c		 jl	 SHORT $L72213
  03617	66 85 c0	 test	 ax, ax
  0361a	7e 0d		 jle	 SHORT $L72212
  0361c	8b d5		 mov	 edx, ebp
  0361e	81 e2 00 08 00
	00		 and	 edx, 2048		; 00000800H
  03624	66 85 d2	 test	 dx, dx
  03627	75 1a		 jne	 SHORT $L72213
$L72212:

; 1150 : 				}
; 1151 : 			}
; 1152 : 			else if (pDphsettar->np == &PAP)

  03629	8d 83 44 01 00
	00		 lea	 eax, DWORD PTR [ebx+324]
  0362f	3b f8		 cmp	 edi, eax
  03631	75 2f		 jne	 SHORT $L72214

; 1153 : 				pDphsettar->bouval = PAP.tarend - 6;

  03633	66 8b 93 5e 01
	00 00		 mov	 dx, WORD PTR [ebx+350]
  0363a	66 83 ea 06	 sub	 dx, 6
  0363e	66 89 16	 mov	 WORD PTR [esi], dx
  03641	eb 1f		 jmp	 SHORT $L72214
$L72213:

; 1144 : 			{
; 1145 : 				pDphsettar->bouval = temp + 3;

  03643	83 c0 03	 add	 eax, 3

; 1146 : 				if ((pDphsettar->phonex == GEN_SIL)
; 1147 : 					|| ((strucnex & FDUMMY_VOWEL) IS_PLUS))

  03646	66 81 7e 0a 00
	1e		 cmp	 WORD PTR [esi+10], 7680	; 00001e00H
  0364c	66 89 06	 mov	 WORD PTR [esi], ax
  0364f	74 0b		 je	 SHORT $L72215
  03651	81 e5 00 08 00
	00		 and	 ebp, 2048		; 00000800H
  03657	66 85 ed	 test	 bp, bp
  0365a	74 06		 je	 SHORT $L72214
$L72215:

; 1148 : 				{
; 1149 : 					pDphsettar->durtran = NF75MS;

  0365c	66 c7 46 06 0c
	00		 mov	 WORD PTR [esi+6], 12	; 0000000cH
$L72214:

; 1154 : 			//debugbackward (" Offset to noise", pDphsettar->np);
; 1155 : 		}
; 1156 : 		/* No smoothing of source amps if next segment has burst */
; 1157 : 		if ((pDphsettar->phonex >= USP_P)
; 1158 : 			&& (((feacur & FNASAL) IS_MINUS) || (pDphsettar->np != &PAV)))

  03662	66 8b 6e 0a	 mov	 bp, WORD PTR [esi+10]
  03666	66 81 fd 2d 1e	 cmp	 bp, 7725		; 00001e2dH
  0366b	7c 18		 jl	 SHORT $L72218
  0366d	66 83 7c 24 18
	00		 cmp	 WORD PTR 12+[esp+12], 0
  03673	74 0a		 je	 SHORT $L72219
  03675	8d 83 20 01 00
	00		 lea	 eax, DWORD PTR [ebx+288]
  0367b	3b f8		 cmp	 edi, eax
  0367d	74 06		 je	 SHORT $L72218
$L72219:

; 1159 : 		{
; 1160 : 			pDphsettar->durtran = 0;

  0367f	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L72218:

; 1161 : 			//debugbackward (" Stop closure next", pDphsettar->np);
; 1162 : 		}
; 1163 : 		/* Onset of a vowel from voiceless open vocal tract is breathy */
; 1164 : 		if (pDphsettar->np == &PAP)

  03685	8d 83 44 01 00
	00		 lea	 eax, DWORD PTR [ebx+324]
  0368b	3b f8		 cmp	 edi, eax
  0368d	75 56		 jne	 SHORT $L75111

; 1165 : 		{
; 1166 : 			if (
; 1167 : 			/* OUT                    (pDphsettar->phcur == GEN_SIL) ||                         END OUT */
; 1168 : 				   (pDphsettar->phcur == USP_F) || (pDphsettar->phcur == USP_TH)
; 1169 : 				   || (pDphsettar->phcur == USP_S) || (pDphsettar->phcur == USP_SH))

  0368f	66 81 f9 25 1e	 cmp	 cx, 7717		; 00001e25H
  03694	74 15		 je	 SHORT $L72222
  03696	66 81 f9 27 1e	 cmp	 cx, 7719		; 00001e27H
  0369b	74 0e		 je	 SHORT $L72222
  0369d	66 81 f9 29 1e	 cmp	 cx, 7721		; 00001e29H
  036a2	74 07		 je	 SHORT $L72222
  036a4	66 81 f9 2b 1e	 cmp	 cx, 7723		; 00001e2bH
  036a9	75 19		 jne	 SHORT $L75109
$L72222:

; 1170 : 			{
; 1171 : 				if (((feanex & FVOICD) IS_PLUS)
; 1172 : 					&& ((feanex & FOBST) IS_MINUS))

  036ab	8b 44 24 20	 mov	 eax, DWORD PTR _feanex$[esp+12]
  036af	a8 02		 test	 al, 2
  036b1	74 15		 je	 SHORT $L72223
  036b3	a8 20		 test	 al, 32			; 00000020H
  036b5	75 11		 jne	 SHORT $L72223

; 1173 : 				{
; 1174 : 					pDphsettar->bouval = 52;

  036b7	66 c7 06 34 00	 mov	 WORD PTR [esi], 52	; 00000034H

; 1175 : 					pDphsettar->durtran = NF40MS;

  036bc	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
  036c2	eb 04		 jmp	 SHORT $L72223
$L75109:
  036c4	8b 44 24 20	 mov	 eax, DWORD PTR _feanex$[esp+12]
$L72223:

; 1176 : 				}
; 1177 : 			}
; 1178 : 			/* Offset of a vowel into silence is breathy */
; 1179 : 			if (((feacur & FSYLL) IS_PLUS)
; 1180 : 				&& (pDphsettar->phonex == GEN_SIL))

  036c8	8b 54 24 1c	 mov	 edx, DWORD PTR _feacur$[esp+12]
  036cc	f6 c2 01	 test	 dl, 1
  036cf	74 1c		 je	 SHORT $L72224
  036d1	66 81 fd 00 1e	 cmp	 bp, 7680		; 00001e00H
  036d6	75 15		 jne	 SHORT $L72224

; 1181 : 			{
; 1182 : 				pDphsettar->bouval = 52;

  036d8	66 c7 06 34 00	 mov	 WORD PTR [esi], 52	; 00000034H

; 1183 : 				pDphsettar->durtran = NF130MS;

  036dd	66 c7 46 06 14
	00		 mov	 WORD PTR [esi+6], 20	; 00000014H
  036e3	eb 08		 jmp	 SHORT $L72224
$L75111:
  036e5	8b 54 24 1c	 mov	 edx, DWORD PTR _feacur$[esp+12]
  036e9	8b 44 24 20	 mov	 eax, DWORD PTR _feanex$[esp+12]
$L72224:

; 1184 : 			}
; 1185 : 		}
; 1186 : 		/* BACKWARD SMOOTH:  TLT */
; 1187 : 
; 1188 : 		/* Tilt parameter jumps to target values near stops and silence */
; 1189 : 		if (pDphsettar->np == &PTILT)

  036ed	81 c3 40 02 00
	00		 add	 ebx, 576		; 00000240H
  036f3	3b fb		 cmp	 edi, ebx
  036f5	75 5d		 jne	 SHORT $endbsmo$72203

; 1190 : 		{
; 1191 : 			pDphsettar->durtran = NF25MS;
; 1192 : 			if (pDphsettar->phonex == GEN_SIL)

  036f7	66 81 fd 00 1e	 cmp	 bp, 7680		; 00001e00H
  036fc	66 c7 46 06 04
	00		 mov	 WORD PTR [esi+6], 4
  03702	75 07		 jne	 SHORT $L72226

; 1193 : 			{
; 1194 : 				pDphsettar->bouval = pDphsettar->np->tarend;

  03704	66 8b 5f 1a	 mov	 bx, WORD PTR [edi+26]
  03708	66 89 1e	 mov	 WORD PTR [esi], bx
$L72226:

; 1195 : 			}
; 1196 : 			if (pDphsettar->phcur == GEN_SIL)

  0370b	66 81 f9 00 1e	 cmp	 cx, 7680		; 00001e00H
  03710	75 07		 jne	 SHORT $L72227

; 1197 : 			{
; 1198 : 				pDphsettar->bouval = pDphsettar->np->tarnex;

  03712	66 8b 4f 16	 mov	 cx, WORD PTR [edi+22]
  03716	66 89 0e	 mov	 WORD PTR [esi], cx
$L72227:

; 1199 : 			}
; 1200 : 			if (((feanex & FSTOP) IS_PLUS)
; 1201 : 				|| ((feacur & FSTOP) IS_PLUS))

  03719	25 00 20 00 00	 and	 eax, 8192		; 00002000H
  0371e	66 85 c0	 test	 ax, ax
  03721	75 0c		 jne	 SHORT $L72229
  03723	8b c2		 mov	 eax, edx
  03725	25 00 20 00 00	 and	 eax, 8192		; 00002000H
  0372a	66 85 c0	 test	 ax, ax
  0372d	74 06		 je	 SHORT $L72228
$L72229:

; 1202 : 			{
; 1203 : 				pDphsettar->durtran = 0;

  0372f	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L72228:

; 1204 : 			}
; 1205 : 			/* Long breathy offset into silence */
; 1206 : 			if (((feacur & FVOICD) IS_PLUS)
; 1207 : 				&& ((feacur & FNASAL) IS_MINUS))

  03735	f6 c2 02	 test	 dl, 2
  03738	74 1a		 je	 SHORT $endbsmo$72203
  0373a	66 83 7c 24 18
	00		 cmp	 WORD PTR 12+[esp+12], 0
  03740	75 12		 jne	 SHORT $endbsmo$72203

; 1208 : 			{
; 1209 : 				if (pDphsettar->phonex == GEN_SIL)

  03742	66 81 fd 00 1e	 cmp	 bp, 7680		; 00001e00H
  03747	75 0b		 jne	 SHORT $endbsmo$72203

; 1210 : 				{
; 1211 : 					pDphsettar->bouval = 15;

  03749	66 c7 06 0f 00	 mov	 WORD PTR [esi], 15	; 0000000fH
$L75115:

; 1212 : 					pDphsettar->durtran = NF130MS;

  0374e	66 c7 46 06 14
	00		 mov	 WORD PTR [esi+6], 20	; 00000014H
$endbsmo$72203:

; 1213 : 				}
; 1214 : 			}
; 1215 : 		}
; 1216 : 	}
; 1217 : 	/* Truncate back transition so as not to exceed 20 frames */
; 1218 :   endbsmo:
; 1219 : 	if (pDphsettar->durtran > NF130MS)

  03754	b8 14 00 00 00	 mov	 eax, 20			; 00000014H
  03759	66 39 46 06	 cmp	 WORD PTR [esi+6], ax
  0375d	7e 04		 jle	 SHORT $L72232

; 1220 : 		pDphsettar->durtran = NF130MS;

  0375f	66 89 46 06	 mov	 WORD PTR [esi+6], ax
$L72232:

; 1221 : 	/* Truncate backward tran so as not to exceed dur of phone */
; 1222 : 	if (pDphsettar->durtran > pDph_t->durfon)

  03763	8b 4c 24 14	 mov	 ecx, DWORD PTR _pDph_t$[esp+12]
  03767	66 8b 81 04 15
	00 00		 mov	 ax, WORD PTR [ecx+5380]
  0376e	66 39 46 06	 cmp	 WORD PTR [esi+6], ax
  03772	7e 04		 jle	 SHORT $L72233

; 1223 : 		pDphsettar->durtran = pDph_t->durfon;

  03774	66 89 46 06	 mov	 WORD PTR [esi+6], ax
$L72233:

; 1224 : 	pDphsettar->np->tbacktr = pDph_t->durfon - pDphsettar->durtran;

  03778	66 8b 89 04 15
	00 00		 mov	 cx, WORD PTR [ecx+5380]
  0377f	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  03782	66 2b 4e 06	 sub	 cx, WORD PTR [esi+6]
  03786	66 89 4a 10	 mov	 WORD PTR [edx+16], cx

; 1225 : 	/* No parameter can take on negative values */
; 1226 : 	if (pDphsettar->bouval < 0)

  0378a	66 83 3e 00	 cmp	 WORD PTR [esi], 0
  0378e	7d 05		 jge	 SHORT $L72234

; 1227 : 		pDphsettar->bouval = 0;

  03790	66 c7 06 00 00	 mov	 WORD PTR [esi], 0
$L72234:
  03795	5f		 pop	 edi
  03796	5e		 pop	 esi
  03797	5d		 pop	 ebp
  03798	5b		 pop	 ebx

; 1228 : }

  03799	c3		 ret	 0
_us_back_smooth_rules ENDP
_TEXT	ENDS
EXTRN	_all_burdr:BYTE
EXTRN	_mstofr:NEAR
_TEXT	SEGMENT
_phTTS$ = 8
_fealas$ = 12
_feacur$ = 16
_feanex$ = 20
_struclm2$ = 24
_struccur$ = 28
_us_special_rules PROC NEAR

; 1257 : 	short                   bdur, vot; /* MVP made as a local variable */
; 1258 : 	short                   closure_dur;	/* MVP made as a local variable */
; 1259 : 	short tmp;
; 1260 : 
; 1261 : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  037a0	8b 44 24 04	 mov	 eax, DWORD PTR _phTTS$[esp-4]
  037a4	53		 push	 ebx
  037a5	55		 push	 ebp
  037a6	56		 push	 esi
  037a7	57		 push	 edi
  037a8	8b 78 18	 mov	 edi, DWORD PTR [eax+24]

; 1262 : 	PKSD_T                  pKsd_t = phTTS->pKernelShareData;
; 1263 : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;
; 1264 : 
; 1265 : 	/* SPECIAL RULE 1: Burst duration for plosives and affricates             */
; 1266 : 	tmp = pDphsettar->phcur & PVALUE;
; 1267 : 	bdur = burdr(pDphsettar->phcur);   /* Look up inher. burst dur in msec in table */
; 1268 : 
; 1269 : 	if ((feacur & FBURST) IS_PLUS)

  037ab	8b 5c 24 1c	 mov	 ebx, DWORD PTR _feacur$[esp+12]
  037af	8b b7 10 2c 00
	00		 mov	 esi, DWORD PTR [edi+11280]
  037b5	0f bf 46 18	 movsx	 eax, WORD PTR [esi+24]
  037b9	8b c8		 mov	 ecx, eax
  037bb	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  037c0	c1 f9 08	 sar	 ecx, 8
  037c3	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_burdr[ecx*4]
  037ca	8b cb		 mov	 ecx, ebx
  037cc	81 e1 00 08 00
	00		 and	 ecx, 2048		; 00000800H
  037d2	66 8b 04 42	 mov	 ax, WORD PTR [edx+eax*2]
  037d6	89 4c 24 14	 mov	 DWORD PTR 8+[esp+12], ecx
  037da	66 85 c9	 test	 cx, cx
  037dd	0f 84 d4 00 00
	00		 je	 $L72274

; 1270 : 	{
; 1271 : 		bdur = mstofr (bdur);		   /* Convert to frames         */

  037e3	0f bf c0	 movsx	 eax, ax
  037e6	50		 push	 eax
  037e7	e8 00 00 00 00	 call	 _mstofr

; 1272 : 
; 1273 : 		/* Don't release burst in homorganic plosiv-nasal & plos-plos sequence */
; 1274 : 		/* bats 878 EAB 4/2/99*/
; 1275 : 
; 1276 : 
; 1277 : /* 
; 1278 : 	Dennis had a rule that said in homorganic (meaning
; 1279 : in this case the same place of articulation) nasal plosives
; 1280 : and plosive plosive one should not release the burst of the 
; 1281 : initial plosive. This is incorrect place because a nasal
; 1282 : doesn't have a place of articulation so it can never match 
; 1283 : plus the homorganic I don't believe really means exact same 
; 1284 : place of articulation. A plosive followed by a nasal will 
; 1285 : not be realeased-period. Secondly, a plosive that has 
; 1286 : similiar place of artculation should follow the rule.
; 1287 : i=(i.e an aveloar or a dental are equivalent)
; 1288 : 	So, I added new masks to group places into "homorganic
; 1289 : groupings"
; 1290 : 
; 1291 : */
; 1292 : 
; 1293 : 		if ((feanex & (FNASAL | FPLOSV)) IS_PLUS)

  037ec	8a 4c 24 24	 mov	 cl, BYTE PTR _feanex$[esp+16]
  037f0	83 c4 04	 add	 esp, 4
  037f3	f6 c1 c0	 test	 cl, -64			; ffffffc0H
  037f6	74 45		 je	 SHORT $L72264

; 1294 : 		{
; 1295 : 			//EAB Don't release a plosive followed by a nasal period
; 1296 : 			// The former comment is not quite correct becaue the place of articulation
; 1297 : 			//between a nasal and a plosive can't be the same becuase the nasal's
; 1298 : 			// doesn't have a place of articulation 2/26/99
; 1299 : 			if((feacur & FPLOSV ) IS_PLUS)

  037f8	f6 c3 40	 test	 bl, 64			; 00000040H
  037fb	74 02		 je	 SHORT $L72261

; 1300 : 				bdur=0;

  037fd	33 c0		 xor	 eax, eax
$L72261:

; 1301 : 			if ((us_place[pDphsettar->phcur & PVALUE] | MASKFRONT )== (us_place[pDphsettar->phonex & PVALUE] | MASKFRONT ))

  037ff	8a 4e 18	 mov	 cl, BYTE PTR [esi+24]
  03802	8a 56 0a	 mov	 dl, BYTE PTR [esi+10]
  03805	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  0380b	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  03811	66 8b 0c 4d 00
	00 00 00	 mov	 cx, WORD PTR _us_place[ecx*2]
  03819	66 8b 14 55 00
	00 00 00	 mov	 dx, WORD PTR _us_place[edx*2]
  03821	8b da		 mov	 ebx, edx
  03823	8b e9		 mov	 ebp, ecx
  03825	83 cb 0f	 or	 ebx, 15			; 0000000fH
  03828	83 cd 0f	 or	 ebp, 15			; 0000000fH
  0382b	66 3b eb	 cmp	 bp, bx
  0382e	75 04		 jne	 SHORT $L72262

; 1302 : 			{		/* yes they're both done up front */
; 1303 : 				bdur = 0;

  03830	33 c0		 xor	 eax, eax

; 1304 : 			}
; 1305 : 			else if ((us_place[pDphsettar->phcur  & PVALUE] )== (us_place[pDphsettar->phonex & PVALUE] ))

  03832	eb 28		 jmp	 SHORT $L72268
$L72262:
  03834	66 3b ca	 cmp	 cx, dx
  03837	75 04		 jne	 SHORT $L72264

; 1306 : 			{		
; 1307 : 				bdur = 0;

  03839	33 c0		 xor	 eax, eax

; 1308 : 			}
; 1309 : 
; 1310 : 		}
; 1311 : 
; 1312 : 	
; 1313 : 
; 1314 : 
; 1315 : 		if (bdur > 1)

  0383b	eb 1f		 jmp	 SHORT $L72268
$L72264:
  0383d	66 3d 01 00	 cmp	 ax, 1
  03841	7e 19		 jle	 SHORT $L72268

; 1316 : 		{
; 1317 : 			if (((feacur & FPLOSV) IS_PLUS)
; 1318 : 				&& ((feanex & FOBST) IS_PLUS))

  03843	f6 44 24 1c 40	 test	 BYTE PTR _feacur$[esp+12], 64 ; 00000040H
  03848	74 07		 je	 SHORT $L72266
  0384a	f6 44 24 20 20	 test	 BYTE PTR _feanex$[esp+12], 32 ; 00000020H

; 1319 : 			{
; 1320 : 				bdur--;				   /* Shorten burst before obst by 6 ms */
; 1321 : 			}
; 1322 : 			else if (pDph_t->durfon < NF50MS)

  0384f	75 0a		 jne	 SHORT $L75135
$L72266:
  03851	66 83 bf 04 15
	00 00 08	 cmp	 WORD PTR [edi+5380], 8
  03859	7d 01		 jge	 SHORT $L72268
$L75135:

; 1323 : 			{
; 1324 : 				bdur--;				   /* Shorten burst if closure short */

  0385b	48		 dec	 eax
$L72268:

; 1325 : 			}
; 1326 : 		}
; 1327 : 
; 1328 : 		closure_dur = pDph_t->durfon - bdur;

  0385c	66 8b 8f 04 15
	00 00		 mov	 cx, WORD PTR [edi+5380]
  03863	66 2b c8	 sub	 cx, ax

; 1329 : 
; 1330 : 		if ((pDphsettar->phcur == USP_CH) || (pDphsettar->phcur == USP_JH))

  03866	66 8b 46 18	 mov	 ax, WORD PTR [esi+24]
  0386a	66 3d 36 1e	 cmp	 ax, 7734		; 00001e36H
  0386e	74 06		 je	 SHORT $L72270
  03870	66 3d 37 1e	 cmp	 ax, 7735		; 00001e37H
  03874	75 0b		 jne	 SHORT $L72271
$L72270:

; 1331 : 		{
; 1332 : 			if (closure_dur > NF80MS)

  03876	66 83 f9 0d	 cmp	 cx, 13			; 0000000dH
  0387a	7e 05		 jle	 SHORT $L72271

; 1333 : 				closure_dur = NF80MS;

  0387c	b9 0d 00 00 00	 mov	 ecx, 13			; 0000000dH
$L72271:

; 1334 : 		}
; 1335 : 		for (pDphsettar->np = &PA2; pDphsettar->np <= &PAB; pDphsettar->np++)

  03881	8d 97 68 01 00
	00		 lea	 edx, DWORD PTR [edi+360]
  03887	8d 87 1c 02 00
	00		 lea	 eax, DWORD PTR [edi+540]
  0388d	3b d0		 cmp	 edx, eax
  0388f	89 56 10	 mov	 DWORD PTR [esi+16], edx
  03892	77 1f		 ja	 SHORT $L75134
  03894	33 d2		 xor	 edx, edx
$L72272:

; 1336 : 		{							   /* All fric gains to */
; 1337 : 			pDphsettar->np->tspesh = closure_dur;	/* zero during closur */

  03896	8b 5e 10	 mov	 ebx, DWORD PTR [esi+16]
  03899	66 89 4b 12	 mov	 WORD PTR [ebx+18], cx

; 1338 : 			pDphsettar->np->pspesh = 0;

  0389d	8b 5e 10	 mov	 ebx, DWORD PTR [esi+16]
  038a0	66 89 53 14	 mov	 WORD PTR [ebx+20], dx
  038a4	8b 6e 10	 mov	 ebp, DWORD PTR [esi+16]
  038a7	83 c5 24	 add	 ebp, 36			; 00000024H
  038aa	8b dd		 mov	 ebx, ebp
  038ac	89 6e 10	 mov	 DWORD PTR [esi+16], ebp
  038af	3b d8		 cmp	 ebx, eax
  038b1	76 e3		 jbe	 SHORT $L72272
$L75134:

; 1334 : 		}
; 1335 : 		for (pDphsettar->np = &PA2; pDphsettar->np <= &PAB; pDphsettar->np++)

  038b3	8b 5c 24 1c	 mov	 ebx, DWORD PTR _feacur$[esp+12]
$L72274:

; 1339 : 		}
; 1340 : 	}
; 1341 : 
; 1342 : 		/*    Special hack to give /th,dh/ a weak burst */
; 1343 : 		// EAB  1/26/99 Migrate to others??
; 1344 : 		if ((pDphsettar->phcur == USP_TH) || (pDphsettar->phcur == USP_DH)) 

  038b7	66 8b 46 18	 mov	 ax, WORD PTR [esi+24]
  038bb	66 3d 27 1e	 cmp	 ax, 7719		; 00001e27H
  038bf	74 06		 je	 SHORT $L72276
  038c1	66 3d 28 1e	 cmp	 ax, 7720		; 00001e28H
  038c5	75 40		 jne	 SHORT $L72279
$L72276:

; 1345 : 		{
; 1346 : 			for (pDphsettar->np = &PA6; pDphsettar->np <= &PAB; pDphsettar->np++) 

  038c7	8d 8f f8 01 00
	00		 lea	 ecx, DWORD PTR [edi+504]
  038cd	8d 87 1c 02 00
	00		 lea	 eax, DWORD PTR [edi+540]
  038d3	3b c8		 cmp	 ecx, eax
  038d5	89 4e 10	 mov	 DWORD PTR [esi+16], ecx
  038d8	77 2d		 ja	 SHORT $L72279

; 1347 : 			{		/* All fric gains to */
; 1348 : 				pDphsettar->np->tspesh = pDph_t->durfon - 2;		/* zero during closur*/

  038da	b9 1e 00 00 00	 mov	 ecx, 30			; 0000001eH
$L72277:
  038df	66 8b 97 04 15
	00 00		 mov	 dx, WORD PTR [edi+5380]
  038e6	8b 6e 10	 mov	 ebp, DWORD PTR [esi+16]
  038e9	66 83 ea 02	 sub	 dx, 2
  038ed	66 89 55 12	 mov	 WORD PTR [ebp+18], dx

; 1349 : 				pDphsettar->np->pspesh = 30;

  038f1	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  038f4	66 89 4a 14	 mov	 WORD PTR [edx+20], cx
  038f8	8b 6e 10	 mov	 ebp, DWORD PTR [esi+16]
  038fb	83 c5 24	 add	 ebp, 36			; 00000024H
  038fe	8b d5		 mov	 edx, ebp
  03900	89 6e 10	 mov	 DWORD PTR [esi+16], ebp
  03903	3b d0		 cmp	 edx, eax
  03905	76 d8		 jbe	 SHORT $L72277
$L72279:

; 1350 : 			}
; 1351 :         }
; 1352 : 
; 1353 : 	
; 1354 : 	/* SPECIAL RULE 2: Voice onset time for aspirated plosives */
; 1355 : 
; 1356 : 	vot = 0;
; 1357 : 	if ((((fealas & FPLOSV) IS_PLUS)
; 1358 : 		 && ((fealas & FVOICD) IS_MINUS)
; 1359 : 		 && ((feacur & FSONOR) IS_PLUS ))) 

  03907	8a 44 24 18	 mov	 al, BYTE PTR _fealas$[esp+12]
  0390b	a8 40		 test	 al, 64			; 00000040H
  0390d	0f 84 48 01 00
	00		 je	 $L72280
  03913	a8 02		 test	 al, 2
  03915	0f 85 40 01 00
	00		 jne	 $L72280
  0391b	f6 c3 10	 test	 bl, 16			; 00000010H
  0391e	0f 84 37 01 00
	00		 je	 $L72280

; 1360 : 	{
; 1361 : 		PAP.pspesh = 57-5;			   /* Amplitude of aspiration in dB     */

  03924	66 c7 87 58 01
	00 00 34 00	 mov	 WORD PTR [edi+344], 52	; 00000034H

; 1362 : 		if (begtyp(pDphsettar->phonex) != 1)

  0392d	0f bf 46 0a	 movsx	 eax, WORD PTR [esi+10]
  03931	8b c8		 mov	 ecx, eax
  03933	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  03938	c1 f9 08	 sar	 ecx, 8
  0393b	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_begtyp[ecx*4]
  03942	66 83 3c 42 01	 cmp	 WORD PTR [edx+eax*2], 1
  03947	74 09		 je	 SHORT $L72281

; 1363 : 		{
; 1364 : 			PAP.pspesh = 61-6;		   /* Stronger asp before +back */

  03949	66 c7 87 58 01
	00 00 37 00	 mov	 WORD PTR [edi+344], 55	; 00000037H
$L72281:

; 1365 : 		}
; 1366 : 		PAV.pspesh = 0;				   /* Amplitude of voicing during aspir */
; 1367 : 
; 1368 : 
; 1369 : 		vot = NF40MS;				   /* Asp dur for /p,t,k/ before stressed sonor */
; 1370 : 		if ((struccur & FSTRESS_1) IS_MINUS)

  03952	8b 5c 24 28	 mov	 ebx, DWORD PTR _struccur$[esp+12]
  03956	66 c7 87 34 01
	00 00 00 00	 mov	 WORD PTR [edi+308], 0
  0395f	83 e3 01	 and	 ebx, 1
  03962	bd 06 00 00 00	 mov	 ebp, 6
  03967	66 85 db	 test	 bx, bx
  0396a	75 0d		 jne	 SHORT $L72282

; 1371 : 		{
; 1372 : 			vot = NF25MS;			   /* Vot shorter if vowel not stressed */
; 1373 : 			PAP.pspesh -= 3;

  0396c	66 83 87 58 01
	00 00 fd	 add	 WORD PTR [edi+344], -3	; fffffffdH
  03974	bd 04 00 00 00	 mov	 ebp, 4
$L72282:

; 1374 : 		}
; 1375 : 		if (((feacur & FSONCON) IS_PLUS) || (pDphsettar->phcur == USP_RR))

  03979	8b 44 24 1c	 mov	 eax, DWORD PTR _feacur$[esp+12]
  0397d	25 00 02 00 00	 and	 eax, 512		; 00000200H
  03982	66 85 c0	 test	 ax, ax
  03985	75 08		 jne	 SHORT $L72284
  03987	66 81 7e 18 0f
	1e		 cmp	 WORD PTR [esi+24], 7695	; 00001e0fH
  0398d	75 08		 jne	 SHORT $L72283
$L72284:

; 1376 : 		{
; 1377 : 			PAP.pspesh += 3;		   /* Aspiration stronger in sonor cons */

  0398f	66 83 87 58 01
	00 00 03	 add	 WORD PTR [edi+344], 3
$L72283:

; 1378 : 		}
; 1379 : 
; 1380 : 		/* eab 2/6/976 Found code that was causing after Murhty port. Vlaue of pholm2
; 1381 : 		was not being retained- substituted global variables that already exsist
; 1382 : 		after release the old and I think vestigal variables need to be removed
; 1383 : 		this problem affect all languages but in fact the code didn't exist in German
; 1384 : 		at all but was needed don't know is struclm2 is working either*/
; 1385 : 
; 1386 : 		if ( phone_feature( pDph_t,pDph_t->allophons[pDph_t->nphone -2]) == (FOBST+FCONSON ))          

  03997	0f bf 8f d0 23
	00 00		 movsx	 ecx, WORD PTR [edi+9168]
  0399e	0f bf 94 4f e8
	03 00 00	 movsx	 edx, WORD PTR [edi+ecx*2+1000]
  039a6	52		 push	 edx
  039a7	57		 push	 edi
  039a8	e8 00 00 00 00	 call	 _phone_feature
  039ad	83 c4 08	 add	 esp, 8
  039b0	66 3d 20 01	 cmp	 ax, 288			; 00000120H
  039b4	75 15		 jne	 SHORT $L72285

; 1387 : 		{
; 1388 : 			if ((struclm2 & FBOUNDARY) IS_MINUS )

  039b6	8b 44 24 24	 mov	 eax, DWORD PTR _struclm2$[esp+12]
  039ba	25 e0 01 00 00	 and	 eax, 480		; 000001e0H
  039bf	66 85 c0	 test	 ax, ax
  039c2	75 11		 jne	 SHORT $L72288

; 1389 : 			{
; 1390 : 				vot = NF15MS;	   

  039c4	bd 02 00 00 00	 mov	 ebp, 2

; 1391 : 			}
; 1392 : 		}
; 1393 : 		else if (((feacur & FSYLL) IS_MINUS))

  039c9	eb 0a		 jmp	 SHORT $L72288
$L72285:
  039cb	f6 44 24 1c 01	 test	 BYTE PTR _feacur$[esp+12], 1
  039d0	75 03		 jne	 SHORT $L72288

; 1394 : 		{
; 1395 : 			vot += NF20MS;			   /* Vot longer in a sonorant consonant */

  039d2	83 c5 03	 add	 ebp, 3
$L72288:

; 1396 : 		}
; 1397 : 		if (vot >= pDph_t->durfon)

  039d5	66 8b 87 04 15
	00 00		 mov	 ax, WORD PTR [edi+5380]
  039dc	66 3b e8	 cmp	 bp, ax
  039df	7c 03		 jl	 SHORT $L72289

; 1398 : 		{
; 1399 : 			vot = pDph_t->durfon - 1;

  039e1	8d 68 ff	 lea	 ebp, DWORD PTR [eax-1]
$L72289:

; 1400 : 			
; 1401 : 		}
; 1402 : 		/* Vot cannot exceed 1/2 duration of a stressed vowel */
; 1403 : 		if ((vot > (pDph_t->durfon >> 1))
; 1404 : 			&& ((feacur & FSYLL) IS_PLUS)
; 1405 : 			&& ((struccur & FSTRESS_1) IS_PLUS))

  039e4	66 8b c8	 mov	 cx, ax
  039e7	66 d1 f9	 sar	 cx, 1
  039ea	66 3b e9	 cmp	 bp, cx
  039ed	7e 0e		 jle	 SHORT $L72290
  039ef	f6 44 24 1c 01	 test	 BYTE PTR _feacur$[esp+12], 1
  039f4	74 07		 je	 SHORT $L72290
  039f6	66 85 db	 test	 bx, bx
  039f9	74 02		 je	 SHORT $L72290

; 1406 : 		{
; 1407 : 			vot = pDph_t->durfon >> 1;

  039fb	8b e9		 mov	 ebp, ecx
$L72290:

; 1408 : 		}
; 1409 : 		/* A dummy vowel is used to release a voiceless plosive into silence */
; 1410 : 		if ((struccur & FDUMMY_VOWEL) IS_PLUS)

  039fd	8b 4c 24 28	 mov	 ecx, DWORD PTR _struccur$[esp+12]
  03a01	81 e1 00 08 00
	00		 and	 ecx, 2048		; 00000800H
  03a07	66 85 c9	 test	 cx, cx
  03a0a	74 0a		 je	 SHORT $L72291

; 1411 : 		{
; 1412 : 			vot = pDph_t->durfon;
; 1413 : 			PAP.pspesh -= 3;

  03a0c	66 83 87 58 01
	00 00 fd	 add	 WORD PTR [edi+344], -3	; fffffffdH
  03a14	8b e8		 mov	 ebp, eax
$L72291:

; 1414 : 		}
; 1415 : 		/* eab in fast mode we simply when to model a much reduced faster
; 1416 : 		release--no time to build up large pressures*/
; 1417 : 
; 1418 : #ifdef FASTTYPING_MODE
; 1419 : 		if(phTTS->bInTypingMode == TRUE || pKsd_t->sprate >300)
; 1420 : 		{
; 1421 : 			
; 1422 : 			vot=vot>>2;
; 1423 : 			if(vot == 0)
; 1424 : 				vot=1;
; 1425 : 		
; 1426 : 
; 1427 : 		PAV.pspesh += 20;
; 1428 : 		PAP.pspesh -=5;
; 1429 : 		}
; 1430 : #endif
; 1431 : 		PAV.tspesh = vot;
; 1432 : 		PAP.tspesh = vot;/* have aspiration continue into vowel*/
; 1433 : 
; 1434 : 		/* Widen 1st and 2nd formant bws when glottis open for aspir */
; 1435 : 		PB1.tspesh = vot;
; 1436 : 		PB2.tspesh = vot;
; 1437 : 		PB1.pspesh = PB1.tarcur + 250 +250;

  03a16	66 8b 8f b4 00
	00 00		 mov	 cx, WORD PTR [edi+180]

; 1438 : 		PB2.pspesh = PB2.tarcur + (70 -20);

  03a1d	66 8b 97 d8 00
	00 00		 mov	 dx, WORD PTR [edi+216]
  03a24	8a 44 24 18	 mov	 al, BYTE PTR _fealas$[esp+12]
  03a28	66 81 c1 f4 01	 add	 cx, 500			; 000001f4H
  03a2d	66 83 c2 32	 add	 dx, 50			; 00000032H
  03a31	66 89 af 32 01
	00 00		 mov	 WORD PTR [edi+306], bp
  03a38	66 89 af 56 01
	00 00		 mov	 WORD PTR [edi+342], bp
  03a3f	66 89 af c6 00
	00 00		 mov	 WORD PTR [edi+198], bp
  03a46	66 89 af ea 00
	00 00		 mov	 WORD PTR [edi+234], bp
  03a4d	66 89 8f c8 00
	00 00		 mov	 WORD PTR [edi+200], cx
  03a54	66 89 97 ec 00
	00 00		 mov	 WORD PTR [edi+236], dx
$L72280:

; 1439 : 	}
; 1440 : 	/* SPECIAL RULE 3: Create realistic voicebar, avoid pops and clicks */
; 1441 : 	/* Amp of voicebar set here, AV target in table invalid */
; 1442 : 	/* Set AV=0 for last 12.8 ms, let AV die out, thus avoid click */
; 1443 : 	/* Set to under 250 to signal voicebar */
; 1444 :   
; 1445 : 	/* Problem: spectrum has too much F4 if f2,3 are high, as in [i] */
; 1446 : 	if (((feacur & FBURST) IS_PLUS)
; 1447 : 		&& ((feacur & FVOICD) IS_PLUS)
; 1448 : 		&& ((fealas & FVOICD) IS_PLUS)
; 1449 : 		&& ((feanex & FVOICD) IS_MINUS)		/* Voicebar only if next -V */
; 1450 : 		&& (pDphsettar->phcur != USP_TX))

  03a5b	66 83 7c 24 14
	00		 cmp	 WORD PTR 8+[esp+12], 0
  03a61	74 65		 je	 SHORT $L72292
  03a63	f6 44 24 1c 02	 test	 BYTE PTR _feacur$[esp+12], 2
  03a68	74 5e		 je	 SHORT $L72292
  03a6a	a8 02		 test	 al, 2
  03a6c	74 5a		 je	 SHORT $L72292
  03a6e	f6 44 24 20 02	 test	 BYTE PTR _feanex$[esp+12], 2
  03a73	75 53		 jne	 SHORT $L72292
  03a75	66 81 7e 18 34
	1e		 cmp	 WORD PTR [esi+24], 7732	; 00001e34H
  03a7b	74 4b		 je	 SHORT $L72292

; 1451 : 	{
; 1452 : 		PAV.tspesh = pDph_t->durfon - NF15MS;

  03a7d	66 8b 87 04 15
	00 00		 mov	 ax, WORD PTR [edi+5380]

; 1453 : 		PB1.tspesh = pDph_t->durfon;
; 1454 : 		PB2.tspesh = pDph_t->durfon;
; 1455 : 		PB3.tspesh = pDph_t->durfon;
; 1456 : 		PAV.pspesh = 10;			   /* Large since low-pass TILT attenuates it 

  03a84	66 c7 87 34 01
	00 00 0a 00	 mov	 WORD PTR [edi+308], 10	; 0000000aH
  03a8d	66 89 87 c6 00
	00 00		 mov	 WORD PTR [edi+198], ax
  03a94	66 89 87 ea 00
	00 00		 mov	 WORD PTR [edi+234], ax
  03a9b	8d 48 fe	 lea	 ecx, DWORD PTR [eax-2]
  03a9e	66 89 87 0e 01
	00 00		 mov	 WORD PTR [edi+270], ax

; 1457 : 							eab voicebars can be trouble and are not really perceptual*/
; 1458 : 		PB1.pspesh = 1000;

  03aa5	b8 e8 03 00 00	 mov	 eax, 1000		; 000003e8H
  03aaa	66 89 8f 32 01
	00 00		 mov	 WORD PTR [edi+306], cx
  03ab1	66 89 87 c8 00
	00 00		 mov	 WORD PTR [edi+200], ax

; 1459 : 		PB2.pspesh = 1000;

  03ab8	66 89 87 ec 00
	00 00		 mov	 WORD PTR [edi+236], ax

; 1460 : 		PB3.pspesh = 1500;

  03abf	66 c7 87 10 01
	00 00 dc 05	 mov	 WORD PTR [edi+272], 1500 ; 000005dcH
$L72292:
  03ac8	5f		 pop	 edi
  03ac9	5e		 pop	 esi
  03aca	5d		 pop	 ebp
  03acb	5b		 pop	 ebx

; 1461 : 	}
; 1462 : }

  03acc	c3		 ret	 0
_us_special_rules ENDP
_phTTS$ = 8
_shrif$ = 12
_pholas$ = 16
_fealas$ = 20
_feacur$ = 24
_struclas$ = 28
_feanex$ = 36
_uk_forw_smooth_rules PROC NEAR

; 487  : {

  03ad0	53		 push	 ebx

; 488  : 	short                   temp;	   /* MVP MI : This variable is made local */
; 489  : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  03ad1	8b 5c 24 08	 mov	 ebx, DWORD PTR _phTTS$[esp]
  03ad5	55		 push	 ebp
  03ad6	56		 push	 esi
  03ad7	57		 push	 edi
  03ad8	8b 7b 18	 mov	 edi, DWORD PTR [ebx+24]

; 490  : 	PKSD_T                  pKsd_t = phTTS->pKernelShareData;
; 491  : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;
; 492  : 
; 493  : 	//debugforward ("Set default", pDphsettar->np);
; 494  : 	/* FORWARD SMOOTH: F1, F2, F3 */
; 495  : 	if (pDphsettar->par_type IS_FORM_FREQ)

  03adb	bd 03 00 00 00	 mov	 ebp, 3
  03ae0	8b b7 10 2c 00
	00		 mov	 esi, DWORD PTR [edi+11280]
  03ae6	8a 46 14	 mov	 al, BYTE PTR [esi+20]
  03ae9	3c 03		 cmp	 al, 3
  03aeb	0f 85 74 02 00
	00		 jne	 $L72436

; 496  : 	{
; 497  : 		/* 0. Use default values for obst-obst transition */
; 498  : 		if ((feacur & FSONOR) IS_PLUS)

  03af1	8b 44 24 24	 mov	 eax, DWORD PTR _feacur$[esp+12]
  03af5	8b 54 24 1c	 mov	 edx, DWORD PTR _pholas$[esp+12]
  03af9	a8 10		 test	 al, 16			; 00000010H
  03afb	bd 05 00 00 00	 mov	 ebp, 5
  03b00	0f 84 99 00 00
	00		 je	 $L72446

; 499  : 		{
; 500  : 			if ((feacur & FSONCON) IS_MINUS)

  03b06	25 00 02 00 00	 and	 eax, 512		; 00000200H
  03b0b	66 85 c0	 test	 ax, ax
  03b0e	75 6c		 jne	 SHORT $L72438

; 501  : 			{
; 502  : 				pDphsettar->durtran = NF45MS;
; 503  : 				if ((fealas & FSONCON) IS_PLUS)

  03b10	8b 44 24 20	 mov	 eax, DWORD PTR _fealas$[esp+12]
  03b14	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
  03b1a	25 00 02 00 00	 and	 eax, 512		; 00000200H
  03b1f	66 85 c0	 test	 ax, ax
  03b22	74 3d		 je	 SHORT $L72439

; 504  : 				{
; 505  : 					/* 1. Soncon-vowel transition, use 25-75% rule */
; 506  : 					pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarlas) >> 1;

  03b24	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  03b27	0f bf 2e	 movsx	 ebp, WORD PTR [esi]
  03b2a	0f bf 41 18	 movsx	 eax, WORD PTR [ecx+24]
  03b2e	03 c5		 add	 eax, ebp
  03b30	d1 f8		 sar	 eax, 1

; 507  : 					/* Make F1 discontinuous for light /l/ */
; 508  : 					if ((pholas == UKP_LL) && (pDphsettar->np == &PF1))

  03b32	66 81 fa 1b 1d	 cmp	 dx, 7451		; 00001d1bH
  03b37	66 89 06	 mov	 WORD PTR [esi], ax
  03b3a	75 0f		 jne	 SHORT $L72440
  03b3c	8d 57 24	 lea	 edx, DWORD PTR [edi+36]
  03b3f	3b ca		 cmp	 ecx, edx
  03b41	75 5c		 jne	 SHORT $L72446

; 509  : 					{
; 510  : 						pDphsettar->bouval += 80;

  03b43	83 c0 50	 add	 eax, 80			; 00000050H
  03b46	66 89 06	 mov	 WORD PTR [esi], ax

; 511  : 					}
; 512  : 					/* Make F3 & F2 transitions slower out of /r/ */
; 513  : 					if ((pholas == UKP_R) && (pDphsettar->np != &PF1))

  03b49	eb 54		 jmp	 SHORT $L72446
$L72440:
  03b4b	66 81 fa 1a 1d	 cmp	 dx, 7450		; 00001d1aH
  03b50	75 4d		 jne	 SHORT $L72446
  03b52	8d 47 24	 lea	 eax, DWORD PTR [edi+36]
  03b55	3b c8		 cmp	 ecx, eax
  03b57	74 46		 je	 SHORT $L72446

; 514  : 					{
; 515  : 						pDphsettar->durtran = NF70MS;

  03b59	66 c7 46 06 0b
	00		 mov	 WORD PTR [esi+6], 11	; 0000000bH

; 516  : 					}
; 517  : 				}
; 518  : 				else

  03b5f	eb 3e		 jmp	 SHORT $L72446
$L72439:

; 519  : 				{
; 520  : 					/* 2. Vowel-[vowel/h] transition */
; 521  : 					/* Preceeding seg has strong influence on [h] init val */
; 522  : 					if (pDphsettar->phcur == UKP_HX)

  03b61	66 81 7e 18 1c
	1d		 cmp	 WORD PTR [esi+24], 7452	; 00001d1cH
  03b67	75 36		 jne	 SHORT $L72446

; 523  : 					{
; 524  : 						pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarlas) >> 1;

  03b69	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  03b6c	0f bf 06	 movsx	 eax, WORD PTR [esi]
  03b6f	0f bf 51 18	 movsx	 edx, WORD PTR [ecx+24]
  03b73	03 d0		 add	 edx, eax
  03b75	d1 fa		 sar	 edx, 1
  03b77	66 89 16	 mov	 WORD PTR [esi], dx

; 525  : 					}
; 526  : 				}
; 527  : 			}
; 528  : 			else

  03b7a	eb 23		 jmp	 SHORT $L72446
$L72438:

; 529  : 			{
; 530  : 				/* Phcur is a sonorant conson */
; 531  : 				if ((fealas & FSONCON) IS_MINUS)

  03b7c	8b 4c 24 20	 mov	 ecx, DWORD PTR _fealas$[esp+12]
  03b80	81 e1 00 02 00
	00		 and	 ecx, 512		; 00000200H
  03b86	66 85 c9	 test	 cx, cx
  03b89	75 10		 jne	 SHORT $L72445

; 532  : 				{
; 533  : 					/* 3. Vowel-soncon trans, use 75-25% rule */
; 534  : 					pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarcur) >> 1;

  03b8b	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  03b8e	0f bf 0e	 movsx	 ecx, WORD PTR [esi]
  03b91	0f bf 02	 movsx	 eax, WORD PTR [edx]
  03b94	03 c1		 add	 eax, ecx
  03b96	d1 f8		 sar	 eax, 1
  03b98	66 89 06	 mov	 WORD PTR [esi], ax
$L72445:

; 535  : 					pDphsettar->durtran = NF30MS;
; 536  : 				}
; 537  : 				else
; 538  : 				{
; 539  : 					/* 4. Soncon-soncon transition */
; 540  : 					pDphsettar->durtran = NF30MS;

  03b9b	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L72446:

; 541  : 				}
; 542  : 			}
; 543  : 		}
; 544  : 		/* Bound value = previous target if current phone is sil */
; 545  : 		/* eab not if it's the first sil EAB 4/apr/95 I've fixed this once before */
; 546  : 		if (pDphsettar->phcur == GEN_SIL)

  03b9f	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  03ba5	75 3e		 jne	 SHORT $L72447

; 547  : 		{
; 548  : 			/*Eab 7/31/96 changed > 2 to >1 for ending sil*/
; 549  : 			if (pDph_t->nphone > 1)

  03ba7	66 83 bf d0 23
	00 00 01	 cmp	 WORD PTR [edi+9168], 1
  03baf	7e 1a		 jle	 SHORT $L72448

; 550  : 			{
; 551  : 				pDphsettar->bouval = pDphsettar->np->tarlas;

  03bb1	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  03bb4	66 8b 42 18	 mov	 ax, WORD PTR [edx+24]
  03bb8	66 89 06	 mov	 WORD PTR [esi], ax

; 556  : 			}
; 557  :             pDphsettar->durtran = pDph_t->durfon;

  03bbb	66 8b 87 04 15
	00 00		 mov	 ax, WORD PTR [edi+5380]
  03bc2	66 89 46 06	 mov	 WORD PTR [esi+6], ax

; 558  : 		}
; 559  : 		else

  03bc6	e9 49 01 00 00	 jmp	 $L72472
$L72448:

; 552  : 			}
; 553  : 			else
; 554  : 			{
; 555  : 				pDphsettar->bouval = pDphsettar->np->tarnex;

  03bcb	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  03bce	66 8b 51 16	 mov	 dx, WORD PTR [ecx+22]
  03bd2	66 89 16	 mov	 WORD PTR [esi], dx

; 556  : 			}
; 557  :             pDphsettar->durtran = pDph_t->durfon;

  03bd5	66 8b 87 04 15
	00 00		 mov	 ax, WORD PTR [edi+5380]
  03bdc	66 89 46 06	 mov	 WORD PTR [esi+6], ax

; 558  : 		}
; 559  : 		else

  03be0	e9 2f 01 00 00	 jmp	 $L72472
$L72447:

; 560  : 		{
; 561  : 			/* 5. pholas=obst, pDphsettar->phcur=sonor transition */
; 562  : 			if (setloc (phTTS, (short)(pDph_t->nphone - 1), pDph_t->nphone, 'i', (short)(pDph_t->nphone - 2), feanex))

  03be5	66 8b 87 d0 23
	00 00		 mov	 ax, WORD PTR [edi+9168]
  03bec	8b 6c 24 30	 mov	 ebp, DWORD PTR _feanex$[esp+12]
  03bf0	55		 push	 ebp
  03bf1	8d 48 fe	 lea	 ecx, DWORD PTR [eax-2]
  03bf4	51		 push	 ecx
  03bf5	6a 69		 push	 105			; 00000069H
  03bf7	50		 push	 eax
  03bf8	48		 dec	 eax
  03bf9	50		 push	 eax
  03bfa	53		 push	 ebx
  03bfb	e8 00 00 00 00	 call	 _setloc

; 563  : 			{
; 564  : 				//debugforward (" Use locus,percent", pDphsettar->np);
; 565  : 			}
; 566  : 			/* 6. pholas=sonor, pDphsettar->phcur=obst transition */
; 567  : 			if (setloc (phTTS, pDph_t->nphone, (short)(pDph_t->nphone - 1), 'f', (short)(pDph_t->nphone + 1),feanex))

  03c00	66 8b 87 d0 23
	00 00		 mov	 ax, WORD PTR [edi+9168]
  03c07	55		 push	 ebp
  03c08	8d 50 01	 lea	 edx, DWORD PTR [eax+1]
  03c0b	8d 48 ff	 lea	 ecx, DWORD PTR [eax-1]
  03c0e	52		 push	 edx
  03c0f	6a 66		 push	 102			; 00000066H
  03c11	51		 push	 ecx
  03c12	50		 push	 eax
  03c13	53		 push	 ebx
  03c14	e8 00 00 00 00	 call	 _setloc

; 568  : 			{
; 569  : 				//debugforward (" Use locus,percent", pDphsettar->np);
; 570  : 			}
; 571  : 			/* Dummy vowel for final plosive release into silence is too */
; 572  : 			/* short for an extensive formant transition, make tran less */
; 573  : 			if ((struccur & FDUMMY_VOWEL) IS_PLUS)
; 574  : 			{
; 575  : 				/* OUT                      xx += ((pDphsettar->bouval - pDphsettar->np->tarend) >> 1); pDphsettar->np->tarend += xx;   (DOESN'T
; 576  : 				 * WORK) END OUT */
; 577  : 			}
; 578  : 			/* F1 raised at onset of voiceless plosive release */
; 579  : 			if (((fealas & FPLOSV) IS_PLUS)
; 580  : 				&& ((fealas & FVOICD) IS_MINUS))

  03c19	8a 44 24 50	 mov	 al, BYTE PTR _fealas$[esp+60]
  03c1d	83 c4 30	 add	 esp, 48			; 00000030H
  03c20	a8 40		 test	 al, 64			; 00000040H
  03c22	74 12		 je	 SHORT $L72459
  03c24	a8 02		 test	 al, 2
  03c26	75 0e		 jne	 SHORT $L72459

; 581  : 			{
; 582  : 				if (pDphsettar->np == &PF1)

  03c28	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  03c2b	8d 57 24	 lea	 edx, DWORD PTR [edi+36]
  03c2e	3b c2		 cmp	 eax, edx
  03c30	75 04		 jne	 SHORT $L72459

; 583  : 					pDphsettar->bouval += 100;

  03c32	66 83 06 64	 add	 WORD PTR [esi], 100	; 00000064H
$L72459:

; 584  : 			}
; 585  : 			/* Transitions modified inside obstruents */
; 586  : 			if ((feacur & FOBST) IS_PLUS)

  03c36	8a 44 24 24	 mov	 al, BYTE PTR _feacur$[esp+12]
  03c3a	a8 20		 test	 al, 32			; 00000020H
  03c3c	74 25		 je	 SHORT $L72462

; 587  : 			{
; 588  : 				pDphsettar->durtran = NF30MS;
; 589  : 				if (pDphsettar->np == &PF1)

  03c3e	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  03c41	8d 4f 24	 lea	 ecx, DWORD PTR [edi+36]
  03c44	3b d1		 cmp	 edx, ecx
  03c46	66 c7 46 06 05
	00		 mov	 WORD PTR [esi+6], 5
  03c4c	75 06		 jne	 SHORT $L72461

; 590  : 					pDphsettar->durtran = NF20MS;

  03c4e	66 c7 46 06 03
	00		 mov	 WORD PTR [esi+6], 3
$L72461:

; 591  : 				/* Transitions take all of plosive duration */
; 592  : 				if ((feacur & FPLOSV) IS_PLUS)

  03c54	a8 40		 test	 al, 64			; 00000040H
  03c56	74 0b		 je	 SHORT $L72462

; 593  : 				{
; 594  : 					pDphsettar->durtran = pDph_t->durfon;

  03c58	66 8b 97 04 15
	00 00		 mov	 dx, WORD PTR [edi+5380]
  03c5f	66 89 56 06	 mov	 WORD PTR [esi+6], dx
$L72462:

; 595  : 				}
; 596  : 			}
; 597  : 			/* Higher formant transitions slow inside a nasal */
; 598  : 			if ((feacur & FNASAL) IS_PLUS)

  03c63	a8 80		 test	 al, -128		; ffffff80H
  03c65	0f 84 a9 00 00
	00		 je	 $L72472

; 599  : 			{
; 600  : 				pDphsettar->durtran = pDph_t->durfon;
; 601  : 				/* Except F1, which jumps to value above FNZRO */
; 602  : 				if (pDphsettar->np == &PF1)

  03c6b	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  03c6e	66 8b 87 04 15
	00 00		 mov	 ax, WORD PTR [edi+5380]
  03c75	8d 4f 24	 lea	 ecx, DWORD PTR [edi+36]
  03c78	66 89 46 06	 mov	 WORD PTR [esi+6], ax
  03c7c	3b d1		 cmp	 edx, ecx
  03c7e	75 0b		 jne	 SHORT $L72464

; 603  : 				{
; 604  : 					pDphsettar->durtran = 0;

  03c80	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0

; 605  : 				}
; 606  : 				/* Lower F2 & F3 of [n] nasal murmur after front vowels */
; 607  : 				else if (((pDphsettar->phcur == UKP_N) || (pDphsettar->phcur == UKP_EN))

  03c86	e9 89 00 00 00	 jmp	 $L72472
$L72464:

; 608  : 						 && (endtyp(pholas) == 1))

  03c8b	66 8b 4e 18	 mov	 cx, WORD PTR [esi+24]
  03c8f	66 81 f9 20 1d	 cmp	 cx, 7456		; 00001d20H
  03c94	74 07		 je	 SHORT $L72467
  03c96	66 81 f9 24 1d	 cmp	 cx, 7460		; 00001d24H
  03c9b	75 50		 jne	 SHORT $L72466
$L72467:
  03c9d	0f bf 44 24 1c	 movsx	 eax, WORD PTR _pholas$[esp+12]
  03ca2	8b d8		 mov	 ebx, eax
  03ca4	8b e8		 mov	 ebp, eax
  03ca6	c1 fb 08	 sar	 ebx, 8
  03ca9	81 e5 ff 00 00
	00		 and	 ebp, 255		; 000000ffH
  03caf	8b 1c 9d 00 00
	00 00		 mov	 ebx, DWORD PTR _all_endtyp[ebx*4]
  03cb6	66 83 3c 6b 01	 cmp	 WORD PTR [ebx+ebp*2], 1
  03cbb	75 30		 jne	 SHORT $L72466

; 609  : 				{
; 610  : 					if (pDphsettar->np == &PF2)

  03cbd	8d 4f 48	 lea	 ecx, DWORD PTR [edi+72]
  03cc0	3b d1		 cmp	 edx, ecx
  03cc2	75 1c		 jne	 SHORT $L72469

; 611  : 					{
; 612  : 						pDphsettar->bouval -= 100;

  03cc4	66 83 06 9c	 add	 WORD PTR [esi], -100	; ffffff9cH
  03cc8	66 8b 0e	 mov	 cx, WORD PTR [esi]

; 613  : 						if ((uk_place[pholas & PVALUE] & F2BACKF) IS_PLUS)

  03ccb	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  03cd0	f6 04 45 00 00
	00 00 80	 test	 BYTE PTR _uk_place[eax*2], -128 ; ffffff80H
  03cd8	74 06		 je	 SHORT $L72469

; 614  : 						{
; 615  : 							pDphsettar->bouval -= 100;

  03cda	83 c1 9c	 add	 ecx, -100		; ffffff9cH
  03cdd	66 89 0e	 mov	 WORD PTR [esi], cx
$L72469:

; 616  : 						}
; 617  : 					}
; 618  : 					if (pDphsettar->np == &PF3)

  03ce0	8d 47 6c	 lea	 eax, DWORD PTR [edi+108]
  03ce3	3b d0		 cmp	 edx, eax
  03ce5	75 2d		 jne	 SHORT $L72472

; 619  : 						pDphsettar->bouval -= 100;;

  03ce7	66 83 06 9c	 add	 WORD PTR [esi], -100	; ffffff9cH

; 620  : 				}
; 621  : 				/* Lower F2 of [m] nasal murmur near [i,e] */
; 622  : 				else if ((pDphsettar->np == &PF2) && (pDphsettar->phcur == UKP_M)

  03ceb	eb 27		 jmp	 SHORT $L72472
$L72466:

; 623  : 						 && ((uk_place[pholas & PVALUE] & F2BACKF) IS_PLUS))

  03ced	8d 47 48	 lea	 eax, DWORD PTR [edi+72]
  03cf0	3b d0		 cmp	 edx, eax
  03cf2	75 20		 jne	 SHORT $L72472
  03cf4	66 81 f9 1f 1d	 cmp	 cx, 7455		; 00001d1fH
  03cf9	75 19		 jne	 SHORT $L72472
  03cfb	8b 4c 24 1c	 mov	 ecx, DWORD PTR _pholas$[esp+12]
  03cff	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  03d05	f6 04 4d 00 00
	00 00 80	 test	 BYTE PTR _uk_place[ecx*2], -128 ; ffffff80H
  03d0d	74 05		 je	 SHORT $L72472

; 624  : 				{
; 625  : 					pDphsettar->bouval -= 150;

  03d0f	66 81 06 6a ff	 add	 WORD PTR [esi], -150	; ffffff6aH
$L72472:

; 626  : 				}
; 627  : 			}
; 628  : 		}
; 629  : 		/* Shrink transition dur inside sonor if sonor short */
; 630  : 		if (((feacur & FOBST) IS_MINUS)
; 631  : 			&& (endtyp(pholas) != OBSTRUENT)   /* Unless prev seg is obst */
; 632  : 			&& (pDphsettar->durtran > 0))

  03d14	f6 44 24 24 20	 test	 BYTE PTR _feacur$[esp+12], 32 ; 00000020H
  03d19	0f 85 94 03 00
	00		 jne	 $L72521
  03d1f	0f bf 44 24 1c	 movsx	 eax, WORD PTR _pholas$[esp+12]
  03d24	8b d0		 mov	 edx, eax
  03d26	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  03d2b	c1 fa 08	 sar	 edx, 8
  03d2e	8b 0c 95 00 00
	00 00		 mov	 ecx, DWORD PTR _all_endtyp[edx*4]
  03d35	66 83 3c 41 04	 cmp	 WORD PTR [ecx+eax*2], 4
  03d3a	0f 84 73 03 00
	00		 je	 $L72521
  03d40	66 8b 46 06	 mov	 ax, WORD PTR [esi+6]
  03d44	66 85 c0	 test	 ax, ax
  03d47	0f 8e 66 03 00
	00		 jle	 $L72521

; 633  : 		{
; 634  : 			//pDph_t->arg1 = pDphsettar->durtran;
; 635  : 			//pDph_t->arg2 = shrif;
; 636  : 			pDphsettar->durtran = mlsh1 (pDphsettar->durtran, shrif) + 1;

  03d4d	0f bf d0	 movsx	 edx, ax
  03d50	0f bf 44 24 18	 movsx	 eax, WORD PTR _shrif$[esp+12]
  03d55	0f af d0	 imul	 edx, eax
  03d58	c1 fa 0e	 sar	 edx, 14			; 0000000eH
  03d5b	42		 inc	 edx
  03d5c	66 89 56 06	 mov	 WORD PTR [esi+6], dx

; 637  : 		}
; 638  : 	}
; 639  : 	/* FORWARD SMOOTH:  FN */
; 640  : 	else if (pDphsettar->par_type IS_NASAL_ZERO_FREQ)

  03d60	e9 4e 03 00 00	 jmp	 $L72521
$L72436:
  03d65	3c 01		 cmp	 al, 1
  03d67	75 2e		 jne	 SHORT $L72475

; 641  : 	{
; 642  : 		pDphsettar->durtran = 0;
; 643  : 		if (((fealas & FNASAL) IS_PLUS)
; 644  : 			&& ((feacur & FNASAL) IS_MINUS))

  03d69	8a 4c 24 20	 mov	 cl, BYTE PTR _fealas$[esp+12]
  03d6d	b0 80		 mov	 al, -128		; ffffff80H
  03d6f	84 c8		 test	 cl, al
  03d71	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
  03d77	0f 84 36 03 00
	00		 je	 $L72521
  03d7d	84 44 24 24	 test	 BYTE PTR _feacur$[esp+12], al
  03d81	0f 85 2c 03 00
	00		 jne	 $L72521

; 645  : 		{
; 646  : 			pDphsettar->bouval = NASAL_ZERO_BOUNDARY;

  03d87	66 c7 06 72 01	 mov	 WORD PTR [esi], 370	; 00000172H

; 647  : 			pDphsettar->durtran = NF80MS;

  03d8c	66 c7 46 06 0d
	00		 mov	 WORD PTR [esi+6], 13	; 0000000dH

; 648  : 		}
; 649  : 	}
; 650  : 	/* FORWARD SMOOTH:  B1, B2, B3 */
; 651  : 	else if (pDphsettar->par_type IS_FORM_BW)

  03d92	e9 1c 03 00 00	 jmp	 $L72521
$L72475:
  03d97	3c 04		 cmp	 al, 4
  03d99	0f 85 6e 01 00
	00		 jne	 $L72478

; 652  : 	{
; 653  : 		/* Default transition duration is 40 ms */
; 654  : 		pDphsettar->durtran = NF40MS;
; 655  : 		/* Widen first formant bw if preceeding seg voiceless */
; 656  : 		if ((feacur & FVOICD) IS_PLUS)

  03d9f	8a 44 24 24	 mov	 al, BYTE PTR _feacur$[esp+12]
  03da3	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
  03da9	a8 02		 test	 al, 2
  03dab	bb 08 00 00 00	 mov	 ebx, 8
  03db0	74 28		 je	 SHORT $L72479

; 657  : 		{
; 658  : 			if ((pDphsettar->np == &PB1)
; 659  : 				&& ((fealas & FVOICD) IS_MINUS))

  03db2	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  03db5	8d 8f b4 00 00
	00		 lea	 ecx, DWORD PTR [edi+180]
  03dbb	3b c1		 cmp	 eax, ecx
  03dbd	75 1f		 jne	 SHORT $L72481
  03dbf	f6 44 24 20 02	 test	 BYTE PTR _fealas$[esp+12], 2
  03dc4	75 18		 jne	 SHORT $L72481

; 660  : 			{
; 661  : 				pDphsettar->durtran = NF50MS;

  03dc6	66 89 5e 06	 mov	 WORD PTR [esi+6], bx

; 662  : 				/* More increase for low vowels (F1 high) */
; 663  : 				pDphsettar->bouval = pDphsettar->np->tarcur + (PF1.tarcur >> 3);

  03dca	66 8b 57 24	 mov	 dx, WORD PTR [edi+36]
  03dce	66 c1 fa 03	 sar	 dx, 3
  03dd2	66 03 10	 add	 dx, WORD PTR [eax]
  03dd5	66 89 16	 mov	 WORD PTR [esi], dx

; 664  : 			}
; 665  : 		}
; 666  : 		else

  03dd8	eb 04		 jmp	 SHORT $L72481
$L72479:

; 667  : 		{                                       
; 668  : 			pDphsettar->durtran = NF20MS;

  03dda	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L72481:

; 669  : 		}
; 670  : 		/* Treat boundary with silence */
; 671  : 		if (pholas == GEN_SIL)

  03dde	b8 00 1e 00 00	 mov	 eax, 7680		; 00001e00H
  03de3	66 39 44 24 1c	 cmp	 WORD PTR _pholas$[esp+12], ax
  03de8	75 2f		 jne	 SHORT $L72482

; 672  : 		{
; 673  : 			pDphsettar->bouval = pDphsettar->np->tarcur + ((&PB3 - pDphsettar->np) * 50);

  03dea	8b 6e 10	 mov	 ebp, DWORD PTR [esi+16]
  03ded	8b cf		 mov	 ecx, edi
  03def	2b cd		 sub	 ecx, ebp
  03df1	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  03df6	81 c1 fc 00 00
	00		 add	 ecx, 252		; 000000fcH
  03dfc	f7 e9		 imul	 ecx
  03dfe	c1 fa 03	 sar	 edx, 3
  03e01	8b c2		 mov	 eax, edx
  03e03	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  03e06	03 d0		 add	 edx, eax
  03e08	8d 04 92	 lea	 eax, DWORD PTR [edx+edx*4]
  03e0b	8d 0c 80	 lea	 ecx, DWORD PTR [eax+eax*4]
  03e0e	d1 e1		 shl	 ecx, 1
  03e10	66 03 4d 00	 add	 cx, WORD PTR [ebp]
  03e14	66 89 0e	 mov	 WORD PTR [esi], cx

; 674  : 			pDphsettar->durtran = NF50MS;
; 675  : 		}
; 676  : 		else if (pDphsettar->phcur == GEN_SIL)

  03e17	eb 71		 jmp	 SHORT $L72485
$L72482:
  03e19	66 39 46 18	 cmp	 WORD PTR [esi+24], ax
  03e1d	75 6f		 jne	 SHORT $L72484

; 677  : 		{
; 678  : 			pDphsettar->bouval = pDphsettar->np->tarlas + ((&PB3 - pDphsettar->np) * 50);

  03e1f	8b 6e 10	 mov	 ebp, DWORD PTR [esi+16]
  03e22	8b cf		 mov	 ecx, edi
  03e24	2b cd		 sub	 ecx, ebp
  03e26	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  03e2b	81 c1 fc 00 00
	00		 add	 ecx, 252		; 000000fcH
  03e31	f7 e9		 imul	 ecx
  03e33	c1 fa 03	 sar	 edx, 3
  03e36	8b c2		 mov	 eax, edx
  03e38	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  03e3b	03 d0		 add	 edx, eax
  03e3d	8d 04 92	 lea	 eax, DWORD PTR [edx+edx*4]
  03e40	8d 0c 80	 lea	 ecx, DWORD PTR [eax+eax*4]
  03e43	d1 e1		 shl	 ecx, 1
  03e45	66 03 4d 18	 add	 cx, WORD PTR [ebp+24]
  03e49	66 89 0e	 mov	 WORD PTR [esi], cx

; 679  : 			if (((phone_feature( pDph_t,pDph_t->allophons[pDph_t->nphone - 2]) & FVOICD) IS_MINUS)
; 680  : 				&& ((struclas & FDUMMY_VOWEL) IS_PLUS)
; 681  : 				&& (pDphsettar->np == &PB1))

  03e4c	0f bf 97 d0 23
	00 00		 movsx	 edx, WORD PTR [edi+9168]
  03e53	0f bf 84 57 e8
	03 00 00	 movsx	 eax, WORD PTR [edi+edx*2+1000]
  03e5b	50		 push	 eax
  03e5c	57		 push	 edi
  03e5d	e8 00 00 00 00	 call	 _phone_feature
  03e62	83 c4 08	 add	 esp, 8
  03e65	a8 02		 test	 al, 2
  03e67	75 21		 jne	 SHORT $L72485
  03e69	8b 4c 24 28	 mov	 ecx, DWORD PTR _struclas$[esp+12]
  03e6d	81 e1 00 08 00
	00		 and	 ecx, 2048		; 00000800H
  03e73	66 85 c9	 test	 cx, cx
  03e76	74 12		 je	 SHORT $L72485
  03e78	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  03e7b	8d 97 b4 00 00
	00		 lea	 edx, DWORD PTR [edi+180]
  03e81	3b c2		 cmp	 eax, edx
  03e83	75 05		 jne	 SHORT $L72485

; 682  : 			{
; 683  : 				pDphsettar->bouval = 260;	/* Kluge to avoid discontinutiy */

  03e85	66 c7 06 04 01	 mov	 WORD PTR [esi], 260	; 00000104H
$L72485:

; 684  : 			}
; 685  : 			pDphsettar->durtran = NF50MS;

  03e8a	66 89 5e 06	 mov	 WORD PTR [esi+6], bx
$L72484:

; 686  : 		}
; 687  : 
; 688  : 
; 689  : 
; 690  : 		/* BW1 widen, to nasalize transition out of previous nasal */
; 691  : 		if ((fealas & FNASAL) IS_PLUS)

  03e8e	8a 44 24 20	 mov	 al, BYTE PTR _fealas$[esp+12]
  03e92	b3 80		 mov	 bl, -128		; ffffff80H
  03e94	84 c3		 test	 al, bl
  03e96	74 60		 je	 SHORT $L72489

; 692  : 		{
; 693  : 			pDphsettar->bouval = pDphsettar->np->tarcur;	/* B2,B3 not influ by nasal */

  03e98	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]

; 694  : 			/* Except F2 of [n], which is wider in a non-front vowel */
; 695  : 			if ((pDphsettar->np == &PB2) && ((pholas == UKP_N) || (pholas == UKP_EN))
; 696  : 				&& (begtyp(pDphsettar->phcur) != 1))

  03e9b	8d 87 d8 00 00
	00		 lea	 eax, DWORD PTR [edi+216]
  03ea1	3b c8		 cmp	 ecx, eax
  03ea3	66 8b 11	 mov	 dx, WORD PTR [ecx]
  03ea6	66 89 16	 mov	 WORD PTR [esi], dx
  03ea9	75 39		 jne	 SHORT $L72487
  03eab	8b 44 24 1c	 mov	 eax, DWORD PTR _pholas$[esp+12]
  03eaf	66 3d 20 1d	 cmp	 ax, 7456		; 00001d20H
  03eb3	74 06		 je	 SHORT $L72488
  03eb5	66 3d 24 1d	 cmp	 ax, 7460		; 00001d24H
  03eb9	75 29		 jne	 SHORT $L72487
$L72488:
  03ebb	0f bf 46 18	 movsx	 eax, WORD PTR [esi+24]
  03ebf	8b e8		 mov	 ebp, eax
  03ec1	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  03ec6	c1 fd 08	 sar	 ebp, 8
  03ec9	8b 2c ad 00 00
	00 00		 mov	 ebp, DWORD PTR _all_begtyp[ebp*4]
  03ed0	66 83 7c 45 00
	01		 cmp	 WORD PTR [ebp+eax*2], 1
  03ed6	74 0c		 je	 SHORT $L72487

; 697  : 			{
; 698  : 				pDphsettar->bouval += 60;

  03ed8	83 c2 3c	 add	 edx, 60			; 0000003cH

; 699  : 				pDphsettar->durtran = NF60MS;

  03edb	66 c7 46 06 09
	00		 mov	 WORD PTR [esi+6], 9
  03ee1	66 89 16	 mov	 WORD PTR [esi], dx
$L72487:

; 700  : 			}
; 701  : 			if (pDphsettar->np == &PB1)

  03ee4	8d 97 b4 00 00
	00		 lea	 edx, DWORD PTR [edi+180]
  03eea	3b ca		 cmp	 ecx, edx
  03eec	75 0a		 jne	 SHORT $L72489

; 702  : 			{
; 703  : 				pDphsettar->durtran = NF100MS;
; 704  : 				pDphsettar->bouval += 70;

  03eee	66 83 06 46	 add	 WORD PTR [esi], 70	; 00000046H
  03ef2	66 c7 46 06 10
	00		 mov	 WORD PTR [esi+6], 16	; 00000010H
$L72489:

; 705  : 			}
; 706  : 		}
; 707  : 		/* Nasals have constant bandwidths at target values */
; 708  : 		if ((feacur & FNASAL) IS_PLUS)

  03ef8	84 5c 24 24	 test	 BYTE PTR _feacur$[esp+12], bl
  03efc	0f 84 b1 01 00
	00		 je	 $L72521

; 709  : 		{
; 710  : 			pDphsettar->durtran = 0;

  03f02	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0

; 711  : 			//debugforward (" Nasal has const par val", pDphsettar->np);
; 712  : 		}
; 713  : 	}
; 714  : 	/* FORWARD SMOOTH:  AV, AP, A2, A3, A4, A5, A6, AB */
; 715  : 
; 716  : 	/* Default pDphsettar->bouval is average of tarcur & tarend, default tc is 30 ms */
; 717  : 	else if ((pDphsettar->par_type IS_PARALLEL_FORM_AMP)

  03f08	e9 a6 01 00 00	 jmp	 $L72521
$L72478:

; 718  : 			 || (pDphsettar->par_type IS_AV_OR_AH))

  03f0d	3c 02		 cmp	 al, 2
  03f0f	74 08		 je	 SHORT $L72493
  03f11	84 c0		 test	 al, al
  03f13	0f 85 9a 01 00
	00		 jne	 $L72521
$L72493:

; 719  : 	{
; 720  : 
; 721  : 		/* See if onset, i.e. plosive or large source intensity increase */
; 722  : 		temp = pDphsettar->np->tarcur - 10;

  03f19	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]

; 723  : 		if ((pDphsettar->bouval < temp) || ((fealas & FPLOSV) IS_PLUS)
; 724  : 			|| (pholas == UKP_JH))

  03f1c	8b 54 24 24	 mov	 edx, DWORD PTR _feacur$[esp+12]
  03f20	8b 5c 24 20	 mov	 ebx, DWORD PTR _fealas$[esp+12]
  03f24	66 8b 01	 mov	 ax, WORD PTR [ecx]
  03f27	66 2d 0a 00	 sub	 ax, 10			; 0000000aH
  03f2b	66 39 06	 cmp	 WORD PTR [esi], ax
  03f2e	7c 0e		 jl	 SHORT $L72495
  03f30	f6 c3 40	 test	 bl, 64			; 00000040H
  03f33	75 09		 jne	 SHORT $L72495
  03f35	66 81 7c 24 1c
	37 1d		 cmp	 WORD PTR _pholas$[esp+12], 7479 ; 00001d37H
  03f3c	75 48		 jne	 SHORT $L72501
$L72495:

; 725  : 		{
; 726  : 			pDphsettar->bouval = temp;
; 727  : 			if ((feacur & FOBST) IS_MINUS)

  03f3e	f6 c2 20	 test	 dl, 32			; 00000020H
  03f41	66 89 06	 mov	 WORD PTR [esi], ax
  03f44	75 04		 jne	 SHORT $L72496

; 728  : 				pDphsettar->durtran = NF20MS;

  03f46	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L72496:

; 729  : 			/* Voicing is special */
; 730  : 			if (pDphsettar->np == &PAV)

  03f4a	8d af 20 01 00
	00		 lea	 ebp, DWORD PTR [edi+288]
  03f50	3b cd		 cmp	 ecx, ebp
  03f52	75 32		 jne	 SHORT $L72501

; 731  : 			{
; 732  : 				/* Gradual buildup of voicing */
; 733  : 				if (pholas == GEN_SIL)

  03f54	66 81 7c 24 1c
	00 1e		 cmp	 WORD PTR _pholas$[esp+12], 7680 ; 00001e00H
  03f5b	75 0f		 jne	 SHORT $L72499

; 734  : 				{
; 735  : 					if ((feacur & FVOICD) IS_PLUS)

  03f5d	f6 c2 02	 test	 dl, 2
  03f60	74 0a		 je	 SHORT $L72499

; 736  : 					{
; 737  : 						pDphsettar->durtran = NF45MS;
; 738  : 						pDphsettar->bouval -= 8;

  03f62	66 83 06 f8	 add	 WORD PTR [esi], -8	; fffffff8H
  03f66	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
$L72499:

; 739  : 					}
; 740  : 				}
; 741  : 				/* Obstruent voicing onset is abrupt */
; 742  : 				if ((fealas & FOBST) IS_PLUS)

  03f6c	f6 c3 20	 test	 bl, 32			; 00000020H
  03f6f	74 06		 je	 SHORT $L72500

; 743  : 				{
; 744  : 					pDphsettar->bouval = temp + 6;

  03f71	83 c0 06	 add	 eax, 6
  03f74	66 89 06	 mov	 WORD PTR [esi], ax
$L72500:

; 745  : 				}
; 746  : 				/* Plosive onset is abrupt (used mainly for [bdg]) */
; 747  : 				if ((fealas & FPLOSV) IS_PLUS)

  03f77	f6 c3 40	 test	 bl, 64			; 00000040H
  03f7a	74 0a		 je	 SHORT $L72501

; 748  : 				{
; 749  : 					pDphsettar->bouval = pDphsettar->np->tarcur - 5;

  03f7c	66 8b 01	 mov	 ax, WORD PTR [ecx]
  03f7f	66 2d 05 00	 sub	 ax, 5
  03f83	66 89 06	 mov	 WORD PTR [esi], ax
$L72501:

; 750  : 				}
; 751  : 			}
; 752  : 			//debugforward (" Onset", pDphsettar->np);
; 753  : 		}
; 754  : 		/* If last nasal, and source amp increased, abrupt onset */
; 755  : 		if (((fealas & FNASAL) IS_PLUS)
; 756  : 			&& ((feacur & FVOICD) IS_PLUS))

  03f86	f6 c3 80	 test	 bl, -128		; ffffff80H
  03f89	74 0d		 je	 SHORT $L75158
  03f8b	f6 c2 02	 test	 dl, 2
  03f8e	74 08		 je	 SHORT $L75158

; 757  : 		{
; 758  : 			pDphsettar->durtran = 0;

  03f90	33 ed		 xor	 ebp, ebp
  03f92	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
  03f96	eb 02		 jmp	 SHORT $L72502
$L75158:
  03f98	33 ed		 xor	 ebp, ebp
$L72502:

; 759  : 			//debugforward (" Onset from nasal", pDphsettar->np);
; 760  : 		}
; 761  : 		/* Voicing source amp const in intervocalic nasal */
; 762  : 		if ((feacur & FNASAL) IS_PLUS)

  03f9a	f6 c2 80	 test	 dl, -128		; ffffff80H
  03f9d	74 13		 je	 SHORT $L72505

; 763  : 		{
; 764  : 			if ((fealas & FVOICD) IS_PLUS)

  03f9f	f6 c3 02	 test	 bl, 2
  03fa2	74 0e		 je	 SHORT $L72505

; 765  : 			{
; 766  : 				if (pDphsettar->np == &PAV)

  03fa4	8d 87 20 01 00
	00		 lea	 eax, DWORD PTR [edi+288]
  03faa	3b c8		 cmp	 ecx, eax
  03fac	75 04		 jne	 SHORT $L72505

; 767  : 					pDphsettar->durtran = 0;

  03fae	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L72505:

; 768  : 			}
; 769  : 		}
; 770  : 		/* See if offset, i.e. source intensity decreasing */
; 771  : 		temp = pDphsettar->np->tarlas - 10;

  03fb2	66 8b 41 18	 mov	 ax, WORD PTR [ecx+24]
  03fb6	66 2d 0a 00	 sub	 ax, 10			; 0000000aH

; 772  : 		if (pDphsettar->bouval < temp)

  03fba	66 39 06	 cmp	 WORD PTR [esi], ax
  03fbd	7d 22		 jge	 SHORT $L72508

; 773  : 		{
; 774  : 			/* Reduce bounval by 3 dB because bval time is onset */
; 775  : 			/* of next phoneme */
; 776  : 			pDphsettar->bouval = temp - 3;

  03fbf	83 c0 fd	 add	 eax, -3			; fffffffdH

; 777  : 			/* Source amplitudes fall gradually into silence */
; 778  : 			if (pDphsettar->phcur == GEN_SIL)

  03fc2	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  03fc8	66 89 06	 mov	 WORD PTR [esi], ax
  03fcb	75 06		 jne	 SHORT $L72507

; 779  : 				pDphsettar->durtran = NF70MS;

  03fcd	66 c7 46 06 0b
	00		 mov	 WORD PTR [esi+6], 11	; 0000000bH
$L72507:

; 780  : 			/* Except voicing offset is abrupt */
; 781  : 			if (pDphsettar->np == &PAV)

  03fd3	8d 87 20 01 00
	00		 lea	 eax, DWORD PTR [edi+288]
  03fd9	3b c8		 cmp	 ecx, eax
  03fdb	75 04		 jne	 SHORT $L72508

; 782  : 				pDphsettar->durtran = 0;

  03fdd	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L72508:

; 783  : 			//debugforward (" Offset", pDphsettar->np);
; 784  : 		}
; 785  : 		/* Buildup A3 gradually in [C, J] */
; 786  : 		if (pDphsettar->np == &PA3)

  03fe1	8d 87 8c 01 00
	00		 lea	 eax, DWORD PTR [edi+396]
  03fe7	3b c8		 cmp	 ecx, eax
  03fe9	75 29		 jne	 SHORT $L72510

; 787  : 		{
; 788  : 			if ((pDphsettar->phcur == UKP_CH) || (pDphsettar->phcur == UKP_JH))

  03feb	66 8b 46 18	 mov	 ax, WORD PTR [esi+24]
  03fef	66 3d 36 1d	 cmp	 ax, 7478		; 00001d36H
  03ff3	74 06		 je	 SHORT $L72511
  03ff5	66 3d 37 1d	 cmp	 ax, 7479		; 00001d37H
  03ff9	75 19		 jne	 SHORT $L72510
$L72511:

; 789  : 			{
; 790  : 				pDphsettar->durtran = pDph_t->durfon - NF15MS;

  03ffb	66 8b 87 04 15
	00 00		 mov	 ax, WORD PTR [edi+5380]
  04002	66 2d 02 00	 sub	 ax, 2
  04006	66 89 46 06	 mov	 WORD PTR [esi+6], ax

; 791  : 				pDphsettar->bouval = pDphsettar->np->tarcur - 30;

  0400a	66 8b 01	 mov	 ax, WORD PTR [ecx]
  0400d	66 2d 1e 00	 sub	 ax, 30			; 0000001eH
  04011	66 89 06	 mov	 WORD PTR [esi], ax
$L72510:

; 792  : 				//debugforward (" CH/JH rule", pDphsettar->np);
; 793  : 			}
; 794  : 		}
; 795  : 		/* Offset of a vowel into voiceless open vocal tract is breathy */
; 796  : 		if (pDphsettar->np == &PAP)

  04014	8d 87 44 01 00
	00		 lea	 eax, DWORD PTR [edi+324]
  0401a	3b c8		 cmp	 ecx, eax
  0401c	75 4a		 jne	 SHORT $L72517

; 797  : 		{
; 798  : 			if ((pDphsettar->phcur == GEN_SIL) || (pDphsettar->phcur == UKP_F) || (pDphsettar->phcur == UKP_TH)
; 799  : 				|| (pDphsettar->phcur == UKP_S) || (pDphsettar->phcur == UKP_SH))

  0401e	66 8b 46 18	 mov	 ax, WORD PTR [esi+24]
  04022	66 3d 00 1e	 cmp	 ax, 7680		; 00001e00H
  04026	74 18		 je	 SHORT $L72514
  04028	66 3d 25 1d	 cmp	 ax, 7461		; 00001d25H
  0402c	74 12		 je	 SHORT $L72514
  0402e	66 3d 27 1d	 cmp	 ax, 7463		; 00001d27H
  04032	74 0c		 je	 SHORT $L72514
  04034	66 3d 29 1d	 cmp	 ax, 7465		; 00001d29H
  04038	74 06		 je	 SHORT $L72514
  0403a	66 3d 2b 1d	 cmp	 ax, 7467		; 00001d2bH
  0403e	75 28		 jne	 SHORT $L72517
$L72514:

; 800  : 			{
; 801  : 				if (((fealas & FVOICD) IS_PLUS)
; 802  : 					&& ((fealas & FOBST) IS_MINUS))

  04040	f6 c3 02	 test	 bl, 2
  04043	74 23		 je	 SHORT $L72517
  04045	f6 c3 20	 test	 bl, 32			; 00000020H
  04048	75 1e		 jne	 SHORT $L72517

; 803  : 				{
; 804  : 					if (pDphsettar->phcur == GEN_SIL)

  0404a	66 3d 00 1e	 cmp	 ax, 7680		; 00001e00H
  0404e	75 0d		 jne	 SHORT $L72516

; 805  : 					{
; 806  : 						pDphsettar->bouval = 52;

  04050	66 c7 06 34 00	 mov	 WORD PTR [esi], 52	; 00000034H

; 807  : 						pDphsettar->durtran = NF80MS;

  04055	66 c7 46 06 0d
	00		 mov	 WORD PTR [esi+6], 13	; 0000000dH

; 808  : 					}
; 809  : 					else

  0405b	eb 0b		 jmp	 SHORT $L72517
$L72516:

; 810  : 					{
; 811  : 						pDphsettar->bouval = 48;

  0405d	66 c7 06 30 00	 mov	 WORD PTR [esi], 48	; 00000030H

; 812  : 						pDphsettar->durtran = NF45MS;

  04062	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
$L72517:

; 813  : 					}
; 814  : 				}
; 815  : 			}
; 816  : 		}
; 817  : 		/* FORWARD SMOOTH:  TLT */
; 818  : 
; 819  : 		/* Tilt parameter jumps to target values near stops and silence */
; 820  : 		if (pDphsettar->np == &PTILT)

  04068	8d 87 40 02 00
	00		 lea	 eax, DWORD PTR [edi+576]
  0406e	3b c8		 cmp	 ecx, eax
  04070	75 41		 jne	 SHORT $L72521

; 821  : 		{
; 822  : 			pDphsettar->durtran = NF25MS;
; 823  : 			if (pholas == GEN_SIL)

  04072	66 81 7c 24 1c
	00 1e		 cmp	 WORD PTR _pholas$[esp+12], 7680 ; 00001e00H
  04079	66 c7 46 06 04
	00		 mov	 WORD PTR [esi+6], 4
  0407f	75 06		 jne	 SHORT $L72519

; 824  : 			{
; 825  : 				pDphsettar->bouval = pDphsettar->np->tarcur;

  04081	66 8b 09	 mov	 cx, WORD PTR [ecx]
  04084	66 89 0e	 mov	 WORD PTR [esi], cx
$L72519:

; 826  : 			}
; 827  : 			if (pDphsettar->phcur == GEN_SIL)

  04087	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  0408d	75 0a		 jne	 SHORT $L72520

; 828  : 			{
; 829  : 				/* Reach into par buffer to get actual previous value */
; 830  : 				pDphsettar->bouval = pDph_t->parstochip[OUT_TLT];

  0408f	66 8b 87 ae 03
	00 00		 mov	 ax, WORD PTR [edi+942]
  04096	66 89 06	 mov	 WORD PTR [esi], ax
$L72520:

; 831  : 			}
; 832  : 			if (((fealas & FSTOP) IS_PLUS)
; 833  : 				|| ((feacur & FSTOP) IS_PLUS))

  04099	81 e3 00 20 00
	00		 and	 ebx, 8192		; 00002000H
  0409f	66 85 db	 test	 bx, bx
  040a2	75 0b		 jne	 SHORT $L72522
  040a4	81 e2 00 20 00
	00		 and	 edx, 8192		; 00002000H
  040aa	66 85 d2	 test	 dx, dx
  040ad	74 04		 je	 SHORT $L72521
$L72522:

; 834  : 			{
; 835  : 				pDphsettar->durtran = 0;

  040af	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L72521:

; 836  : 			}
; 837  : 		}
; 838  : 	}
; 839  : 	/* Truncate tran dur if exceeds duration of current phone */
; 840  : 	if (pDphsettar->durtran > pDph_t->durfon)

  040b3	66 8b bf 04 15
	00 00		 mov	 di, WORD PTR [edi+5380]
  040ba	66 39 7e 06	 cmp	 WORD PTR [esi+6], di
  040be	7e 04		 jle	 SHORT $L72523

; 841  : 		pDphsettar->durtran = pDph_t->durfon;

  040c0	66 89 7e 06	 mov	 WORD PTR [esi+6], di
$L72523:

; 842  : 	/* Or duration of 20 frames */
; 843  : 	if (pDphsettar->durtran > NF130MS)

  040c4	b8 14 00 00 00	 mov	 eax, 20			; 00000014H
  040c9	66 39 46 06	 cmp	 WORD PTR [esi+6], ax
  040cd	7e 04		 jle	 SHORT $L72524

; 844  : 		pDphsettar->durtran = NF130MS;

  040cf	66 89 46 06	 mov	 WORD PTR [esi+6], ax
$L72524:

; 845  : 	/* Do not allow amplitude value to go below zero */
; 846  : 	if (pDphsettar->bouval < 0)

  040d3	66 83 3e 00	 cmp	 WORD PTR [esi], 0
  040d7	7d 05		 jge	 SHORT $L72525

; 847  : 		pDphsettar->bouval = 0;

  040d9	66 c7 06 00 00	 mov	 WORD PTR [esi], 0
$L72525:
  040de	5f		 pop	 edi
  040df	5e		 pop	 esi
  040e0	5d		 pop	 ebp
  040e1	5b		 pop	 ebx

; 848  : }

  040e2	c3		 ret	 0
_uk_forw_smooth_rules ENDP
_phTTS$ = 8
_shrib$ = 12
_feacur$ = 16
_feanex$ = 20
_strucnex$ = 24
_pDph_t$ = 8
_uk_back_smooth_rules PROC NEAR

; 874  : {

  040f0	53		 push	 ebx
  040f1	55		 push	 ebp

; 875  : 	short                   temp;	   /* MVP MI : This varaible is made local */
; 876  : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  040f2	8b 6c 24 0c	 mov	 ebp, DWORD PTR _phTTS$[esp+4]
  040f6	56		 push	 esi

; 877  : 	PKSD_T                  pKsd_t = phTTS->pKernelShareData;
; 878  : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;
; 879  : 
; 880  : 	//debugbackward ("Set default", pDphsettar->np);
; 881  : 
; 882  : 	/* BACKWARD SMOOTH:  F1, F2, F3 */
; 883  : 	if (pDphsettar->par_type IS_FORM_FREQ)

  040f7	ba 03 00 00 00	 mov	 edx, 3
  040fc	57		 push	 edi
  040fd	8b 5d 18	 mov	 ebx, DWORD PTR [ebp+24]
  04100	89 5c 24 14	 mov	 DWORD PTR _pDph_t$[esp+12], ebx
  04104	8b b3 10 2c 00
	00		 mov	 esi, DWORD PTR [ebx+11280]
  0410a	8a 46 14	 mov	 al, BYTE PTR [esi+20]
  0410d	3a c2		 cmp	 al, dl
  0410f	0f 85 23 02 00
	00		 jne	 $L72541

; 884  : 	{
; 885  : 		/* 0. Use default values for obst-obst transition */
; 886  : 		if ((feacur & FSONOR) IS_PLUS)

  04115	8b 44 24 1c	 mov	 eax, DWORD PTR _feacur$[esp+12]
  04119	8b 7c 24 20	 mov	 edi, DWORD PTR _feanex$[esp+12]
  0411d	a8 10		 test	 al, 16			; 00000010H
  0411f	0f 84 91 00 00
	00		 je	 $L72550

; 887  : 		{
; 888  : 			pDphsettar->durtran = NF45MS;
; 889  : 			if ((feacur & FSONCON) IS_MINUS)

  04125	25 00 02 00 00	 and	 eax, 512		; 00000200H
  0412a	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
  04130	66 85 c0	 test	 ax, ax
  04133	75 5a		 jne	 SHORT $L72543

; 890  : 			{
; 891  : 				if ((feanex & FSONCON) IS_PLUS)

  04135	8b c7		 mov	 eax, edi
  04137	25 00 02 00 00	 and	 eax, 512		; 00000200H
  0413c	66 85 c0	 test	 ax, ax
  0413f	74 33		 je	 SHORT $L72544

; 892  : 				{
; 893  : 					/* 1. Vowel-soncon trans, use 75-25% rule */
; 894  : 					pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarnex) >> 1;

  04141	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  04144	0f bf 16	 movsx	 edx, WORD PTR [esi]
  04147	0f bf 48 16	 movsx	 ecx, WORD PTR [eax+22]
  0414b	03 ca		 add	 ecx, edx
  0414d	d1 f9		 sar	 ecx, 1
  0414f	66 89 0e	 mov	 WORD PTR [esi], cx

; 895  : 					/* F3 transitions slower esp for [r,l] */
; 896  : 					if (pDphsettar->np == &PF3)

  04152	8d 4b 6c	 lea	 ecx, DWORD PTR [ebx+108]
  04155	3b c1		 cmp	 eax, ecx
  04157	75 06		 jne	 SHORT $L72545

; 897  : 					{
; 898  : 						pDphsettar->durtran = NF64MS;

  04159	66 c7 46 06 0a
	00		 mov	 WORD PTR [esi+6], 10	; 0000000aH
$L72545:

; 899  : 					}
; 900  : 					/* First formant jumps down 80 Hz in /l/ */
; 901  : 					if ((pDphsettar->phonex == UKP_LL) && (pDphsettar->np == &PF1))

  0415f	66 81 7e 0a 1b
	1d		 cmp	 WORD PTR [esi+10], 7451	; 00001d1bH
  04165	75 4f		 jne	 SHORT $L72550
  04167	8d 53 24	 lea	 edx, DWORD PTR [ebx+36]
  0416a	3b c2		 cmp	 eax, edx
  0416c	75 48		 jne	 SHORT $L72550

; 902  : 					{
; 903  : 						pDphsettar->bouval += 80;

  0416e	66 83 06 50	 add	 WORD PTR [esi], 80	; 00000050H

; 904  : 					}
; 905  : 				}
; 906  : 				else

  04172	eb 42		 jmp	 SHORT $L72550
$L72544:

; 907  : 				{
; 908  : 					/* 2. Vowel-[vowel/h] transition */
; 909  : 					/* Following [h] has little influence on pDphsettar->bouval */
; 910  : 					if (pDphsettar->phonex == UKP_HX)

  04174	66 81 7e 0a 1c
	1d		 cmp	 WORD PTR [esi+10], 7452	; 00001d1cH
  0417a	75 3a		 jne	 SHORT $L72550

; 911  : 					{
; 912  : 						pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarend) >> 1;

  0417c	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  0417f	0f bf 16	 movsx	 edx, WORD PTR [esi]
  04182	0f bf 48 1a	 movsx	 ecx, WORD PTR [eax+26]
  04186	03 ca		 add	 ecx, edx
  04188	d1 f9		 sar	 ecx, 1
  0418a	66 89 0e	 mov	 WORD PTR [esi], cx

; 913  : 					}
; 914  : 				}
; 915  : 			}
; 916  : 			else

  0418d	eb 27		 jmp	 SHORT $L72550
$L72543:

; 917  : 			{
; 918  : 				pDphsettar->durtran = NF40MS;
; 919  : 				if ((feanex & FSONCON) IS_MINUS)

  0418f	8b c7		 mov	 eax, edi
  04191	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
  04197	25 00 02 00 00	 and	 eax, 512		; 00000200H
  0419c	66 85 c0	 test	 ax, ax
  0419f	75 15		 jne	 SHORT $L72550

; 920  : 				{
; 921  : 					/* 3. Soncon-vowel trans, use 25-75% rule */
; 922  : 					pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarend) >> 1;

  041a1	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  041a4	0f bf 41 1a	 movsx	 eax, WORD PTR [ecx+26]
  041a8	0f bf 0e	 movsx	 ecx, WORD PTR [esi]
  041ab	03 c1		 add	 eax, ecx

; 923  : 					pDphsettar->durtran = NF20MS;

  041ad	66 89 56 06	 mov	 WORD PTR [esi+6], dx
  041b1	d1 f8		 sar	 eax, 1
  041b3	66 89 06	 mov	 WORD PTR [esi], ax
$L72550:

; 924  : 				}
; 925  : 				else
; 926  : 				{
; 927  : 					/* 4. Soncon-soncon transition */
; 928  : 					/* Use defaults */
; 929  : 				}
; 930  : 			}
; 931  : 		}
; 932  : 		/* No backward smoothing if next phone is silence */
; 933  : 		if (pDphsettar->phonex == GEN_SIL)

  041b6	66 81 7e 0a 00
	1e		 cmp	 WORD PTR [esi+10], 7680	; 00001e00H
  041bc	75 0b		 jne	 SHORT $L72552

; 934  : 		{
; 935  : 			pDphsettar->durtran = 0;

  041be	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0

; 936  : 		}
; 937  : 		else

  041c4	e9 1f 01 00 00	 jmp	 $L72573
$L72552:

; 938  : 		{
; 939  : 			/* 5. pDphsettar->phcur=sonor, pDphsettar->phonex=obst transition */
; 940  : 			if (setloc (phTTS, (short)(pDph_t->nphone + 1), pDph_t->nphone, 'f', (short)(pDph_t->nphone + 2),feanex)) // NAL warning removal

  041c9	66 8b 83 d0 23
	00 00		 mov	 ax, WORD PTR [ebx+9168]
  041d0	57		 push	 edi
  041d1	8d 50 02	 lea	 edx, DWORD PTR [eax+2]
  041d4	52		 push	 edx
  041d5	6a 66		 push	 102			; 00000066H
  041d7	50		 push	 eax
  041d8	40		 inc	 eax
  041d9	50		 push	 eax
  041da	55		 push	 ebp
  041db	e8 00 00 00 00	 call	 _setloc

; 941  : 			{
; 942  : 				//debugbackward (" Use locus,percent", pDphsettar->np);
; 943  : 			}
; 944  : 			/* 6. pDphsettar->phcur=obst, pDphsettar->phonex=sonor transition */
; 945  : 			if (setloc (phTTS, pDph_t->nphone, (short)(pDph_t->nphone + 1), 'i', (short)(pDph_t->nphone - 1),feanex)) // NAL warning removal

  041e0	66 8b 83 d0 23
	00 00		 mov	 ax, WORD PTR [ebx+9168]
  041e7	57		 push	 edi
  041e8	8d 48 ff	 lea	 ecx, DWORD PTR [eax-1]
  041eb	8d 50 01	 lea	 edx, DWORD PTR [eax+1]
  041ee	51		 push	 ecx
  041ef	6a 69		 push	 105			; 00000069H
  041f1	52		 push	 edx
  041f2	50		 push	 eax
  041f3	55		 push	 ebp
  041f4	e8 00 00 00 00	 call	 _setloc

; 946  : 			{
; 947  : 				//debugbackward (" Use locus,percent", pDphsettar->np);
; 948  : 			}
; 949  : 			/* Transitions slow inside obstruents */
; 950  : 			if ((feacur & FOBST) IS_PLUS)

  041f9	8a 54 24 4c	 mov	 dl, BYTE PTR _feacur$[esp+60]
  041fd	83 c4 30	 add	 esp, 48			; 00000030H
  04200	f6 c2 20	 test	 dl, 32			; 00000020H
  04203	74 33		 je	 SHORT $L72563

; 951  : 			{
; 952  : 				pDphsettar->durtran = NF30MS;
; 953  : 				if (pDphsettar->np == &PF1)

  04205	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  04208	8d 43 24	 lea	 eax, DWORD PTR [ebx+36]
  0420b	3b c8		 cmp	 ecx, eax
  0420d	66 c7 46 06 05
	00		 mov	 WORD PTR [esi+6], 5
  04213	75 06		 jne	 SHORT $L72561

; 954  : 					pDphsettar->durtran = NF20MS;

  04215	66 c7 46 06 03
	00		 mov	 WORD PTR [esi+6], 3
$L72561:

; 955  : 				/* Transitions take all of plosive duration */
; 956  : 				if ((feacur & FPLOSV) IS_PLUS)

  0421b	f6 c2 40	 test	 dl, 64			; 00000040H
  0421e	74 18		 je	 SHORT $L72563

; 957  : 				{
; 958  : 					pDphsettar->durtran = pDph_t->durfon;

  04220	66 8b bb 04 15
	00 00		 mov	 di, WORD PTR [ebx+5380]

; 959  : 					if ((pDphsettar->np == &PF1) && ((feacur & FVOICD) IS_MINUS))

  04227	3b c8		 cmp	 ecx, eax
  04229	66 89 7e 06	 mov	 WORD PTR [esi+6], di
  0422d	75 09		 jne	 SHORT $L72563
  0422f	f6 c2 02	 test	 dl, 2
  04232	75 04		 jne	 SHORT $L72563

; 960  : 					{
; 961  : 						pDphsettar->bouval += 100;

  04234	66 83 06 64	 add	 WORD PTR [esi], 100	; 00000064H
$L72563:

; 962  : 					}
; 963  : 				}
; 964  : 			}
; 965  : 			/* Higher formant transitions slow inside a nasal */
; 966  : 			if ((feacur & FNASAL) IS_PLUS)

  04238	f6 c2 80	 test	 dl, -128		; ffffff80H
  0423b	0f 84 a7 00 00
	00		 je	 $L72573

; 967  : 			{
; 968  : 				pDphsettar->durtran = pDph_t->durfon;
; 969  : 				/* Except F1, which jumps to value below FNZRO */
; 970  : 				if (pDphsettar->np == &PF1)

  04241	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  04244	66 8b 83 04 15
	00 00		 mov	 ax, WORD PTR [ebx+5380]
  0424b	8d 4b 24	 lea	 ecx, DWORD PTR [ebx+36]
  0424e	66 89 46 06	 mov	 WORD PTR [esi+6], ax
  04252	3b d1		 cmp	 edx, ecx
  04254	75 0b		 jne	 SHORT $L72565

; 971  : 				{
; 972  : 					pDphsettar->durtran = 0;

  04256	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0

; 973  : 				}
; 974  : 				/* Lower F2 & F3 of [n] nasal murmur before front vowels */
; 975  : 				else if (((pDphsettar->phcur == UKP_N) || (pDphsettar->phcur == UKP_EN))

  0425c	e9 87 00 00 00	 jmp	 $L72573
$L72565:

; 976  : 						 && (begtyp(pDphsettar->phonex) == 1))

  04261	66 8b 4e 18	 mov	 cx, WORD PTR [esi+24]
  04265	66 81 f9 20 1d	 cmp	 cx, 7456		; 00001d20H
  0426a	74 07		 je	 SHORT $L72568
  0426c	66 81 f9 24 1d	 cmp	 cx, 7460		; 00001d24H
  04271	75 4f		 jne	 SHORT $L72567
$L72568:
  04273	0f bf 46 0a	 movsx	 eax, WORD PTR [esi+10]
  04277	8b f8		 mov	 edi, eax
  04279	8b e8		 mov	 ebp, eax
  0427b	c1 ff 08	 sar	 edi, 8
  0427e	81 e5 ff 00 00
	00		 and	 ebp, 255		; 000000ffH
  04284	8b 3c bd 00 00
	00 00		 mov	 edi, DWORD PTR _all_begtyp[edi*4]
  0428b	66 83 3c 6f 01	 cmp	 WORD PTR [edi+ebp*2], 1
  04290	75 30		 jne	 SHORT $L72567

; 977  : 				{
; 978  : 					if (pDphsettar->np == &PF2)

  04292	8d 4b 48	 lea	 ecx, DWORD PTR [ebx+72]
  04295	3b d1		 cmp	 edx, ecx
  04297	75 1c		 jne	 SHORT $L72570

; 979  : 					{
; 980  : 						pDphsettar->bouval -= 100;

  04299	66 83 06 9c	 add	 WORD PTR [esi], -100	; ffffff9cH
  0429d	66 8b 0e	 mov	 cx, WORD PTR [esi]

; 981  : 						if ((uk_place[pDphsettar->phonex & PVALUE] & F2BACKI) IS_PLUS)

  042a0	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  042a5	f6 04 45 00 00
	00 00 40	 test	 BYTE PTR _uk_place[eax*2], 64 ; 00000040H
  042ad	74 06		 je	 SHORT $L72570

; 982  : 						{
; 983  : 							pDphsettar->bouval -= 100;

  042af	83 c1 9c	 add	 ecx, -100		; ffffff9cH
  042b2	66 89 0e	 mov	 WORD PTR [esi], cx
$L72570:

; 984  : 						}
; 985  : 					}
; 986  : 					if (pDphsettar->np == &PF3)

  042b5	83 c3 6c	 add	 ebx, 108		; 0000006cH
  042b8	3b d3		 cmp	 edx, ebx
  042ba	75 2c		 jne	 SHORT $L72573

; 987  : 						pDphsettar->bouval -= 100;

  042bc	66 83 06 9c	 add	 WORD PTR [esi], -100	; ffffff9cH

; 988  : 				}
; 989  : 				/* Lower F2 of [m] murmur near [i,y,yu,ir] */
; 990  : 				else if ((pDphsettar->np == &PF2) && (pDphsettar->phcur == UKP_M)

  042c0	eb 26		 jmp	 SHORT $L72573
$L72567:

; 991  : 						 && ((uk_place[pDphsettar->phonex & PVALUE] & F2BACKI) IS_PLUS))

  042c2	83 c3 48	 add	 ebx, 72			; 00000048H
  042c5	3b d3		 cmp	 edx, ebx
  042c7	75 1f		 jne	 SHORT $L72573
  042c9	66 81 f9 1f 1d	 cmp	 cx, 7455		; 00001d1fH
  042ce	75 18		 jne	 SHORT $L72573
  042d0	8a 56 0a	 mov	 dl, BYTE PTR [esi+10]
  042d3	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  042d9	f6 04 55 00 00
	00 00 40	 test	 BYTE PTR _uk_place[edx*2], 64 ; 00000040H
  042e1	74 05		 je	 SHORT $L72573

; 992  : 				{
; 993  : 					pDphsettar->bouval -= 150;

  042e3	66 81 06 6a ff	 add	 WORD PTR [esi], -150	; ffffff6aH
$L72573:

; 994  : 				}
; 995  : 			}
; 996  : 		}
; 997  : 		/* Shrink tran dur inside sonorant if sonorant short */
; 998  : 		if (((feacur & FOBST) IS_MINUS)
; 999  : 			&& (begtyp(pDphsettar->phonex) != 4)	/* Unless next seg is obst */
; 1000 : 			&& (pDphsettar->durtran > 0))

  042e8	f6 44 24 1c 20	 test	 BYTE PTR _feacur$[esp+12], 32 ; 00000020H
  042ed	0f 85 31 04 00
	00		 jne	 $endbsmo$72604
  042f3	0f bf 46 0a	 movsx	 eax, WORD PTR [esi+10]
  042f7	8b c8		 mov	 ecx, eax
  042f9	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  042fe	c1 f9 08	 sar	 ecx, 8
  04301	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_begtyp[ecx*4]
  04308	66 83 3c 42 04	 cmp	 WORD PTR [edx+eax*2], 4
  0430d	0f 84 11 04 00
	00		 je	 $endbsmo$72604
  04313	66 8b 46 06	 mov	 ax, WORD PTR [esi+6]
  04317	66 85 c0	 test	 ax, ax
  0431a	0f 8e 04 04 00
	00		 jle	 $endbsmo$72604

; 1001 : 		{
; 1002 : 			//pDph_t->arg1 = pDphsettar->durtran;
; 1003 : 			//pDph_t->arg2 = shrib;
; 1004 : 			pDphsettar->durtran = mlsh1 (pDphsettar->durtran, shrib) + 1;

  04320	0f bf 4c 24 18	 movsx	 ecx, WORD PTR _shrib$[esp+12]
  04325	0f bf c0	 movsx	 eax, ax
  04328	0f af c1	 imul	 eax, ecx
  0432b	c1 f8 0e	 sar	 eax, 14			; 0000000eH
  0432e	40		 inc	 eax
  0432f	66 89 46 06	 mov	 WORD PTR [esi+6], ax

; 1005 : 		}
; 1006 : 	}
; 1007 : 	/* BACKWARD SMOOTH:  FN */
; 1008 : 	else if (pDphsettar->par_type IS_NASAL_ZERO_FREQ)

  04333	e9 ec 03 00 00	 jmp	 $endbsmo$72604
$L72541:
  04338	3c 01		 cmp	 al, 1
  0433a	75 39		 jne	 SHORT $L72576

; 1009 : 	{
; 1010 : 		pDphsettar->durtran = 0;
; 1011 : 		/* Nasalization cue: place zero between F1 and FP */
; 1012 : 		if (((feanex & FNASAL) IS_PLUS)
; 1013 : 			&& ((feacur & FNASAL) IS_MINUS))

  0433c	8a 44 24 20	 mov	 al, BYTE PTR _feanex$[esp+12]
  04340	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
  04346	a8 80		 test	 al, -128		; ffffff80H
  04348	0f 84 d6 03 00
	00		 je	 $endbsmo$72604
  0434e	f6 44 24 1c 80	 test	 BYTE PTR _feacur$[esp+12], -128 ; ffffff80H
  04353	0f 85 cb 03 00
	00		 jne	 $endbsmo$72604

; 1014 : 		{
; 1015 : 			pDphsettar->bouval = NASAL_ZERO_BOUNDARY;
; 1016 : 			pDphsettar->durtran = NF80MS;
; 1017 : 			if (pDphsettar->phonex == UKP_EN)

  04359	66 81 7e 0a 24
	1d		 cmp	 WORD PTR [esi+10], 7460	; 00001d24H
  0435f	66 c7 06 72 01	 mov	 WORD PTR [esi], 370	; 00000172H
  04364	66 c7 46 06 0d
	00		 mov	 WORD PTR [esi+6], 13	; 0000000dH
  0436a	0f 85 b4 03 00
	00		 jne	 $endbsmo$72604

; 1018 : 				pDphsettar->durtran = NF130MS;
; 1019 : 		}
; 1020 : 	}
; 1021 : 	/* BACKWARD SMOOTH:  B1, B2, B3 */
; 1022 : 	else if (pDphsettar->par_type IS_FORM_BW)

  04370	e9 a9 03 00 00	 jmp	 $L75197
$L72576:
  04375	3c 04		 cmp	 al, 4
  04377	0f 85 44 01 00
	00		 jne	 $L72580

; 1023 : 	{
; 1024 : 		pDphsettar->durtran = NF40MS;
; 1025 : 		if ((feacur & FVOICD) IS_PLUS)

  0437d	8a 44 24 1c	 mov	 al, BYTE PTR _feacur$[esp+12]
  04381	b1 02		 mov	 cl, 2
  04383	84 c1		 test	 al, cl
  04385	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
  0438b	bd 08 00 00 00	 mov	 ebp, 8
  04390	74 38		 je	 SHORT $L72581

; 1026 : 		{
; 1027 : 			/* Glottis opens early before -voice C, widen B1 */
; 1028 : 			if (pDphsettar->np == &PB1)

  04392	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  04395	8d 93 b4 00 00
	00		 lea	 edx, DWORD PTR [ebx+180]
  0439b	3b c2		 cmp	 eax, edx
  0439d	75 2f		 jne	 SHORT $L72585

; 1029 : 			{
; 1030 : 				if ((feanex & FVOICD) IS_MINUS)

  0439f	84 4c 24 20	 test	 BYTE PTR _feanex$[esp+12], cl
  043a3	75 29		 jne	 SHORT $L72585

; 1031 : 				{
; 1032 : 					pDphsettar->durtran = NF50MS;

  043a5	66 89 6e 06	 mov	 WORD PTR [esi+6], bp

; 1033 : 					/* More increase for low vowels (F1 high) */
; 1034 : 					pDphsettar->bouval = pDphsettar->np->tarend + (PF1.tarcur >> 3);

  043a9	66 8b 4b 24	 mov	 cx, WORD PTR [ebx+36]
  043ad	66 c1 f9 03	 sar	 cx, 3
  043b1	66 03 48 1a	 add	 cx, WORD PTR [eax+26]
  043b5	66 89 0e	 mov	 WORD PTR [esi], cx

; 1035 : 					/* Effect is greater for a female voice */
; 1036 : 					if (pDph_t->malfem == FEMALE)

  043b8	66 83 bb 08 15
	00 00 00	 cmp	 WORD PTR [ebx+5384], 0
  043c0	75 0c		 jne	 SHORT $L72585

; 1037 : 					{
; 1038 : 						pDphsettar->durtran = NF100MS;

  043c2	66 c7 46 06 10
	00		 mov	 WORD PTR [esi+6], 16	; 00000010H

; 1039 : 					}
; 1040 : 				}
; 1041 : 			}
; 1042 : 		}
; 1043 : 		else

  043c8	eb 04		 jmp	 SHORT $L72585
$L72581:

; 1044 : 		{
; 1045 : 			pDphsettar->durtran = NF20MS;

  043ca	66 89 56 06	 mov	 WORD PTR [esi+6], dx
$L72585:

; 1046 : 		}
; 1047 : 		/* Treat boundary with silence */
; 1048 : 		/* OUT ??? */
; 1049 : 		if (pDphsettar->phonex == GEN_SIL)

  043ce	66 8b 5e 0a	 mov	 bx, WORD PTR [esi+10]
  043d2	66 81 fb 00 1e	 cmp	 bx, 7680		; 00001e00H
  043d7	75 2e		 jne	 SHORT $L72586

; 1050 : 		{
; 1051 : 			pDphsettar->bouval = pDphsettar->np->tarend + ((&PB3 - pDphsettar->np) * 50);

  043d9	8b 7e 10	 mov	 edi, DWORD PTR [esi+16]
  043dc	8b 4c 24 14	 mov	 ecx, DWORD PTR _pDph_t$[esp+12]
  043e0	2b cf		 sub	 ecx, edi
  043e2	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  043e7	81 c1 fc 00 00
	00		 add	 ecx, 252		; 000000fcH
  043ed	f7 e9		 imul	 ecx
  043ef	c1 fa 03	 sar	 edx, 3
  043f2	8b c2		 mov	 eax, edx
  043f4	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  043f7	03 d0		 add	 edx, eax
  043f9	8d 04 92	 lea	 eax, DWORD PTR [edx+edx*4]
  043fc	8d 0c 80	 lea	 ecx, DWORD PTR [eax+eax*4]
  043ff	d1 e1		 shl	 ecx, 1
  04401	66 03 4f 1a	 add	 cx, WORD PTR [edi+26]

; 1052 : 			pDphsettar->durtran = NF50MS;
; 1053 : 		}
; 1054 : 		else if (pDphsettar->phcur == GEN_SIL)

  04405	eb 34		 jmp	 SHORT $L75198
$L72586:
  04407	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  0440d	75 33		 jne	 SHORT $L72588

; 1055 : 		{
; 1056 : 			pDphsettar->bouval = pDphsettar->np->tarnex + ((&PB3 - pDphsettar->np) * 50);

  0440f	8b 7e 10	 mov	 edi, DWORD PTR [esi+16]
  04412	8b 4c 24 14	 mov	 ecx, DWORD PTR _pDph_t$[esp+12]
  04416	2b cf		 sub	 ecx, edi
  04418	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  0441d	81 c1 fc 00 00
	00		 add	 ecx, 252		; 000000fcH
  04423	f7 e9		 imul	 ecx
  04425	c1 fa 03	 sar	 edx, 3
  04428	8b c2		 mov	 eax, edx
  0442a	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  0442d	03 d0		 add	 edx, eax
  0442f	8d 04 92	 lea	 eax, DWORD PTR [edx+edx*4]
  04432	8d 0c 80	 lea	 ecx, DWORD PTR [eax+eax*4]
  04435	d1 e1		 shl	 ecx, 1
  04437	66 03 4f 16	 add	 cx, WORD PTR [edi+22]
$L75198:
  0443b	66 89 0e	 mov	 WORD PTR [esi], cx

; 1057 : 			pDphsettar->durtran = NF50MS;

  0443e	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L72588:

; 1058 : 		}
; 1059 : 		/* BW1 widen, to nasalize transition into next nasal */
; 1060 : 		if ((feanex & FNASAL) IS_PLUS)

  04442	f6 44 24 20 80	 test	 BYTE PTR _feanex$[esp+12], -128 ; ffffff80H
  04447	74 62		 je	 SHORT $L72592

; 1061 : 		{
; 1062 : 			pDphsettar->bouval = pDphsettar->np->tarend;
; 1063 : 			/* Except F2 of [n], which is wider before a non-front vowel */
; 1064 : 			if ((pDphsettar->np == &PB2) && ((pDphsettar->phonex == UKP_N) || (pDphsettar->phonex == UKP_EN))
; 1065 : 				&& (endtyp(pDphsettar->phcur) != 1))

  04449	8b 7c 24 14	 mov	 edi, DWORD PTR _pDph_t$[esp+12]
  0444d	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  04450	66 8b 51 1a	 mov	 dx, WORD PTR [ecx+26]
  04454	8d 87 d8 00 00
	00		 lea	 eax, DWORD PTR [edi+216]
  0445a	3b c8		 cmp	 ecx, eax
  0445c	66 89 16	 mov	 WORD PTR [esi], dx
  0445f	75 36		 jne	 SHORT $L72590
  04461	66 81 fb 20 1d	 cmp	 bx, 7456		; 00001d20H
  04466	74 07		 je	 SHORT $L72591
  04468	66 81 fb 24 1d	 cmp	 bx, 7460		; 00001d24H
  0446d	75 28		 jne	 SHORT $L72590
$L72591:
  0446f	0f bf 46 18	 movsx	 eax, WORD PTR [esi+24]
  04473	8b d8		 mov	 ebx, eax
  04475	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  0447a	c1 fb 08	 sar	 ebx, 8
  0447d	8b 1c 9d 00 00
	00 00		 mov	 ebx, DWORD PTR _all_endtyp[ebx*4]
  04484	66 83 3c 43 01	 cmp	 WORD PTR [ebx+eax*2], 1
  04489	74 0c		 je	 SHORT $L72590

; 1066 : 			{
; 1067 : 				pDphsettar->bouval += 60;

  0448b	83 c2 3c	 add	 edx, 60			; 0000003cH

; 1068 : 				pDphsettar->durtran = NF60MS;

  0448e	66 c7 46 06 09
	00		 mov	 WORD PTR [esi+6], 9
  04494	66 89 16	 mov	 WORD PTR [esi], dx
$L72590:

; 1069 : 			}
; 1070 : 			if (pDphsettar->np == &PB1)

  04497	81 c7 b4 00 00
	00		 add	 edi, 180		; 000000b4H
  0449d	3b cf		 cmp	 ecx, edi
  0449f	75 0a		 jne	 SHORT $L72592

; 1071 : 			{
; 1072 : 				pDphsettar->durtran = NF100MS;
; 1073 : 				pDphsettar->bouval += 100;

  044a1	66 83 06 64	 add	 WORD PTR [esi], 100	; 00000064H
  044a5	66 c7 46 06 10
	00		 mov	 WORD PTR [esi+6], 16	; 00000010H
$L72592:

; 1074 : 			}
; 1075 : 		}
; 1076 : 		/* Nasals have constant bandwidths at target values */
; 1077 : 		if ((feacur & FNASAL) IS_PLUS)

  044ab	f6 44 24 1c 80	 test	 BYTE PTR _feacur$[esp+12], -128 ; ffffff80H
  044b0	0f 84 6e 02 00
	00		 je	 $endbsmo$72604

; 1078 : 		{
; 1079 : 			pDphsettar->durtran = 0;

  044b6	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0

; 1080 : 			//debugbackward (" Nasal has const. par val", pDphsettar->np);
; 1081 : 		}
; 1082 : 	}
; 1083 : 	/* BACKWARD SMOOTH:  AV, AP, A2, A3, A4, A5, A6, AB */
; 1084 : 	else if ((pDphsettar->par_type IS_PARALLEL_FORM_AMP)

  044bc	e9 63 02 00 00	 jmp	 $endbsmo$72604
$L72580:

; 1085 : 			 || (pDphsettar->par_type IS_AV_OR_AH))

  044c1	33 ed		 xor	 ebp, ebp
  044c3	3c 02		 cmp	 al, 2
  044c5	74 08		 je	 SHORT $L72596
  044c7	84 c0		 test	 al, al
  044c9	0f 85 55 02 00
	00		 jne	 $endbsmo$72604
$L72596:

; 1086 : 	{
; 1087 : 		/* See if onset, i.e. source intensity increasing */
; 1088 : 		temp = pDphsettar->np->tarnex - 10;

  044cf	8b 7e 10	 mov	 edi, DWORD PTR [esi+16]
  044d2	66 8b 47 16	 mov	 ax, WORD PTR [edi+22]
  044d6	66 2d 0a 00	 sub	 ax, 10			; 0000000aH

; 1089 : 		if (pDphsettar->bouval < temp)

  044da	66 39 06	 cmp	 WORD PTR [esi], ax
  044dd	7d 11		 jge	 SHORT $L72598

; 1090 : 		{
; 1091 : 			pDphsettar->bouval = temp;
; 1092 : 			/* Onset of an init fricative or /h/ is very gradual */
; 1093 : 			if (pDphsettar->phcur == GEN_SIL)

  044df	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  044e5	66 89 06	 mov	 WORD PTR [esi], ax
  044e8	75 06		 jne	 SHORT $L72598

; 1094 : 			{
; 1095 : 				pDphsettar->durtran = NF70MS;

  044ea	66 c7 46 06 0b
	00		 mov	 WORD PTR [esi+6], 11	; 0000000bH
$L72598:

; 1096 : 			}
; 1097 : 			//debugbackward (" Onset", pDphsettar->np);
; 1098 : 		}
; 1099 : 		/* Voicing is special:  onset is abrupt, except if a voiced fric */
; 1100 : 		if ((pDphsettar->np == &PAV) && (pDphsettar->bouval < pDphsettar->np->tarnex)
; 1101 : 			&& (pDphsettar->phcur != UKP_V) && (pDphsettar->phcur != UKP_DH)
; 1102 : 			&& (pDphsettar->phcur != UKP_JH) && (pDphsettar->phcur != UKP_ZH) && (pDphsettar->phcur != UKP_Z))

  044f0	8b 4c 24 1c	 mov	 ecx, DWORD PTR _feacur$[esp+12]
  044f4	8d 83 20 01 00
	00		 lea	 eax, DWORD PTR [ebx+288]
  044fa	3b f8		 cmp	 edi, eax
  044fc	75 5c		 jne	 SHORT $L72600
  044fe	66 8b 06	 mov	 ax, WORD PTR [esi]
  04501	66 3b 47 16	 cmp	 ax, WORD PTR [edi+22]
  04505	7d 53		 jge	 SHORT $L72600
  04507	66 8b 46 18	 mov	 ax, WORD PTR [esi+24]
  0450b	66 3d 26 1d	 cmp	 ax, 7462		; 00001d26H
  0450f	74 49		 je	 SHORT $L72600
  04511	66 3d 28 1d	 cmp	 ax, 7464		; 00001d28H
  04515	74 43		 je	 SHORT $L72600
  04517	66 3d 37 1d	 cmp	 ax, 7479		; 00001d37H
  0451b	74 3d		 je	 SHORT $L72600
  0451d	66 3d 2c 1d	 cmp	 ax, 7468		; 00001d2cH
  04521	74 37		 je	 SHORT $L72600
  04523	66 3d 2a 1d	 cmp	 ax, 7466		; 00001d2aH
  04527	74 31		 je	 SHORT $L72600

; 1103 : 		{
; 1104 : 			pDphsettar->durtran = 0;
; 1105 : 			//debugbackward (" Make next onset abrupt", pDphsettar->np);
; 1106 : 			/* Voicebar dies out in a voiced plosive */
; 1107 : 			if (((feacur & FPLOSV) IS_PLUS) || (pDphsettar->phcur == UKP_CH))

  04529	f6 c1 40	 test	 cl, 64			; 00000040H
  0452c	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
  04530	75 06		 jne	 SHORT $L72601
  04532	66 3d 36 1d	 cmp	 ax, 7478		; 00001d36H
  04536	75 22		 jne	 SHORT $L72600
$L72601:

; 1108 : 			{
; 1109 : 				if ((feacur & FVOICD) IS_PLUS)

  04538	f6 c1 02	 test	 cl, 2
  0453b	74 15		 je	 SHORT $L72602

; 1110 : 				{
; 1111 : 					pDphsettar->bouval = pDphsettar->np->tarend - 3;

  0453d	66 8b 4f 1a	 mov	 cx, WORD PTR [edi+26]

; 1112 : 					pDphsettar->durtran = NF45MS;

  04541	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
  04547	66 2b ca	 sub	 cx, dx
  0454a	66 89 0e	 mov	 WORD PTR [esi], cx

; 1113 : 					//debugbackward (" Voicebar dies out", pDphsettar->np);
; 1114 : 				}
; 1115 : 				/* Do not allow prevoicing in a voiceless plosive */
; 1116 : 				else

  0454d	e9 d2 01 00 00	 jmp	 $endbsmo$72604
$L72602:

; 1117 : 				{
; 1118 : 					pDphsettar->bouval = 0;

  04552	66 89 2e	 mov	 WORD PTR [esi], bp

; 1119 : 				}
; 1120 : 				goto endbsmo;

  04555	e9 ca 01 00 00	 jmp	 $endbsmo$72604
$L72600:

; 1121 : 			}
; 1122 : 		}
; 1123 : 		/* If next nasal, & curr phone is voiced, set AV const */
; 1124 : 		if (((feanex & FNASAL) IS_PLUS)
; 1125 : 			&& ((feacur & FVOICD) IS_PLUS))

  0455a	8a 54 24 20	 mov	 dl, BYTE PTR _feanex$[esp+12]
  0455e	f6 c2 80	 test	 dl, -128		; ffffff80H
  04561	74 09		 je	 SHORT $L72605
  04563	f6 c1 02	 test	 cl, 2
  04566	74 04		 je	 SHORT $L72605

; 1126 : 		{
; 1127 : 			pDphsettar->durtran = 0;

  04568	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L72605:

; 1128 : 			//debugforward (" AV const in voiced to  nasal", pDphsettar->np);
; 1129 : 		}
; 1130 : 		/* If curr phone nasal, and next is voiced non-obst, AV const */
; 1131 : 		if ((feacur & FNASAL) IS_PLUS)

  0456c	8b 6c 24 24	 mov	 ebp, DWORD PTR _strucnex$[esp+12]
  04570	8b c1		 mov	 eax, ecx
  04572	25 80 00 00 00	 and	 eax, 128		; 00000080H
  04577	66 85 c0	 test	 ax, ax
  0457a	89 44 24 18	 mov	 DWORD PTR 12+[esp+12], eax
  0457e	74 23		 je	 SHORT $L72608

; 1132 : 		{
; 1133 : 			if (((feanex & FVOICD) IS_PLUS)
; 1134 : 				&& ((feanex & FOBST) IS_MINUS)
; 1135 : 				&& ((strucnex & FDUMMY_VOWEL) IS_MINUS))

  04580	f6 c2 02	 test	 dl, 2
  04583	74 18		 je	 SHORT $L72607
  04585	f6 c2 20	 test	 dl, 32			; 00000020H
  04588	75 13		 jne	 SHORT $L72607
  0458a	8b d5		 mov	 edx, ebp
  0458c	81 e2 00 08 00
	00		 and	 edx, 2048		; 00000800H
  04592	66 85 d2	 test	 dx, dx
  04595	75 06		 jne	 SHORT $L72607

; 1136 : 			{
; 1137 : 				pDphsettar->durtran = 0;

  04597	66 89 56 06	 mov	 WORD PTR [esi+6], dx

; 1138 : 				//debugbackward (" Make murmur const AV", pDphsettar->np);
; 1139 : 			}
; 1140 : 			else

  0459b	eb 06		 jmp	 SHORT $L72608
$L72607:

; 1141 : 			{
; 1142 : 				pDphsettar->durtran = NF40MS;

  0459d	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
$L72608:

; 1143 : 			}
; 1144 : 		}
; 1145 : 		/* See if offset, i.e. source intensity decreasing */
; 1146 : 		temp = pDphsettar->np->tarend - 10;

  045a3	66 8b 47 1a	 mov	 ax, WORD PTR [edi+26]

; 1147 : 		/* Plosive burst does not get attenuated during offset */
; 1148 : 		if (pDphsettar->phcur >= UKP_P)

  045a7	66 8b 4e 18	 mov	 cx, WORD PTR [esi+24]
  045ab	66 2d 0a 00	 sub	 ax, 10			; 0000000aH
  045af	66 81 f9 2d 1d	 cmp	 cx, 7469		; 00001d2dH
  045b4	7c 11		 jl	 SHORT $L72610

; 1149 : 		{
; 1150 : 			pDphsettar->durtran = NF15MS;
; 1151 : 			if (pDphsettar->phcur < UKP_CH)

  045b6	66 81 f9 36 1d	 cmp	 cx, 7478		; 00001d36H
  045bb	66 c7 46 06 02
	00		 mov	 WORD PTR [esi+6], 2
  045c1	7d 04		 jge	 SHORT $L72610

; 1152 : 			{
; 1153 : 				temp = pDphsettar->np->tarend;

  045c3	66 8b 47 1a	 mov	 ax, WORD PTR [edi+26]
$L72610:

; 1154 : 			}
; 1155 : 		}
; 1156 : 		if (pDphsettar->bouval < temp)

  045c7	66 39 06	 cmp	 WORD PTR [esi], ax
  045ca	7d 0c		 jge	 SHORT $L72611

; 1157 : 		{							   /* Or does it ??? */
; 1158 : 			pDphsettar->bouval = temp - 3;

  045cc	8d 50 fd	 lea	 edx, DWORD PTR [eax-3]

; 1159 : 			pDphsettar->durtran = NF20MS;

  045cf	66 c7 46 06 03
	00		 mov	 WORD PTR [esi+6], 3
  045d5	66 89 16	 mov	 WORD PTR [esi], dx
$L72611:

; 1160 : 		}
; 1161 : 		/* Voicing amp falls gradually at end of phrase */
; 1162 : 		/* (Source sudden offset, or next seg is a dummy vowel) */
; 1163 : 		if (pDphsettar->np == &PAV)

  045d8	8d 93 20 01 00
	00		 lea	 edx, DWORD PTR [ebx+288]
  045de	3b fa		 cmp	 edi, edx
  045e0	75 50		 jne	 SHORT $L72615

; 1164 : 		{
; 1165 : 			if ((pDphsettar->bouval < temp) || ((temp > 0)
; 1166 : 												&& (pDphsettar->np == &PAV) && ((strucnex & FDUMMY_VOWEL) IS_PLUS)))

  045e2	66 39 06	 cmp	 WORD PTR [esi], ax
  045e5	7c 2c		 jl	 SHORT $L72614
  045e7	66 85 c0	 test	 ax, ax
  045ea	7e 0d		 jle	 SHORT $L72613
  045ec	8b d5		 mov	 edx, ebp
  045ee	81 e2 00 08 00
	00		 and	 edx, 2048		; 00000800H
  045f4	66 85 d2	 test	 dx, dx
  045f7	75 1a		 jne	 SHORT $L72614
$L72613:

; 1173 : 				}
; 1174 : 			}
; 1175 : 			else if (pDphsettar->np == &PAP)

  045f9	8d 83 44 01 00
	00		 lea	 eax, DWORD PTR [ebx+324]
  045ff	3b f8		 cmp	 edi, eax
  04601	75 2f		 jne	 SHORT $L72615

; 1176 : 				pDphsettar->bouval = PAP.tarend - 6;

  04603	66 8b 93 5e 01
	00 00		 mov	 dx, WORD PTR [ebx+350]
  0460a	66 83 ea 06	 sub	 dx, 6
  0460e	66 89 16	 mov	 WORD PTR [esi], dx
  04611	eb 1f		 jmp	 SHORT $L72615
$L72614:

; 1167 : 			{
; 1168 : 				pDphsettar->bouval = temp + 3;

  04613	83 c0 03	 add	 eax, 3

; 1169 : 				if ((pDphsettar->phonex == GEN_SIL)
; 1170 : 					|| ((strucnex & FDUMMY_VOWEL) IS_PLUS))

  04616	66 81 7e 0a 00
	1e		 cmp	 WORD PTR [esi+10], 7680	; 00001e00H
  0461c	66 89 06	 mov	 WORD PTR [esi], ax
  0461f	74 0b		 je	 SHORT $L72616
  04621	81 e5 00 08 00
	00		 and	 ebp, 2048		; 00000800H
  04627	66 85 ed	 test	 bp, bp
  0462a	74 06		 je	 SHORT $L72615
$L72616:

; 1171 : 				{
; 1172 : 					pDphsettar->durtran = NF75MS;

  0462c	66 c7 46 06 0c
	00		 mov	 WORD PTR [esi+6], 12	; 0000000cH
$L72615:

; 1177 : 			//debugbackward (" Offset to noise", pDphsettar->np);
; 1178 : 		}
; 1179 : 		/* No smoothing of source amps if next segment has burst */
; 1180 : 		if ((pDphsettar->phonex >= UKP_P)
; 1181 : 			&& (((feacur & FNASAL) IS_MINUS) || (pDphsettar->np != &PAV)))

  04632	66 8b 6e 0a	 mov	 bp, WORD PTR [esi+10]
  04636	66 81 fd 2d 1d	 cmp	 bp, 7469		; 00001d2dH
  0463b	7c 18		 jl	 SHORT $L72619
  0463d	66 83 7c 24 18
	00		 cmp	 WORD PTR 12+[esp+12], 0
  04643	74 0a		 je	 SHORT $L72620
  04645	8d 83 20 01 00
	00		 lea	 eax, DWORD PTR [ebx+288]
  0464b	3b f8		 cmp	 edi, eax
  0464d	74 06		 je	 SHORT $L72619
$L72620:

; 1182 : 		{
; 1183 : 			pDphsettar->durtran = 0;

  0464f	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L72619:

; 1184 : 			//debugbackward (" Stop closure next", pDphsettar->np);
; 1185 : 		}
; 1186 : 		/* Onset of a vowel from voiceless open vocal tract is breathy */
; 1187 : 		if (pDphsettar->np == &PAP)

  04655	8d 83 44 01 00
	00		 lea	 eax, DWORD PTR [ebx+324]
  0465b	3b f8		 cmp	 edi, eax
  0465d	75 56		 jne	 SHORT $L75193

; 1188 : 		{
; 1189 : 			if (
; 1190 : 			/* OUT                    (pDphsettar->phcur == GEN_SIL) ||                         END OUT */
; 1191 : 				   (pDphsettar->phcur == UKP_F) || (pDphsettar->phcur == UKP_TH)
; 1192 : 				   || (pDphsettar->phcur == UKP_S) || (pDphsettar->phcur == UKP_SH))

  0465f	66 81 f9 25 1d	 cmp	 cx, 7461		; 00001d25H
  04664	74 15		 je	 SHORT $L72623
  04666	66 81 f9 27 1d	 cmp	 cx, 7463		; 00001d27H
  0466b	74 0e		 je	 SHORT $L72623
  0466d	66 81 f9 29 1d	 cmp	 cx, 7465		; 00001d29H
  04672	74 07		 je	 SHORT $L72623
  04674	66 81 f9 2b 1d	 cmp	 cx, 7467		; 00001d2bH
  04679	75 19		 jne	 SHORT $L75191
$L72623:

; 1193 : 			{
; 1194 : 				if (((feanex & FVOICD) IS_PLUS)
; 1195 : 					&& ((feanex & FOBST) IS_MINUS))

  0467b	8b 44 24 20	 mov	 eax, DWORD PTR _feanex$[esp+12]
  0467f	a8 02		 test	 al, 2
  04681	74 15		 je	 SHORT $L72624
  04683	a8 20		 test	 al, 32			; 00000020H
  04685	75 11		 jne	 SHORT $L72624

; 1196 : 				{
; 1197 : 					pDphsettar->bouval = 52;

  04687	66 c7 06 34 00	 mov	 WORD PTR [esi], 52	; 00000034H

; 1198 : 					pDphsettar->durtran = NF40MS;

  0468c	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
  04692	eb 04		 jmp	 SHORT $L72624
$L75191:
  04694	8b 44 24 20	 mov	 eax, DWORD PTR _feanex$[esp+12]
$L72624:

; 1199 : 				}
; 1200 : 			}
; 1201 : 			/* Offset of a vowel into silence is breathy */
; 1202 : 			if (((feacur & FSYLL) IS_PLUS)
; 1203 : 				&& (pDphsettar->phonex == GEN_SIL))

  04698	8b 54 24 1c	 mov	 edx, DWORD PTR _feacur$[esp+12]
  0469c	f6 c2 01	 test	 dl, 1
  0469f	74 1c		 je	 SHORT $L72625
  046a1	66 81 fd 00 1e	 cmp	 bp, 7680		; 00001e00H
  046a6	75 15		 jne	 SHORT $L72625

; 1204 : 			{
; 1205 : 				pDphsettar->bouval = 52;

  046a8	66 c7 06 34 00	 mov	 WORD PTR [esi], 52	; 00000034H

; 1206 : 				pDphsettar->durtran = NF130MS;

  046ad	66 c7 46 06 14
	00		 mov	 WORD PTR [esi+6], 20	; 00000014H
  046b3	eb 08		 jmp	 SHORT $L72625
$L75193:
  046b5	8b 54 24 1c	 mov	 edx, DWORD PTR _feacur$[esp+12]
  046b9	8b 44 24 20	 mov	 eax, DWORD PTR _feanex$[esp+12]
$L72625:

; 1207 : 			}
; 1208 : 		}
; 1209 : 		/* BACKWARD SMOOTH:  TLT */
; 1210 : 
; 1211 : 		/* Tilt parameter jumps to target values near stops and silence */
; 1212 : 		if (pDphsettar->np == &PTILT)

  046bd	81 c3 40 02 00
	00		 add	 ebx, 576		; 00000240H
  046c3	3b fb		 cmp	 edi, ebx
  046c5	75 5d		 jne	 SHORT $endbsmo$72604

; 1213 : 		{
; 1214 : 			pDphsettar->durtran = NF25MS;
; 1215 : 			if (pDphsettar->phonex == GEN_SIL)

  046c7	66 81 fd 00 1e	 cmp	 bp, 7680		; 00001e00H
  046cc	66 c7 46 06 04
	00		 mov	 WORD PTR [esi+6], 4
  046d2	75 07		 jne	 SHORT $L72627

; 1216 : 			{
; 1217 : 				pDphsettar->bouval = pDphsettar->np->tarend;

  046d4	66 8b 5f 1a	 mov	 bx, WORD PTR [edi+26]
  046d8	66 89 1e	 mov	 WORD PTR [esi], bx
$L72627:

; 1218 : 			}
; 1219 : 			if (pDphsettar->phcur == GEN_SIL)

  046db	66 81 f9 00 1e	 cmp	 cx, 7680		; 00001e00H
  046e0	75 07		 jne	 SHORT $L72628

; 1220 : 			{
; 1221 : 				pDphsettar->bouval = pDphsettar->np->tarnex;

  046e2	66 8b 4f 16	 mov	 cx, WORD PTR [edi+22]
  046e6	66 89 0e	 mov	 WORD PTR [esi], cx
$L72628:

; 1222 : 			}
; 1223 : 			if (((feanex & FSTOP) IS_PLUS)
; 1224 : 				|| ((feacur & FSTOP) IS_PLUS))

  046e9	25 00 20 00 00	 and	 eax, 8192		; 00002000H
  046ee	66 85 c0	 test	 ax, ax
  046f1	75 0c		 jne	 SHORT $L72630
  046f3	8b c2		 mov	 eax, edx
  046f5	25 00 20 00 00	 and	 eax, 8192		; 00002000H
  046fa	66 85 c0	 test	 ax, ax
  046fd	74 06		 je	 SHORT $L72629
$L72630:

; 1225 : 			{
; 1226 : 				pDphsettar->durtran = 0;

  046ff	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L72629:

; 1227 : 			}
; 1228 : 			/* Long breathy offset into silence */
; 1229 : 			if (((feacur & FVOICD) IS_PLUS)
; 1230 : 				&& ((feacur & FNASAL) IS_MINUS))

  04705	f6 c2 02	 test	 dl, 2
  04708	74 1a		 je	 SHORT $endbsmo$72604
  0470a	66 83 7c 24 18
	00		 cmp	 WORD PTR 12+[esp+12], 0
  04710	75 12		 jne	 SHORT $endbsmo$72604

; 1231 : 			{
; 1232 : 				if (pDphsettar->phonex == GEN_SIL)

  04712	66 81 fd 00 1e	 cmp	 bp, 7680		; 00001e00H
  04717	75 0b		 jne	 SHORT $endbsmo$72604

; 1233 : 				{
; 1234 : 					pDphsettar->bouval = 15;

  04719	66 c7 06 0f 00	 mov	 WORD PTR [esi], 15	; 0000000fH
$L75197:

; 1235 : 					pDphsettar->durtran = NF130MS;

  0471e	66 c7 46 06 14
	00		 mov	 WORD PTR [esi+6], 20	; 00000014H
$endbsmo$72604:

; 1236 : 				}
; 1237 : 			}
; 1238 : 		}
; 1239 : 	}
; 1240 : 	/* Truncate back transition so as not to exceed 20 frames */
; 1241 :   endbsmo:
; 1242 : 	if (pDphsettar->durtran > NF130MS)

  04724	b8 14 00 00 00	 mov	 eax, 20			; 00000014H
  04729	66 39 46 06	 cmp	 WORD PTR [esi+6], ax
  0472d	7e 04		 jle	 SHORT $L72633

; 1243 : 		pDphsettar->durtran = NF130MS;

  0472f	66 89 46 06	 mov	 WORD PTR [esi+6], ax
$L72633:

; 1244 : 	/* Truncate backward tran so as not to exceed dur of phone */
; 1245 : 	if (pDphsettar->durtran > pDph_t->durfon)

  04733	8b 4c 24 14	 mov	 ecx, DWORD PTR _pDph_t$[esp+12]
  04737	66 8b 81 04 15
	00 00		 mov	 ax, WORD PTR [ecx+5380]
  0473e	66 39 46 06	 cmp	 WORD PTR [esi+6], ax
  04742	7e 04		 jle	 SHORT $L72634

; 1246 : 		pDphsettar->durtran = pDph_t->durfon;

  04744	66 89 46 06	 mov	 WORD PTR [esi+6], ax
$L72634:

; 1247 : 	pDphsettar->np->tbacktr = pDph_t->durfon - pDphsettar->durtran;

  04748	66 8b 89 04 15
	00 00		 mov	 cx, WORD PTR [ecx+5380]
  0474f	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  04752	66 2b 4e 06	 sub	 cx, WORD PTR [esi+6]
  04756	66 89 4a 10	 mov	 WORD PTR [edx+16], cx

; 1248 : 	/* No parameter can take on negative values */
; 1249 : 	if (pDphsettar->bouval < 0)

  0475a	66 83 3e 00	 cmp	 WORD PTR [esi], 0
  0475e	7d 05		 jge	 SHORT $L72635

; 1250 : 		pDphsettar->bouval = 0;

  04760	66 c7 06 00 00	 mov	 WORD PTR [esi], 0
$L72635:
  04765	5f		 pop	 edi
  04766	5e		 pop	 esi
  04767	5d		 pop	 ebp
  04768	5b		 pop	 ebx

; 1251 : }

  04769	c3		 ret	 0
_uk_back_smooth_rules ENDP
_phTTS$ = 8
_fealas$ = 12
_feacur$ = 16
_feanex$ = 20
_struclm2$ = 24
_struccur$ = 28
_vot$ = 16
_pKsd_t$ = -8
_uk_special_rules PROC NEAR

; 1279 : {

  04770	83 ec 08	 sub	 esp, 8

; 1280 : 	short                   bdur, vot; /* MVP made as a local variable */
; 1281 : 	short                   closure_dur;	/* MVP made as a local variable */
; 1282 : 	
; 1283 : 
; 1284 : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  04773	8b 44 24 0c	 mov	 eax, DWORD PTR _phTTS$[esp+4]
  04777	53		 push	 ebx
  04778	55		 push	 ebp
  04779	56		 push	 esi
  0477a	8b 70 18	 mov	 esi, DWORD PTR [eax+24]

; 1285 : 	PKSD_T                  pKsd_t = phTTS->pKernelShareData;

  0477d	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  04780	57		 push	 edi
  04781	89 44 24 10	 mov	 DWORD PTR _pKsd_t$[esp+24], eax

; 1286 : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;

  04785	8b be 10 2c 00
	00		 mov	 edi, DWORD PTR [esi+11280]

; 1287 : 
; 1288 : 	/* SPECIAL RULE 1: Burst duration for plosives and affricates             */
; 1289 : 
; 1290 : 	bdur = burdr(pDphsettar->phcur);   /* Look up inher. burst dur in msec in table */
; 1291 : 
; 1292 : 	if ((feacur & FBURST) IS_PLUS)

  0478b	8b 5c 24 24	 mov	 ebx, DWORD PTR _feacur$[esp+20]
  0478f	0f bf 47 18	 movsx	 eax, WORD PTR [edi+24]
  04793	8b c8		 mov	 ecx, eax
  04795	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  0479a	c1 f9 08	 sar	 ecx, 8
  0479d	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_burdr[ecx*4]
  047a4	8b cb		 mov	 ecx, ebx
  047a6	81 e1 00 08 00
	00		 and	 ecx, 2048		; 00000800H
  047ac	66 8b 04 42	 mov	 ax, WORD PTR [edx+eax*2]
  047b0	89 4c 24 14	 mov	 DWORD PTR -4+[esp+24], ecx
  047b4	66 85 c9	 test	 cx, cx
  047b7	0f 84 dc 00 00
	00		 je	 $L72674

; 1293 : 	{
; 1294 : 		bdur = mstofr (bdur);		   /* Convert to frames         */

  047bd	0f bf c0	 movsx	 eax, ax
  047c0	50		 push	 eax
  047c1	e8 00 00 00 00	 call	 _mstofr

; 1295 : 
; 1296 : 		/* Don't release burst in homorganic plosiv-nasal & plos-plos sequence */
; 1297 : 		/* bats 878 EAB 4/2/99*/
; 1298 : 
; 1299 : 
; 1300 : /* Dennis had a rule that said in homorganic (meaning
; 1301 : in this case the same place of articulation) nasal plosives
; 1302 : and plosive plosive one should not release the burst of the 
; 1303 : initial plosive. This is incorrect place because a nasal
; 1304 : doesn't have a place of articulation so it can never match 
; 1305 : plus the homorganic I don't believe really means exact same 
; 1306 : place of articulation. A plosive followed by a nasal will 
; 1307 : not be realeased-period. Secondly, a plosive that has 
; 1308 : similiar place of artculation should follow the rule.
; 1309 : i=(i.e an aveloar or a dental are equivalent)
; 1310 : 	So, I added new masks to group places into "homorganic
; 1311 : groupings"
; 1312 : 
; 1313 : */
; 1314 : 
; 1315 : 		if ((feanex & (FNASAL | FPLOSV)) IS_PLUS)

  047c6	8a 4c 24 2c	 mov	 cl, BYTE PTR _feanex$[esp+24]
  047ca	83 c4 04	 add	 esp, 4
  047cd	f6 c1 c0	 test	 cl, -64			; ffffffc0H
  047d0	74 51		 je	 SHORT $L72664

; 1316 : 		{
; 1317 : 			//EAB Don't release a plosive followed by a nasal period
; 1318 : 			// The former comment is not quite correct becaue the place of articulation
; 1319 : 			//between a nasal and a plosive can't be the same becuase the nasal's
; 1320 : 			// doesn't have a place of articulation 2/26/99
; 1321 : 			if((feacur & FPLOSV ) IS_PLUS)

  047d2	f6 c3 40	 test	 bl, 64			; 00000040H
  047d5	74 02		 je	 SHORT $L72661

; 1322 : 				bdur=0;

  047d7	33 c0		 xor	 eax, eax
$L72661:

; 1323 : 			if ((uk_place[pDphsettar->phcur & PVALUE] | MASKFRONT )== (uk_place[pDphsettar->phonex & PVALUE] | MASKFRONT ))

  047d9	8a 4f 18	 mov	 cl, BYTE PTR [edi+24]
  047dc	8a 57 0a	 mov	 dl, BYTE PTR [edi+10]
  047df	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  047e5	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  047eb	66 8b 0c 4d 00
	00 00 00	 mov	 cx, WORD PTR _uk_place[ecx*2]
  047f3	66 8b 14 55 00
	00 00 00	 mov	 dx, WORD PTR _uk_place[edx*2]
  047fb	8b da		 mov	 ebx, edx
  047fd	8b e9		 mov	 ebp, ecx
  047ff	83 cb 0f	 or	 ebx, 15			; 0000000fH
  04802	83 cd 0f	 or	 ebp, 15			; 0000000fH
  04805	66 3b eb	 cmp	 bp, bx
  04808	75 08		 jne	 SHORT $L72662

; 1324 : 			{		/* yes they're both done up front */
; 1325 : 				bdur = 0;
; 1326 : 			}
; 1327 : 			else if ((uk_place[pDphsettar->phcur & PVALUE] )== (uk_place[pDphsettar->phonex & PVALUE] ))

  0480a	8b 5c 24 24	 mov	 ebx, DWORD PTR _feacur$[esp+20]
  0480e	33 c0		 xor	 eax, eax
  04810	eb 2e		 jmp	 SHORT $L72668
$L72662:
  04812	66 3b ca	 cmp	 cx, dx
  04815	75 08		 jne	 SHORT $L75211

; 1328 : 			{		
; 1329 : 				bdur = 0;
; 1330 : 			}
; 1331 : 		
; 1332 : 		}
; 1333 : 
; 1334 : 
; 1335 : 			
; 1336 : 
; 1337 : 		if (bdur > 1)

  04817	8b 5c 24 24	 mov	 ebx, DWORD PTR _feacur$[esp+20]
  0481b	33 c0		 xor	 eax, eax
  0481d	eb 21		 jmp	 SHORT $L72668
$L75211:
  0481f	8b 5c 24 24	 mov	 ebx, DWORD PTR _feacur$[esp+20]
$L72664:
  04823	66 3d 01 00	 cmp	 ax, 1
  04827	7e 17		 jle	 SHORT $L72668

; 1338 : 		{
; 1339 : 			if (((feacur & FPLOSV) IS_PLUS)
; 1340 : 				&& ((feanex & FOBST) IS_PLUS))

  04829	f6 c3 40	 test	 bl, 64			; 00000040H
  0482c	74 07		 je	 SHORT $L72666
  0482e	f6 44 24 28 20	 test	 BYTE PTR _feanex$[esp+20], 32 ; 00000020H

; 1341 : 			{
; 1342 : 				bdur--;				   /* Shorten burst before obst by 6 ms */
; 1343 : 			}
; 1344 : 			else if (pDph_t->durfon < NF50MS)

  04833	75 0a		 jne	 SHORT $L75217
$L72666:
  04835	66 83 be 04 15
	00 00 08	 cmp	 WORD PTR [esi+5380], 8
  0483d	7d 01		 jge	 SHORT $L72668
$L75217:

; 1345 : 			{
; 1346 : 				bdur--;				   /* Shorten burst if closure short */

  0483f	48		 dec	 eax
$L72668:

; 1347 : 			}
; 1348 : 		}
; 1349 : 
; 1350 : 		closure_dur = pDph_t->durfon - bdur;

  04840	66 8b 8e 04 15
	00 00		 mov	 cx, WORD PTR [esi+5380]
  04847	66 2b c8	 sub	 cx, ax

; 1351 : 
; 1352 : 		if ((pDphsettar->phcur == UKP_CH) || (pDphsettar->phcur == UKP_JH))

  0484a	66 8b 47 18	 mov	 ax, WORD PTR [edi+24]
  0484e	66 3d 36 1d	 cmp	 ax, 7478		; 00001d36H
  04852	74 06		 je	 SHORT $L72670
  04854	66 3d 37 1d	 cmp	 ax, 7479		; 00001d37H
  04858	75 0b		 jne	 SHORT $L72671
$L72670:

; 1353 : 		{
; 1354 : 			if (closure_dur > NF80MS)

  0485a	66 83 f9 0d	 cmp	 cx, 13			; 0000000dH
  0485e	7e 05		 jle	 SHORT $L72671

; 1355 : 				closure_dur = NF80MS;

  04860	b9 0d 00 00 00	 mov	 ecx, 13			; 0000000dH
$L72671:

; 1356 : 		}
; 1357 : 		for (pDphsettar->np = &PA2; pDphsettar->np <= &PAB; pDphsettar->np++)

  04865	8d 96 68 01 00
	00		 lea	 edx, DWORD PTR [esi+360]
  0486b	8d 86 1c 02 00
	00		 lea	 eax, DWORD PTR [esi+540]
  04871	3b d0		 cmp	 edx, eax
  04873	89 57 10	 mov	 DWORD PTR [edi+16], edx
  04876	77 21		 ja	 SHORT $L72674
  04878	ba 24 00 00 00	 mov	 edx, 36			; 00000024H
$L72672:

; 1358 : 		{							   /* All fric gains to */
; 1359 : 			pDphsettar->np->tspesh = closure_dur;	/* zero during closur */

  0487d	8b 6f 10	 mov	 ebp, DWORD PTR [edi+16]
  04880	66 89 4d 12	 mov	 WORD PTR [ebp+18], cx

; 1360 : 			pDphsettar->np->pspesh = 0;

  04884	8b 6f 10	 mov	 ebp, DWORD PTR [edi+16]
  04887	66 c7 45 14 00
	00		 mov	 WORD PTR [ebp+20], 0
  0488d	8b 6f 10	 mov	 ebp, DWORD PTR [edi+16]
  04890	03 ea		 add	 ebp, edx
  04892	3b e8		 cmp	 ebp, eax
  04894	89 6f 10	 mov	 DWORD PTR [edi+16], ebp
  04897	76 e4		 jbe	 SHORT $L72672
$L72674:

; 1361 : 		}
; 1362 : 	}
; 1363 : 	/* SPECIAL RULE 2: Voice onset time for aspirated plosives */
; 1364 : 
; 1365 : 	vot = 0;
; 1366 : 	if ((((fealas & FPLOSV) IS_PLUS)
; 1367 : 		 && ((fealas & FVOICD) IS_MINUS)
; 1368 : 		 && ((feacur & FSONOR) IS_PLUS ))) 

  04899	8a 44 24 20	 mov	 al, BYTE PTR _fealas$[esp+20]
  0489d	a8 40		 test	 al, 64			; 00000040H
  0489f	0f 84 a5 01 00
	00		 je	 $L72675
  048a5	a8 02		 test	 al, 2
  048a7	0f 85 9d 01 00
	00		 jne	 $L72675
  048ad	f6 c3 10	 test	 bl, 16			; 00000010H
  048b0	0f 84 94 01 00
	00		 je	 $L72675

; 1369 : 	{
; 1370 : 		PAP.pspesh = 52;			   /* Amplitude of aspiration in dB     */

  048b6	66 c7 86 58 01
	00 00 34 00	 mov	 WORD PTR [esi+344], 52	; 00000034H

; 1371 : 		if (begtyp(pDphsettar->phonex) != 1)

  048bf	0f bf 47 0a	 movsx	 eax, WORD PTR [edi+10]
  048c3	8b c8		 mov	 ecx, eax
  048c5	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  048ca	c1 f9 08	 sar	 ecx, 8
  048cd	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_begtyp[ecx*4]
  048d4	66 83 3c 42 01	 cmp	 WORD PTR [edx+eax*2], 1
  048d9	74 09		 je	 SHORT $L72676

; 1372 : 		{
; 1373 : 			PAP.pspesh = 54;		   /* Stronger asp before +back */

  048db	66 c7 86 58 01
	00 00 36 00	 mov	 WORD PTR [esi+344], 54	; 00000036H
$L72676:

; 1374 : 		}
; 1375 : 		PAV.pspesh = 0;				   /* Amplitude of voicing during aspir */
; 1376 : 
; 1377 : 
; 1378 : 		vot = NF40MS;				   /* Asp dur for /p,t,k/ before stressed sonor */
; 1379 : 		if ((struccur & FSTRESS_1) IS_MINUS)

  048e4	8b 6c 24 30	 mov	 ebp, DWORD PTR _struccur$[esp+20]
  048e8	66 c7 86 34 01
	00 00 00 00	 mov	 WORD PTR [esi+308], 0
  048f1	83 e5 01	 and	 ebp, 1
  048f4	c7 44 24 24 06
	00 00 00	 mov	 DWORD PTR _vot$[esp+20], 6
  048fc	66 85 ed	 test	 bp, bp
  048ff	75 10		 jne	 SHORT $L72677

; 1380 : 		{
; 1381 : 			vot = NF25MS;			   /* Vot shorter if vowel not stressed */
; 1382 : 			PAP.pspesh -= 3;

  04901	66 83 86 58 01
	00 00 fd	 add	 WORD PTR [esi+344], -3	; fffffffdH
  04909	c7 44 24 24 04
	00 00 00	 mov	 DWORD PTR _vot$[esp+20], 4
$L72677:

; 1383 : 		}
; 1384 : 		if (((feacur & FSONCON) IS_PLUS) || (pDphsettar->phcur == UKP_RR))

  04911	8b c3		 mov	 eax, ebx
  04913	25 00 02 00 00	 and	 eax, 512		; 00000200H
  04918	66 85 c0	 test	 ax, ax
  0491b	75 08		 jne	 SHORT $L72679
  0491d	66 81 7f 18 0f
	1d		 cmp	 WORD PTR [edi+24], 7439	; 00001d0fH
  04923	75 08		 jne	 SHORT $L72678
$L72679:

; 1385 : 		{
; 1386 : 			PAP.pspesh += 3;		   /* Aspiration stronger in sonor cons */

  04925	66 83 86 58 01
	00 00 03	 add	 WORD PTR [esi+344], 3
$L72678:

; 1387 : 		}
; 1388 : 
; 1389 : 		/* eab 2/6/976 Found code that was causing after Murhty port. Vlaue of pholm2
; 1390 : 		was not being retained- substituted global variables that already exsist
; 1391 : 		after release the old and I think vestigal variables need to be removed
; 1392 : 		this problem affect all languages but in fact the code didn't exist in German
; 1393 : 		at all but was needed don't know is struclm2 is working either*/
; 1394 : 
; 1395 : 		if ( phone_feature( pDph_t,pDph_t->allophons[pDph_t->nphone -2]) == (FOBST+FCONSON ))          

  0492d	0f bf 8e d0 23
	00 00		 movsx	 ecx, WORD PTR [esi+9168]
  04934	0f bf 94 4e e8
	03 00 00	 movsx	 edx, WORD PTR [esi+ecx*2+1000]
  0493c	52		 push	 edx
  0493d	56		 push	 esi
  0493e	e8 00 00 00 00	 call	 _phone_feature
  04943	83 c4 08	 add	 esp, 8
  04946	66 3d 20 01	 cmp	 ax, 288			; 00000120H
  0494a	75 18		 jne	 SHORT $L72680

; 1396 : 		{
; 1397 : 			if ((struclm2 & FBOUNDARY) IS_MINUS )

  0494c	8b 44 24 2c	 mov	 eax, DWORD PTR _struclm2$[esp+20]
  04950	25 e0 01 00 00	 and	 eax, 480		; 000001e0H
  04955	66 85 c0	 test	 ax, ax
  04958	75 14		 jne	 SHORT $L72683

; 1398 : 			{
; 1399 : 				vot = NF15MS;	   

  0495a	c7 44 24 24 02
	00 00 00	 mov	 DWORD PTR _vot$[esp+20], 2

; 1400 : 			}
; 1401 : 		}
; 1402 : 		else if (((feacur & FSYLL) IS_MINUS))

  04962	eb 0a		 jmp	 SHORT $L72683
$L72680:
  04964	f6 c3 01	 test	 bl, 1
  04967	75 05		 jne	 SHORT $L72683

; 1403 : 		{
; 1404 : 			vot += NF20MS;			   /* Vot longer in a sonorant consonant */

  04969	83 44 24 24 03	 add	 DWORD PTR _vot$[esp+20], 3
$L72683:

; 1405 : 		}
; 1406 : 		if (vot >= pDph_t->durfon)

  0496e	66 8b 86 04 15
	00 00		 mov	 ax, WORD PTR [esi+5380]
  04975	66 8b 4c 24 24	 mov	 cx, WORD PTR _vot$[esp+20]
  0497a	66 3b c8	 cmp	 cx, ax
  0497d	7c 10		 jl	 SHORT $L72684

; 1407 : 		{
; 1408 : 			vot = pDph_t->durfon - 1;

  0497f	8d 48 ff	 lea	 ecx, DWORD PTR [eax-1]

; 1409 : 			PAP.pspesh=0;

  04982	66 c7 86 58 01
	00 00 00 00	 mov	 WORD PTR [esi+344], 0
  0498b	89 4c 24 24	 mov	 DWORD PTR _vot$[esp+20], ecx
$L72684:

; 1410 : 		}
; 1411 : 		/* Vot cannot exceed 1/2 duration of a stressed vowel */
; 1412 : 		if ((vot > (pDph_t->durfon >> 1))
; 1413 : 			&& ((feacur & FSYLL) IS_PLUS)
; 1414 : 			&& ((struccur & FSTRESS_1) IS_PLUS))

  0498f	66 8b d0	 mov	 dx, ax
  04992	66 d1 fa	 sar	 dx, 1
  04995	66 3b ca	 cmp	 cx, dx
  04998	7e 11		 jle	 SHORT $L72685
  0499a	f6 c3 01	 test	 bl, 1
  0499d	74 0c		 je	 SHORT $L72685
  0499f	66 85 ed	 test	 bp, bp
  049a2	74 07		 je	 SHORT $L72685

; 1415 : 		{
; 1416 : 			vot = pDph_t->durfon >> 1;

  049a4	89 54 24 24	 mov	 DWORD PTR _vot$[esp+20], edx
  049a8	66 8b ca	 mov	 cx, dx
$L72685:

; 1417 : 		}
; 1418 : 		/* A dummy vowel is used to release a voiceless plosive into silence */
; 1419 : 		if ((struccur & FDUMMY_VOWEL) IS_PLUS)

  049ab	8b 54 24 30	 mov	 edx, DWORD PTR _struccur$[esp+20]
  049af	81 e2 00 08 00
	00		 and	 edx, 2048		; 00000800H
  049b5	66 85 d2	 test	 dx, dx
  049b8	74 0f		 je	 SHORT $L72686

; 1420 : 		{
; 1421 : 			vot = pDph_t->durfon;
; 1422 : 			PAP.pspesh -= 3;

  049ba	66 83 86 58 01
	00 00 fd	 add	 WORD PTR [esi+344], -3	; fffffffdH
  049c2	89 44 24 24	 mov	 DWORD PTR _vot$[esp+20], eax
  049c6	66 8b c8	 mov	 cx, ax
$L72686:

; 1423 : 		}
; 1424 : 		/* eab in fast mode we simply when to model a much reduced faster
; 1425 : 		release--no time to build up large pressures*/
; 1426 : #ifdef TYPING_MODE
; 1427 : 		if(phTTS->bInTypingMode == TRUE || pKsd_t->sprate >300)

  049c9	8b 54 24 1c	 mov	 edx, DWORD PTR _phTTS$[esp+20]
  049cd	b8 01 00 00 00	 mov	 eax, 1
  049d2	39 82 dc 00 00
	00		 cmp	 DWORD PTR [edx+220], eax
  049d8	74 0f		 je	 SHORT $L72688
  049da	8b 54 24 10	 mov	 edx, DWORD PTR _pKsd_t$[esp+24]
  049de	66 81 ba e6 03
	00 00 2c 01	 cmp	 WORD PTR [edx+998], 300	; 0000012cH
  049e7	7e 1d		 jle	 SHORT $L72687
$L72688:

; 1428 : 		{
; 1429 : 			
; 1430 : 			vot=vot>>2;

  049e9	66 c1 f9 02	 sar	 cx, 2

; 1431 : 			if(vot == 0)

  049ed	75 07		 jne	 SHORT $L72689

; 1432 : 				vot=1;

  049ef	89 44 24 24	 mov	 DWORD PTR _vot$[esp+20], eax
  049f3	66 8b c8	 mov	 cx, ax
$L72689:

; 1433 : 		
; 1434 : 
; 1435 : 		PAV.pspesh +=20;

  049f6	66 83 86 34 01
	00 00 14	 add	 WORD PTR [esi+308], 20	; 00000014H

; 1436 : 		PAP.pspesh -=5;

  049fe	66 83 86 58 01
	00 00 fb	 add	 WORD PTR [esi+344], -5	; fffffffbH
$L72687:

; 1437 : 		}
; 1438 : #endif
; 1439 : 		PAV.tspesh = vot;
; 1440 : 		PAP.tspesh = vot;
; 1441 : 
; 1442 : 		/* Widen 1st and 2nd formant bws when glottis open for aspir */
; 1443 : 		PB1.tspesh = vot;
; 1444 : 		PB2.tspesh = vot;
; 1445 : 		PB1.pspesh = PB1.tarcur + 250;

  04a06	66 8b 86 b4 00
	00 00		 mov	 ax, WORD PTR [esi+180]
  04a0d	66 89 8e 32 01
	00 00		 mov	 WORD PTR [esi+306], cx
  04a14	66 89 8e 56 01
	00 00		 mov	 WORD PTR [esi+342], cx
  04a1b	66 89 8e c6 00
	00 00		 mov	 WORD PTR [esi+198], cx
  04a22	66 89 8e ea 00
	00 00		 mov	 WORD PTR [esi+234], cx

; 1446 : 		PB2.pspesh = PB2.tarcur + 70;

  04a29	66 8b 8e d8 00
	00 00		 mov	 cx, WORD PTR [esi+216]
  04a30	66 05 fa 00	 add	 ax, 250			; 000000faH
  04a34	66 83 c1 46	 add	 cx, 70			; 00000046H
  04a38	66 89 86 c8 00
	00 00		 mov	 WORD PTR [esi+200], ax
  04a3f	8a 44 24 20	 mov	 al, BYTE PTR _fealas$[esp+20]
  04a43	66 89 8e ec 00
	00 00		 mov	 WORD PTR [esi+236], cx
$L72675:

; 1447 : 	}
; 1448 : 	/* SPECIAL RULE 3: Create realistic voicebar, avoid pops and clicks */
; 1449 : 	/* Amp of voicebar set here, AV target in table invalid */
; 1450 : 	/* Set AV=0 for last 12.8 ms, let AV die out, thus avoid click */
; 1451 : 	/* Set to under 250 to signal voicebar */
; 1452 : 
; 1453 : 	/* Problem: spectrum has too much F4 if f2,3 are high, as in [i] */
; 1454 : 	if (((feacur & FBURST) IS_PLUS)
; 1455 : 		&& ((feacur & FVOICD) IS_PLUS)
; 1456 : 		&& ((fealas & FVOICD) IS_PLUS)
; 1457 : 		&& ((feanex & FVOICD) IS_MINUS)		/* Voicebar only if next -V */
; 1458 : 		&& (pDphsettar->phcur != UKP_TX))

  04a4a	66 83 7c 24 14
	00		 cmp	 WORD PTR -4+[esp+24], 0
  04a50	0f 84 aa 00 00
	00		 je	 $L72691
  04a56	f6 c3 02	 test	 bl, 2
  04a59	0f 84 a1 00 00
	00		 je	 $L72691
  04a5f	a8 02		 test	 al, 2
  04a61	0f 84 99 00 00
	00		 je	 $L72691
  04a67	f6 44 24 28 02	 test	 BYTE PTR _feanex$[esp+20], 2
  04a6c	0f 85 8e 00 00
	00		 jne	 $L72691
  04a72	66 81 7f 18 34
	1d		 cmp	 WORD PTR [edi+24], 7476	; 00001d34H
  04a78	0f 84 82 00 00
	00		 je	 $L72691

; 1459 : 	{
; 1460 : 		PAV.tspesh = pDph_t->durfon - NF15MS;

  04a7e	66 8b 86 04 15
	00 00		 mov	 ax, WORD PTR [esi+5380]

; 1461 : 		PB1.tspesh = pDph_t->durfon;
; 1462 : 		PB2.tspesh = pDph_t->durfon;
; 1463 : 		PB3.tspesh = pDph_t->durfon;
; 1464 : 		PAV.pspesh = 63;			   /* Large since low-pass TILT attenuates it */

  04a85	66 c7 86 34 01
	00 00 3f 00	 mov	 WORD PTR [esi+308], 63	; 0000003fH
  04a8e	66 89 86 c6 00
	00 00		 mov	 WORD PTR [esi+198], ax
  04a95	66 89 86 ea 00
	00 00		 mov	 WORD PTR [esi+234], ax
  04a9c	8d 50 fe	 lea	 edx, DWORD PTR [eax-2]
  04a9f	66 89 86 0e 01
	00 00		 mov	 WORD PTR [esi+270], ax

; 1465 : 		/* eab temporary hack to fix cage. JH had no aspiration to much av
; 1466 : 		This code really needs to be rewritten Part of BATS 543 fix*/
; 1467 : 		PB1.pspesh = 1000;

  04aa6	b8 e8 03 00 00	 mov	 eax, 1000		; 000003e8H
  04aab	66 89 96 32 01
	00 00		 mov	 WORD PTR [esi+306], dx
  04ab2	66 89 86 c8 00
	00 00		 mov	 WORD PTR [esi+200], ax

; 1468 : 		PB2.pspesh = 1000;

  04ab9	66 89 86 ec 00
	00 00		 mov	 WORD PTR [esi+236], ax

; 1469 : 		PB3.pspesh = 1500;

  04ac0	66 c7 86 10 01
	00 00 dc 05	 mov	 WORD PTR [esi+272], 1500 ; 000005dcH

; 1470 : 		if(pDphsettar->phcur == UKP_JH)

  04ac9	66 81 7f 18 37
	1d		 cmp	 WORD PTR [edi+24], 7479	; 00001d37H
  04acf	75 2f		 jne	 SHORT $L72691

; 1471 : 		{
; 1472 : 			PAV.pspesh = 50;

  04ad1	b8 32 00 00 00	 mov	 eax, 50			; 00000032H

; 1473 : 			PAP.pspesh = 50;
; 1474 : 		
; 1475 : 			PB1.pspesh = 500;
; 1476 : 			PB2.pspesh = 500;
; 1477 : 			PB3.pspesh = 800;

  04ad6	66 c7 86 10 01
	00 00 20 03	 mov	 WORD PTR [esi+272], 800	; 00000320H
  04adf	66 89 86 34 01
	00 00		 mov	 WORD PTR [esi+308], ax
  04ae6	66 89 86 58 01
	00 00		 mov	 WORD PTR [esi+344], ax
  04aed	b8 f4 01 00 00	 mov	 eax, 500		; 000001f4H
  04af2	66 89 86 c8 00
	00 00		 mov	 WORD PTR [esi+200], ax
  04af9	66 89 86 ec 00
	00 00		 mov	 WORD PTR [esi+236], ax
$L72691:
  04b00	5f		 pop	 edi
  04b01	5e		 pop	 esi
  04b02	5d		 pop	 ebp
  04b03	5b		 pop	 ebx

; 1478 : 		}
; 1479 : 	}
; 1480 : }

  04b04	83 c4 08	 add	 esp, 8
  04b07	c3		 ret	 0
_uk_special_rules ENDP
_phTTS$ = 8
_shrif$ = 12
_pholas$ = 16
_fealas$ = 20
_feacur$ = 24
_struccur$ = 32
_feanex$ = 36
_sp_forw_smooth_rules PROC NEAR

; 670  : {

  04b10	53		 push	 ebx

; 671  : 	short                   temp;	  
; 672  : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  04b11	8b 5c 24 08	 mov	 ebx, DWORD PTR _phTTS$[esp]
  04b15	55		 push	 ebp
  04b16	56		 push	 esi
  04b17	57		 push	 edi
  04b18	8b 7b 18	 mov	 edi, DWORD PTR [ebx+24]

; 673  : 	PKSD_T                  pKsd_t = phTTS->pKernelShareData;
; 674  :  	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;
; 675  : 
; 676  : 	//debugforward ("Set default", pDphsettar->np);
; 677  : 
; 678  : /* Formant frequencies */
; 679  : /* Dipthongs first     */
; 680  : 	if (pDphsettar->par_type IS_FORM_FREQ_OR_BW
; 681  : 		&& (feacur & FVOWEL) IS_PLUS
; 682  : 		&& (fealas & FSEMIV) IS_PLUS
; 683  : 		&& (struccur & FBOUNDARY) == 0)

  04b1b	8b 4c 24 2c	 mov	 ecx, DWORD PTR _struccur$[esp+12]
  04b1f	8b b7 10 2c 00
	00		 mov	 esi, DWORD PTR [edi+11280]
  04b25	8a 46 14	 mov	 al, BYTE PTR [esi+20]
  04b28	3c 02		 cmp	 al, 2
  04b2a	7e 47		 jle	 SHORT $L72922
  04b2c	f6 44 24 24 04	 test	 BYTE PTR _feacur$[esp+12], 4
  04b31	74 40		 je	 SHORT $L72922
  04b33	8b 54 24 20	 mov	 edx, DWORD PTR _fealas$[esp+12]
  04b37	81 e2 00 40 00
	00		 and	 edx, 16384		; 00004000H
  04b3d	66 85 d2	 test	 dx, dx
  04b40	74 31		 je	 SHORT $L72922
  04b42	8b d1		 mov	 edx, ecx
  04b44	81 e2 e0 01 00
	00		 and	 edx, 480		; 000001e0H
  04b4a	66 85 d2	 test	 dx, dx
  04b4d	75 24		 jne	 SHORT $L72922
$L75255:

; 684  : 	{
; 685  : 		pDphsettar->durtran = pDph_t->durfon >> 1;

  04b4f	66 8b 87 04 15
	00 00		 mov	 ax, WORD PTR [edi+5380]
  04b56	66 d1 f8	 sar	 ax, 1
  04b59	66 89 46 06	 mov	 WORD PTR [esi+6], ax

; 686  : 		pDphsettar->bouval = (pDphsettar->np->tarlas + pDphsettar->np->tarcur) >> 1;

  04b5d	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  04b60	0f bf 48 18	 movsx	 ecx, WORD PTR [eax+24]
  04b64	0f bf 10	 movsx	 edx, WORD PTR [eax]
  04b67	03 ca		 add	 ecx, edx
  04b69	d1 f9		 sar	 ecx, 1
  04b6b	66 89 0e	 mov	 WORD PTR [esi], cx

; 687  : 		//debugforward (" dipthong (vowel) transition",pDphsettar->np);
; 688  : 	}
; 689  : 	else if (pDphsettar->par_type IS_FORM_FREQ_OR_BW

  04b6e	e9 8b 05 00 00	 jmp	 $L73000
$L72922:

; 690  : 			 && (feacur & FSEMIV) IS_PLUS
; 691  : 			 && (fealas & FVOWEL) IS_PLUS
; 692  : 			 && (struccur & FBOUNDARY) == 0)

  04b73	3c 02		 cmp	 al, 2
  04b75	7e 25		 jle	 SHORT $L75235
  04b77	8b 54 24 24	 mov	 edx, DWORD PTR _feacur$[esp+12]
  04b7b	81 e2 00 40 00
	00		 and	 edx, 16384		; 00004000H
  04b81	66 85 d2	 test	 dx, dx
  04b84	8b 54 24 20	 mov	 edx, DWORD PTR _fealas$[esp+12]
  04b88	74 16		 je	 SHORT $L72924
  04b8a	f6 c2 04	 test	 dl, 4
  04b8d	74 11		 je	 SHORT $L72924
  04b8f	81 e1 e0 01 00
	00		 and	 ecx, 480		; 000001e0H
  04b95	66 85 c9	 test	 cx, cx
  04b98	75 06		 jne	 SHORT $L72924

; 693  : 	{
; 694  : 		pDphsettar->durtran = pDph_t->durfon >> 1;
; 695  : 		pDphsettar->bouval = (pDphsettar->np->tarlas + pDphsettar->np->tarcur) >> 1;
; 696  : 		//debugforward (" dipthong (semivowel) transition",pDphsettar->np);
; 697  : 	}
; 698  : 	else if (pDphsettar->par_type IS_FORM_FREQ)

  04b9a	eb b3		 jmp	 SHORT $L75255
$L75235:
  04b9c	8b 54 24 20	 mov	 edx, DWORD PTR _fealas$[esp+12]
$L72924:
  04ba0	3c 03		 cmp	 al, 3
  04ba2	0f 85 40 02 00
	00		 jne	 $L72926

; 699  : 	{
; 700  : 		/* 0. Use default values for obst-obst transition */
; 701  : 		if ((feacur & FSONOR) IS_PLUS)

  04ba8	8b 44 24 24	 mov	 eax, DWORD PTR _feacur$[esp+12]
  04bac	b9 05 00 00 00	 mov	 ecx, 5
  04bb1	a8 10		 test	 al, 16			; 00000010H
  04bb3	74 7e		 je	 SHORT $L72935

; 702  : 		{
; 703  : 			if ((feacur & FSONCON) IS_MINUS)

  04bb5	25 00 02 00 00	 and	 eax, 512		; 00000200H
  04bba	66 85 c0	 test	 ax, ax
  04bbd	75 55		 jne	 SHORT $L72928

; 704  : 			{
; 705  : 				pDphsettar->durtran = NF45MS;
; 706  : 				if (pDphsettar->phcur == SPP_YH)	   /* Faster for y */

  04bbf	66 8b 56 18	 mov	 dx, WORD PTR [esi+24]
  04bc3	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
  04bc9	66 81 fa 15 1b	 cmp	 dx, 6933		; 00001b15H
  04bce	75 06		 jne	 SHORT $L72929

; 707  : 					pDphsettar->durtran = NF25MS;  /* 23-Apr-86    */

  04bd0	66 c7 46 06 04
	00		 mov	 WORD PTR [esi+6], 4
$L72929:

; 708  : 				if ((fealas & FSONCON) IS_PLUS)

  04bd6	8b 44 24 20	 mov	 eax, DWORD PTR _fealas$[esp+12]
  04bda	25 00 02 00 00	 and	 eax, 512		; 00000200H
  04bdf	66 85 c0	 test	 ax, ax
  04be2	74 4f		 je	 SHORT $L72935

; 709  : 				{
; 710  : 					/* 1. Soncon-vowel transition, use 25-75% rule */
; 711  : 					pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarlas) >> 1;

  04be4	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  04be7	0f bf 2e	 movsx	 ebp, WORD PTR [esi]
  04bea	0f bf 41 18	 movsx	 eax, WORD PTR [ecx+24]
  04bee	03 c5		 add	 eax, ebp
  04bf0	d1 f8		 sar	 eax, 1

; 712  : 					/* Make F1 discontinuous for light /l/           */
; 713  : 					/* Block if transition into silence              */
; 714  : 					/* (Suggestion from DHK, June 5)                 */
; 715  : 					if (pDphsettar->phcur != GEN_SIL
; 716  : 						&& (pholas == SPP_L) && (pDphsettar->np == &PF1))

  04bf2	66 81 fa 00 1e	 cmp	 dx, 7680		; 00001e00H
  04bf7	66 89 06	 mov	 WORD PTR [esi], ax
  04bfa	74 37		 je	 SHORT $L72935
  04bfc	66 81 7c 24 1c
	09 1b		 cmp	 WORD PTR _pholas$[esp+12], 6921 ; 00001b09H
  04c03	75 2e		 jne	 SHORT $L72935
  04c05	8d 57 24	 lea	 edx, DWORD PTR [edi+36]
  04c08	3b ca		 cmp	 ecx, edx
  04c0a	75 27		 jne	 SHORT $L72935

; 717  : 					{
; 718  : 						pDphsettar->bouval += 80;

  04c0c	83 c0 50	 add	 eax, 80			; 00000050H
  04c0f	66 89 06	 mov	 WORD PTR [esi], ax

; 719  : 					}
; 720  : #if 0
; 721  : 					/* Make F3 & F2 transitions slower out of /r/ */
; 722  : 					if (((pholas == SPP_R) || (pholas == SPP_RR))
; 723  : 						&& (pDphsettar->np != &PF1))
; 724  : 					{
; 725  : 						pDphsettar->durtran = NF70MS;
; 726  : 					}
; 727  : #endif
; 728  : 					//debugforward (" soncon /vowel transition",pDphsettar->np);
; 729  : 				}
; 730  : 				else
; 731  : 				{
; 732  : 					/* 2. Vowel-[vowel/dh,gh,bh,SPP_J] transition */
; 733  : 					/* Preceeding seg has strong influence on [h] init val */
; 734  : 					/* if (phonex == SPP_DH) { bouval = (bouval + np->tarlas) >> 1;
; 735  : 					 * 
; 736  :  					 * }            
; 737  :  					 */
; 738  : 
; 739  : 				}
; 740  : 			}
; 741  : 			else

  04c12	eb 1f		 jmp	 SHORT $L72935
$L72928:

; 742  : 			{
; 743  : 				/* Phcur is a sonorant conson */
; 744  : 				if ((fealas & FSONCON) IS_MINUS)

  04c14	81 e2 00 02 00
	00		 and	 edx, 512		; 00000200H
  04c1a	66 85 d2	 test	 dx, dx
  04c1d	75 10		 jne	 SHORT $L72934

; 745  : 				{
; 746  : 					/* 3. Vowel-soncon trans, use 75-25% rule */
; 747  : 					pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarcur) >> 1;

  04c1f	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  04c22	0f bf 10	 movsx	 edx, WORD PTR [eax]
  04c25	0f bf 06	 movsx	 eax, WORD PTR [esi]
  04c28	03 d0		 add	 edx, eax
  04c2a	d1 fa		 sar	 edx, 1
  04c2c	66 89 16	 mov	 WORD PTR [esi], dx
$L72934:

; 748  : 					pDphsettar->durtran = NF30MS;
; 749  : 				}
; 750  : 				else
; 751  : 				{
; 752  : 					/* 4. Soncon-soncon transition */
; 753  : 					pDphsettar->durtran = NF30MS;

  04c2f	66 89 4e 06	 mov	 WORD PTR [esi+6], cx
$L72935:

; 754  : 				}
; 755  : 			}
; 756  : 		}
; 757  : 		//debugforward (" sonorant transition",pDphsettar->np);
; 758  : 
; 759  : 		/* Bound value = previous target if current phone is sil */
; 760  : 		if (pDphsettar->phcur == GEN_SIL)

  04c33	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  04c39	75 3e		 jne	 SHORT $L72936

; 761  : 		{
; 762  : 			/* GL 10/30/96 changed to be same as English */
; 763  : 			if (pDph_t->nphone > 1)

  04c3b	66 83 bf d0 23
	00 00 01	 cmp	 WORD PTR [edi+9168], 1
  04c43	7e 1a		 jle	 SHORT $L72937

; 764  : 			{
; 765  : 				pDphsettar->bouval = pDphsettar->np->tarlas;

  04c45	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  04c48	66 8b 51 18	 mov	 dx, WORD PTR [ecx+24]
  04c4c	66 89 16	 mov	 WORD PTR [esi], dx

; 770  : 			}
; 771  :             pDphsettar->durtran = pDph_t->durfon;

  04c4f	66 8b 97 04 15
	00 00		 mov	 dx, WORD PTR [edi+5380]
  04c56	66 89 56 06	 mov	 WORD PTR [esi+6], dx

; 772  :             /*
; 773  : 			pDphsettar->bouval = pDphsettar->np->tarlas;
; 774  : 			pDphsettar->durtran = pDph_t->durfon;
; 775  : 			*/
; 776  : 		}
; 777  : 		else

  04c5a	e9 38 01 00 00	 jmp	 $L72956
$L72937:

; 766  : 			}
; 767  : 			else
; 768  : 			{
; 769  : 				pDphsettar->bouval = pDphsettar->np->tarnex;

  04c5f	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  04c62	66 8b 48 16	 mov	 cx, WORD PTR [eax+22]
  04c66	66 89 0e	 mov	 WORD PTR [esi], cx

; 770  : 			}
; 771  :             pDphsettar->durtran = pDph_t->durfon;

  04c69	66 8b 97 04 15
	00 00		 mov	 dx, WORD PTR [edi+5380]
  04c70	66 89 56 06	 mov	 WORD PTR [esi+6], dx

; 772  :             /*
; 773  : 			pDphsettar->bouval = pDphsettar->np->tarlas;
; 774  : 			pDphsettar->durtran = pDph_t->durfon;
; 775  : 			*/
; 776  : 		}
; 777  : 		else

  04c74	e9 1e 01 00 00	 jmp	 $L72956
$L72936:

; 778  : 		{
; 779  : 			if (pDphsettar->np <= &PF3)

  04c79	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  04c7c	8d 47 6c	 lea	 eax, DWORD PTR [edi+108]
  04c7f	3b c8		 cmp	 ecx, eax
  04c81	77 37		 ja	 SHORT $L72940

; 780  : 			{
; 781  : /* EAB 6/24/98 FOR DEBUG
; 782  : 			if (pDphsettar->np == &PF1)
; 783  : 			{
; 784  : 				WINprintf("embeeded f1= %d \n",pDphsettar->bouval);
; 785  : 			}
; 786  : 
; 787  :   */
; 788  : 				/* 5. pholas=obst, phcur=sonor transition */
; 789  : 
; 790  : 				setloc (phTTS, (short)(pDph_t->nphone - 1), pDph_t->nphone, INITIAL, (short)(pDph_t->nphone - 2), feanex);

  04c83	66 8b 87 d0 23
	00 00		 mov	 ax, WORD PTR [edi+9168]
  04c8a	8b 6c 24 30	 mov	 ebp, DWORD PTR _feanex$[esp+12]
  04c8e	55		 push	 ebp
  04c8f	8d 48 fe	 lea	 ecx, DWORD PTR [eax-2]
  04c92	51		 push	 ecx
  04c93	6a 00		 push	 0
  04c95	50		 push	 eax
  04c96	48		 dec	 eax
  04c97	50		 push	 eax
  04c98	53		 push	 ebx
  04c99	e8 00 00 00 00	 call	 _setloc

; 791  : 				/* 6. pholas=sonor, phcur=obst transition */
; 792  : 				setloc (phTTS, pDph_t->nphone, (short)(pDph_t->nphone - 1), FINAL, (short)(pDph_t->nphone + 1), feanex);

  04c9e	66 8b 87 d0 23
	00 00		 mov	 ax, WORD PTR [edi+9168]
  04ca5	55		 push	 ebp
  04ca6	8d 50 01	 lea	 edx, DWORD PTR [eax+1]
  04ca9	8d 48 ff	 lea	 ecx, DWORD PTR [eax-1]
  04cac	52		 push	 edx
  04cad	6a 01		 push	 1
  04caf	51		 push	 ecx
  04cb0	50		 push	 eax
  04cb1	53		 push	 ebx
  04cb2	e8 00 00 00 00	 call	 _setloc
  04cb7	83 c4 30	 add	 esp, 48			; 00000030H
$L72940:

; 793  : 
; 794  : 			}
; 795  : #if 0
; 796  : 			/* 
; 797  : 			 * Doesn't work.
; 798  : 			 */
; 799  : 			/* Dummy vowel for final plosive release into silence is too */
; 800  : 			/* short for an extensive formant transition, make tran less */
; 801  : 			if ((struccur & FDUMMY_VOWEL) IS_PLUS)
; 802  : 			{
; 803  : /* OUT                  xx += ((bouval - np->tarend) >> 1); np->tarend += xx;   (DOESN'T WORK) END OUT */
; 804  : 			}
; 805  : #endif
; 806  : 
; 807  : 			/* Transitions modified inside obstruents */
; 808  : 			if ((feacur & FOBST) IS_PLUS)

  04cba	8a 44 24 24	 mov	 al, BYTE PTR _feacur$[esp+12]
  04cbe	a8 20		 test	 al, 32			; 00000020H
  04cc0	74 25		 je	 SHORT $L72947

; 809  : 			{
; 810  : 				pDphsettar->durtran = NF30MS;
; 811  : 				if (pDphsettar->np == &PF1)

  04cc2	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  04cc5	8d 57 24	 lea	 edx, DWORD PTR [edi+36]
  04cc8	3b ca		 cmp	 ecx, edx
  04cca	66 c7 46 06 05
	00		 mov	 WORD PTR [esi+6], 5
  04cd0	75 06		 jne	 SHORT $L72946

; 812  : 					pDphsettar->durtran = NF20MS;

  04cd2	66 c7 46 06 03
	00		 mov	 WORD PTR [esi+6], 3
$L72946:

; 813  : 				/* Transitions take all of plosive duration */
; 814  : 				if ((feacur & FPLOSV) IS_PLUS)

  04cd8	a8 40		 test	 al, 64			; 00000040H
  04cda	74 0b		 je	 SHORT $L72947

; 815  : 				{
; 816  : 					pDphsettar->durtran = pDph_t->durfon;

  04cdc	66 8b 8f 04 15
	00 00		 mov	 cx, WORD PTR [edi+5380]
  04ce3	66 89 4e 06	 mov	 WORD PTR [esi+6], cx
$L72947:

; 817  : 				}
; 818  : 			}
; 819  : 
; 820  : 			/* Higher formant transitions slow inside a nasal */
; 821  : 			if ((feacur & FNASAL) IS_PLUS)

  04ce7	a8 80		 test	 al, -128		; ffffff80H
  04ce9	0f 84 a8 00 00
	00		 je	 $L72956

; 822  : 			{
; 823  : 				pDphsettar->durtran = pDph_t->durfon;

  04cef	66 8b 97 04 15
	00 00		 mov	 dx, WORD PTR [edi+5380]

; 824  : 				/* Except F1, which jumps to value above FNZRO */
; 825  : 				if (pDphsettar->np == &PF1)

  04cf6	8d 47 24	 lea	 eax, DWORD PTR [edi+36]
  04cf9	66 89 56 06	 mov	 WORD PTR [esi+6], dx
  04cfd	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  04d00	3b d0		 cmp	 edx, eax
  04d02	75 0b		 jne	 SHORT $L72949

; 826  : 				{
; 827  : 					pDphsettar->durtran = 0;

  04d04	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0

; 828  : 				}
; 829  : 				/* Lower F2 & F3 of [n] nasal murmur before front vowels */
; 830  : 				else if (((pDphsettar->phcur == SPP_N))

  04d0a	e9 88 00 00 00	 jmp	 $L72956
$L72949:

; 831  : 						 && (begtyp(pDphsettar->phonex) == 1))

  04d0f	66 8b 4e 18	 mov	 cx, WORD PTR [esi+24]
  04d13	66 81 f9 0c 1b	 cmp	 cx, 6924		; 00001b0cH
  04d18	75 4f		 jne	 SHORT $L72951
  04d1a	0f bf 46 0a	 movsx	 eax, WORD PTR [esi+10]
  04d1e	8b d8		 mov	 ebx, eax
  04d20	8b e8		 mov	 ebp, eax
  04d22	c1 fb 08	 sar	 ebx, 8
  04d25	81 e5 ff 00 00
	00		 and	 ebp, 255		; 000000ffH
  04d2b	8b 1c 9d 00 00
	00 00		 mov	 ebx, DWORD PTR _all_begtyp[ebx*4]
  04d32	66 83 3c 6b 01	 cmp	 WORD PTR [ebx+ebp*2], 1
  04d37	75 30		 jne	 SHORT $L72951

; 832  : 				{
; 833  : 					if (pDphsettar->np == &PF2)

  04d39	8d 4f 48	 lea	 ecx, DWORD PTR [edi+72]
  04d3c	3b d1		 cmp	 edx, ecx
  04d3e	75 1c		 jne	 SHORT $L72953

; 834  : 					{
; 835  : 						pDphsettar->bouval -= 100;

  04d40	66 83 06 9c	 add	 WORD PTR [esi], -100	; ffffff9cH
  04d44	66 8b 0e	 mov	 cx, WORD PTR [esi]

; 836  : 						if ((sp_place[pDphsettar->phonex & PVALUE] & F2BACKI) IS_PLUS)

  04d47	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  04d4c	f6 04 45 00 00
	00 00 40	 test	 BYTE PTR _sp_place[eax*2], 64 ; 00000040H
  04d54	74 06		 je	 SHORT $L72953

; 837  : 						{
; 838  : 							pDphsettar->bouval -= 100;

  04d56	83 c1 9c	 add	 ecx, -100		; ffffff9cH
  04d59	66 89 0e	 mov	 WORD PTR [esi], cx
$L72953:

; 839  : 						}
; 840  : 					}
; 841  : 					if (pDphsettar->np == &PF3)

  04d5c	8d 47 6c	 lea	 eax, DWORD PTR [edi+108]
  04d5f	3b d0		 cmp	 edx, eax
  04d61	75 34		 jne	 SHORT $L72956

; 842  : 						pDphsettar->bouval -= 100;

  04d63	66 83 06 9c	 add	 WORD PTR [esi], -100	; ffffff9cH

; 843  : 				}
; 844  : 				/* Lower F2 of [m] nasal murmur near [i,e,ix] */
; 845  : 				else if ((pDphsettar->np == &PF2)

  04d67	eb 2e		 jmp	 SHORT $L72956
$L72951:

; 846  : 						 && (pDphsettar->phcur == SPP_M
; 847  : 							 || pDphsettar->phcur == SPP_MX)
; 848  : 						 && ((sp_place[pholas & PVALUE] & F2BACKF) IS_PLUS))

  04d69	8d 47 48	 lea	 eax, DWORD PTR [edi+72]
  04d6c	3b d0		 cmp	 edx, eax
  04d6e	75 27		 jne	 SHORT $L72956
  04d70	66 81 f9 0b 1b	 cmp	 cx, 6923		; 00001b0bH
  04d75	74 07		 je	 SHORT $L72957
  04d77	66 81 f9 25 1b	 cmp	 cx, 6949		; 00001b25H
  04d7c	75 19		 jne	 SHORT $L72956
$L72957:
  04d7e	8b 4c 24 1c	 mov	 ecx, DWORD PTR _pholas$[esp+12]
  04d82	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  04d88	f6 04 4d 00 00
	00 00 80	 test	 BYTE PTR _sp_place[ecx*2], -128 ; ffffff80H
  04d90	74 05		 je	 SHORT $L72956

; 849  : 				{
; 850  : 					pDphsettar->bouval -= 150;

  04d92	66 81 06 6a ff	 add	 WORD PTR [esi], -150	; ffffff6aH
$L72956:

; 851  : 				}
; 852  : 				//debugforward (" nasals",pDphsettar->np);
; 853  : 			}
; 854  : 		}
; 855  : 
; 856  : 		/* Shrink transition dur inside sonor if sonor short */
; 857  : 		if (((feacur & FOBST) IS_MINUS)
; 858  : 			&& (endtyp(pholas) != OBSTRUENT)	/* Unless prev seg is obst */
; 859  : 			&& (pDphsettar->durtran > 0))

  04d97	f6 44 24 24 20	 test	 BYTE PTR _feacur$[esp+12], 32 ; 00000020H
  04d9c	0f 85 5c 03 00
	00		 jne	 $L73000
  04da2	0f bf 44 24 1c	 movsx	 eax, WORD PTR _pholas$[esp+12]
  04da7	8b d0		 mov	 edx, eax
  04da9	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  04dae	c1 fa 08	 sar	 edx, 8
  04db1	8b 0c 95 00 00
	00 00		 mov	 ecx, DWORD PTR _all_endtyp[edx*4]
  04db8	66 83 3c 41 04	 cmp	 WORD PTR [ecx+eax*2], 4
  04dbd	0f 84 3b 03 00
	00		 je	 $L73000
  04dc3	66 8b 46 06	 mov	 ax, WORD PTR [esi+6]
  04dc7	66 85 c0	 test	 ax, ax
  04dca	0f 8e 2e 03 00
	00		 jle	 $L73000

; 860  : 		{
; 861  : 			//pDph_t->arg1 = pDphsettar->durtran;
; 862  : 			//pDph_t->arg2 = shrif;
; 863  : 			pDphsettar->durtran = mlsh1 (pDphsettar->durtran,shrif) + 1;

  04dd0	0f bf d0	 movsx	 edx, ax
  04dd3	0f bf 44 24 18	 movsx	 eax, WORD PTR _shrif$[esp+12]
  04dd8	0f af d0	 imul	 edx, eax
  04ddb	c1 fa 0e	 sar	 edx, 14			; 0000000eH
  04dde	42		 inc	 edx
  04ddf	66 89 56 06	 mov	 WORD PTR [esi+6], dx

; 864  : 		}
; 865  : 		//debugforward (" Other formant frequency rule",pDphsettar->np);
; 866  : 	}
; 867  : 
; 868  : 	/* Formant bandwidths */
; 869  : 	else if (pDphsettar->par_type IS_FORM_BW)

  04de3	e9 16 03 00 00	 jmp	 $L73000
$L72926:
  04de8	3c 04		 cmp	 al, 4
  04dea	0f 85 58 01 00
	00		 jne	 $L72960

; 870  : 	{
; 871  : 		/* Default transition duration is 40 ms */
; 872  : 		pDphsettar->durtran = NF40MS;
; 873  : 		/* Widen first formant bw if preceeding seg voiceless */
; 874  : 		if ((feacur & FVOICD) IS_PLUS)

  04df0	8b 4c 24 24	 mov	 ecx, DWORD PTR _feacur$[esp+12]
  04df4	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
  04dfa	f6 c1 02	 test	 cl, 2
  04dfd	bb 08 00 00 00	 mov	 ebx, 8
  04e02	74 26		 je	 SHORT $L72961

; 875  : 		{
; 876  : 			if ((pDphsettar->np == &PB1)
; 877  : 				&& ((fealas & FVOICD) IS_MINUS))

  04e04	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  04e07	8d af b4 00 00
	00		 lea	 ebp, DWORD PTR [edi+180]
  04e0d	3b c5		 cmp	 eax, ebp
  04e0f	75 1f		 jne	 SHORT $L72963
  04e11	f6 c2 02	 test	 dl, 2
  04e14	75 1a		 jne	 SHORT $L72963

; 878  : 			{
; 879  : 				pDphsettar->durtran = NF50MS;

  04e16	66 89 5e 06	 mov	 WORD PTR [esi+6], bx

; 880  : 				/* More increase for low vowels (F1 high) */
; 881  : 				pDphsettar->bouval = pDphsettar->np->tarcur + (PF1.tarcur >> 3);

  04e1a	66 8b 6f 24	 mov	 bp, WORD PTR [edi+36]
  04e1e	66 c1 fd 03	 sar	 bp, 3
  04e22	66 03 28	 add	 bp, WORD PTR [eax]
  04e25	66 89 2e	 mov	 WORD PTR [esi], bp

; 882  : 			}
; 883  : 		}
; 884  : 		else

  04e28	eb 06		 jmp	 SHORT $L72963
$L72961:

; 885  : 		{
; 886  : 			pDphsettar->durtran = NF20MS;

  04e2a	66 c7 46 06 03
	00		 mov	 WORD PTR [esi+6], 3
$L72963:

; 887  : 		}
; 888  : 		//debugforward (" After BW initial setup",pDphsettar->np);
; 889  : 
; 890  : 		/* Treat boundary with silence */
; 891  : 		/* 
; 892  : 		 * This widens the glottis (?) for transitions from
; 893  : 		 * silence.  If you do this for [L] and [LL], it
; 894  : 		 * sounds like [al].
; 895  : 		 */
; 896  : 		if (pholas == GEN_SIL && ((feacur & FSONCON) IS_MINUS))

  04e30	b8 00 1e 00 00	 mov	 eax, 7680		; 00001e00H
  04e35	66 39 44 24 1c	 cmp	 WORD PTR _pholas$[esp+12], ax
  04e3a	75 3a		 jne	 SHORT $L72964
  04e3c	81 e1 00 02 00
	00		 and	 ecx, 512		; 00000200H
  04e42	66 85 c9	 test	 cx, cx
  04e45	75 2f		 jne	 SHORT $L72964

; 897  : 		{
; 898  : 			pDphsettar->bouval = pDphsettar->np->tarcur + ((&PB3 - pDphsettar->np) * 50);

  04e47	8b 6e 10	 mov	 ebp, DWORD PTR [esi+16]
  04e4a	8b cf		 mov	 ecx, edi
  04e4c	2b cd		 sub	 ecx, ebp
  04e4e	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  04e53	81 c1 fc 00 00
	00		 add	 ecx, 252		; 000000fcH
  04e59	f7 e9		 imul	 ecx
  04e5b	c1 fa 03	 sar	 edx, 3
  04e5e	8b ca		 mov	 ecx, edx
  04e60	c1 e9 1f	 shr	 ecx, 31			; 0000001fH
  04e63	03 d1		 add	 edx, ecx
  04e65	8d 04 92	 lea	 eax, DWORD PTR [edx+edx*4]
  04e68	8d 14 80	 lea	 edx, DWORD PTR [eax+eax*4]
  04e6b	d1 e2		 shl	 edx, 1
  04e6d	66 03 55 00	 add	 dx, WORD PTR [ebp]
  04e71	66 89 16	 mov	 WORD PTR [esi], dx

; 899  : 			//debugforward (" Transition from silence",pDphsettar->np);
; 900  : 		}
; 901  : 		else if (pDphsettar->phcur == GEN_SIL)

  04e74	eb 66		 jmp	 SHORT $L75253
$L72964:
  04e76	66 39 46 18	 cmp	 WORD PTR [esi+24], ax
  04e7a	75 64		 jne	 SHORT $L72966

; 902  : 		{
; 903  : 			pDphsettar->bouval = pDphsettar->np->tarlas + ((&PB3 - pDphsettar->np) * 50);

  04e7c	8b 6e 10	 mov	 ebp, DWORD PTR [esi+16]
  04e7f	8b cf		 mov	 ecx, edi
  04e81	2b cd		 sub	 ecx, ebp
  04e83	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  04e88	81 c1 fc 00 00
	00		 add	 ecx, 252		; 000000fcH
  04e8e	f7 e9		 imul	 ecx
  04e90	c1 fa 03	 sar	 edx, 3
  04e93	8b c2		 mov	 eax, edx
  04e95	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  04e98	03 d0		 add	 edx, eax
  04e9a	8d 04 92	 lea	 eax, DWORD PTR [edx+edx*4]
  04e9d	8d 0c 80	 lea	 ecx, DWORD PTR [eax+eax*4]
  04ea0	d1 e1		 shl	 ecx, 1
  04ea2	66 03 4d 18	 add	 cx, WORD PTR [ebp+24]
  04ea6	66 89 0e	 mov	 WORD PTR [esi], cx

; 904  : 			if (((phone_feature( pDph_t,pDph_t->allophons[pDph_t->nphone - 2]) & FVOICD) IS_MINUS)
; 905  : 				&& (pDphsettar->np == &PB1))

  04ea9	0f bf 97 d0 23
	00 00		 movsx	 edx, WORD PTR [edi+9168]
  04eb0	0f bf 84 57 e8
	03 00 00	 movsx	 eax, WORD PTR [edi+edx*2+1000]
  04eb8	50		 push	 eax
  04eb9	57		 push	 edi
  04eba	e8 00 00 00 00	 call	 _phone_feature
  04ebf	83 c4 08	 add	 esp, 8
  04ec2	a8 02		 test	 al, 2
  04ec4	75 12		 jne	 SHORT $L72967
  04ec6	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  04ec9	8d 8f b4 00 00
	00		 lea	 ecx, DWORD PTR [edi+180]
  04ecf	3b c1		 cmp	 eax, ecx
  04ed1	75 05		 jne	 SHORT $L72967

; 906  : 			{
; 907  : 				pDphsettar->bouval = 260;	   /* Kluge to avoid discontinutiy */

  04ed3	66 c7 06 04 01	 mov	 WORD PTR [esi], 260	; 00000104H
$L72967:

; 908  : 			}
; 909  : 			pDphsettar->durtran = NF50MS;

  04ed8	66 89 5e 06	 mov	 WORD PTR [esi+6], bx
$L75253:
  04edc	8b 54 24 20	 mov	 edx, DWORD PTR _fealas$[esp+12]
$L72966:

; 910  : 			//debugforward (" Transition into silence",pDphsettar->np);
; 911  : 		}
; 912  : 		/* BW1 widen, to nasalize transition out of previous nasal */
; 913  : 		if ((fealas & FNASAL) IS_PLUS)

  04ee0	f6 c2 80	 test	 dl, -128		; ffffff80H
  04ee3	74 1d		 je	 SHORT $L72969

; 914  : 		{
; 915  : 			pDphsettar->bouval = pDphsettar->np->tarcur;   /* B2,B3 not influ by nasal */

  04ee5	8b 46 10	 mov	 eax, DWORD PTR [esi+16]

; 916  : 			if (pDphsettar->np == &PB1)

  04ee8	8d 8f b4 00 00
	00		 lea	 ecx, DWORD PTR [edi+180]
  04eee	3b c1		 cmp	 eax, ecx
  04ef0	66 8b 10	 mov	 dx, WORD PTR [eax]
  04ef3	66 89 16	 mov	 WORD PTR [esi], dx
  04ef6	75 0a		 jne	 SHORT $L72969

; 917  : 			{
; 918  : 				pDphsettar->durtran = NF100MS;
; 919  : 				pDphsettar->bouval += 70;

  04ef8	66 83 06 46	 add	 WORD PTR [esi], 70	; 00000046H
  04efc	66 c7 46 06 10
	00		 mov	 WORD PTR [esi+6], 16	; 00000010H
$L72969:

; 920  : 			}
; 921  : 			//debugforward (" Transition from nasal",pDphsettar->np);
; 922  : 		}
; 923  : 		/* Nasals have constant bandwidths at target values */
; 924  : 		if ((feacur & FNASAL) IS_PLUS)

  04f02	f6 44 24 24 80	 test	 BYTE PTR _feacur$[esp+12], -128 ; ffffff80H
  04f07	74 06		 je	 SHORT $L72970

; 925  : 		{
; 926  : 			pDphsettar->durtran = 0;

  04f09	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L72970:

; 927  : 			//debugforward (" Nasal has const par val",pDphsettar->np);
; 928  : 		}
; 929  : 		/* Special rule for [fi] */
; 930  : 		if ((pDphsettar->np == &PB3)
; 931  : 			&& ((sp_place[pDphsettar->phcur & PVALUE] & F2BACKI) IS_PLUS)
; 932  : 			&& (pholas == SPP_F))

  04f0f	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  04f12	8d 97 fc 00 00
	00		 lea	 edx, DWORD PTR [edi+252]
  04f18	3b c2		 cmp	 eax, edx
  04f1a	0f 85 de 01 00
	00		 jne	 $L73000
  04f20	8a 46 18	 mov	 al, BYTE PTR [esi+24]
  04f23	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  04f28	f6 04 45 00 00
	00 00 40	 test	 BYTE PTR _sp_place[eax*2], 64 ; 00000040H
  04f30	0f 84 c8 01 00
	00		 je	 $L73000
  04f36	66 81 7c 24 1c
	0e 1b		 cmp	 WORD PTR _pholas$[esp+12], 6926 ; 00001b0eH
  04f3d	0f 85 bb 01 00
	00		 jne	 $L73000

; 933  : 		{
; 934  : 			pDphsettar->durtran = 0;
; 935  : 			//debugforward (" [fi] special rule",pDphsettar->np);
; 936  : 		}
; 937  : 		//debugforward (" Other bandwidth rule",pDphsettar->np);
; 938  : 	}
; 939  : 
; 940  : 	/* Source amplitudes, including parallel formant amplitudes */
; 941  : 	/* Default is max of [average,tarcur-12,tarlas-12] */
; 942  : 	else if ((pDphsettar->par_type IS_PARALLEL_FORM_AMP)

  04f43	e9 b0 01 00 00	 jmp	 $L75254
$L72960:

; 943  : 			 || (pDphsettar->par_type IS_AV_OR_AH))

  04f48	3c 02		 cmp	 al, 2
  04f4a	74 49		 je	 SHORT $L72974
  04f4c	84 c0		 test	 al, al
  04f4e	74 45		 je	 SHORT $L72974

; 1070 : 		}
; 1071 : 	}
; 1072 : 	/* Nasal antiformant frequency */
; 1073 : 	else if (pDphsettar->par_type IS_NASAL_ZERO_FREQ)

  04f50	3c 01		 cmp	 al, 1
  04f52	0f 85 a6 01 00
	00		 jne	 $L73000

; 1074 : 	{
; 1075 : 		pDphsettar->durtran = 0;
; 1076 : 		if (((fealas & FNASAL) IS_PLUS)
; 1077 : 			&& ((feacur & FNASAL) IS_MINUS))

  04f58	f6 c2 80	 test	 dl, -128		; ffffff80H
  04f5b	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
  04f61	0f 84 97 01 00
	00		 je	 $L73000
  04f67	f6 44 24 24 80	 test	 BYTE PTR _feacur$[esp+12], -128 ; ffffff80H
  04f6c	0f 85 8c 01 00
	00		 jne	 $L73000

; 1078 : 		{
; 1079 : 			pDphsettar->bouval = NASAL_ZERO_BOUNDARY;
; 1080 : 			/* 
; 1081 : 			 * Changed to give quick transition         28-Apr-86
; 1082 : 			 * for "normal" nasals, slow for ~n
; 1083 : 			 */
; 1084 : 			pDphsettar->durtran = (pholas == SPP_NH) ? NF80MS : NF40MS;

  04f72	66 8b 4c 24 1c	 mov	 cx, WORD PTR _pholas$[esp+12]
  04f77	66 c7 06 72 01	 mov	 WORD PTR [esi], 370	; 00000172H
  04f7c	66 81 e9 0d 1b	 sub	 cx, 6925		; 00001b0dH
  04f81	66 f7 d9	 neg	 cx
  04f84	1b c9		 sbb	 ecx, ecx
  04f86	83 e1 f9	 and	 ecx, -7			; fffffff9H
  04f89	83 c1 0d	 add	 ecx, 13			; 0000000dH
  04f8c	66 89 4e 06	 mov	 WORD PTR [esi+6], cx
  04f90	e9 69 01 00 00	 jmp	 $L73000
$L72974:

; 944  : 	{
; 945  : 		/* See if onset, i.e. plosive or large source intensity increase */
; 946  : 		temp = pDphsettar->np->tarcur - 10;

  04f95	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]

; 947  : 		if ((pDphsettar->bouval < temp) || ((fealas & FPLOSV) IS_PLUS)
; 948  : 			|| (pholas == SPP_YH))

  04f98	8b 6c 24 1c	 mov	 ebp, DWORD PTR _pholas$[esp+12]
  04f9c	66 8b 01	 mov	 ax, WORD PTR [ecx]
  04f9f	66 2d 0a 00	 sub	 ax, 10			; 0000000aH
  04fa3	66 39 06	 cmp	 WORD PTR [esi], ax
  04fa6	7c 0c		 jl	 SHORT $L72976
  04fa8	f6 c2 40	 test	 dl, 64			; 00000040H
  04fab	75 07		 jne	 SHORT $L72976
  04fad	66 81 fd 15 1b	 cmp	 bp, 6933		; 00001b15H
  04fb2	75 5b		 jne	 SHORT $L72983
$L72976:

; 949  : 		{					   /* 7-May-86    */
; 950  : 			pDphsettar->bouval = temp;
; 951  : 			/* 
; 952  : 			 * No onset transition for B, D, G (22-Jan-86, MM)
; 953  : 			 */
; 954  : 			if ((feacur & FOBST) IS_MINUS)

  04fb4	8a 5c 24 24	 mov	 bl, BYTE PTR _feacur$[esp+12]
  04fb8	66 89 06	 mov	 WORD PTR [esi], ax
  04fbb	f6 c3 20	 test	 bl, 32			; 00000020H
  04fbe	75 13		 jne	 SHORT $L72978

; 955  : 			{
; 956  : 				pDphsettar->durtran = NF15MS;
; 957  : 				if (fealas ==
; 958  : 					(FVOICD + FOBST + FPLOSV + FCONSON + FBURST + FVBAR))

  04fc0	66 81 fa 62 49	 cmp	 dx, 18786		; 00004962H
  04fc5	66 c7 46 06 02
	00		 mov	 WORD PTR [esi+6], 2
  04fcb	75 06		 jne	 SHORT $L72978

; 959  : 					pDphsettar->durtran = 0;

  04fcd	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L72978:

; 960  : 			}
; 961  : 			/* Voicing is special */
; 962  : 			if (pDphsettar->np == &PAV)

  04fd3	8d 9f 20 01 00
	00		 lea	 ebx, DWORD PTR [edi+288]
  04fd9	3b cb		 cmp	 ecx, ebx
  04fdb	75 32		 jne	 SHORT $L72983

; 963  : 			{
; 964  : 				/* Gradual buildup of voicing */
; 965  : 				if (pholas == GEN_SIL)

  04fdd	66 81 fd 00 1e	 cmp	 bp, 7680		; 00001e00H
  04fe2	75 11		 jne	 SHORT $L72981

; 966  : 				{
; 967  : 					if ((feacur & FVOICD) IS_PLUS)

  04fe4	f6 44 24 24 02	 test	 BYTE PTR _feacur$[esp+12], 2
  04fe9	74 0a		 je	 SHORT $L72981

; 968  : 					{
; 969  : 						pDphsettar->durtran = NF45MS;
; 970  : 						pDphsettar->bouval -= 8;

  04feb	66 83 06 f8	 add	 WORD PTR [esi], -8	; fffffff8H
  04fef	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
$L72981:

; 971  : 					}
; 972  : 				}
; 973  : 				/* Obstruent voicing onset is abrupt */
; 974  : 				if ((fealas & FOBST) IS_PLUS)

  04ff5	f6 c2 20	 test	 dl, 32			; 00000020H
  04ff8	74 06		 je	 SHORT $L72982

; 975  : 				{
; 976  : 					pDphsettar->bouval = temp + 6;

  04ffa	83 c0 06	 add	 eax, 6
  04ffd	66 89 06	 mov	 WORD PTR [esi], ax
$L72982:

; 977  : 				}
; 978  : 				/* Plosive onset is abrupt (used mainly for [bdg]) */
; 979  : 				if ((fealas & FPLOSV) IS_PLUS)

  05000	f6 c2 40	 test	 dl, 64			; 00000040H
  05003	74 0a		 je	 SHORT $L72983

; 980  : 				{
; 981  : 					pDphsettar->bouval = pDphsettar->np->tarcur - 2;

  05005	66 8b 01	 mov	 ax, WORD PTR [ecx]
  05008	66 2d 02 00	 sub	 ax, 2
  0500c	66 89 06	 mov	 WORD PTR [esi], ax
$L72983:

; 982  : 				}
; 983  : 			}
; 984  : 			//debugforward (" Onset",pDphsettar->np);
; 985  : 		}
; 986  : 		/* If last nasal, and source amp increased, abrupt onset */
; 987  : 		if (((fealas & FNASAL) IS_PLUS)
; 988  : 			&& ((feacur & FVOICD) IS_PLUS))

  0500f	8b 5c 24 24	 mov	 ebx, DWORD PTR _feacur$[esp+12]
  05013	f6 c2 80	 test	 dl, -128		; ffffff80H
  05016	74 0b		 je	 SHORT $L72984
  05018	f6 c3 02	 test	 bl, 2
  0501b	74 06		 je	 SHORT $L72984

; 989  : 		{
; 990  : 			pDphsettar->durtran = 0;

  0501d	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L72984:

; 991  : 			//debugforward (" Onset from nasal",pDphsettar->np);
; 992  : 		}
; 993  : 		/* Voicing source amp const in intervocalic nasal */
; 994  : 		if ((feacur & FNASAL) IS_PLUS)

  05023	f6 c3 80	 test	 bl, -128		; ffffff80H
  05026	74 15		 je	 SHORT $L72987

; 995  : 		{
; 996  : 			if ((fealas & FVOICD) IS_PLUS)

  05028	f6 c2 02	 test	 dl, 2
  0502b	74 10		 je	 SHORT $L72987

; 997  : 			{
; 998  : 				if (pDphsettar->np == &PAV)

  0502d	8d 87 20 01 00
	00		 lea	 eax, DWORD PTR [edi+288]
  05033	3b c8		 cmp	 ecx, eax
  05035	75 06		 jne	 SHORT $L72987

; 999  : 					pDphsettar->durtran = 0;

  05037	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L72987:

; 1000 : 			}
; 1001 : 		}
; 1002 : 		/* See if offset, i.e. source intensity decreasing */
; 1003 : 		temp = pDphsettar->np->tarlas - 10;

  0503d	66 8b 41 18	 mov	 ax, WORD PTR [ecx+24]
  05041	66 2d 0a 00	 sub	 ax, 10			; 0000000aH

; 1004 : 		if (pDphsettar->bouval < temp)

  05045	66 39 06	 cmp	 WORD PTR [esi], ax
  05048	7d 33		 jge	 SHORT $L72990

; 1005 : 		{
; 1006 : 			/* Reduce bounval by 3 dB because bval time is onset */
; 1007 : 			/* of next phoneme */
; 1008 : 			pDphsettar->bouval = temp - 3;

  0504a	83 c0 fd	 add	 eax, -3			; fffffffdH

; 1009 : 			/* Source amplitudes fall gradually into silence */
; 1010 : 			/* 
; 1011 : 			 * Added to shorten stop burst               1-May-86
; 1012 : 			 * Changed 20msec to 30msec                 22-Jul-86
; 1013 : 			 */
; 1014 : 			if (pDphsettar->phcur == GEN_SIL)

  0504d	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  05053	66 89 06	 mov	 WORD PTR [esi], ax
  05056	75 15		 jne	 SHORT $L72989

; 1015 : 			{
; 1016 : 				pDphsettar->durtran = ((fealas & FBURST) IS_PLUS) ? NF30MS : NF70MS;

  05058	8b c2		 mov	 eax, edx
  0505a	25 00 08 00 00	 and	 eax, 2048		; 00000800H
  0505f	66 f7 d8	 neg	 ax
  05062	1b c0		 sbb	 eax, eax
  05064	24 fa		 and	 al, -6			; fffffffaH
  05066	83 c0 0b	 add	 eax, 11			; 0000000bH
  05069	66 89 46 06	 mov	 WORD PTR [esi+6], ax
$L72989:

; 1017 : 			}
; 1018 : 			/* Except voicing offset is abrupt */
; 1019 : 			if (pDphsettar->np == &PAV)

  0506d	8d 87 20 01 00
	00		 lea	 eax, DWORD PTR [edi+288]
  05073	3b c8		 cmp	 ecx, eax
  05075	75 06		 jne	 SHORT $L72990

; 1020 : 				pDphsettar->durtran = 0;

  05077	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L72990:

; 1021 : 			//debugforward (" Offset",pDphsettar->np);
; 1022 : 		}
; 1023 : 		/* Buildup A4 gradually in [CH and YH] */
; 1024 : 		if (pDphsettar->np == &PA4)

  0507d	8d 87 b0 01 00
	00		 lea	 eax, DWORD PTR [edi+432]
  05083	3b c8		 cmp	 ecx, eax
  05085	75 29		 jne	 SHORT $L72992

; 1025 : 		{
; 1026 : 			if ((pDphsettar->phcur == SPP_CH)
; 1027 : 				|| (pDphsettar->phcur == SPP_YH))

  05087	66 8b 46 18	 mov	 ax, WORD PTR [esi+24]
  0508b	66 3d 1c 1b	 cmp	 ax, 6940		; 00001b1cH
  0508f	74 06		 je	 SHORT $L72993
  05091	66 3d 15 1b	 cmp	 ax, 6933		; 00001b15H
  05095	75 19		 jne	 SHORT $L72992
$L72993:

; 1028 : 			{
; 1029 : 				pDphsettar->durtran = pDph_t->durfon - NF15MS;

  05097	66 8b 87 04 15
	00 00		 mov	 ax, WORD PTR [edi+5380]
  0509e	66 2d 02 00	 sub	 ax, 2
  050a2	66 89 46 06	 mov	 WORD PTR [esi+6], ax

; 1030 : 				pDphsettar->bouval = pDphsettar->np->tarcur - 30;

  050a6	66 8b 01	 mov	 ax, WORD PTR [ecx]
  050a9	66 2d 1e 00	 sub	 ax, 30			; 0000001eH
  050ad	66 89 06	 mov	 WORD PTR [esi], ax
$L72992:

; 1031 : 				//debugforward (" CH/YH rule",pDphsettar->np);
; 1032 : 			}
; 1033 : 		}
; 1034 : 
; 1035 : 		/* Offset of a vowel into voiceless open vocal tract is breathy */
; 1036 : 		if (pDphsettar->np == &PAP)

  050b0	8d 87 44 01 00
	00		 lea	 eax, DWORD PTR [edi+324]
  050b6	3b c8		 cmp	 ecx, eax
  050b8	75 34		 jne	 SHORT $L72999

; 1037 : 		{
; 1038 : 			if ((pDphsettar->phcur == GEN_SIL)
; 1039 : 				|| feacur == (FOBST | FCONSON))

  050ba	66 8b 46 18	 mov	 ax, WORD PTR [esi+24]
  050be	66 3d 00 1e	 cmp	 ax, 7680		; 00001e00H
  050c2	74 07		 je	 SHORT $L72996
  050c4	66 81 fb 20 01	 cmp	 bx, 288			; 00000120H
  050c9	75 23		 jne	 SHORT $L72999
$L72996:

; 1040 : 			{
; 1041 : 				/* 
; 1042 : 				 * [SI], [F], [TH], [S], [SH]
; 1043 : 				 */
; 1044 : 				if ((fealas & FSYLL) IS_PLUS)

  050cb	f6 c2 01	 test	 dl, 1
  050ce	74 1e		 je	 SHORT $L72999

; 1045 : 				{
; 1046 : 					if (pDphsettar->phcur == GEN_SIL)

  050d0	66 3d 00 1e	 cmp	 ax, 7680		; 00001e00H
  050d4	75 0d		 jne	 SHORT $L72998

; 1047 : 					{
; 1048 : 						/* 
; 1049 : 						 * Changed 56 -> 40             22-Jul-86
; 1050 : 						 */
; 1051 : 						pDphsettar->bouval = 40;

  050d6	66 c7 06 28 00	 mov	 WORD PTR [esi], 40	; 00000028H

; 1052 : 						pDphsettar->durtran = NF80MS;

  050db	66 c7 46 06 0d
	00		 mov	 WORD PTR [esi+6], 13	; 0000000dH

; 1053 : 					}
; 1054 : 					else

  050e1	eb 0b		 jmp	 SHORT $L72999
$L72998:

; 1055 : 					{
; 1056 : 						/* 
; 1057 : 						 * Changed 52 -> 36             22-Jul-86
; 1058 : 						 */
; 1059 : 						pDphsettar->bouval = 36;

  050e3	66 c7 06 24 00	 mov	 WORD PTR [esi], 36	; 00000024H

; 1060 : 						pDphsettar->durtran = NF45MS;

  050e8	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
$L72999:

; 1061 : 					}
; 1062 : 				}
; 1063 : 				//debugforward (" Spanish AH si/f/th/s/sh rule",pDphsettar->np);
; 1064 : 			}
; 1065 : 		}
; 1066 : 		/* Tilt parameter jumps to target values */
; 1067 : 		if (pDphsettar->np == &PTILT)

  050ee	8d 97 40 02 00
	00		 lea	 edx, DWORD PTR [edi+576]
  050f4	3b ca		 cmp	 ecx, edx
  050f6	75 06		 jne	 SHORT $L73000
$L75254:

; 1068 : 		{
; 1069 : 			pDphsettar->durtran = 0;

  050f8	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L73000:

; 1085 : 		}
; 1086 : 	}
; 1087 : 
; 1088 : 	/* Truncate tran dur if exceeds duration of current phone */
; 1089 : 	if (pDphsettar->durtran > pDph_t->durfon)

  050fe	66 8b bf 04 15
	00 00		 mov	 di, WORD PTR [edi+5380]
  05105	66 39 7e 06	 cmp	 WORD PTR [esi+6], di
  05109	7e 04		 jle	 SHORT $L73004

; 1090 : 		pDphsettar->durtran = pDph_t->durfon;

  0510b	66 89 7e 06	 mov	 WORD PTR [esi+6], di
$L73004:

; 1091 : 	/* Or duration of 20 frames */
; 1092 : 	if (pDphsettar->durtran > NF130MS)

  0510f	b8 14 00 00 00	 mov	 eax, 20			; 00000014H
  05114	66 39 46 06	 cmp	 WORD PTR [esi+6], ax
  05118	7e 04		 jle	 SHORT $L73005

; 1093 : 		pDphsettar->durtran = NF130MS;

  0511a	66 89 46 06	 mov	 WORD PTR [esi+6], ax
$L73005:

; 1094 : 	/* Do not allow amplitude value to go below zero */
; 1095 : 	if (pDphsettar->bouval < 0)

  0511e	66 83 3e 00	 cmp	 WORD PTR [esi], 0
  05122	7d 05		 jge	 SHORT $L73006

; 1096 : 		pDphsettar->bouval = 0;

  05124	66 c7 06 00 00	 mov	 WORD PTR [esi], 0
$L73006:
  05129	5f		 pop	 edi
  0512a	5e		 pop	 esi
  0512b	5d		 pop	 ebp
  0512c	5b		 pop	 ebx

; 1097 : 	/*EAB 6/24/98 
; 1098 : 		if (pDphsettar->np == &PF1)
; 1099 : 			WINprintf("f1= %d \n",pDphsettar->bouval);
; 1100 : 			*/
; 1101 : }

  0512d	c3		 ret	 0
_sp_forw_smooth_rules ENDP
_phTTS$ = 8
_shrib$ = 12
_feacur$ = 16
_feanex$ = 20
_strucnex$ = 24
_sp_back_smooth_rules PROC NEAR

; 1122 : {

  05130	53		 push	 ebx
  05131	55		 push	 ebp
  05132	56		 push	 esi
  05133	57		 push	 edi

; 1123 : 	short                   temp;	   /* MVP MI : This varaible is made local */
; 1124 : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  05134	8b 7c 24 14	 mov	 edi, DWORD PTR _phTTS$[esp+12]

; 1125 : 	PKSD_T                  pKsd_t = phTTS->pKernelShareData;
; 1126 : 
; 1127 : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;
; 1128 : 
; 1129 : 	    //debugbackward("Backward (cur/nex) default",pDphsettar->np);
; 1130 : 	/* Formant frequencies */
; 1131 : 	if (pDphsettar->par_type IS_FORM_FREQ_OR_BW
; 1132 : 		&& (feacur & FVOWEL) IS_PLUS
; 1133 : 		&& (feanex & FSEMIV) IS_PLUS
; 1134 : 		&& (strucnex & FBOUNDARY) == 0)

  05138	8b 4c 24 24	 mov	 ecx, DWORD PTR _strucnex$[esp+12]
  0513c	8b 6f 18	 mov	 ebp, DWORD PTR [edi+24]
  0513f	8b b5 10 2c 00
	00		 mov	 esi, DWORD PTR [ebp+11280]
  05145	8a 46 14	 mov	 al, BYTE PTR [esi+20]
  05148	3c 02		 cmp	 al, 2
  0514a	7e 4b		 jle	 SHORT $L75267
  0514c	8b 5c 24 1c	 mov	 ebx, DWORD PTR _feacur$[esp+12]
  05150	8b 54 24 20	 mov	 edx, DWORD PTR _feanex$[esp+12]
  05154	f6 c3 04	 test	 bl, 4
  05157	74 46		 je	 SHORT $L73022
  05159	8b da		 mov	 ebx, edx
  0515b	81 e3 00 40 00
	00		 and	 ebx, 16384		; 00004000H
  05161	66 85 db	 test	 bx, bx
  05164	74 35		 je	 SHORT $L75277
  05166	8b d9		 mov	 ebx, ecx
  05168	81 e3 e0 01 00
	00		 and	 ebx, 480		; 000001e0H
  0516e	66 85 db	 test	 bx, bx
  05171	75 28		 jne	 SHORT $L75277
$L75287:

; 1135 : 	{
; 1136 : 		pDphsettar->durtran = pDph_t->durfon >> 1;

  05173	66 8b 85 04 15
	00 00		 mov	 ax, WORD PTR [ebp+5380]
  0517a	66 d1 f8	 sar	 ax, 1
  0517d	66 89 46 06	 mov	 WORD PTR [esi+6], ax

; 1137 : 		pDphsettar->bouval = (pDphsettar->np->tarnex + pDphsettar->np->tarcur) >> 1;

  05181	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  05184	0f bf 48 16	 movsx	 ecx, WORD PTR [eax+22]
  05188	0f bf 10	 movsx	 edx, WORD PTR [eax]
  0518b	03 ca		 add	 ecx, edx
  0518d	d1 f9		 sar	 ecx, 1
  0518f	66 89 0e	 mov	 WORD PTR [esi], cx

; 1138 : 		//debugbackward (" dipthong (vowel) transition",pDphsettar->np);
; 1139 : 	}
; 1140 : 	else if (pDphsettar->par_type IS_FORM_FREQ_OR_BW

  05192	e9 a7 05 00 00	 jmp	 $endbsmo$73076
$L75267:
  05197	8b 54 24 20	 mov	 edx, DWORD PTR _feanex$[esp+12]
$L75277:
  0519b	8b 5c 24 1c	 mov	 ebx, DWORD PTR _feacur$[esp+12]
$L73022:

; 1141 : 			 && (feacur & FSEMIV) IS_PLUS
; 1142 : 			 && (feanex & FVOWEL) IS_PLUS
; 1143 : 			 && (strucnex & FBOUNDARY) == 0)

  0519f	3c 02		 cmp	 al, 2
  051a1	7e 1f		 jle	 SHORT $L73024
  051a3	81 e3 00 40 00
	00		 and	 ebx, 16384		; 00004000H
  051a9	66 85 db	 test	 bx, bx
  051ac	74 10		 je	 SHORT $L75278
  051ae	f6 c2 04	 test	 dl, 4
  051b1	74 0b		 je	 SHORT $L75278
  051b3	81 e1 e0 01 00
	00		 and	 ecx, 480		; 000001e0H
  051b9	66 85 c9	 test	 cx, cx

; 1144 : 	{
; 1145 : 		pDphsettar->durtran = pDph_t->durfon >> 1;
; 1146 : 		pDphsettar->bouval = (pDphsettar->np->tarnex + pDphsettar->np->tarcur) >> 1;
; 1147 : 		//debugbackward (" dipthong (semivowel) transition",pDphsettar->np);
; 1148 : 	}
; 1149 : 	else if (pDphsettar->par_type IS_FORM_FREQ)

  051bc	74 b5		 je	 SHORT $L75287
$L75278:

; 1141 : 			 && (feacur & FSEMIV) IS_PLUS
; 1142 : 			 && (feanex & FVOWEL) IS_PLUS
; 1143 : 			 && (strucnex & FBOUNDARY) == 0)

  051be	8b 5c 24 1c	 mov	 ebx, DWORD PTR _feacur$[esp+12]
$L73024:

; 1144 : 	{
; 1145 : 		pDphsettar->durtran = pDph_t->durfon >> 1;
; 1146 : 		pDphsettar->bouval = (pDphsettar->np->tarnex + pDphsettar->np->tarcur) >> 1;
; 1147 : 		//debugbackward (" dipthong (semivowel) transition",pDphsettar->np);
; 1148 : 	}
; 1149 : 	else if (pDphsettar->par_type IS_FORM_FREQ)

  051c2	3c 03		 cmp	 al, 3
  051c4	0f 85 ad 01 00
	00		 jne	 $L73026

; 1150 : 	{        
; 1151 : 		/* 0. Use default values for obst-obst transition */
; 1152 : 		if ((feacur & FSONOR) IS_PLUS)

  051ca	f6 c3 10	 test	 bl, 16			; 00000010H
  051cd	74 5c		 je	 SHORT $L73034

; 1153 : 		{
; 1154 : 			pDphsettar->durtran = NF45MS;
; 1155 : #if 0
; 1156 : 		  NOTE:[y] and[yh] are now     obstruents
; 1157 : 			if                      (pDphsettar->phcur == SPP_YH)		/* Faster for y */
; 1158 : 				pDphsettar->durtran = NF25MS;	/* 23-Apr-86    */
; 1159 : #endif
; 1160 : 			if ((feacur & FSONCON) IS_MINUS)

  051cf	8b c3		 mov	 eax, ebx
  051d1	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
  051d7	25 00 02 00 00	 and	 eax, 512		; 00000200H
  051dc	66 85 c0	 test	 ax, ax
  051df	75 5d		 jne	 SHORT $L73028

; 1161 : 			{
; 1162 : 				if ((feanex & FSONCON) IS_PLUS)

  051e1	8b ca		 mov	 ecx, edx
  051e3	81 e1 00 02 00
	00		 and	 ecx, 512		; 00000200H
  051e9	66 85 c9	 test	 cx, cx
  051ec	74 3d		 je	 SHORT $L73034

; 1163 : 				{
; 1164 : 					/* 1. Vowel-soncon trans, use 75-25% rule */
; 1165 : 					pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarnex) >> 1;

  051ee	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  051f1	0f bf 1e	 movsx	 ebx, WORD PTR [esi]
  051f4	0f bf 48 16	 movsx	 ecx, WORD PTR [eax+22]
  051f8	03 cb		 add	 ecx, ebx
  051fa	d1 f9		 sar	 ecx, 1
  051fc	66 89 0e	 mov	 WORD PTR [esi], cx

; 1166 : 					/* F3 transitions slower esp for [r,l] */
; 1167 : 					if (pDphsettar->np == &PF3)

  051ff	8d 4d 6c	 lea	 ecx, DWORD PTR [ebp+108]
  05202	3b c1		 cmp	 eax, ecx
  05204	75 06		 jne	 SHORT $L73030

; 1168 : 					{
; 1169 : 						pDphsettar->durtran = NF64MS;

  05206	66 c7 46 06 0a
	00		 mov	 WORD PTR [esi+6], 10	; 0000000aH
$L73030:

; 1170 : 					}
; 1171 : 					/* First formant jumps down 80 Hz in /l/ */
; 1172 : 					/* Block if transition from silence              */
; 1173 : 					/* Suggestion from DHK, June 5, 85               */
; 1174 : 					if (pDphsettar->phcur != GEN_SIL
; 1175 : 						&& (pDphsettar->phonex == SPP_L) && (pDphsettar->np == &PF1))

  0520c	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  05212	74 13		 je	 SHORT $L75280
  05214	66 81 7e 0a 09
	1b		 cmp	 WORD PTR [esi+10], 6921	; 00001b09H
  0521a	75 0b		 jne	 SHORT $L75280
  0521c	8d 4d 24	 lea	 ecx, DWORD PTR [ebp+36]
  0521f	3b c1		 cmp	 eax, ecx
  05221	75 04		 jne	 SHORT $L75280

; 1176 : 					{
; 1177 : 						pDphsettar->bouval += 80;

  05223	66 83 06 50	 add	 WORD PTR [esi], 80	; 00000050H
$L75280:

; 1178 : 					}
; 1179 : 				}
; 1180 : 				else
; 1181 : 				{
; 1182 : 				}
; 1183 : 			}
; 1184 : 			else

  05227	8b 5c 24 1c	 mov	 ebx, DWORD PTR _feacur$[esp+12]
$L73034:

; 1192 : 				}
; 1193 : 				else
; 1194 : 				{
; 1195 : 					/* 4. Soncon-soncon transition */
; 1196 : 					/* Use defaults */
; 1197 : 				}
; 1198 : 			}
; 1199 : 		}
; 1200 : 		/* No backward smoothing if next phone is silence */
; 1201 : 		if (pDphsettar->phonex == GEN_SIL)

  0522b	66 81 7e 0a 00
	1e		 cmp	 WORD PTR [esi+10], 7680	; 00001e00H
  05231	75 36		 jne	 SHORT $L73036

; 1202 : 		{
; 1203 : 			pDphsettar->durtran = 0;

  05233	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0

; 1204 : 		}
; 1205 : 		else

  05239	e9 eb 00 00 00	 jmp	 $L73048
$L73028:

; 1185 : 			{
; 1186 : 				pDphsettar->durtran = NF40MS;
; 1187 : 				if ((feanex & FSONCON) IS_MINUS)

  0523e	8b c2		 mov	 eax, edx
  05240	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
  05246	25 00 02 00 00	 and	 eax, 512		; 00000200H
  0524b	66 85 c0	 test	 ax, ax
  0524e	75 db		 jne	 SHORT $L73034

; 1188 : 				{
; 1189 : 					/* 3. Soncon-vowel trans, use 25-75% rule */
; 1190 : 					pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarend) >> 1;

  05250	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  05253	0f bf 41 1a	 movsx	 eax, WORD PTR [ecx+26]
  05257	0f bf 0e	 movsx	 ecx, WORD PTR [esi]
  0525a	03 c1		 add	 eax, ecx

; 1191 : 					pDphsettar->durtran = NF20MS;

  0525c	66 c7 46 06 03
	00		 mov	 WORD PTR [esi+6], 3
  05262	d1 f8		 sar	 eax, 1
  05264	66 89 06	 mov	 WORD PTR [esi], ax
  05267	eb c2		 jmp	 SHORT $L73034
$L73036:

; 1206 : 		{
; 1207 : 			if (pDphsettar->np <= &PF3)

  05269	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  0526c	8d 45 6c	 lea	 eax, DWORD PTR [ebp+108]
  0526f	3b c8		 cmp	 ecx, eax
  05271	77 3b		 ja	 SHORT $L73038

; 1208 : 			{
; 1209 : 				/* 5. phcur=sonor, phonex=obst transition */
; 1210 : 				setloc (phTTS, (short)(pDph_t->nphone + 1), pDph_t->nphone, FINAL, (short)(pDph_t->nphone + 2), feanex);

  05273	66 8b 85 d0 23
	00 00		 mov	 ax, WORD PTR [ebp+9168]
  0527a	52		 push	 edx
  0527b	8d 48 02	 lea	 ecx, DWORD PTR [eax+2]
  0527e	51		 push	 ecx
  0527f	6a 01		 push	 1
  05281	50		 push	 eax
  05282	40		 inc	 eax
  05283	50		 push	 eax
  05284	57		 push	 edi
  05285	e8 00 00 00 00	 call	 _setloc

; 1211 : 				/* 6. phcur=obst, phonex=sonor transition */
; 1212 : 				setloc (phTTS, pDph_t->nphone, (short)(pDph_t->nphone + 1), INITIAL, (short)(pDph_t->nphone - 1), feanex);

  0528a	66 8b 85 d0 23
	00 00		 mov	 ax, WORD PTR [ebp+9168]
  05291	8b 54 24 38	 mov	 edx, DWORD PTR _feanex$[esp+36]
  05295	52		 push	 edx
  05296	8d 48 ff	 lea	 ecx, DWORD PTR [eax-1]
  05299	8d 50 01	 lea	 edx, DWORD PTR [eax+1]
  0529c	51		 push	 ecx
  0529d	6a 00		 push	 0
  0529f	52		 push	 edx
  052a0	50		 push	 eax
  052a1	57		 push	 edi
  052a2	e8 00 00 00 00	 call	 _setloc
  052a7	8b 5c 24 4c	 mov	 ebx, DWORD PTR _feacur$[esp+60]
  052ab	83 c4 30	 add	 esp, 48			; 00000030H
$L73038:

; 1213 : 			}
; 1214 : 			/* Transitions slow inside obstruents */
; 1215 : 			if ((feacur & FOBST) IS_PLUS)

  052ae	f6 c3 20	 test	 bl, 32			; 00000020H
  052b1	74 26		 je	 SHORT $L73044

; 1216 : 			{
; 1217 : 				pDphsettar->durtran = (pDphsettar->np == &PF1) ? NF20MS : NF30MS;

  052b3	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  052b6	8d 45 24	 lea	 eax, DWORD PTR [ebp+36]
  052b9	2b c8		 sub	 ecx, eax
  052bb	f7 d9		 neg	 ecx
  052bd	1b c9		 sbb	 ecx, ecx
  052bf	83 e1 02	 and	 ecx, 2
  052c2	83 c1 03	 add	 ecx, 3

; 1218 : 				/* Transitions take all of plosive duration */
; 1219 : 				if ((feacur & FPLOSV) IS_PLUS)

  052c5	f6 c3 40	 test	 bl, 64			; 00000040H
  052c8	66 89 4e 06	 mov	 WORD PTR [esi+6], cx
  052cc	74 0b		 je	 SHORT $L73044

; 1220 : 				{
; 1221 : 					pDphsettar->durtran = pDph_t->durfon;

  052ce	66 8b 95 04 15
	00 00		 mov	 dx, WORD PTR [ebp+5380]
  052d5	66 89 56 06	 mov	 WORD PTR [esi+6], dx
$L73044:

; 1222 : 				}
; 1223 : 				//debugbackward (" Obstruent",pDphsettar->np);
; 1224 : 			}
; 1225 : 
; 1226 : 			/* Higher formant transitions slow inside a nasal */
; 1227 : 			if ((feacur & FNASAL) IS_PLUS)

  052d9	f6 c3 80	 test	 bl, -128		; ffffff80H
  052dc	74 4b		 je	 SHORT $L73048

; 1228 : 			{
; 1229 : 				pDphsettar->durtran = pDph_t->durfon;

  052de	66 8b 85 04 15
	00 00		 mov	 ax, WORD PTR [ebp+5380]

; 1230 : 				/* Except F1, which jumps to value below FNZRO */
; 1231 : 				if (pDphsettar->np == &PF1)

  052e5	8d 4d 24	 lea	 ecx, DWORD PTR [ebp+36]
  052e8	66 89 46 06	 mov	 WORD PTR [esi+6], ax
  052ec	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  052ef	3b c1		 cmp	 eax, ecx
  052f1	75 08		 jne	 SHORT $L73046

; 1232 : 				{
; 1233 : 					pDphsettar->durtran = 0;

  052f3	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0

; 1234 : 				}
; 1235 : 				/* Lower F2 of [m] murmur near [i,y,yx] */
; 1236 : 				else if ((pDphsettar->np == &PF2)

  052f9	eb 2e		 jmp	 SHORT $L73048
$L73046:

; 1237 : 						 && (pDphsettar->phcur == SPP_M || pDphsettar->phcur == SPP_MX)
; 1238 : 						 && ((sp_place[pDphsettar->phonex & PVALUE] & F2BACKI) IS_PLUS))

  052fb	8d 55 48	 lea	 edx, DWORD PTR [ebp+72]
  052fe	3b c2		 cmp	 eax, edx
  05300	75 27		 jne	 SHORT $L73048
  05302	66 8b 46 18	 mov	 ax, WORD PTR [esi+24]
  05306	66 3d 0b 1b	 cmp	 ax, 6923		; 00001b0bH
  0530a	74 06		 je	 SHORT $L73049
  0530c	66 3d 25 1b	 cmp	 ax, 6949		; 00001b25H
  05310	75 17		 jne	 SHORT $L73048
$L73049:
  05312	8a 46 0a	 mov	 al, BYTE PTR [esi+10]
  05315	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  0531a	f6 04 45 00 00
	00 00 40	 test	 BYTE PTR _sp_place[eax*2], 64 ; 00000040H
  05322	74 05		 je	 SHORT $L73048

; 1239 : 				{
; 1240 : 					pDphsettar->bouval -= 150;

  05324	66 81 06 6a ff	 add	 WORD PTR [esi], -150	; ffffff6aH
$L73048:

; 1241 : 				}
; 1242 : 			}
; 1243 : 		}
; 1244 : 
; 1245 : 		/* Shrink tran dur inside sonorant if sonorant short */
; 1246 : 		if (((feacur & FOBST) IS_MINUS)
; 1247 : 			&& (begtyp(pDphsettar->phonex) != OBSTRUENT)	/* Unless next seg is obst */
; 1248 : 			&& (pDphsettar->durtran > 0))

  05329	f6 c3 20	 test	 bl, 32			; 00000020H
  0532c	0f 85 0c 04 00
	00		 jne	 $endbsmo$73076
  05332	0f bf 46 0a	 movsx	 eax, WORD PTR [esi+10]
  05336	8b c8		 mov	 ecx, eax
  05338	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  0533d	c1 f9 08	 sar	 ecx, 8
  05340	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_begtyp[ecx*4]
  05347	66 83 3c 42 04	 cmp	 WORD PTR [edx+eax*2], 4
  0534c	0f 84 ec 03 00
	00		 je	 $endbsmo$73076
  05352	66 8b 46 06	 mov	 ax, WORD PTR [esi+6]
  05356	66 85 c0	 test	 ax, ax
  05359	0f 8e df 03 00
	00		 jle	 $endbsmo$73076

; 1249 : 		{
; 1250 : 			///pDph_t->arg1 = pDphsettar->durtran;
; 1251 : 			//pDph_t->arg2 = shrib;
; 1252 : 			pDphsettar->durtran = mlsh1 (pDphsettar->durtran,shrib) + 1;

  0535f	0f bf 4c 24 18	 movsx	 ecx, WORD PTR _shrib$[esp+12]
  05364	0f bf c0	 movsx	 eax, ax
  05367	0f af c1	 imul	 eax, ecx
  0536a	c1 f8 0e	 sar	 eax, 14			; 0000000eH
  0536d	40		 inc	 eax
  0536e	66 89 46 06	 mov	 WORD PTR [esi+6], ax

; 1253 : 		}
; 1254 : 		//debugbackward (" Other formant freq. rule",pDphsettar->np);
; 1255 : 	}
; 1256 : 	/* Formant bandwidths */
; 1257 : 	else if (pDphsettar->par_type IS_FORM_BW)

  05372	e9 c7 03 00 00	 jmp	 $endbsmo$73076
$L73026:
  05377	3c 04		 cmp	 al, 4
  05379	0f 85 17 01 00
	00		 jne	 $L73052

; 1258 : 	{
; 1259 : 		pDphsettar->durtran = NF40MS;
; 1260 : 		if ((feacur & FVOICD) IS_PLUS)

  0537f	8a 44 24 1c	 mov	 al, BYTE PTR _feacur$[esp+12]
  05383	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
  05389	a8 02		 test	 al, 2
  0538b	bb 08 00 00 00	 mov	 ebx, 8
  05390	74 37		 je	 SHORT $L73053

; 1261 : 		{
; 1262 : 			/* Glottis opens early before -voice C, widen B1 */
; 1263 : 			if (pDphsettar->np == &PB1)

  05392	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  05395	8d 8d b4 00 00
	00		 lea	 ecx, DWORD PTR [ebp+180]
  0539b	3b c1		 cmp	 eax, ecx
  0539d	75 30		 jne	 SHORT $L73057

; 1264 : 			{
; 1265 : 				if ((feanex & FVOICD) IS_MINUS)

  0539f	f6 c2 02	 test	 dl, 2
  053a2	75 2b		 jne	 SHORT $L73057

; 1266 : 				{
; 1267 : 					pDphsettar->durtran = NF50MS;

  053a4	66 89 5e 06	 mov	 WORD PTR [esi+6], bx

; 1268 : 					/* More increase for low vowels (F1 high) */
; 1269 : 					pDphsettar->bouval = pDphsettar->np->tarend + (PF1.tarcur >> 3);

  053a8	66 8b 4d 24	 mov	 cx, WORD PTR [ebp+36]
  053ac	66 c1 f9 03	 sar	 cx, 3
  053b0	66 03 48 1a	 add	 cx, WORD PTR [eax+26]
  053b4	66 89 0e	 mov	 WORD PTR [esi], cx

; 1270 : 					/* Effect is greater for a female voice */
; 1271 : 					if (pDph_t->malfem == FEMALE)

  053b7	66 83 bd 08 15
	00 00 00	 cmp	 WORD PTR [ebp+5384], 0
  053bf	75 0e		 jne	 SHORT $L73057

; 1272 : 					{
; 1273 : 						pDphsettar->durtran = NF100MS;

  053c1	66 c7 46 06 10
	00		 mov	 WORD PTR [esi+6], 16	; 00000010H

; 1274 : 					}
; 1275 : 				}
; 1276 : 			}
; 1277 : 		}
; 1278 : 		else

  053c7	eb 06		 jmp	 SHORT $L73057
$L73053:

; 1279 : 		{
; 1280 : 			pDphsettar->durtran = NF20MS;

  053c9	66 c7 46 06 03
	00		 mov	 WORD PTR [esi+6], 3
$L73057:

; 1281 : 		}
; 1282 : 		//debugbackward (" After BW initial setup",pDphsettar->np);
; 1283 : 		/* Treat boundary with silence */
; 1284 : 		/* OUT ??? */ 
; 1285 : 		if (pDphsettar->phonex == GEN_SIL)

  053cf	b8 00 1e 00 00	 mov	 eax, 7680		; 00001e00H
  053d4	66 39 46 0a	 cmp	 WORD PTR [esi+10], ax
  053d8	75 33		 jne	 SHORT $L73058

; 1286 : 		{
; 1287 : 			pDphsettar->bouval = pDphsettar->np->tarend + ((&PB3 - pDphsettar->np) * 50);

  053da	8b 7e 10	 mov	 edi, DWORD PTR [esi+16]
  053dd	8b cd		 mov	 ecx, ebp
  053df	2b cf		 sub	 ecx, edi
  053e1	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  053e6	81 c1 fc 00 00
	00		 add	 ecx, 252		; 000000fcH
  053ec	f7 e9		 imul	 ecx
  053ee	c1 fa 03	 sar	 edx, 3
  053f1	8b c2		 mov	 eax, edx
  053f3	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  053f6	03 d0		 add	 edx, eax
  053f8	8d 04 92	 lea	 eax, DWORD PTR [edx+edx*4]
  053fb	8d 0c 80	 lea	 ecx, DWORD PTR [eax+eax*4]
  053fe	d1 e1		 shl	 ecx, 1
  05400	66 03 4f 1a	 add	 cx, WORD PTR [edi+26]

; 1288 : 			pDphsettar->durtran = NF50MS;

  05404	66 89 5e 06	 mov	 WORD PTR [esi+6], bx
  05408	66 89 0e	 mov	 WORD PTR [esi], cx

; 1289 : 			//debugbackward (" Transition to silence",pDphsettar->np);
; 1290 : 		}
; 1291 : 		else if (pDphsettar->phcur == GEN_SIL)

  0540b	eb 4c		 jmp	 SHORT $L75269
$L73058:
  0540d	66 39 46 18	 cmp	 WORD PTR [esi+24], ax
  05411	75 4a		 jne	 SHORT $L73061

; 1292 : 		{
; 1293 : 			pDphsettar->bouval = pDphsettar->np->tarnex + ((&PB3 - pDphsettar->np) * 50);

  05413	8b 7e 10	 mov	 edi, DWORD PTR [esi+16]
  05416	8b cd		 mov	 ecx, ebp
  05418	2b cf		 sub	 ecx, edi
  0541a	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  0541f	81 c1 fc 00 00
	00		 add	 ecx, 252		; 000000fcH
  05425	f7 e9		 imul	 ecx
  05427	c1 fa 03	 sar	 edx, 3
  0542a	8b c2		 mov	 eax, edx
  0542c	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  0542f	03 d0		 add	 edx, eax
  05431	8d 04 92	 lea	 eax, DWORD PTR [edx+edx*4]

; 1294 : 			pDphsettar->durtran = NF50MS;
; 1295 : 			/* 
; 1296 : 			 * Faster transition into [L] and [LL]
; 1297 : 			 */
; 1298 : 			if ((feanex & FSONCON) IS_PLUS)

  05434	8b 54 24 20	 mov	 edx, DWORD PTR _feanex$[esp+12]
  05438	81 e2 00 02 00
	00		 and	 edx, 512		; 00000200H
  0543e	8d 0c 80	 lea	 ecx, DWORD PTR [eax+eax*4]
  05441	d1 e1		 shl	 ecx, 1
  05443	66 03 4f 16	 add	 cx, WORD PTR [edi+22]
  05447	66 89 5e 06	 mov	 WORD PTR [esi+6], bx
  0544b	66 85 d2	 test	 dx, dx
  0544e	66 89 0e	 mov	 WORD PTR [esi], cx
  05451	74 06		 je	 SHORT $L75269

; 1299 : 				pDphsettar->durtran = NF15MS;

  05453	66 c7 46 06 02
	00		 mov	 WORD PTR [esi+6], 2
$L75269:
  05459	8b 54 24 20	 mov	 edx, DWORD PTR _feanex$[esp+12]
$L73061:

; 1300 : 			//debugbackward (" Transition from silence",pDphsettar->np);
; 1301 : 		}
; 1302 : 
; 1303 : 		/* BW1 widen, to nasalize transition into next nasal */
; 1304 : 		if ((feanex & FNASAL) IS_PLUS)

  0545d	f6 c2 80	 test	 dl, -128		; ffffff80H
  05460	74 1e		 je	 SHORT $L73063

; 1305 : 		{
; 1306 : 			pDphsettar->bouval = pDphsettar->np->tarend;

  05462	8b 46 10	 mov	 eax, DWORD PTR [esi+16]

; 1307 : 			if (pDphsettar->np == &PB1)

  05465	8d 95 b4 00 00
	00		 lea	 edx, DWORD PTR [ebp+180]
  0546b	3b c2		 cmp	 eax, edx
  0546d	66 8b 48 1a	 mov	 cx, WORD PTR [eax+26]
  05471	66 89 0e	 mov	 WORD PTR [esi], cx
  05474	75 0a		 jne	 SHORT $L73063

; 1308 : 			{
; 1309 : 				/* 
; 1310 : 				 * Changed 20ms -> 40ms                 28-Apr-86
; 1311 : 				 */
; 1312 : 				pDphsettar->durtran = NF40MS;	/* shorter transition   */
; 1313 : 				pDphsettar->bouval += 100;

  05476	66 83 06 64	 add	 WORD PTR [esi], 100	; 00000064H
  0547a	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
$L73063:

; 1314 : 			}
; 1315 : 			//debugbackward (" Transition to nasal",pDphsettar->np);
; 1316 : 		}
; 1317 : 		/* Nasals have constant bandwidths at target values */
; 1318 : 		if ((feacur & FNASAL) IS_PLUS)

  05480	f6 44 24 1c 80	 test	 BYTE PTR _feacur$[esp+12], -128 ; ffffff80H
  05485	0f 84 b3 02 00
	00		 je	 $endbsmo$73076

; 1319 : 		{
; 1320 : 			pDphsettar->durtran = 0;

  0548b	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0

; 1321 : 			//debugbackward (" Nasal has const. par val",pDphsettar->np);
; 1322 : 		}
; 1323 : 		//debugbackward (" Bandwidth result",pDphsettar->np);
; 1324 : 	}
; 1325 : 
; 1326 : 	/* Source amplitudes, including parallel formant amplitudes */
; 1327 : 	else if ((pDphsettar->par_type IS_PARALLEL_FORM_AMP)

  05491	e9 a8 02 00 00	 jmp	 $endbsmo$73076
$L73052:

; 1328 : 			 || (pDphsettar->par_type IS_AV_OR_AH))

  05496	3c 02		 cmp	 al, 2
  05498	74 34		 je	 SHORT $L73067
  0549a	84 c0		 test	 al, al
  0549c	74 30		 je	 SHORT $L73067

; 1519 : 				}
; 1520 : 			}
; 1521 : 			//debugbackward ("tilt",pDphsettar->np);
; 1522 : 		}
; 1523 : 	}
; 1524 : 
; 1525 : 	/* Nasal antiresonator frequency */
; 1526 : 	else if (pDphsettar->par_type IS_NASAL_ZERO_FREQ)

  0549e	3c 01		 cmp	 al, 1
  054a0	0f 85 98 02 00
	00		 jne	 $endbsmo$73076

; 1527 : 	{
; 1528 : 		pDphsettar->durtran = 0;
; 1529 : 		/* Nasalization cue: place zero between F1 and FP */
; 1530 : 		if (((feanex & FNASAL) IS_PLUS)
; 1531 : 			&& ((feacur & FNASAL) IS_MINUS))

  054a6	f6 c2 80	 test	 dl, -128		; ffffff80H
  054a9	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
  054af	0f 84 89 02 00
	00		 je	 $endbsmo$73076
  054b5	f6 c3 80	 test	 bl, -128		; ffffff80H
  054b8	0f 85 80 02 00
	00		 jne	 $endbsmo$73076

; 1532 : 		{
; 1533 : 			pDphsettar->bouval = NASAL_ZERO_BOUNDARY;

  054be	66 c7 06 72 01	 mov	 WORD PTR [esi], 370	; 00000172H

; 1534 : 			pDphsettar->durtran = NF20MS;

  054c3	66 c7 46 06 03
	00		 mov	 WORD PTR [esi+6], 3
  054c9	e9 70 02 00 00	 jmp	 $endbsmo$73076
$L73067:

; 1329 : 	{
; 1330 : 		/* See if onset, i.e. source intensity increasing */
; 1331 : 		temp = pDphsettar->np->tarnex - 10;

  054ce	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  054d1	66 8b 42 16	 mov	 ax, WORD PTR [edx+22]
  054d5	66 2d 0a 00	 sub	 ax, 10			; 0000000aH

; 1332 : 		if (pDphsettar->bouval < temp)

  054d9	66 39 06	 cmp	 WORD PTR [esi], ax
  054dc	7d 11		 jge	 SHORT $L73069

; 1333 : 		{
; 1334 : 			pDphsettar->bouval = temp;
; 1335 : 			/* Onset of an init fricative or /h/ is very gradual */
; 1336 : 			if (pDphsettar->phcur == GEN_SIL)

  054de	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  054e4	66 89 06	 mov	 WORD PTR [esi], ax
  054e7	75 06		 jne	 SHORT $L73069

; 1337 : 			{
; 1338 : 				pDphsettar->durtran = NF70MS;

  054e9	66 c7 46 06 0b
	00		 mov	 WORD PTR [esi+6], 11	; 0000000bH
$L73069:

; 1339 : 			}
; 1340 : 			//debugbackward (" Onset",pDphsettar->np);
; 1341 : 		}
; 1342 : 		/* Voicing is special:  onset is abrupt, except if a voiced fric */
; 1343 : 		if ((pDphsettar->np == &PAV) && (pDphsettar->bouval < pDphsettar->np->tarnex)
; 1344 : #if 0
; 1345 : 			&& feacur != (FVOICD | FSONOR | FCONSON))
; 1346 : 		{
; 1347 : 			/* 
; 1348 : 			 * All but BH, DH, GH, YH, V, Z
; 1349 : 			 */
; 1350 : #else
; 1351 : #ifdef SPP_V
; 1352 : 			&& pDphsettar->phcur != SPP_V
; 1353 : #endif
; 1354 : 			&& pDphsettar->phcur != SPP_YH   /* 7-May-86    */
; 1355 : 			&& pDphsettar->phcur != SPP_Z)

  054ef	8d 85 20 01 00
	00		 lea	 eax, DWORD PTR [ebp+288]
  054f5	3b d0		 cmp	 edx, eax
  054f7	75 6e		 jne	 SHORT $L75270
  054f9	66 8b 06	 mov	 ax, WORD PTR [esi]
  054fc	66 3b 42 16	 cmp	 ax, WORD PTR [edx+22]
  05500	7d 65		 jge	 SHORT $L75270
  05502	66 8b 4e 18	 mov	 cx, WORD PTR [esi+24]
  05506	66 81 f9 23 1b	 cmp	 cx, 6947		; 00001b23H
  0550b	74 5a		 je	 SHORT $L75270
  0550d	66 81 f9 15 1b	 cmp	 cx, 6933		; 00001b15H
  05512	74 53		 je	 SHORT $L75270
  05514	66 81 f9 20 1b	 cmp	 cx, 6944		; 00001b20H
  05519	74 4c		 je	 SHORT $L75270

; 1356 : 		{
; 1357 : 			/* 
; 1358 : 			 * All but Y, V, Z
; 1359 : 			 */
; 1360 : #endif
; 1361 : 			pDphsettar->durtran = 0;
; 1362 : 			//debugbackward (" Make next onset abrupt",pDphsettar->np);
; 1363 : 			/* Voicebar dies out in a voiced plosive */
; 1364 : 			if (((feacur & FPLOSV) IS_PLUS)
; 1365 : 				|| (pDphsettar->phcur == SPP_CH)
; 1366 : 				|| (pDphsettar->phcur == SPP_YH)
; 1367 : 				|| (pDphsettar->phcur == SPP_GH))

  0551b	8b 5c 24 1c	 mov	 ebx, DWORD PTR _feacur$[esp+12]
  0551f	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
  05525	8b c3		 mov	 eax, ebx
  05527	83 e0 40	 and	 eax, 64			; 00000040H
  0552a	66 85 c0	 test	 ax, ax
  0552d	75 13		 jne	 SHORT $L75286
  0552f	66 81 f9 1c 1b	 cmp	 cx, 6940		; 00001b1cH
  05534	74 07		 je	 SHORT $L73072
  05536	66 81 f9 14 1b	 cmp	 cx, 6932		; 00001b14H
  0553b	75 2e		 jne	 SHORT $L73073
$L73072:

; 1368 : 			{
; 1369 : 				if ((feacur & FPLOSV) IS_PLUS)

  0553d	66 85 c0	 test	 ax, ax
  05540	74 29		 je	 SHORT $L73073
$L75286:

; 1370 : 				{
; 1371 : 					if ((feacur & FVOICD) IS_PLUS)

  05542	f6 c3 02	 test	 bl, 2
  05545	74 16		 je	 SHORT $L73074

; 1372 : 					{
; 1373 : 						pDphsettar->bouval = pDphsettar->np->tarend - 3;

  05547	66 8b 4a 1a	 mov	 cx, WORD PTR [edx+26]

; 1374 : 						pDphsettar->durtran = NF45MS;

  0554b	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
  05551	66 83 e9 03	 sub	 cx, 3
  05555	66 89 0e	 mov	 WORD PTR [esi], cx

; 1375 : 						//debugbackward (" Voicebar dies out",pDphsettar->np);
; 1376 : 					}		   /* out eab dh etc is not a voice bar 
; 1377 : 							7/23/98 removed bh as well */
; 1378 : 					/* Do not allow prevoicing in a voiceless plosive */
; 1379 : 					else

  05558	e9 e1 01 00 00	 jmp	 $endbsmo$73076
$L73074:

; 1380 : 					{
; 1381 : 						pDphsettar->bouval = 0;

  0555d	66 c7 06 00 00	 mov	 WORD PTR [esi], 0

; 1382 : 					}
; 1383 : 					goto endbsmo;

  05562	e9 d7 01 00 00	 jmp	 $endbsmo$73076
$L75270:
  05567	8b 5c 24 1c	 mov	 ebx, DWORD PTR _feacur$[esp+12]
$L73073:

; 1384 : 				}
; 1385 : 			}
; 1386 : 		}
; 1387 : 		/* 
; 1388 : 		 * Spanish prevoices [s] and [th]               8-May-86
; 1389 : 		 * before voiced consonants
; 1390 : 		 * (The exact amount is dialectical and depends
; 1391 : 		 * on the pronunciation style.  We'll try 50%
; 1392 : 		 * for want of anything better.
; 1393 : 		 *
; 1394 : 		 * This is essentially the allophonic rule
; 1395 : 		 *      [s]->[z] / _ [+voice]
; 1396 : 		 */
; 1397 : 		if ((pDphsettar->np == &PAV)
; 1398 : 			&& (pDphsettar->phcur == SPP_S || pDphsettar->phcur == SPP_TH)
; 1399 : 			&& ((feanex & (FCONSON | FVOICD)) == (FCONSON | FVOICD)))

  0556b	8d 85 20 01 00
	00		 lea	 eax, DWORD PTR [ebp+288]
  05571	3b d0		 cmp	 edx, eax
  05573	75 2d		 jne	 SHORT $L73077
  05575	66 8b 46 18	 mov	 ax, WORD PTR [esi+24]
  05579	66 3d 0f 1b	 cmp	 ax, 6927		; 00001b0fH
  0557d	74 06		 je	 SHORT $L73078
  0557f	66 3d 11 1b	 cmp	 ax, 6929		; 00001b11H
  05583	75 1d		 jne	 SHORT $L73077
$L73078:
  05585	8b 44 24 20	 mov	 eax, DWORD PTR _feanex$[esp+12]
  05589	25 02 01 00 00	 and	 eax, 258		; 00000102H
  0558e	66 3d 02 01	 cmp	 ax, 258			; 00000102H
  05592	75 0e		 jne	 SHORT $L73077

; 1400 : 		{
; 1401 : 			pDphsettar->durtran = pDph_t->durfon >> 1;

  05594	66 8b 8d 04 15
	00 00		 mov	 cx, WORD PTR [ebp+5380]
  0559b	66 d1 f9	 sar	 cx, 1
  0559e	66 89 4e 06	 mov	 WORD PTR [esi+6], cx
$L73077:

; 1402 : 			//debugbackward (" [s, th] prevoicing rule",pDphsettar->np);
; 1403 : 		}
; 1404 : 		if (pDphsettar->phcur == SPP_TH && pDph_t->th_to_s == TRUE)

  055a2	66 81 7e 18 11
	1b		 cmp	 WORD PTR [esi+24], 6929	; 00001b11H
  055a8	75 10		 jne	 SHORT $L73079
  055aa	66 83 bd fa 2b
	00 00 01	 cmp	 WORD PTR [ebp+11258], 1
  055b2	75 06		 jne	 SHORT $L73079

; 1405 : 		{
; 1406 : 			pDphsettar->phcur = SPP_S;

  055b4	66 c7 46 18 0f
	1b		 mov	 WORD PTR [esi+24], 6927	; 00001b0fH
$L73079:

; 1407 : 		}
; 1408 : 		/* If next nasal, and current phone is voiced, set AV const */
; 1409 : 		if (((feanex & FNASAL) IS_PLUS)
; 1410 : 			&& ((feacur & FVOICD) IS_PLUS))

  055ba	8a 4c 24 20	 mov	 cl, BYTE PTR _feanex$[esp+12]
  055be	f6 c1 80	 test	 cl, -128		; ffffff80H
  055c1	74 0b		 je	 SHORT $L73080
  055c3	f6 c3 02	 test	 bl, 2
  055c6	74 06		 je	 SHORT $L73080

; 1411 : 		{
; 1412 : 			pDphsettar->durtran = 0;

  055c8	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L73080:

; 1413 : 			//debugbackward (" AV const in voiced to nasal",pDphsettar->np);
; 1414 : 		}
; 1415 : 		/* If current phone nasal, and next phone is voiced, AV constant */
; 1416 : 		if (((feacur & FNASAL) IS_PLUS)
; 1417 : 			&& ((feanex & FVOICD) IS_PLUS))

  055ce	8b c3		 mov	 eax, ebx
  055d0	25 80 00 00 00	 and	 eax, 128		; 00000080H
  055d5	66 85 c0	 test	 ax, ax
  055d8	89 44 24 18	 mov	 DWORD PTR 12+[esp+12], eax
  055dc	74 0b		 je	 SHORT $L73081
  055de	f6 c1 02	 test	 cl, 2
  055e1	74 06		 je	 SHORT $L73081

; 1418 : 		{
; 1419 : 			pDphsettar->durtran = 0;

  055e3	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L73081:

; 1420 : 			//debugbackward (" Make murmur const AV",pDphsettar->np);
; 1421 : 		}
; 1422 : 		/* See if offset, i.e. source intensity decreasing */
; 1423 : 		temp = pDphsettar->np->tarend - 10;

  055e9	66 8b 7a 1a	 mov	 di, WORD PTR [edx+26]
  055ed	66 83 ef 0a	 sub	 di, 10			; 0000000aH

; 1424 : 		/* Plosive burst does not get attenuated during offset */
; 1425 : 		if ((feacur & FPLOSV) IS_PLUS)

  055f1	f6 c3 40	 test	 bl, 64			; 00000040H
  055f4	74 48		 je	 SHORT $L73084

; 1426 : 		{
; 1427 : 			/* 
; 1428 : 			 * Change from "always NF15MS"              22-Jul-86
; 1429 : 			 * The value is changed by a special rule.
; 1430 : 			 */
; 1431 : 			if ((feacur & FBURST) IS_MINUS)

  055f6	81 e3 00 08 00
	00		 and	 ebx, 2048		; 00000800H
  055fc	66 85 db	 test	 bx, bx
  055ff	75 26		 jne	 SHORT $L73083

; 1432 : 				pDphsettar->durtran = mstofr( burdr(pDphsettar->phcur) );	/* Use inherent */

  05601	0f bf 46 18	 movsx	 eax, WORD PTR [esi+24]
  05605	8b d0		 mov	 edx, eax
  05607	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  0560c	c1 fa 08	 sar	 edx, 8
  0560f	8b 0c 95 00 00
	00 00		 mov	 ecx, DWORD PTR _all_burdr[edx*4]
  05616	0f bf 14 41	 movsx	 edx, WORD PTR [ecx+eax*2]
  0561a	52		 push	 edx
  0561b	e8 00 00 00 00	 call	 _mstofr
  05620	83 c4 04	 add	 esp, 4
  05623	66 89 46 06	 mov	 WORD PTR [esi+6], ax
$L73083:

; 1433 : 			if (pDphsettar->phcur != SPP_CH && pDphsettar->phcur != SPP_YH)

  05627	66 8b 46 18	 mov	 ax, WORD PTR [esi+24]
  0562b	66 3d 1c 1b	 cmp	 ax, 6940		; 00001b1cH
  0562f	74 0d		 je	 SHORT $L73084
  05631	66 3d 15 1b	 cmp	 ax, 6933		; 00001b15H
  05635	74 07		 je	 SHORT $L73084

; 1434 : 			{
; 1435 : 				temp = pDphsettar->np->tarend;

  05637	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  0563a	66 8b 78 1a	 mov	 di, WORD PTR [eax+26]
$L73084:

; 1436 : 			}
; 1437 : 			//debugbackward ("Plosive burst duration",pDphsettar->np);
; 1438 : 		}
; 1439 : 		if (pDphsettar->bouval < temp)

  0563e	66 39 3e	 cmp	 WORD PTR [esi], di
  05641	7d 45		 jge	 SHORT $L73088

; 1440 : 		{
; 1441 : 			pDphsettar->bouval = temp - 3;

  05643	8d 4f fd	 lea	 ecx, DWORD PTR [edi-3]

; 1442 : #if 0
; 1443 : 			/* Out (fix kiki problem) */
; 1444 : 			pDphsettar->durtran = NF20MS;  /* Guess */
; 1445 : #endif
; 1446 : 			if (pDphsettar->np == &PAV)

  05646	8d 85 20 01 00
	00		 lea	 eax, DWORD PTR [ebp+288]
  0564c	66 89 0e	 mov	 WORD PTR [esi], cx
  0564f	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  05652	3b c8		 cmp	 ecx, eax
  05654	75 1a		 jne	 SHORT $L73087

; 1447 : 			{
; 1448 : 				pDphsettar->bouval = temp + 4;
; 1449 : 				/* Voicing amp falls gradually at end of phrase */
; 1450 : 				if (pDphsettar->phonex == GEN_SIL)

  05656	66 81 7e 0a 00
	1e		 cmp	 WORD PTR [esi+10], 7680	; 00001e00H
  0565c	8d 47 04	 lea	 eax, DWORD PTR [edi+4]
  0565f	66 89 06	 mov	 WORD PTR [esi], ax
  05662	75 0c		 jne	 SHORT $L73087

; 1451 : 				{
; 1452 : 					pDphsettar->bouval = pDphsettar->bouval - 6;

  05664	83 c0 fa	 add	 eax, -6			; fffffffaH

; 1453 : 					pDphsettar->durtran = NF40MS;	/* Guess                */

  05667	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
  0566d	66 89 06	 mov	 WORD PTR [esi], ax
$L73087:

; 1454 : 				}
; 1455 : 			}
; 1456 : 			if (pDphsettar->np == &PAP)

  05670	8d 95 44 01 00
	00		 lea	 edx, DWORD PTR [ebp+324]
  05676	3b ca		 cmp	 ecx, edx
  05678	75 0e		 jne	 SHORT $L73088

; 1457 : 			{
; 1458 : 				pDphsettar->bouval = PAP.tarend - 36;

  0567a	66 8b 85 5e 01
	00 00		 mov	 ax, WORD PTR [ebp+350]
  05681	66 2d 24 00	 sub	 ax, 36			; 00000024H
  05685	66 89 06	 mov	 WORD PTR [esi], ax
$L73088:

; 1459 : 			}
; 1460 : 			//debugbackward (" Offset to noise",pDphsettar->np);
; 1461 : 		}
; 1462 : 		/* No smoothing of source amps if next segment has burst */
; 1463 : 		if (((feanex & FPLOSV) IS_PLUS)
; 1464 : 			|| (pDphsettar->phonex == SPP_YH)
; 1465 : 			|| (pDphsettar->phonex == SPP_CH))

  05688	f6 44 24 20 40	 test	 BYTE PTR _feanex$[esp+12], 64 ; 00000040H
  0568d	75 10		 jne	 SHORT $L73090
  0568f	66 8b 46 0a	 mov	 ax, WORD PTR [esi+10]
  05693	66 3d 15 1b	 cmp	 ax, 6933		; 00001b15H
  05697	74 06		 je	 SHORT $L73090
  05699	66 3d 1c 1b	 cmp	 ax, 6940		; 00001b1cH
  0569d	75 06		 jne	 SHORT $L73089
$L73090:

; 1466 : 		{
; 1467 : 			pDphsettar->durtran = 0;

  0569f	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L73089:

; 1468 : 			//debugbackward (" Stop closure next",pDphsettar->np);
; 1469 : 		}
; 1470 : 
; 1471 : 		/* Onset of a vowel from voiceless open vocal tract is breathy */
; 1472 : 		if (pDphsettar->np == &PAP)

  056a5	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  056a8	8d 8d 44 01 00
	00		 lea	 ecx, DWORD PTR [ebp+324]
  056ae	3b c1		 cmp	 eax, ecx
  056b0	bb 08 00 00 00	 mov	 ebx, 8
  056b5	75 3c		 jne	 SHORT $L73095

; 1473 : 		{
; 1474 : 			if ((pDphsettar->phcur == GEN_SIL)
; 1475 : 				|| feacur == (FOBST | FCONSON))

  056b7	bf 00 1e 00 00	 mov	 edi, 7680		; 00001e00H
  056bc	66 39 7e 18	 cmp	 WORD PTR [esi+24], di
  056c0	74 09		 je	 SHORT $L73093
  056c2	66 81 7c 24 1c
	20 01		 cmp	 WORD PTR _feacur$[esp+12], 288 ; 00000120H
  056c9	75 12		 jne	 SHORT $L73094
$L73093:

; 1476 : 			{
; 1477 : 				/* 
; 1478 : 				 * (Select F, TH, S, SH)
; 1479 : 				 * Select vowels only, so [l] and [ll] sound ok.
; 1480 : 				 */
; 1481 : 				if (((feanex & FSYLL) IS_PLUS))

  056cb	f6 44 24 20 01	 test	 BYTE PTR _feanex$[esp+12], 1
  056d0	74 0b		 je	 SHORT $L73094

; 1482 : 				{
; 1483 : 					/* 
; 1484 : 					 * 56->40                           22-Jul-86
; 1485 : 					 */
; 1486 : 					pDphsettar->bouval = 40;

  056d2	66 c7 06 28 00	 mov	 WORD PTR [esi], 40	; 00000028H

; 1487 : 					pDphsettar->durtran = NF40MS;

  056d7	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
$L73094:

; 1488 : 				}
; 1489 : 				//debugbackward (" Onset of vowel from vless voc tract",pDphsettar->np);
; 1490 : 			}
; 1491 : 			/* Offset of a vowel into silence is breathy */
; 1492 : 			if (((feacur & FSYLL) IS_PLUS)
; 1493 : 				&& (pDphsettar->phonex == GEN_SIL))

  056dd	f6 44 24 1c 01	 test	 BYTE PTR _feacur$[esp+12], 1
  056e2	74 0f		 je	 SHORT $L73095
  056e4	66 39 7e 0a	 cmp	 WORD PTR [esi+10], di
  056e8	75 09		 jne	 SHORT $L73095

; 1494 : 			{
; 1495 : 				/* 
; 1496 : 				 * Less effect for Spanish              22-Jul-86
; 1497 : 				 */
; 1498 : 				pDphsettar->bouval = 40;

  056ea	66 c7 06 28 00	 mov	 WORD PTR [esi], 40	; 00000028H

; 1499 : 				pDphsettar->durtran = NF50MS;

  056ef	66 89 5e 06	 mov	 WORD PTR [esi+6], bx
$L73095:

; 1500 : 				//debugbackward (" Breathy offset of vowel to silence",pDphsettar->np);
; 1501 : 			}
; 1502 : 		}
; 1503 : 
; 1504 : 		/* Tilt parameter jumps to target values except before voiceless */
; 1505 : 		if (pDphsettar->np == &PTILT)

  056f3	8d 95 40 02 00
	00		 lea	 edx, DWORD PTR [ebp+576]
  056f9	3b c2		 cmp	 eax, edx
  056fb	75 41		 jne	 SHORT $endbsmo$73076

; 1506 : 		{
; 1507 : 			pDphsettar->durtran = 10;	   /* eab changed from 0 don't believe in 0 time */
; 1508 : 			if (((feacur & FVOICD) IS_PLUS)
; 1509 : 				&& ((feacur & FNASAL) IS_MINUS)
; 1510 : 				&& ((feanex & FVOICD) IS_MINUS))

  056fd	8a 4c 24 1c	 mov	 cl, BYTE PTR _feacur$[esp+12]
  05701	66 c7 46 06 0a
	00		 mov	 WORD PTR [esi+6], 10	; 0000000aH
  05707	f6 c1 02	 test	 cl, 2
  0570a	74 32		 je	 SHORT $endbsmo$73076
  0570c	66 83 7c 24 18
	00		 cmp	 WORD PTR 12+[esp+12], 0
  05712	75 2a		 jne	 SHORT $endbsmo$73076
  05714	f6 44 24 20 02	 test	 BYTE PTR _feanex$[esp+12], 2
  05719	75 23		 jne	 SHORT $endbsmo$73076

; 1511 : 			{
; 1512 : 				pDphsettar->durtran = NF50MS;

  0571b	66 89 5e 06	 mov	 WORD PTR [esi+6], bx

; 1513 : 				pDphsettar->bouval = pDphsettar->np->tarnex >> 1;

  0571f	66 8b 48 16	 mov	 cx, WORD PTR [eax+22]
  05723	66 d1 f9	 sar	 cx, 1

; 1514 : 				/* Breathy offset to a vowel */
; 1515 : 				if (pDphsettar->phonex == GEN_SIL)

  05726	66 81 7e 0a 00
	1e		 cmp	 WORD PTR [esi+10], 7680	; 00001e00H
  0572c	66 89 0e	 mov	 WORD PTR [esi], cx
  0572f	75 0d		 jne	 SHORT $endbsmo$73076

; 1516 : 				{
; 1517 : 					pDphsettar->durtran = NF130MS;

  05731	66 c7 46 06 14
	00		 mov	 WORD PTR [esi+6], 20	; 00000014H

; 1518 : 					pDphsettar->bouval = pDphsettar->np->tarnex;

  05737	66 8b 50 16	 mov	 dx, WORD PTR [eax+22]
  0573b	66 89 16	 mov	 WORD PTR [esi], dx
$endbsmo$73076:

; 1535 : 		}
; 1536 : 		//debugbackward ("nasals",pDphsettar->np);
; 1537 : 	}
; 1538 : 
; 1539 : 	/* Truncate back transition so as not to exceed 20 frames */
; 1540 :   endbsmo:
; 1541 : 	if (pDphsettar->durtran > NF130MS)

  0573e	b8 14 00 00 00	 mov	 eax, 20			; 00000014H
  05743	66 39 46 06	 cmp	 WORD PTR [esi+6], ax
  05747	7e 04		 jle	 SHORT $L73102

; 1542 : 		pDphsettar->durtran = NF130MS;

  05749	66 89 46 06	 mov	 WORD PTR [esi+6], ax
$L73102:

; 1543 : 	/* Truncate backward tran so as not to exceed dur of phone */
; 1544 : 	if (pDphsettar->durtran > pDph_t->durfon)

  0574d	66 8b 85 04 15
	00 00		 mov	 ax, WORD PTR [ebp+5380]
  05754	66 39 46 06	 cmp	 WORD PTR [esi+6], ax
  05758	7e 04		 jle	 SHORT $L73103

; 1545 : 		pDphsettar->durtran = pDph_t->durfon;

  0575a	66 89 46 06	 mov	 WORD PTR [esi+6], ax
$L73103:

; 1546 : 	pDphsettar->np->tbacktr = pDph_t->durfon - pDphsettar->durtran;

  0575e	66 8b 85 04 15
	00 00		 mov	 ax, WORD PTR [ebp+5380]
  05765	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  05768	66 2b 46 06	 sub	 ax, WORD PTR [esi+6]
  0576c	66 89 41 10	 mov	 WORD PTR [ecx+16], ax

; 1547 : 	/* No parameter can take on negative values */
; 1548 : 	if (pDphsettar->bouval < 0)

  05770	66 83 3e 00	 cmp	 WORD PTR [esi], 0
  05774	7d 05		 jge	 SHORT $L73104

; 1549 : 		pDphsettar->bouval = 0;

  05776	66 c7 06 00 00	 mov	 WORD PTR [esi], 0
$L73104:
  0577b	5f		 pop	 edi
  0577c	5e		 pop	 esi
  0577d	5d		 pop	 ebp
  0577e	5b		 pop	 ebx

; 1550 : }

  0577f	c3		 ret	 0
_sp_back_smooth_rules ENDP
_phTTS$ = 8
_fealas$ = 12
_feacur$ = 16
_feanex$ = 20
_struclm2$ = 24
_struccur$ = 28
_sp_special_rules PROC NEAR

; 1771 : 	short                   bdur, vot; /* MVP made as a local variable */
; 1772 : 	short                   closure_dur;	/* MVP made as a local variable */
; 1773 : 	
; 1774 : 
; 1775 : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  05780	8b 44 24 04	 mov	 eax, DWORD PTR _phTTS$[esp-4]
  05784	53		 push	 ebx
  05785	55		 push	 ebp
  05786	56		 push	 esi
  05787	57		 push	 edi
  05788	8b 78 18	 mov	 edi, DWORD PTR [eax+24]

; 1776 : 	PKSD_T                  pKsd_t = phTTS->pKernelShareData;
; 1777 : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;
; 1778 : 
; 1779 : 	/* SPECIAL RULE 1: Burst duration for plosives and affricates             */
; 1780 : 
; 1781 : 	bdur = burdr(pDphsettar->phcur);   /* Look up inher. burst dur in msec in table */
; 1782 : 
; 1783 : 	if ((feacur & FBURST) IS_PLUS)

  0578b	8b 5c 24 1c	 mov	 ebx, DWORD PTR _feacur$[esp+12]
  0578f	8b b7 10 2c 00
	00		 mov	 esi, DWORD PTR [edi+11280]
  05795	0f bf 46 18	 movsx	 eax, WORD PTR [esi+24]
  05799	8b c8		 mov	 ecx, eax
  0579b	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  057a0	c1 f9 08	 sar	 ecx, 8
  057a3	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_burdr[ecx*4]
  057aa	8b cb		 mov	 ecx, ebx
  057ac	81 e1 00 08 00
	00		 and	 ecx, 2048		; 00000800H
  057b2	66 8b 04 42	 mov	 ax, WORD PTR [edx+eax*2]
  057b6	89 4c 24 14	 mov	 DWORD PTR 8+[esp+12], ecx
  057ba	66 85 c9	 test	 cx, cx
  057bd	0f 84 b8 00 00
	00		 je	 $L73140

; 1784 : 	{
; 1785 : 		bdur = mstofr (bdur);		   /* Convert to frames         */

  057c3	0f bf c0	 movsx	 eax, ax
  057c6	50		 push	 eax
  057c7	e8 00 00 00 00	 call	 _mstofr

; 1786 : 
; 1787 : /* Dennis had a rule that said in homorganic (meaning
; 1788 : in this case the same place of articulation) nasal plosives
; 1789 : and plosive plosive one should not release the burst of the 
; 1790 : initial plosive. This is incorrect place because a nasal
; 1791 : doesn't have a place of articulation so it can never match 
; 1792 : plus the homorganic I don't believe really means exact same 
; 1793 : place of articulation. A plosive followed by a nasal will 
; 1794 : not be realeased-period. Secondly, a plosive that has 
; 1795 : similiar place of artculation should follow the rule.
; 1796 : i=(i.e an aveloar or a dental are equivalent)
; 1797 : 	So, I added new masks to group places into "homorganic
; 1798 : groupings"
; 1799 : 
; 1800 : */
; 1801 : 
; 1802 : 		if ((feanex & (FNASAL | FPLOSV)) IS_PLUS)

  057cc	8a 4c 24 24	 mov	 cl, BYTE PTR _feanex$[esp+16]
  057d0	83 c4 04	 add	 esp, 4
  057d3	f6 c1 c0	 test	 cl, -64			; ffffffc0H
  057d6	74 40		 je	 SHORT $L73133

; 1803 : 		{
; 1804 : 			//EAB Don't release a plosive followed by a nasal period
; 1805 : 			// The former comment is not quite correct becaue the place of articulation
; 1806 : 			//between a nasal and a plosive can't be the same becuase the nasal's
; 1807 : 			// doesn't have a place of articulation 2/26/99
; 1808 : 			if((feacur & FPLOSV ) IS_PLUS)

  057d8	f6 c3 40	 test	 bl, 64			; 00000040H
  057db	74 02		 je	 SHORT $L73130

; 1809 : 				bdur=0;

  057dd	33 c0		 xor	 eax, eax
$L73130:

; 1810 : 			if ((sp_place[pDphsettar->phcur & PVALUE] | MASKFRONT )== (sp_place[pDphsettar->phonex] | MASKFRONT ))

  057df	8a 4e 18	 mov	 cl, BYTE PTR [esi+24]
  057e2	0f bf 56 0a	 movsx	 edx, WORD PTR [esi+10]
  057e6	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  057ec	66 8b 14 55 00
	00 00 00	 mov	 dx, WORD PTR _sp_place[edx*2]
  057f4	66 8b 0c 4d 00
	00 00 00	 mov	 cx, WORD PTR _sp_place[ecx*2]
  057fc	8b da		 mov	 ebx, edx
  057fe	8b e9		 mov	 ebp, ecx
  05800	83 cb 0f	 or	 ebx, 15			; 0000000fH
  05803	83 cd 0f	 or	 ebp, 15			; 0000000fH
  05806	66 3b eb	 cmp	 bp, bx
  05809	75 04		 jne	 SHORT $L73131

; 1811 : 			{		/* yes they're both done up front */
; 1812 : 				bdur = 0;

  0580b	33 c0		 xor	 eax, eax

; 1813 : 			}
; 1814 : 			else if (( sp_place[pDphsettar->phcur & PVALUE] )== ( sp_place[pDphsettar->phonex] ))

  0580d	eb 28		 jmp	 SHORT $L73137
$L73131:
  0580f	66 3b ca	 cmp	 cx, dx
  05812	75 04		 jne	 SHORT $L73133

; 1815 : 			{		/* yes they're both done up front */
; 1816 : 				bdur = 0;

  05814	33 c0		 xor	 eax, eax

; 1817 : 			}
; 1818 : 		}
; 1819 : 		
; 1820 : 
; 1821 : 			
; 1822 : 
; 1823 : 
; 1824 : 		if (bdur > 1)

  05816	eb 1f		 jmp	 SHORT $L73137
$L73133:
  05818	66 3d 01 00	 cmp	 ax, 1
  0581c	7e 19		 jle	 SHORT $L73137

; 1825 : 		{
; 1826 : 			if (((feacur & FPLOSV) IS_PLUS)
; 1827 : 				&& ((feanex & FOBST) IS_PLUS))

  0581e	f6 44 24 1c 40	 test	 BYTE PTR _feacur$[esp+12], 64 ; 00000040H
  05823	74 07		 je	 SHORT $L73135
  05825	f6 44 24 20 20	 test	 BYTE PTR _feanex$[esp+12], 32 ; 00000020H

; 1828 : 			{
; 1829 : 				bdur--;				   /* Shorten burst before obst by 6 ms */
; 1830 : 										
; 1831 : 			}
; 1832 : 			else if (pDph_t->durfon < NF50MS)

  0582a	75 0a		 jne	 SHORT $L75305
$L73135:
  0582c	66 83 bf 04 15
	00 00 08	 cmp	 WORD PTR [edi+5380], 8
  05834	7d 01		 jge	 SHORT $L73137
$L75305:

; 1833 : 			{
; 1834 : 				bdur--;				   /* Shorten burst if closure short */

  05836	48		 dec	 eax
$L73137:

; 1835 : 			}
; 1836 : 		}
; 1837 : 
; 1838 : 		closure_dur = pDph_t->durfon - bdur;

  05837	66 8b 8f 04 15
	00 00		 mov	 cx, WORD PTR [edi+5380]

; 1839 : 
; 1840 : 		for (pDphsettar->np = &PA2; pDphsettar->np <= &PAB; pDphsettar->np++)

  0583e	8d 97 68 01 00
	00		 lea	 edx, DWORD PTR [edi+360]
  05844	66 2b c8	 sub	 cx, ax
  05847	8d 87 1c 02 00
	00		 lea	 eax, DWORD PTR [edi+540]
  0584d	3b d0		 cmp	 edx, eax
  0584f	89 56 10	 mov	 DWORD PTR [esi+16], edx
  05852	77 23		 ja	 SHORT $L75303
  05854	ba 24 00 00 00	 mov	 edx, 36			; 00000024H
$L73138:

; 1841 : 		{							   /* All fric gains to */
; 1842 : 			pDphsettar->np->tspesh = closure_dur;	/* zero during closur */

  05859	8b 5e 10	 mov	 ebx, DWORD PTR [esi+16]
  0585c	66 89 4b 12	 mov	 WORD PTR [ebx+18], cx

; 1843 : 			pDphsettar->np->pspesh = 0;

  05860	8b 5e 10	 mov	 ebx, DWORD PTR [esi+16]
  05863	66 c7 43 14 00
	00		 mov	 WORD PTR [ebx+20], 0
  05869	8b 6e 10	 mov	 ebp, DWORD PTR [esi+16]
  0586c	03 ea		 add	 ebp, edx
  0586e	8b dd		 mov	 ebx, ebp
  05870	89 6e 10	 mov	 DWORD PTR [esi+16], ebp
  05873	3b d8		 cmp	 ebx, eax
  05875	76 e2		 jbe	 SHORT $L73138
$L75303:

; 1839 : 
; 1840 : 		for (pDphsettar->np = &PA2; pDphsettar->np <= &PAB; pDphsettar->np++)

  05877	8b 5c 24 1c	 mov	 ebx, DWORD PTR _feacur$[esp+12]
$L73140:

; 1844 : 		}
; 1845 : 	}
; 1846 : 	/* SPECIAL RULE 2: Voice onset time for aspirated plosives */
; 1847 : 
; 1848 : 	vot = 0;
; 1849 : 	if ((((fealas & FPLOSV) IS_PLUS)
; 1850 : 		 && ((fealas & FVOICD) IS_MINUS)
; 1851 : 		 && ((feacur & FSONOR) IS_PLUS ))) 

  0587b	8a 44 24 18	 mov	 al, BYTE PTR _fealas$[esp+12]
  0587f	a8 40		 test	 al, 64			; 00000040H
  05881	0f 84 3e 01 00
	00		 je	 $L73141
  05887	a8 02		 test	 al, 2
  05889	0f 85 36 01 00
	00		 jne	 $L73141
  0588f	f6 c3 10	 test	 bl, 16			; 00000010H
  05892	0f 84 2d 01 00
	00		 je	 $L73141

; 1852 : 	{
; 1853 : 		PAP.pspesh = 22;	/* EAB 10/23/98 FOr Latin Spanish very low ideally 0 for ptk

  05898	66 c7 87 58 01
	00 00 16 00	 mov	 WORD PTR [edi+344], 22	; 00000016H

; 1854 : 		 //but we'll add that level later */
; 1855 : 		if (begtyp(pDphsettar->phonex) != 1)

  058a1	0f bf 46 0a	 movsx	 eax, WORD PTR [esi+10]
  058a5	8b c8		 mov	 ecx, eax
  058a7	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  058ac	c1 f9 08	 sar	 ecx, 8
  058af	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_begtyp[ecx*4]
  058b6	66 83 3c 42 01	 cmp	 WORD PTR [edx+eax*2], 1
  058bb	74 09		 je	 SHORT $L73142

; 1856 : 		{
; 1857 : 			PAP.pspesh = 20;		   /* Stronger asp before +back */

  058bd	66 c7 87 58 01
	00 00 14 00	 mov	 WORD PTR [edi+344], 20	; 00000014H
$L73142:

; 1858 : 		}
; 1859 : 		PAV.pspesh = 0;				   /* Amplitude of voicing during aspir */
; 1860 : 
; 1861 : 
; 1862 : 		vot = NF40MS;				   /* Asp dur for /p,t,k/ before stressed sonor */
; 1863 : 		if ((struccur & FSTRESS_1) IS_MINUS)

  058c6	8b 5c 24 28	 mov	 ebx, DWORD PTR _struccur$[esp+12]
  058ca	66 c7 87 34 01
	00 00 00 00	 mov	 WORD PTR [edi+308], 0
  058d3	8b eb		 mov	 ebp, ebx
  058d5	be 06 00 00 00	 mov	 esi, 6
  058da	83 e5 01	 and	 ebp, 1
  058dd	66 85 ed	 test	 bp, bp
  058e0	75 0d		 jne	 SHORT $L73143

; 1864 : 		{
; 1865 : 			vot = NF25MS;			   /* Vot shorter if vowel not stressed */
; 1866 : 			PAP.pspesh -= 3;

  058e2	66 83 87 58 01
	00 00 fd	 add	 WORD PTR [edi+344], -3	; fffffffdH
  058ea	be 04 00 00 00	 mov	 esi, 4
$L73143:

; 1867 : 		}
; 1868 : 		if (((feacur & FSONCON) IS_PLUS) )

  058ef	8b 44 24 1c	 mov	 eax, DWORD PTR _feacur$[esp+12]
  058f3	25 00 02 00 00	 and	 eax, 512		; 00000200H
  058f8	66 85 c0	 test	 ax, ax
  058fb	74 08		 je	 SHORT $L73144

; 1869 : 		{
; 1870 : 			PAP.pspesh += 3;		   /* Aspiration stronger in sonor cons */

  058fd	66 83 87 58 01
	00 00 03	 add	 WORD PTR [edi+344], 3
$L73144:

; 1871 : 		}
; 1872 : 
; 1873 : 		/* eab 2/6/976 Found code that was causing after Murhty port. Vlaue of pholm2
; 1874 : 		was not being retained- substituted global variables that already exsist
; 1875 : 		after release the old and I think vestigal variables need to be removed
; 1876 : 		this problem affect all languages but in fact the code didn't exist in German
; 1877 : 		at all but was needed don't know is struclm2 is working either*/
; 1878 : 
; 1879 : 		if ( phone_feature( pDph_t,pDph_t->allophons[pDph_t->nphone -2]) == (FOBST+FCONSON ))          

  05905	0f bf 8f d0 23
	00 00		 movsx	 ecx, WORD PTR [edi+9168]
  0590c	0f bf 94 4f e8
	03 00 00	 movsx	 edx, WORD PTR [edi+ecx*2+1000]
  05914	52		 push	 edx
  05915	57		 push	 edi
  05916	e8 00 00 00 00	 call	 _phone_feature
  0591b	83 c4 08	 add	 esp, 8
  0591e	66 3d 20 01	 cmp	 ax, 288			; 00000120H
  05922	75 15		 jne	 SHORT $L73145

; 1880 : 		{
; 1881 : 			if ((struclm2 & FBOUNDARY) IS_MINUS )

  05924	8b 44 24 24	 mov	 eax, DWORD PTR _struclm2$[esp+12]
  05928	25 e0 01 00 00	 and	 eax, 480		; 000001e0H
  0592d	66 85 c0	 test	 ax, ax
  05930	75 11		 jne	 SHORT $L73148

; 1882 : 			{
; 1883 : 				vot = NF15MS;	   

  05932	be 02 00 00 00	 mov	 esi, 2

; 1884 : 			}
; 1885 : 		}
; 1886 : 		else if (((feacur & FSYLL) IS_MINUS))

  05937	eb 0a		 jmp	 SHORT $L73148
$L73145:
  05939	f6 44 24 1c 01	 test	 BYTE PTR _feacur$[esp+12], 1
  0593e	75 03		 jne	 SHORT $L73148

; 1887 : 		{
; 1888 : 			vot += NF20MS;			   /* Vot longer in a sonorant consonant */

  05940	83 c6 03	 add	 esi, 3
$L73148:

; 1889 : 		}
; 1890 : 		if (vot >= pDph_t->durfon)

  05943	66 8b 87 04 15
	00 00		 mov	 ax, WORD PTR [edi+5380]
  0594a	66 3b f0	 cmp	 si, ax
  0594d	7c 03		 jl	 SHORT $L73149

; 1891 : 		{
; 1892 : 			vot = pDph_t->durfon - 1;

  0594f	8d 70 ff	 lea	 esi, DWORD PTR [eax-1]
$L73149:

; 1893 : 			
; 1894 : 		}
; 1895 : 		/* Vot cannot exceed 1/2 duration of a stressed vowel */
; 1896 : 		if ((vot > (pDph_t->durfon >> 1))
; 1897 : 			&& ((feacur & FSYLL) IS_PLUS)
; 1898 : 			&& ((struccur & FSTRESS_1) IS_PLUS))

  05952	66 8b c8	 mov	 cx, ax
  05955	66 d1 f9	 sar	 cx, 1
  05958	66 3b f1	 cmp	 si, cx
  0595b	7e 0e		 jle	 SHORT $L73150
  0595d	f6 44 24 1c 01	 test	 BYTE PTR _feacur$[esp+12], 1
  05962	74 07		 je	 SHORT $L73150
  05964	66 85 ed	 test	 bp, bp
  05967	74 02		 je	 SHORT $L73150

; 1899 : 		{
; 1900 : 			vot = pDph_t->durfon >> 1;

  05969	8b f1		 mov	 esi, ecx
$L73150:

; 1901 : 		}
; 1902 : 		/* A dummy vowel is used to release a voiceless plosive into silence */
; 1903 : 		if ((struccur & FDUMMY_VOWEL) IS_PLUS)

  0596b	81 e3 00 08 00
	00		 and	 ebx, 2048		; 00000800H
  05971	66 85 db	 test	 bx, bx
  05974	74 0a		 je	 SHORT $L73151

; 1904 : 		{
; 1905 : 			vot = pDph_t->durfon;
; 1906 : 			PAP.pspesh -= 3;

  05976	66 83 87 58 01
	00 00 fd	 add	 WORD PTR [edi+344], -3	; fffffffdH
  0597e	8b f0		 mov	 esi, eax
$L73151:

; 1907 : 		}
; 1908 : 		/* eab in fast mode we simply when to model a much reduced faster
; 1909 : 		release--no time to build up large pressures*/
; 1910 : 
; 1911 : #ifdef FASTTYPING_MODE
; 1912 : 		if(phTTS->bInTypingMode == TRUE || pKsd_t->sprate >300)
; 1913 : 		{
; 1914 : 			
; 1915 : 			vot=vot>>2;
; 1916 : 			if(vot == 0)
; 1917 : 				vot=1;
; 1918 : 		
; 1919 : 
; 1920 : 		PAV.pspesh += 20;
; 1921 : 		PAP.pspesh -=5;
; 1922 : 		}
; 1923 : #endif
; 1924 : 		PAV.tspesh = vot;
; 1925 : 		PAP.tspesh = vot;
; 1926 : 
; 1927 : 		/* Widen 1st and 2nd formant bws when glottis open for aspir */
; 1928 : 		PB1.tspesh = vot;
; 1929 : 		PB2.tspesh = vot;
; 1930 : 		PB1.pspesh = PB1.tarcur + 250;

  05980	66 8b 8f b4 00
	00 00		 mov	 cx, WORD PTR [edi+180]

; 1931 : 		PB2.pspesh = PB2.tarcur + 70;

  05987	66 8b 97 d8 00
	00 00		 mov	 dx, WORD PTR [edi+216]
  0598e	8a 44 24 18	 mov	 al, BYTE PTR _fealas$[esp+12]
  05992	66 81 c1 fa 00	 add	 cx, 250			; 000000faH
  05997	66 83 c2 46	 add	 dx, 70			; 00000046H
  0599b	66 89 b7 32 01
	00 00		 mov	 WORD PTR [edi+306], si
  059a2	66 89 b7 56 01
	00 00		 mov	 WORD PTR [edi+342], si
  059a9	66 89 b7 c6 00
	00 00		 mov	 WORD PTR [edi+198], si
  059b0	66 89 b7 ea 00
	00 00		 mov	 WORD PTR [edi+234], si
  059b7	66 89 8f c8 00
	00 00		 mov	 WORD PTR [edi+200], cx
  059be	66 89 97 ec 00
	00 00		 mov	 WORD PTR [edi+236], dx
$L73141:

; 1932 : 	}
; 1933 : 	/* SPECIAL RULE 3: Create realistic voicebar, avoid pops and clicks */
; 1934 : 	/* Amp of voicebar set here, AV target in table invalid */
; 1935 : 	/* Set AV=0 for last 12.8 ms, let AV die out, thus avoid click */
; 1936 : 	/* Set to under 250 to signal voicebar */
; 1937 : 
; 1938 : 	/* Problem: spectrum has too much F4 if f2,3 are high, as in [i] */
; 1939 : 	if (((feacur & FBURST) IS_PLUS)
; 1940 : 		&& ((feacur & FVOICD) IS_PLUS)
; 1941 : 		&& ((fealas & FVOICD) IS_PLUS)
; 1942 : 		&& ((feanex & FVOICD) IS_MINUS)		/* Voicebar only if next -V */
; 1943 : 		)

  059c5	66 83 7c 24 14
	00		 cmp	 WORD PTR 8+[esp+12], 0
  059cb	74 5d		 je	 SHORT $L73152
  059cd	f6 44 24 1c 02	 test	 BYTE PTR _feacur$[esp+12], 2
  059d2	74 56		 je	 SHORT $L73152
  059d4	a8 02		 test	 al, 2
  059d6	74 52		 je	 SHORT $L73152
  059d8	f6 44 24 20 02	 test	 BYTE PTR _feanex$[esp+12], 2
  059dd	75 4b		 jne	 SHORT $L73152

; 1944 : 	{
; 1945 : 		PAV.tspesh = pDph_t->durfon - NF15MS;

  059df	66 8b 87 04 15
	00 00		 mov	 ax, WORD PTR [edi+5380]

; 1946 : 		PB1.tspesh = pDph_t->durfon;
; 1947 : 		PB2.tspesh = pDph_t->durfon;
; 1948 : 		PB3.tspesh = pDph_t->durfon;
; 1949 : 		PAV.pspesh = 13;   /* Large since low-pass TILT attenuates it */

  059e6	66 c7 87 34 01
	00 00 0d 00	 mov	 WORD PTR [edi+308], 13	; 0000000dH
  059ef	66 89 87 c6 00
	00 00		 mov	 WORD PTR [edi+198], ax
  059f6	66 89 87 ea 00
	00 00		 mov	 WORD PTR [edi+234], ax
  059fd	8d 48 fe	 lea	 ecx, DWORD PTR [eax-2]
  05a00	66 89 87 0e 01
	00 00		 mov	 WORD PTR [edi+270], ax

; 1950 : 			//eab 10/13/98 reduce voicebar
; 1951 : 		PB1.pspesh = 1000;

  05a07	b8 e8 03 00 00	 mov	 eax, 1000		; 000003e8H
  05a0c	66 89 8f 32 01
	00 00		 mov	 WORD PTR [edi+306], cx
  05a13	66 89 87 c8 00
	00 00		 mov	 WORD PTR [edi+200], ax

; 1952 : 		PB2.pspesh = 1000;

  05a1a	66 89 87 ec 00
	00 00		 mov	 WORD PTR [edi+236], ax

; 1953 : 		PB3.pspesh = 1500;

  05a21	66 c7 87 10 01
	00 00 dc 05	 mov	 WORD PTR [edi+272], 1500 ; 000005dcH
$L73152:
  05a2a	5f		 pop	 edi
  05a2b	5e		 pop	 esi
  05a2c	5d		 pop	 ebp
  05a2d	5b		 pop	 ebx

; 1954 : 	}
; 1955 : }

  05a2e	c3		 ret	 0
_sp_special_rules ENDP
_phTTS$ = 8
_shrif$ = 12
_pholas$ = 16
_fealas$ = 20
_feacur$ = 24
_struccur$ = 32
_feanex$ = 36
_la_forw_smooth_rules PROC NEAR

; 661  : {

  05a30	53		 push	 ebx

; 662  : 	short                   temp;	   /* MVP MI : This variable is made local */
; 663  : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  05a31	8b 5c 24 08	 mov	 ebx, DWORD PTR _phTTS$[esp]
  05a35	55		 push	 ebp
  05a36	56		 push	 esi
  05a37	57		 push	 edi
  05a38	8b 7b 18	 mov	 edi, DWORD PTR [ebx+24]

; 664  : 	PKSD_T                  pKsd_t = phTTS->pKernelShareData;
; 665  :  	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;
; 666  : 
; 667  : 	//debugforward ("Set default", pDphsettar->np);
; 668  : 
; 669  : /* Formant frequencies */
; 670  : /* Dipthongs first     */
; 671  : 	if (pDphsettar->par_type IS_FORM_FREQ_OR_BW
; 672  : 		&& (feacur & FVOWEL) IS_PLUS
; 673  : 		&& (fealas & FSEMIV) IS_PLUS
; 674  : 		&& (struccur & FBOUNDARY) == 0)

  05a3b	8b 4c 24 2c	 mov	 ecx, DWORD PTR _struccur$[esp+12]
  05a3f	8b b7 10 2c 00
	00		 mov	 esi, DWORD PTR [edi+11280]
  05a45	8a 46 14	 mov	 al, BYTE PTR [esi+20]
  05a48	3c 02		 cmp	 al, 2
  05a4a	7e 47		 jle	 SHORT $L73383
  05a4c	f6 44 24 24 04	 test	 BYTE PTR _feacur$[esp+12], 4
  05a51	74 40		 je	 SHORT $L73383
  05a53	8b 54 24 20	 mov	 edx, DWORD PTR _fealas$[esp+12]
  05a57	81 e2 00 40 00
	00		 and	 edx, 16384		; 00004000H
  05a5d	66 85 d2	 test	 dx, dx
  05a60	74 31		 je	 SHORT $L73383
  05a62	8b d1		 mov	 edx, ecx
  05a64	81 e2 e0 01 00
	00		 and	 edx, 480		; 000001e0H
  05a6a	66 85 d2	 test	 dx, dx
  05a6d	75 24		 jne	 SHORT $L73383
$L75343:

; 675  : 	{
; 676  : 		pDphsettar->durtran = pDph_t->durfon >> 1;

  05a6f	66 8b 87 04 15
	00 00		 mov	 ax, WORD PTR [edi+5380]
  05a76	66 d1 f8	 sar	 ax, 1
  05a79	66 89 46 06	 mov	 WORD PTR [esi+6], ax

; 677  : 		pDphsettar->bouval = (pDphsettar->np->tarlas + pDphsettar->np->tarcur) >> 1;

  05a7d	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  05a80	0f bf 48 18	 movsx	 ecx, WORD PTR [eax+24]
  05a84	0f bf 10	 movsx	 edx, WORD PTR [eax]
  05a87	03 ca		 add	 ecx, edx
  05a89	d1 f9		 sar	 ecx, 1
  05a8b	66 89 0e	 mov	 WORD PTR [esi], cx

; 678  : 		//debugforward (" dipthong (vowel) transition",pDphsettar->np);
; 679  : 	}
; 680  : 	else if (pDphsettar->par_type IS_FORM_FREQ_OR_BW

  05a8e	e9 8b 05 00 00	 jmp	 $L73461
$L73383:

; 681  : 			 && (feacur & FSEMIV) IS_PLUS
; 682  : 			 && (fealas & FVOWEL) IS_PLUS
; 683  : 			 && (struccur & FBOUNDARY) == 0)

  05a93	3c 02		 cmp	 al, 2
  05a95	7e 25		 jle	 SHORT $L75323
  05a97	8b 54 24 24	 mov	 edx, DWORD PTR _feacur$[esp+12]
  05a9b	81 e2 00 40 00
	00		 and	 edx, 16384		; 00004000H
  05aa1	66 85 d2	 test	 dx, dx
  05aa4	8b 54 24 20	 mov	 edx, DWORD PTR _fealas$[esp+12]
  05aa8	74 16		 je	 SHORT $L73385
  05aaa	f6 c2 04	 test	 dl, 4
  05aad	74 11		 je	 SHORT $L73385
  05aaf	81 e1 e0 01 00
	00		 and	 ecx, 480		; 000001e0H
  05ab5	66 85 c9	 test	 cx, cx
  05ab8	75 06		 jne	 SHORT $L73385

; 684  : 	{
; 685  : 		pDphsettar->durtran = pDph_t->durfon >> 1;
; 686  : 		pDphsettar->bouval = (pDphsettar->np->tarlas + pDphsettar->np->tarcur) >> 1;
; 687  : 		//debugforward (" dipthong (semivowel) transition",pDphsettar->np);
; 688  : 	}
; 689  : 	else if (pDphsettar->par_type IS_FORM_FREQ)

  05aba	eb b3		 jmp	 SHORT $L75343
$L75323:
  05abc	8b 54 24 20	 mov	 edx, DWORD PTR _fealas$[esp+12]
$L73385:
  05ac0	3c 03		 cmp	 al, 3
  05ac2	0f 85 40 02 00
	00		 jne	 $L73387

; 690  : 	{
; 691  : 		/* 0. Use default values for obst-obst transition */
; 692  : 		if ((feacur & FSONOR) IS_PLUS)

  05ac8	8b 44 24 24	 mov	 eax, DWORD PTR _feacur$[esp+12]
  05acc	b9 05 00 00 00	 mov	 ecx, 5
  05ad1	a8 10		 test	 al, 16			; 00000010H
  05ad3	74 7e		 je	 SHORT $L73396

; 693  : 		{
; 694  : 			if ((feacur & FSONCON) IS_MINUS)

  05ad5	25 00 02 00 00	 and	 eax, 512		; 00000200H
  05ada	66 85 c0	 test	 ax, ax
  05add	75 55		 jne	 SHORT $L73389

; 695  : 			{
; 696  : 				pDphsettar->durtran = NF45MS;
; 697  : 				if (pDphsettar->phcur == LAP_YH)	   /* Faster for y */

  05adf	66 8b 56 18	 mov	 dx, WORD PTR [esi+24]
  05ae3	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
  05ae9	66 81 fa 15 1a	 cmp	 dx, 6677		; 00001a15H
  05aee	75 06		 jne	 SHORT $L73390

; 698  : 					pDphsettar->durtran = NF25MS;  /* 23-Apr-86    */

  05af0	66 c7 46 06 04
	00		 mov	 WORD PTR [esi+6], 4
$L73390:

; 699  : 				if ((fealas & FSONCON) IS_PLUS)

  05af6	8b 44 24 20	 mov	 eax, DWORD PTR _fealas$[esp+12]
  05afa	25 00 02 00 00	 and	 eax, 512		; 00000200H
  05aff	66 85 c0	 test	 ax, ax
  05b02	74 4f		 je	 SHORT $L73396

; 700  : 				{
; 701  : 					/* 1. Soncon-vowel transition, use 25-75% rule */
; 702  : 					pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarlas) >> 1;

  05b04	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  05b07	0f bf 2e	 movsx	 ebp, WORD PTR [esi]
  05b0a	0f bf 41 18	 movsx	 eax, WORD PTR [ecx+24]
  05b0e	03 c5		 add	 eax, ebp
  05b10	d1 f8		 sar	 eax, 1

; 703  : 					/* Make F1 discontinuous for light /l/           */
; 704  : 					/* Block if transition into silence              */
; 705  : 					/* (Suggestion from DHK, June 5)                 */
; 706  : 					if (pDphsettar->phcur != GEN_SIL
; 707  : 						&& (pholas == LAP_L) && (pDphsettar->np == &PF1))

  05b12	66 81 fa 00 1e	 cmp	 dx, 7680		; 00001e00H
  05b17	66 89 06	 mov	 WORD PTR [esi], ax
  05b1a	74 37		 je	 SHORT $L73396
  05b1c	66 81 7c 24 1c
	09 1a		 cmp	 WORD PTR _pholas$[esp+12], 6665 ; 00001a09H
  05b23	75 2e		 jne	 SHORT $L73396
  05b25	8d 57 24	 lea	 edx, DWORD PTR [edi+36]
  05b28	3b ca		 cmp	 ecx, edx
  05b2a	75 27		 jne	 SHORT $L73396

; 708  : 					{
; 709  : 						pDphsettar->bouval += 80;

  05b2c	83 c0 50	 add	 eax, 80			; 00000050H
  05b2f	66 89 06	 mov	 WORD PTR [esi], ax

; 710  : 					}
; 711  : #if 0
; 712  : 					/* Make F3 & F2 transitions slower out of /r/ */
; 713  : 					if (((pholas == LAP_R) || (pholas == LAP_RR))
; 714  : 						&& (pDphsettar->np != &PF1))
; 715  : 					{
; 716  : 						pDphsettar->durtran = NF70MS;
; 717  : 					}
; 718  : #endif
; 719  : 					//debugforward (" soncon /vowel transition",pDphsettar->np);
; 720  : 				}
; 721  : 				else
; 722  : 				{
; 723  : 					/* 2. Vowel-[vowel/dh,gh,bh,LAP_J] transition */
; 724  : 					/* Preceeding seg has strong influence on [h] init val */
; 725  : 					/* if (phonex == LAP_DH) { bouval = (bouval + np->tarlas) >> 1;
; 726  : 					 * 
; 727  :  					 * }            
; 728  :  					 */
; 729  : 
; 730  : 				}
; 731  : 			}
; 732  : 			else

  05b32	eb 1f		 jmp	 SHORT $L73396
$L73389:

; 733  : 			{
; 734  : 				/* Phcur is a sonorant conson */
; 735  : 				if ((fealas & FSONCON) IS_MINUS)

  05b34	81 e2 00 02 00
	00		 and	 edx, 512		; 00000200H
  05b3a	66 85 d2	 test	 dx, dx
  05b3d	75 10		 jne	 SHORT $L73395

; 736  : 				{
; 737  : 					/* 3. Vowel-soncon trans, use 75-25% rule */
; 738  : 					pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarcur) >> 1;

  05b3f	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  05b42	0f bf 10	 movsx	 edx, WORD PTR [eax]
  05b45	0f bf 06	 movsx	 eax, WORD PTR [esi]
  05b48	03 d0		 add	 edx, eax
  05b4a	d1 fa		 sar	 edx, 1
  05b4c	66 89 16	 mov	 WORD PTR [esi], dx
$L73395:

; 739  : 					pDphsettar->durtran = NF30MS;
; 740  : 				}
; 741  : 				else
; 742  : 				{
; 743  : 					/* 4. Soncon-soncon transition */
; 744  : 					pDphsettar->durtran = NF30MS;

  05b4f	66 89 4e 06	 mov	 WORD PTR [esi+6], cx
$L73396:

; 745  : 				}
; 746  : 			}
; 747  : 		}
; 748  : 		//debugforward (" sonorant transition",pDphsettar->np);
; 749  : 
; 750  : 		/* Bound value = previous target if current phone is sil */
; 751  : 		if (pDphsettar->phcur == GEN_SIL)

  05b53	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  05b59	75 3e		 jne	 SHORT $L73397

; 752  : 		{
; 753  : 			/* GL 10/30/96 changed to be same as English */
; 754  : 			if (pDph_t->nphone > 1)

  05b5b	66 83 bf d0 23
	00 00 01	 cmp	 WORD PTR [edi+9168], 1
  05b63	7e 1a		 jle	 SHORT $L73398

; 755  : 			{
; 756  : 				pDphsettar->bouval = pDphsettar->np->tarlas;

  05b65	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  05b68	66 8b 51 18	 mov	 dx, WORD PTR [ecx+24]
  05b6c	66 89 16	 mov	 WORD PTR [esi], dx

; 761  : 			}
; 762  :             pDphsettar->durtran = pDph_t->durfon;

  05b6f	66 8b 97 04 15
	00 00		 mov	 dx, WORD PTR [edi+5380]
  05b76	66 89 56 06	 mov	 WORD PTR [esi+6], dx

; 763  :             /*
; 764  : 			pDphsettar->bouval = pDphsettar->np->tarlas;
; 765  : 			pDphsettar->durtran = pDph_t->durfon;
; 766  : 			*/
; 767  : 		}
; 768  : 		else

  05b7a	e9 38 01 00 00	 jmp	 $L73417
$L73398:

; 757  : 			}
; 758  : 			else
; 759  : 			{
; 760  : 				pDphsettar->bouval = pDphsettar->np->tarnex;

  05b7f	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  05b82	66 8b 48 16	 mov	 cx, WORD PTR [eax+22]
  05b86	66 89 0e	 mov	 WORD PTR [esi], cx

; 761  : 			}
; 762  :             pDphsettar->durtran = pDph_t->durfon;

  05b89	66 8b 97 04 15
	00 00		 mov	 dx, WORD PTR [edi+5380]
  05b90	66 89 56 06	 mov	 WORD PTR [esi+6], dx

; 763  :             /*
; 764  : 			pDphsettar->bouval = pDphsettar->np->tarlas;
; 765  : 			pDphsettar->durtran = pDph_t->durfon;
; 766  : 			*/
; 767  : 		}
; 768  : 		else

  05b94	e9 1e 01 00 00	 jmp	 $L73417
$L73397:

; 769  : 		{
; 770  : 			if (pDphsettar->np <= &PF3)

  05b99	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  05b9c	8d 47 6c	 lea	 eax, DWORD PTR [edi+108]
  05b9f	3b c8		 cmp	 ecx, eax
  05ba1	77 37		 ja	 SHORT $L73401

; 771  : 			{
; 772  : /* EAB 6/24/98 FOR DEBUG
; 773  : 			if (pDphsettar->np == &PF1)
; 774  : 			{
; 775  : 				WINprintf("embeeded f1= %d \n",pDphsettar->bouval);
; 776  : 			}
; 777  : 
; 778  :   */
; 779  : 				/* 5. pholas=obst, phcur=sonor transition */
; 780  : 
; 781  : 				setloc (phTTS, (short)(pDph_t->nphone - 1), pDph_t->nphone, INITIAL, (short)(pDph_t->nphone - 2), feanex);

  05ba3	66 8b 87 d0 23
	00 00		 mov	 ax, WORD PTR [edi+9168]
  05baa	8b 6c 24 30	 mov	 ebp, DWORD PTR _feanex$[esp+12]
  05bae	55		 push	 ebp
  05baf	8d 48 fe	 lea	 ecx, DWORD PTR [eax-2]
  05bb2	51		 push	 ecx
  05bb3	6a 00		 push	 0
  05bb5	50		 push	 eax
  05bb6	48		 dec	 eax
  05bb7	50		 push	 eax
  05bb8	53		 push	 ebx
  05bb9	e8 00 00 00 00	 call	 _setloc

; 782  : 				/* 6. pholas=sonor, phcur=obst transition */
; 783  : 				setloc (phTTS, pDph_t->nphone, (short)(pDph_t->nphone - 1), FINAL, (short)(pDph_t->nphone + 1), feanex);

  05bbe	66 8b 87 d0 23
	00 00		 mov	 ax, WORD PTR [edi+9168]
  05bc5	55		 push	 ebp
  05bc6	8d 50 01	 lea	 edx, DWORD PTR [eax+1]
  05bc9	8d 48 ff	 lea	 ecx, DWORD PTR [eax-1]
  05bcc	52		 push	 edx
  05bcd	6a 01		 push	 1
  05bcf	51		 push	 ecx
  05bd0	50		 push	 eax
  05bd1	53		 push	 ebx
  05bd2	e8 00 00 00 00	 call	 _setloc
  05bd7	83 c4 30	 add	 esp, 48			; 00000030H
$L73401:

; 784  : 
; 785  : 			}
; 786  : #if 0
; 787  : 			/* 
; 788  : 			 * Doesn't work.
; 789  : 			 */
; 790  : 			/* Dummy vowel for final plosive release into silence is too */
; 791  : 			/* short for an extensive formant transition, make tran less */
; 792  : 			if ((struccur & FDUMMY_VOWEL) IS_PLUS)
; 793  : 			{
; 794  : /* OUT                  xx += ((bouval - np->tarend) >> 1); np->tarend += xx;   (DOESN'T WORK) END OUT */
; 795  : 			}
; 796  : #endif
; 797  : 
; 798  : 			/* Transitions modified inside obstruents */
; 799  : 			if ((feacur & FOBST) IS_PLUS)

  05bda	8a 44 24 24	 mov	 al, BYTE PTR _feacur$[esp+12]
  05bde	a8 20		 test	 al, 32			; 00000020H
  05be0	74 25		 je	 SHORT $L73408

; 800  : 			{
; 801  : 				pDphsettar->durtran = NF30MS;
; 802  : 				if (pDphsettar->np == &PF1)

  05be2	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  05be5	8d 57 24	 lea	 edx, DWORD PTR [edi+36]
  05be8	3b ca		 cmp	 ecx, edx
  05bea	66 c7 46 06 05
	00		 mov	 WORD PTR [esi+6], 5
  05bf0	75 06		 jne	 SHORT $L73407

; 803  : 					pDphsettar->durtran = NF20MS;

  05bf2	66 c7 46 06 03
	00		 mov	 WORD PTR [esi+6], 3
$L73407:

; 804  : 				/* Transitions take all of plosive duration */
; 805  : 				if ((feacur & FPLOSV) IS_PLUS)

  05bf8	a8 40		 test	 al, 64			; 00000040H
  05bfa	74 0b		 je	 SHORT $L73408

; 806  : 				{
; 807  : 					pDphsettar->durtran = pDph_t->durfon;

  05bfc	66 8b 8f 04 15
	00 00		 mov	 cx, WORD PTR [edi+5380]
  05c03	66 89 4e 06	 mov	 WORD PTR [esi+6], cx
$L73408:

; 808  : 				}
; 809  : 			}
; 810  : 
; 811  : 			/* Higher formant transitions slow inside a nasal */
; 812  : 			if ((feacur & FNASAL) IS_PLUS)

  05c07	a8 80		 test	 al, -128		; ffffff80H
  05c09	0f 84 a8 00 00
	00		 je	 $L73417

; 813  : 			{
; 814  : 				pDphsettar->durtran = pDph_t->durfon;

  05c0f	66 8b 97 04 15
	00 00		 mov	 dx, WORD PTR [edi+5380]

; 815  : 				/* Except F1, which jumps to value above FNZRO */
; 816  : 				if (pDphsettar->np == &PF1)

  05c16	8d 47 24	 lea	 eax, DWORD PTR [edi+36]
  05c19	66 89 56 06	 mov	 WORD PTR [esi+6], dx
  05c1d	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  05c20	3b d0		 cmp	 edx, eax
  05c22	75 0b		 jne	 SHORT $L73410

; 817  : 				{
; 818  : 					pDphsettar->durtran = 0;

  05c24	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0

; 819  : 				}
; 820  : 				/* Lower F2 & F3 of [n] nasal murmur before front vowels */
; 821  : 				else if (((pDphsettar->phcur == LAP_N))

  05c2a	e9 88 00 00 00	 jmp	 $L73417
$L73410:

; 822  : 						 && (begtyp(pDphsettar->phonex) == 1))

  05c2f	66 8b 4e 18	 mov	 cx, WORD PTR [esi+24]
  05c33	66 81 f9 0c 1a	 cmp	 cx, 6668		; 00001a0cH
  05c38	75 4f		 jne	 SHORT $L73412
  05c3a	0f bf 46 0a	 movsx	 eax, WORD PTR [esi+10]
  05c3e	8b d8		 mov	 ebx, eax
  05c40	8b e8		 mov	 ebp, eax
  05c42	c1 fb 08	 sar	 ebx, 8
  05c45	81 e5 ff 00 00
	00		 and	 ebp, 255		; 000000ffH
  05c4b	8b 1c 9d 00 00
	00 00		 mov	 ebx, DWORD PTR _all_begtyp[ebx*4]
  05c52	66 83 3c 6b 01	 cmp	 WORD PTR [ebx+ebp*2], 1
  05c57	75 30		 jne	 SHORT $L73412

; 823  : 				{
; 824  : 					if (pDphsettar->np == &PF2)

  05c59	8d 4f 48	 lea	 ecx, DWORD PTR [edi+72]
  05c5c	3b d1		 cmp	 edx, ecx
  05c5e	75 1c		 jne	 SHORT $L73414

; 825  : 					{
; 826  : 						pDphsettar->bouval -= 100;

  05c60	66 83 06 9c	 add	 WORD PTR [esi], -100	; ffffff9cH
  05c64	66 8b 0e	 mov	 cx, WORD PTR [esi]

; 827  : 						if ((la_place[pDphsettar->phonex & PVALUE] & F2BACKI) IS_PLUS)

  05c67	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  05c6c	f6 04 45 00 00
	00 00 40	 test	 BYTE PTR _la_place[eax*2], 64 ; 00000040H
  05c74	74 06		 je	 SHORT $L73414

; 828  : 						{
; 829  : 							pDphsettar->bouval -= 100;

  05c76	83 c1 9c	 add	 ecx, -100		; ffffff9cH
  05c79	66 89 0e	 mov	 WORD PTR [esi], cx
$L73414:

; 830  : 						}
; 831  : 					}
; 832  : 					if (pDphsettar->np == &PF3)

  05c7c	8d 47 6c	 lea	 eax, DWORD PTR [edi+108]
  05c7f	3b d0		 cmp	 edx, eax
  05c81	75 34		 jne	 SHORT $L73417

; 833  : 						pDphsettar->bouval -= 100;

  05c83	66 83 06 9c	 add	 WORD PTR [esi], -100	; ffffff9cH

; 834  : 				}
; 835  : 				/* Lower F2 of [m] nasal murmur near [i,e,ix] */
; 836  : 				else if ((pDphsettar->np == &PF2)

  05c87	eb 2e		 jmp	 SHORT $L73417
$L73412:

; 837  : 						 && (pDphsettar->phcur == LAP_M
; 838  : 							 || pDphsettar->phcur == LAP_MX)
; 839  : 						 && ((la_place[pholas & PVALUE] & F2BACKF) IS_PLUS))

  05c89	8d 47 48	 lea	 eax, DWORD PTR [edi+72]
  05c8c	3b d0		 cmp	 edx, eax
  05c8e	75 27		 jne	 SHORT $L73417
  05c90	66 81 f9 0b 1a	 cmp	 cx, 6667		; 00001a0bH
  05c95	74 07		 je	 SHORT $L73418
  05c97	66 81 f9 25 1a	 cmp	 cx, 6693		; 00001a25H
  05c9c	75 19		 jne	 SHORT $L73417
$L73418:
  05c9e	8b 4c 24 1c	 mov	 ecx, DWORD PTR _pholas$[esp+12]
  05ca2	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  05ca8	f6 04 4d 00 00
	00 00 80	 test	 BYTE PTR _la_place[ecx*2], -128 ; ffffff80H
  05cb0	74 05		 je	 SHORT $L73417

; 840  : 				{
; 841  : 					pDphsettar->bouval -= 150;

  05cb2	66 81 06 6a ff	 add	 WORD PTR [esi], -150	; ffffff6aH
$L73417:

; 842  : 				}
; 843  : 				//debugforward (" nasals",pDphsettar->np);
; 844  : 			}
; 845  : 		}
; 846  : 
; 847  : 		/* Shrink transition dur inside sonor if sonor short */
; 848  : 		if (((feacur & FOBST) IS_MINUS)
; 849  : 			&& (endtyp(pholas) != OBSTRUENT)	/* Unless prev seg is obst */
; 850  : 			&& (pDphsettar->durtran > 0))

  05cb7	f6 44 24 24 20	 test	 BYTE PTR _feacur$[esp+12], 32 ; 00000020H
  05cbc	0f 85 5c 03 00
	00		 jne	 $L73461
  05cc2	0f bf 44 24 1c	 movsx	 eax, WORD PTR _pholas$[esp+12]
  05cc7	8b d0		 mov	 edx, eax
  05cc9	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  05cce	c1 fa 08	 sar	 edx, 8
  05cd1	8b 0c 95 00 00
	00 00		 mov	 ecx, DWORD PTR _all_endtyp[edx*4]
  05cd8	66 83 3c 41 04	 cmp	 WORD PTR [ecx+eax*2], 4
  05cdd	0f 84 3b 03 00
	00		 je	 $L73461
  05ce3	66 8b 46 06	 mov	 ax, WORD PTR [esi+6]
  05ce7	66 85 c0	 test	 ax, ax
  05cea	0f 8e 2e 03 00
	00		 jle	 $L73461

; 851  : 		{
; 852  : 			//pDph_t->arg1 = pDphsettar->durtran;
; 853  : 			//pDph_t->arg2 = shrif;
; 854  : 			pDphsettar->durtran = mlsh1 (pDphsettar->durtran,shrif) + 1;

  05cf0	0f bf d0	 movsx	 edx, ax
  05cf3	0f bf 44 24 18	 movsx	 eax, WORD PTR _shrif$[esp+12]
  05cf8	0f af d0	 imul	 edx, eax
  05cfb	c1 fa 0e	 sar	 edx, 14			; 0000000eH
  05cfe	42		 inc	 edx
  05cff	66 89 56 06	 mov	 WORD PTR [esi+6], dx

; 855  : 		}
; 856  : 		//debugforward (" Other formant frequency rule",pDphsettar->np);
; 857  : 	}
; 858  : 
; 859  : 	/* Formant bandwidths */
; 860  : 	else if (pDphsettar->par_type IS_FORM_BW)

  05d03	e9 16 03 00 00	 jmp	 $L73461
$L73387:
  05d08	3c 04		 cmp	 al, 4
  05d0a	0f 85 58 01 00
	00		 jne	 $L73421

; 861  : 	{
; 862  : 		/* Default transition duration is 40 ms */
; 863  : 		pDphsettar->durtran = NF40MS;
; 864  : 		/* Widen first formant bw if preceeding seg voiceless */
; 865  : 		if ((feacur & FVOICD) IS_PLUS)

  05d10	8b 4c 24 24	 mov	 ecx, DWORD PTR _feacur$[esp+12]
  05d14	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
  05d1a	f6 c1 02	 test	 cl, 2
  05d1d	bb 08 00 00 00	 mov	 ebx, 8
  05d22	74 26		 je	 SHORT $L73422

; 866  : 		{
; 867  : 			if ((pDphsettar->np == &PB1)
; 868  : 				&& ((fealas & FVOICD) IS_MINUS))

  05d24	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  05d27	8d af b4 00 00
	00		 lea	 ebp, DWORD PTR [edi+180]
  05d2d	3b c5		 cmp	 eax, ebp
  05d2f	75 1f		 jne	 SHORT $L73424
  05d31	f6 c2 02	 test	 dl, 2
  05d34	75 1a		 jne	 SHORT $L73424

; 869  : 			{
; 870  : 				pDphsettar->durtran = NF50MS;

  05d36	66 89 5e 06	 mov	 WORD PTR [esi+6], bx

; 871  : 				/* More increase for low vowels (F1 high) */
; 872  : 				pDphsettar->bouval = pDphsettar->np->tarcur + (PF1.tarcur >> 3);

  05d3a	66 8b 6f 24	 mov	 bp, WORD PTR [edi+36]
  05d3e	66 c1 fd 03	 sar	 bp, 3
  05d42	66 03 28	 add	 bp, WORD PTR [eax]
  05d45	66 89 2e	 mov	 WORD PTR [esi], bp

; 873  : 			}
; 874  : 		}
; 875  : 		else

  05d48	eb 06		 jmp	 SHORT $L73424
$L73422:

; 876  : 		{
; 877  : 			pDphsettar->durtran = NF20MS;

  05d4a	66 c7 46 06 03
	00		 mov	 WORD PTR [esi+6], 3
$L73424:

; 878  : 		}
; 879  : 		//debugforward (" After BW initial setup",pDphsettar->np);
; 880  : 
; 881  : 		/* Treat boundary with silence */
; 882  : 		/* 
; 883  : 		 * This widens the glottis (?) for transitions from
; 884  : 		 * silence.  If you do this for [L] and [LL], it
; 885  : 		 * sounds like [al].
; 886  : 		 */
; 887  : 		if (pholas == GEN_SIL && ((feacur & FSONCON) IS_MINUS))

  05d50	b8 00 1e 00 00	 mov	 eax, 7680		; 00001e00H
  05d55	66 39 44 24 1c	 cmp	 WORD PTR _pholas$[esp+12], ax
  05d5a	75 3a		 jne	 SHORT $L73425
  05d5c	81 e1 00 02 00
	00		 and	 ecx, 512		; 00000200H
  05d62	66 85 c9	 test	 cx, cx
  05d65	75 2f		 jne	 SHORT $L73425

; 888  : 		{
; 889  : 			pDphsettar->bouval = pDphsettar->np->tarcur + ((&PB3 - pDphsettar->np) * 50);

  05d67	8b 6e 10	 mov	 ebp, DWORD PTR [esi+16]
  05d6a	8b cf		 mov	 ecx, edi
  05d6c	2b cd		 sub	 ecx, ebp
  05d6e	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  05d73	81 c1 fc 00 00
	00		 add	 ecx, 252		; 000000fcH
  05d79	f7 e9		 imul	 ecx
  05d7b	c1 fa 03	 sar	 edx, 3
  05d7e	8b ca		 mov	 ecx, edx
  05d80	c1 e9 1f	 shr	 ecx, 31			; 0000001fH
  05d83	03 d1		 add	 edx, ecx
  05d85	8d 04 92	 lea	 eax, DWORD PTR [edx+edx*4]
  05d88	8d 14 80	 lea	 edx, DWORD PTR [eax+eax*4]
  05d8b	d1 e2		 shl	 edx, 1
  05d8d	66 03 55 00	 add	 dx, WORD PTR [ebp]
  05d91	66 89 16	 mov	 WORD PTR [esi], dx

; 890  : 			//debugforward (" Transition from silence",pDphsettar->np);
; 891  : 		}
; 892  : 		else if (pDphsettar->phcur == GEN_SIL)

  05d94	eb 66		 jmp	 SHORT $L75341
$L73425:
  05d96	66 39 46 18	 cmp	 WORD PTR [esi+24], ax
  05d9a	75 64		 jne	 SHORT $L73427

; 893  : 		{
; 894  : 			pDphsettar->bouval = pDphsettar->np->tarlas + ((&PB3 - pDphsettar->np) * 50);

  05d9c	8b 6e 10	 mov	 ebp, DWORD PTR [esi+16]
  05d9f	8b cf		 mov	 ecx, edi
  05da1	2b cd		 sub	 ecx, ebp
  05da3	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  05da8	81 c1 fc 00 00
	00		 add	 ecx, 252		; 000000fcH
  05dae	f7 e9		 imul	 ecx
  05db0	c1 fa 03	 sar	 edx, 3
  05db3	8b c2		 mov	 eax, edx
  05db5	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  05db8	03 d0		 add	 edx, eax
  05dba	8d 04 92	 lea	 eax, DWORD PTR [edx+edx*4]
  05dbd	8d 0c 80	 lea	 ecx, DWORD PTR [eax+eax*4]
  05dc0	d1 e1		 shl	 ecx, 1
  05dc2	66 03 4d 18	 add	 cx, WORD PTR [ebp+24]
  05dc6	66 89 0e	 mov	 WORD PTR [esi], cx

; 895  : 			if (((phone_feature( pDph_t,pDph_t->allophons[pDph_t->nphone - 2]) & FVOICD) IS_MINUS)
; 896  : 				&& (pDphsettar->np == &PB1))

  05dc9	0f bf 97 d0 23
	00 00		 movsx	 edx, WORD PTR [edi+9168]
  05dd0	0f bf 84 57 e8
	03 00 00	 movsx	 eax, WORD PTR [edi+edx*2+1000]
  05dd8	50		 push	 eax
  05dd9	57		 push	 edi
  05dda	e8 00 00 00 00	 call	 _phone_feature
  05ddf	83 c4 08	 add	 esp, 8
  05de2	a8 02		 test	 al, 2
  05de4	75 12		 jne	 SHORT $L73428
  05de6	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  05de9	8d 8f b4 00 00
	00		 lea	 ecx, DWORD PTR [edi+180]
  05def	3b c1		 cmp	 eax, ecx
  05df1	75 05		 jne	 SHORT $L73428

; 897  : 			{
; 898  : 				pDphsettar->bouval = 260;	   /* Kluge to avoid discontinutiy */

  05df3	66 c7 06 04 01	 mov	 WORD PTR [esi], 260	; 00000104H
$L73428:

; 899  : 			}
; 900  : 			pDphsettar->durtran = NF50MS;

  05df8	66 89 5e 06	 mov	 WORD PTR [esi+6], bx
$L75341:
  05dfc	8b 54 24 20	 mov	 edx, DWORD PTR _fealas$[esp+12]
$L73427:

; 901  : 			//debugforward (" Transition into silence",pDphsettar->np);
; 902  : 		}
; 903  : 		/* BW1 widen, to nasalize transition out of previous nasal */
; 904  : 		if ((fealas & FNASAL) IS_PLUS)

  05e00	f6 c2 80	 test	 dl, -128		; ffffff80H
  05e03	74 1d		 je	 SHORT $L73430

; 905  : 		{
; 906  : 			pDphsettar->bouval = pDphsettar->np->tarcur;   /* B2,B3 not influ by nasal */

  05e05	8b 46 10	 mov	 eax, DWORD PTR [esi+16]

; 907  : 			if (pDphsettar->np == &PB1)

  05e08	8d 8f b4 00 00
	00		 lea	 ecx, DWORD PTR [edi+180]
  05e0e	3b c1		 cmp	 eax, ecx
  05e10	66 8b 10	 mov	 dx, WORD PTR [eax]
  05e13	66 89 16	 mov	 WORD PTR [esi], dx
  05e16	75 0a		 jne	 SHORT $L73430

; 908  : 			{
; 909  : 				pDphsettar->durtran = NF100MS;
; 910  : 				pDphsettar->bouval += 70;

  05e18	66 83 06 46	 add	 WORD PTR [esi], 70	; 00000046H
  05e1c	66 c7 46 06 10
	00		 mov	 WORD PTR [esi+6], 16	; 00000010H
$L73430:

; 911  : 			}
; 912  : 			//debugforward (" Transition from nasal",pDphsettar->np);
; 913  : 		}
; 914  : 		/* Nasals have constant bandwidths at target values */
; 915  : 		if ((feacur & FNASAL) IS_PLUS)

  05e22	f6 44 24 24 80	 test	 BYTE PTR _feacur$[esp+12], -128 ; ffffff80H
  05e27	74 06		 je	 SHORT $L73431

; 916  : 		{
; 917  : 			pDphsettar->durtran = 0;

  05e29	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L73431:

; 918  : 			//debugforward (" Nasal has const par val",pDphsettar->np);
; 919  : 		}
; 920  : 		/* Special rule for [fi] */
; 921  : 		if ((pDphsettar->np == &PB3)
; 922  : 			&& ((la_place[pDphsettar->phcur & PVALUE] & F2BACKI) IS_PLUS)
; 923  : 			&& (pholas == LAP_F))

  05e2f	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  05e32	8d 97 fc 00 00
	00		 lea	 edx, DWORD PTR [edi+252]
  05e38	3b c2		 cmp	 eax, edx
  05e3a	0f 85 de 01 00
	00		 jne	 $L73461
  05e40	8a 46 18	 mov	 al, BYTE PTR [esi+24]
  05e43	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  05e48	f6 04 45 00 00
	00 00 40	 test	 BYTE PTR _la_place[eax*2], 64 ; 00000040H
  05e50	0f 84 c8 01 00
	00		 je	 $L73461
  05e56	66 81 7c 24 1c
	0e 1a		 cmp	 WORD PTR _pholas$[esp+12], 6670 ; 00001a0eH
  05e5d	0f 85 bb 01 00
	00		 jne	 $L73461

; 924  : 		{
; 925  : 			pDphsettar->durtran = 0;
; 926  : 			//debugforward (" [fi] special rule",pDphsettar->np);
; 927  : 		}
; 928  : 		//debugforward (" Other bandwidth rule",pDphsettar->np);
; 929  : 	}
; 930  : 
; 931  : 	/* Source amplitudes, including parallel formant amplitudes */
; 932  : 	/* Default is max of [average,tarcur-12,tarlas-12] */
; 933  : 	else if ((pDphsettar->par_type IS_PARALLEL_FORM_AMP)

  05e63	e9 b0 01 00 00	 jmp	 $L75342
$L73421:

; 934  : 			 || (pDphsettar->par_type IS_AV_OR_AH))

  05e68	3c 02		 cmp	 al, 2
  05e6a	74 49		 je	 SHORT $L73435
  05e6c	84 c0		 test	 al, al
  05e6e	74 45		 je	 SHORT $L73435

; 1061 : 		}
; 1062 : 	}
; 1063 : 	/* Nasal antiformant frequency */
; 1064 : 	else if (pDphsettar->par_type IS_NASAL_ZERO_FREQ)

  05e70	3c 01		 cmp	 al, 1
  05e72	0f 85 a6 01 00
	00		 jne	 $L73461

; 1065 : 	{
; 1066 : 		pDphsettar->durtran = 0;
; 1067 : 		if (((fealas & FNASAL) IS_PLUS)
; 1068 : 			&& ((feacur & FNASAL) IS_MINUS))

  05e78	f6 c2 80	 test	 dl, -128		; ffffff80H
  05e7b	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
  05e81	0f 84 97 01 00
	00		 je	 $L73461
  05e87	f6 44 24 24 80	 test	 BYTE PTR _feacur$[esp+12], -128 ; ffffff80H
  05e8c	0f 85 8c 01 00
	00		 jne	 $L73461

; 1069 : 		{
; 1070 : 			pDphsettar->bouval = NASAL_ZERO_BOUNDARY;
; 1071 : 			/* 
; 1072 : 			 * Changed to give quick transition         28-Apr-86
; 1073 : 			 * for "normal" nasals, slow for ~n
; 1074 : 			 */
; 1075 : 			pDphsettar->durtran = (pholas == LAP_NH) ? NF80MS : NF40MS;

  05e92	66 8b 4c 24 1c	 mov	 cx, WORD PTR _pholas$[esp+12]
  05e97	66 c7 06 72 01	 mov	 WORD PTR [esi], 370	; 00000172H
  05e9c	66 81 e9 0d 1a	 sub	 cx, 6669		; 00001a0dH
  05ea1	66 f7 d9	 neg	 cx
  05ea4	1b c9		 sbb	 ecx, ecx
  05ea6	83 e1 f9	 and	 ecx, -7			; fffffff9H
  05ea9	83 c1 0d	 add	 ecx, 13			; 0000000dH
  05eac	66 89 4e 06	 mov	 WORD PTR [esi+6], cx
  05eb0	e9 69 01 00 00	 jmp	 $L73461
$L73435:

; 935  : 	{
; 936  : 		/* See if onset, i.e. plosive or large source intensity increase */
; 937  : 		temp = pDphsettar->np->tarcur - 10;

  05eb5	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]

; 938  : 		if ((pDphsettar->bouval < temp) || ((fealas & FPLOSV) IS_PLUS)
; 939  : 			|| (pholas == LAP_YH))

  05eb8	8b 6c 24 1c	 mov	 ebp, DWORD PTR _pholas$[esp+12]
  05ebc	66 8b 01	 mov	 ax, WORD PTR [ecx]
  05ebf	66 2d 0a 00	 sub	 ax, 10			; 0000000aH
  05ec3	66 39 06	 cmp	 WORD PTR [esi], ax
  05ec6	7c 0c		 jl	 SHORT $L73437
  05ec8	f6 c2 40	 test	 dl, 64			; 00000040H
  05ecb	75 07		 jne	 SHORT $L73437
  05ecd	66 81 fd 15 1a	 cmp	 bp, 6677		; 00001a15H
  05ed2	75 5b		 jne	 SHORT $L73444
$L73437:

; 940  : 		{					   /* 7-May-86    */
; 941  : 			pDphsettar->bouval = temp;
; 942  : 			/* 
; 943  : 			 * No onset transition for B, D, G (22-Jan-86, MM)
; 944  : 			 */
; 945  : 			if ((feacur & FOBST) IS_MINUS)

  05ed4	8a 5c 24 24	 mov	 bl, BYTE PTR _feacur$[esp+12]
  05ed8	66 89 06	 mov	 WORD PTR [esi], ax
  05edb	f6 c3 20	 test	 bl, 32			; 00000020H
  05ede	75 13		 jne	 SHORT $L73439

; 946  : 			{
; 947  : 				pDphsettar->durtran = NF15MS;
; 948  : 				if (fealas ==
; 949  : 					(FVOICD + FOBST + FPLOSV + FCONSON + FBURST + FVBAR))

  05ee0	66 81 fa 62 49	 cmp	 dx, 18786		; 00004962H
  05ee5	66 c7 46 06 02
	00		 mov	 WORD PTR [esi+6], 2
  05eeb	75 06		 jne	 SHORT $L73439

; 950  : 					pDphsettar->durtran = 0;

  05eed	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L73439:

; 951  : 			}
; 952  : 			/* Voicing is special */
; 953  : 			if (pDphsettar->np == &PAV)

  05ef3	8d 9f 20 01 00
	00		 lea	 ebx, DWORD PTR [edi+288]
  05ef9	3b cb		 cmp	 ecx, ebx
  05efb	75 32		 jne	 SHORT $L73444

; 954  : 			{
; 955  : 				/* Gradual buildup of voicing */
; 956  : 				if (pholas == GEN_SIL)

  05efd	66 81 fd 00 1e	 cmp	 bp, 7680		; 00001e00H
  05f02	75 11		 jne	 SHORT $L73442

; 957  : 				{
; 958  : 					if ((feacur & FVOICD) IS_PLUS)

  05f04	f6 44 24 24 02	 test	 BYTE PTR _feacur$[esp+12], 2
  05f09	74 0a		 je	 SHORT $L73442

; 959  : 					{
; 960  : 						pDphsettar->durtran = NF45MS;
; 961  : 						pDphsettar->bouval -= 8;

  05f0b	66 83 06 f8	 add	 WORD PTR [esi], -8	; fffffff8H
  05f0f	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
$L73442:

; 962  : 					}
; 963  : 				}
; 964  : 				/* Obstruent voicing onset is abrupt */
; 965  : 				if ((fealas & FOBST) IS_PLUS)

  05f15	f6 c2 20	 test	 dl, 32			; 00000020H
  05f18	74 06		 je	 SHORT $L73443

; 966  : 				{
; 967  : 					pDphsettar->bouval = temp + 6;

  05f1a	83 c0 06	 add	 eax, 6
  05f1d	66 89 06	 mov	 WORD PTR [esi], ax
$L73443:

; 968  : 				}
; 969  : 				/* Plosive onset is abrupt (used mainly for [bdg]) */
; 970  : 				if ((fealas & FPLOSV) IS_PLUS)

  05f20	f6 c2 40	 test	 dl, 64			; 00000040H
  05f23	74 0a		 je	 SHORT $L73444

; 971  : 				{
; 972  : 					pDphsettar->bouval = pDphsettar->np->tarcur - 2;

  05f25	66 8b 01	 mov	 ax, WORD PTR [ecx]
  05f28	66 2d 02 00	 sub	 ax, 2
  05f2c	66 89 06	 mov	 WORD PTR [esi], ax
$L73444:

; 973  : 				}
; 974  : 			}
; 975  : 			//debugforward (" Onset",pDphsettar->np);
; 976  : 		}
; 977  : 		/* If last nasal, and source amp increased, abrupt onset */
; 978  : 		if (((fealas & FNASAL) IS_PLUS)
; 979  : 			&& ((feacur & FVOICD) IS_PLUS))

  05f2f	8b 5c 24 24	 mov	 ebx, DWORD PTR _feacur$[esp+12]
  05f33	f6 c2 80	 test	 dl, -128		; ffffff80H
  05f36	74 0b		 je	 SHORT $L73445
  05f38	f6 c3 02	 test	 bl, 2
  05f3b	74 06		 je	 SHORT $L73445

; 980  : 		{
; 981  : 			pDphsettar->durtran = 0;

  05f3d	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L73445:

; 982  : 			//debugforward (" Onset from nasal",pDphsettar->np);
; 983  : 		}
; 984  : 		/* Voicing source amp const in intervocalic nasal */
; 985  : 		if ((feacur & FNASAL) IS_PLUS)

  05f43	f6 c3 80	 test	 bl, -128		; ffffff80H
  05f46	74 15		 je	 SHORT $L73448

; 986  : 		{
; 987  : 			if ((fealas & FVOICD) IS_PLUS)

  05f48	f6 c2 02	 test	 dl, 2
  05f4b	74 10		 je	 SHORT $L73448

; 988  : 			{
; 989  : 				if (pDphsettar->np == &PAV)

  05f4d	8d 87 20 01 00
	00		 lea	 eax, DWORD PTR [edi+288]
  05f53	3b c8		 cmp	 ecx, eax
  05f55	75 06		 jne	 SHORT $L73448

; 990  : 					pDphsettar->durtran = 0;

  05f57	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L73448:

; 991  : 			}
; 992  : 		}
; 993  : 		/* See if offset, i.e. source intensity decreasing */
; 994  : 		temp = pDphsettar->np->tarlas - 10;

  05f5d	66 8b 41 18	 mov	 ax, WORD PTR [ecx+24]
  05f61	66 2d 0a 00	 sub	 ax, 10			; 0000000aH

; 995  : 		if (pDphsettar->bouval < temp)

  05f65	66 39 06	 cmp	 WORD PTR [esi], ax
  05f68	7d 33		 jge	 SHORT $L73451

; 996  : 		{
; 997  : 			/* Reduce bounval by 3 dB because bval time is onset */
; 998  : 			/* of next phoneme */
; 999  : 			pDphsettar->bouval = temp - 3;

  05f6a	83 c0 fd	 add	 eax, -3			; fffffffdH

; 1000 : 			/* Source amplitudes fall gradually into silence */
; 1001 : 			/* 
; 1002 : 			 * Added to shorten stop burst               1-May-86
; 1003 : 			 * Changed 20msec to 30msec                 22-Jul-86
; 1004 : 			 */
; 1005 : 			if (pDphsettar->phcur == GEN_SIL)

  05f6d	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  05f73	66 89 06	 mov	 WORD PTR [esi], ax
  05f76	75 15		 jne	 SHORT $L73450

; 1006 : 			{
; 1007 : 				pDphsettar->durtran = ((fealas & FBURST) IS_PLUS) ? NF30MS : NF70MS;

  05f78	8b c2		 mov	 eax, edx
  05f7a	25 00 08 00 00	 and	 eax, 2048		; 00000800H
  05f7f	66 f7 d8	 neg	 ax
  05f82	1b c0		 sbb	 eax, eax
  05f84	24 fa		 and	 al, -6			; fffffffaH
  05f86	83 c0 0b	 add	 eax, 11			; 0000000bH
  05f89	66 89 46 06	 mov	 WORD PTR [esi+6], ax
$L73450:

; 1008 : 			}
; 1009 : 			/* Except voicing offset is abrupt */
; 1010 : 			if (pDphsettar->np == &PAV)

  05f8d	8d 87 20 01 00
	00		 lea	 eax, DWORD PTR [edi+288]
  05f93	3b c8		 cmp	 ecx, eax
  05f95	75 06		 jne	 SHORT $L73451

; 1011 : 				pDphsettar->durtran = 0;

  05f97	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L73451:

; 1012 : 			//debugforward (" Offset",pDphsettar->np);
; 1013 : 		}
; 1014 : 		/* Buildup A4 gradually in [CH and YH] */
; 1015 : 		if (pDphsettar->np == &PA4)

  05f9d	8d 87 b0 01 00
	00		 lea	 eax, DWORD PTR [edi+432]
  05fa3	3b c8		 cmp	 ecx, eax
  05fa5	75 29		 jne	 SHORT $L73453

; 1016 : 		{
; 1017 : 			if ((pDphsettar->phcur == LAP_CH)
; 1018 : 				|| (pDphsettar->phcur == LAP_YH))

  05fa7	66 8b 46 18	 mov	 ax, WORD PTR [esi+24]
  05fab	66 3d 1c 1a	 cmp	 ax, 6684		; 00001a1cH
  05faf	74 06		 je	 SHORT $L73454
  05fb1	66 3d 15 1a	 cmp	 ax, 6677		; 00001a15H
  05fb5	75 19		 jne	 SHORT $L73453
$L73454:

; 1019 : 			{
; 1020 : 				pDphsettar->durtran = pDph_t->durfon - NF15MS;

  05fb7	66 8b 87 04 15
	00 00		 mov	 ax, WORD PTR [edi+5380]
  05fbe	66 2d 02 00	 sub	 ax, 2
  05fc2	66 89 46 06	 mov	 WORD PTR [esi+6], ax

; 1021 : 				pDphsettar->bouval = pDphsettar->np->tarcur - 30;

  05fc6	66 8b 01	 mov	 ax, WORD PTR [ecx]
  05fc9	66 2d 1e 00	 sub	 ax, 30			; 0000001eH
  05fcd	66 89 06	 mov	 WORD PTR [esi], ax
$L73453:

; 1022 : 				//debugforward (" CH/YH rule",pDphsettar->np);
; 1023 : 			}
; 1024 : 		}
; 1025 : 
; 1026 : 		/* Offset of a vowel into voiceless open vocal tract is breathy */
; 1027 : 		if (pDphsettar->np == &PAP)

  05fd0	8d 87 44 01 00
	00		 lea	 eax, DWORD PTR [edi+324]
  05fd6	3b c8		 cmp	 ecx, eax
  05fd8	75 34		 jne	 SHORT $L73460

; 1028 : 		{
; 1029 : 			if ((pDphsettar->phcur == GEN_SIL)
; 1030 : 				|| feacur == (FOBST | FCONSON))

  05fda	66 8b 46 18	 mov	 ax, WORD PTR [esi+24]
  05fde	66 3d 00 1e	 cmp	 ax, 7680		; 00001e00H
  05fe2	74 07		 je	 SHORT $L73457
  05fe4	66 81 fb 20 01	 cmp	 bx, 288			; 00000120H
  05fe9	75 23		 jne	 SHORT $L73460
$L73457:

; 1031 : 			{
; 1032 : 				/* 
; 1033 : 				 * [SI], [F], [TH], [S], [SH]
; 1034 : 				 */
; 1035 : 				if ((fealas & FSYLL) IS_PLUS)

  05feb	f6 c2 01	 test	 dl, 1
  05fee	74 1e		 je	 SHORT $L73460

; 1036 : 				{
; 1037 : 					if (pDphsettar->phcur == GEN_SIL)

  05ff0	66 3d 00 1e	 cmp	 ax, 7680		; 00001e00H
  05ff4	75 0d		 jne	 SHORT $L73459

; 1038 : 					{
; 1039 : 						/* 
; 1040 : 						 * Changed 56 -> 40             22-Jul-86
; 1041 : 						 */
; 1042 : 						pDphsettar->bouval = 40;

  05ff6	66 c7 06 28 00	 mov	 WORD PTR [esi], 40	; 00000028H

; 1043 : 						pDphsettar->durtran = NF80MS;

  05ffb	66 c7 46 06 0d
	00		 mov	 WORD PTR [esi+6], 13	; 0000000dH

; 1044 : 					}
; 1045 : 					else

  06001	eb 0b		 jmp	 SHORT $L73460
$L73459:

; 1046 : 					{
; 1047 : 						/* 
; 1048 : 						 * Changed 52 -> 36             22-Jul-86
; 1049 : 						 */
; 1050 : 						pDphsettar->bouval = 36;

  06003	66 c7 06 24 00	 mov	 WORD PTR [esi], 36	; 00000024H

; 1051 : 						pDphsettar->durtran = NF45MS;

  06008	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
$L73460:

; 1052 : 					}
; 1053 : 				}
; 1054 : 				//debugforward (" Spanish AH si/f/th/s/sh rule",pDphsettar->np);
; 1055 : 			}
; 1056 : 		}
; 1057 : 		/* Tilt parameter jumps to target values */
; 1058 : 		if (pDphsettar->np == &PTILT)

  0600e	8d 97 40 02 00
	00		 lea	 edx, DWORD PTR [edi+576]
  06014	3b ca		 cmp	 ecx, edx
  06016	75 06		 jne	 SHORT $L73461
$L75342:

; 1059 : 		{
; 1060 : 			pDphsettar->durtran = 0;

  06018	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L73461:

; 1076 : 		}
; 1077 : 	}
; 1078 : 
; 1079 : 	/* Truncate tran dur if exceeds duration of current phone */
; 1080 : 	if (pDphsettar->durtran > pDph_t->durfon)

  0601e	66 8b bf 04 15
	00 00		 mov	 di, WORD PTR [edi+5380]
  06025	66 39 7e 06	 cmp	 WORD PTR [esi+6], di
  06029	7e 04		 jle	 SHORT $L73465

; 1081 : 		pDphsettar->durtran = pDph_t->durfon;

  0602b	66 89 7e 06	 mov	 WORD PTR [esi+6], di
$L73465:

; 1082 : 	/* Or duration of 20 frames */
; 1083 : 	if (pDphsettar->durtran > NF130MS)

  0602f	b8 14 00 00 00	 mov	 eax, 20			; 00000014H
  06034	66 39 46 06	 cmp	 WORD PTR [esi+6], ax
  06038	7e 04		 jle	 SHORT $L73466

; 1084 : 		pDphsettar->durtran = NF130MS;

  0603a	66 89 46 06	 mov	 WORD PTR [esi+6], ax
$L73466:

; 1085 : 	/* Do not allow amplitude value to go below zero */
; 1086 : 	if (pDphsettar->bouval < 0)

  0603e	66 83 3e 00	 cmp	 WORD PTR [esi], 0
  06042	7d 05		 jge	 SHORT $L73467

; 1087 : 		pDphsettar->bouval = 0;

  06044	66 c7 06 00 00	 mov	 WORD PTR [esi], 0
$L73467:
  06049	5f		 pop	 edi
  0604a	5e		 pop	 esi
  0604b	5d		 pop	 ebp
  0604c	5b		 pop	 ebx

; 1088 : 	/*EAB 6/24/98 
; 1089 : 		if (pDphsettar->np == &PF1)
; 1090 : 			WINprintf("f1= %d \n",pDphsettar->bouval);
; 1091 : 			*/
; 1092 : }

  0604d	c3		 ret	 0
_la_forw_smooth_rules ENDP
_phTTS$ = 8
_shrib$ = 12
_feacur$ = 16
_feanex$ = 20
_strucnex$ = 24
_la_back_smooth_rules PROC NEAR

; 1113 : {

  06050	53		 push	 ebx
  06051	55		 push	 ebp
  06052	56		 push	 esi
  06053	57		 push	 edi

; 1114 : 	short                   temp;	   /* MVP MI : This varaible is made local */
; 1115 : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  06054	8b 7c 24 14	 mov	 edi, DWORD PTR _phTTS$[esp+12]

; 1116 : 	PKSD_T                  pKsd_t = phTTS->pKernelShareData;
; 1117 : 
; 1118 : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;
; 1119 : 
; 1120 : 	    //debugbackward("Backward (cur/nex) default",pDphsettar->np);
; 1121 : 	/* Formant frequencies */
; 1122 : 	if (pDphsettar->par_type IS_FORM_FREQ_OR_BW
; 1123 : 		&& (feacur & FVOWEL) IS_PLUS
; 1124 : 		&& (feanex & FSEMIV) IS_PLUS
; 1125 : 		&& (strucnex & FBOUNDARY) == 0)

  06058	8b 4c 24 24	 mov	 ecx, DWORD PTR _strucnex$[esp+12]
  0605c	8b 6f 18	 mov	 ebp, DWORD PTR [edi+24]
  0605f	8b b5 10 2c 00
	00		 mov	 esi, DWORD PTR [ebp+11280]
  06065	8a 46 14	 mov	 al, BYTE PTR [esi+20]
  06068	3c 02		 cmp	 al, 2
  0606a	7e 4b		 jle	 SHORT $L75355
  0606c	8b 5c 24 1c	 mov	 ebx, DWORD PTR _feacur$[esp+12]
  06070	8b 54 24 20	 mov	 edx, DWORD PTR _feanex$[esp+12]
  06074	f6 c3 04	 test	 bl, 4
  06077	74 46		 je	 SHORT $L73483
  06079	8b da		 mov	 ebx, edx
  0607b	81 e3 00 40 00
	00		 and	 ebx, 16384		; 00004000H
  06081	66 85 db	 test	 bx, bx
  06084	74 35		 je	 SHORT $L75365
  06086	8b d9		 mov	 ebx, ecx
  06088	81 e3 e0 01 00
	00		 and	 ebx, 480		; 000001e0H
  0608e	66 85 db	 test	 bx, bx
  06091	75 28		 jne	 SHORT $L75365
$L75375:

; 1126 : 	{
; 1127 : 		pDphsettar->durtran = pDph_t->durfon >> 1;

  06093	66 8b 85 04 15
	00 00		 mov	 ax, WORD PTR [ebp+5380]
  0609a	66 d1 f8	 sar	 ax, 1
  0609d	66 89 46 06	 mov	 WORD PTR [esi+6], ax

; 1128 : 		pDphsettar->bouval = (pDphsettar->np->tarnex + pDphsettar->np->tarcur) >> 1;

  060a1	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  060a4	0f bf 48 16	 movsx	 ecx, WORD PTR [eax+22]
  060a8	0f bf 10	 movsx	 edx, WORD PTR [eax]
  060ab	03 ca		 add	 ecx, edx
  060ad	d1 f9		 sar	 ecx, 1
  060af	66 89 0e	 mov	 WORD PTR [esi], cx

; 1129 : 		//debugbackward (" dipthong (vowel) transition",pDphsettar->np);
; 1130 : 	}
; 1131 : 	else if (pDphsettar->par_type IS_FORM_FREQ_OR_BW

  060b2	e9 a7 05 00 00	 jmp	 $endbsmo$73537
$L75355:
  060b7	8b 54 24 20	 mov	 edx, DWORD PTR _feanex$[esp+12]
$L75365:
  060bb	8b 5c 24 1c	 mov	 ebx, DWORD PTR _feacur$[esp+12]
$L73483:

; 1132 : 			 && (feacur & FSEMIV) IS_PLUS
; 1133 : 			 && (feanex & FVOWEL) IS_PLUS
; 1134 : 			 && (strucnex & FBOUNDARY) == 0)

  060bf	3c 02		 cmp	 al, 2
  060c1	7e 1f		 jle	 SHORT $L73485
  060c3	81 e3 00 40 00
	00		 and	 ebx, 16384		; 00004000H
  060c9	66 85 db	 test	 bx, bx
  060cc	74 10		 je	 SHORT $L75366
  060ce	f6 c2 04	 test	 dl, 4
  060d1	74 0b		 je	 SHORT $L75366
  060d3	81 e1 e0 01 00
	00		 and	 ecx, 480		; 000001e0H
  060d9	66 85 c9	 test	 cx, cx

; 1135 : 	{
; 1136 : 		pDphsettar->durtran = pDph_t->durfon >> 1;
; 1137 : 		pDphsettar->bouval = (pDphsettar->np->tarnex + pDphsettar->np->tarcur) >> 1;
; 1138 : 		//debugbackward (" dipthong (semivowel) transition",pDphsettar->np);
; 1139 : 	}
; 1140 : 	else if (pDphsettar->par_type IS_FORM_FREQ)

  060dc	74 b5		 je	 SHORT $L75375
$L75366:

; 1132 : 			 && (feacur & FSEMIV) IS_PLUS
; 1133 : 			 && (feanex & FVOWEL) IS_PLUS
; 1134 : 			 && (strucnex & FBOUNDARY) == 0)

  060de	8b 5c 24 1c	 mov	 ebx, DWORD PTR _feacur$[esp+12]
$L73485:

; 1135 : 	{
; 1136 : 		pDphsettar->durtran = pDph_t->durfon >> 1;
; 1137 : 		pDphsettar->bouval = (pDphsettar->np->tarnex + pDphsettar->np->tarcur) >> 1;
; 1138 : 		//debugbackward (" dipthong (semivowel) transition",pDphsettar->np);
; 1139 : 	}
; 1140 : 	else if (pDphsettar->par_type IS_FORM_FREQ)

  060e2	3c 03		 cmp	 al, 3
  060e4	0f 85 ad 01 00
	00		 jne	 $L73487

; 1141 : 	{        
; 1142 : 		/* 0. Use default values for obst-obst transition */
; 1143 : 		if ((feacur & FSONOR) IS_PLUS)

  060ea	f6 c3 10	 test	 bl, 16			; 00000010H
  060ed	74 5c		 je	 SHORT $L73495

; 1144 : 		{
; 1145 : 			pDphsettar->durtran = NF45MS;
; 1146 : #if 0
; 1147 : 		  NOTE:[y] and[yh] are now     obstruents
; 1148 : 			if                      (pDphsettar->phcur == LAP_YH)		/* Faster for y */
; 1149 : 				pDphsettar->durtran = NF25MS;	/* 23-Apr-86    */
; 1150 : #endif
; 1151 : 			if ((feacur & FSONCON) IS_MINUS)

  060ef	8b c3		 mov	 eax, ebx
  060f1	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
  060f7	25 00 02 00 00	 and	 eax, 512		; 00000200H
  060fc	66 85 c0	 test	 ax, ax
  060ff	75 5d		 jne	 SHORT $L73489

; 1152 : 			{
; 1153 : 				if ((feanex & FSONCON) IS_PLUS)

  06101	8b ca		 mov	 ecx, edx
  06103	81 e1 00 02 00
	00		 and	 ecx, 512		; 00000200H
  06109	66 85 c9	 test	 cx, cx
  0610c	74 3d		 je	 SHORT $L73495

; 1154 : 				{
; 1155 : 					/* 1. Vowel-soncon trans, use 75-25% rule */
; 1156 : 					pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarnex) >> 1;

  0610e	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  06111	0f bf 1e	 movsx	 ebx, WORD PTR [esi]
  06114	0f bf 48 16	 movsx	 ecx, WORD PTR [eax+22]
  06118	03 cb		 add	 ecx, ebx
  0611a	d1 f9		 sar	 ecx, 1
  0611c	66 89 0e	 mov	 WORD PTR [esi], cx

; 1157 : 					/* F3 transitions slower esp for [r,l] */
; 1158 : 					if (pDphsettar->np == &PF3)

  0611f	8d 4d 6c	 lea	 ecx, DWORD PTR [ebp+108]
  06122	3b c1		 cmp	 eax, ecx
  06124	75 06		 jne	 SHORT $L73491

; 1159 : 					{
; 1160 : 						pDphsettar->durtran = NF64MS;

  06126	66 c7 46 06 0a
	00		 mov	 WORD PTR [esi+6], 10	; 0000000aH
$L73491:

; 1161 : 					}
; 1162 : 					/* First formant jumps down 80 Hz in /l/ */
; 1163 : 					/* Block if transition from silence              */
; 1164 : 					/* Suggestion from DHK, June 5, 85               */
; 1165 : 					if (pDphsettar->phcur != GEN_SIL
; 1166 : 						&& (pDphsettar->phonex == LAP_L) && (pDphsettar->np == &PF1))

  0612c	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  06132	74 13		 je	 SHORT $L75368
  06134	66 81 7e 0a 09
	1a		 cmp	 WORD PTR [esi+10], 6665	; 00001a09H
  0613a	75 0b		 jne	 SHORT $L75368
  0613c	8d 4d 24	 lea	 ecx, DWORD PTR [ebp+36]
  0613f	3b c1		 cmp	 eax, ecx
  06141	75 04		 jne	 SHORT $L75368

; 1167 : 					{
; 1168 : 						pDphsettar->bouval += 80;

  06143	66 83 06 50	 add	 WORD PTR [esi], 80	; 00000050H
$L75368:

; 1169 : 					}
; 1170 : 				}
; 1171 : 				else
; 1172 : 				{
; 1173 : 				}
; 1174 : 			}
; 1175 : 			else

  06147	8b 5c 24 1c	 mov	 ebx, DWORD PTR _feacur$[esp+12]
$L73495:

; 1183 : 				}
; 1184 : 				else
; 1185 : 				{
; 1186 : 					/* 4. Soncon-soncon transition */
; 1187 : 					/* Use defaults */
; 1188 : 				}
; 1189 : 			}
; 1190 : 		}
; 1191 : 		/* No backward smoothing if next phone is silence */
; 1192 : 		if (pDphsettar->phonex == GEN_SIL)

  0614b	66 81 7e 0a 00
	1e		 cmp	 WORD PTR [esi+10], 7680	; 00001e00H
  06151	75 36		 jne	 SHORT $L73497

; 1193 : 		{
; 1194 : 			pDphsettar->durtran = 0;

  06153	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0

; 1195 : 		}
; 1196 : 		else

  06159	e9 eb 00 00 00	 jmp	 $L73509
$L73489:

; 1176 : 			{
; 1177 : 				pDphsettar->durtran = NF40MS;
; 1178 : 				if ((feanex & FSONCON) IS_MINUS)

  0615e	8b c2		 mov	 eax, edx
  06160	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
  06166	25 00 02 00 00	 and	 eax, 512		; 00000200H
  0616b	66 85 c0	 test	 ax, ax
  0616e	75 db		 jne	 SHORT $L73495

; 1179 : 				{
; 1180 : 					/* 3. Soncon-vowel trans, use 25-75% rule */
; 1181 : 					pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarend) >> 1;

  06170	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  06173	0f bf 41 1a	 movsx	 eax, WORD PTR [ecx+26]
  06177	0f bf 0e	 movsx	 ecx, WORD PTR [esi]
  0617a	03 c1		 add	 eax, ecx

; 1182 : 					pDphsettar->durtran = NF20MS;

  0617c	66 c7 46 06 03
	00		 mov	 WORD PTR [esi+6], 3
  06182	d1 f8		 sar	 eax, 1
  06184	66 89 06	 mov	 WORD PTR [esi], ax
  06187	eb c2		 jmp	 SHORT $L73495
$L73497:

; 1197 : 		{
; 1198 : 			if (pDphsettar->np <= &PF3)

  06189	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  0618c	8d 45 6c	 lea	 eax, DWORD PTR [ebp+108]
  0618f	3b c8		 cmp	 ecx, eax
  06191	77 3b		 ja	 SHORT $L73499

; 1199 : 			{
; 1200 : 				/* 5. phcur=sonor, phonex=obst transition */
; 1201 : 				setloc (phTTS, (short)(pDph_t->nphone + 1), pDph_t->nphone, FINAL, (short)(pDph_t->nphone + 2), feanex);

  06193	66 8b 85 d0 23
	00 00		 mov	 ax, WORD PTR [ebp+9168]
  0619a	52		 push	 edx
  0619b	8d 48 02	 lea	 ecx, DWORD PTR [eax+2]
  0619e	51		 push	 ecx
  0619f	6a 01		 push	 1
  061a1	50		 push	 eax
  061a2	40		 inc	 eax
  061a3	50		 push	 eax
  061a4	57		 push	 edi
  061a5	e8 00 00 00 00	 call	 _setloc

; 1202 : 				/* 6. phcur=obst, phonex=sonor transition */
; 1203 : 				setloc (phTTS, pDph_t->nphone, (short)(pDph_t->nphone + 1), INITIAL, (short)(pDph_t->nphone - 1), feanex);

  061aa	66 8b 85 d0 23
	00 00		 mov	 ax, WORD PTR [ebp+9168]
  061b1	8b 54 24 38	 mov	 edx, DWORD PTR _feanex$[esp+36]
  061b5	52		 push	 edx
  061b6	8d 48 ff	 lea	 ecx, DWORD PTR [eax-1]
  061b9	8d 50 01	 lea	 edx, DWORD PTR [eax+1]
  061bc	51		 push	 ecx
  061bd	6a 00		 push	 0
  061bf	52		 push	 edx
  061c0	50		 push	 eax
  061c1	57		 push	 edi
  061c2	e8 00 00 00 00	 call	 _setloc
  061c7	8b 5c 24 4c	 mov	 ebx, DWORD PTR _feacur$[esp+60]
  061cb	83 c4 30	 add	 esp, 48			; 00000030H
$L73499:

; 1204 : 			}
; 1205 : 			/* Transitions slow inside obstruents */
; 1206 : 			if ((feacur & FOBST) IS_PLUS)

  061ce	f6 c3 20	 test	 bl, 32			; 00000020H
  061d1	74 26		 je	 SHORT $L73505

; 1207 : 			{
; 1208 : 				pDphsettar->durtran = (pDphsettar->np == &PF1) ? NF20MS : NF30MS;

  061d3	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  061d6	8d 45 24	 lea	 eax, DWORD PTR [ebp+36]
  061d9	2b c8		 sub	 ecx, eax
  061db	f7 d9		 neg	 ecx
  061dd	1b c9		 sbb	 ecx, ecx
  061df	83 e1 02	 and	 ecx, 2
  061e2	83 c1 03	 add	 ecx, 3

; 1209 : 				/* Transitions take all of plosive duration */
; 1210 : 				if ((feacur & FPLOSV) IS_PLUS)

  061e5	f6 c3 40	 test	 bl, 64			; 00000040H
  061e8	66 89 4e 06	 mov	 WORD PTR [esi+6], cx
  061ec	74 0b		 je	 SHORT $L73505

; 1211 : 				{
; 1212 : 					pDphsettar->durtran = pDph_t->durfon;

  061ee	66 8b 95 04 15
	00 00		 mov	 dx, WORD PTR [ebp+5380]
  061f5	66 89 56 06	 mov	 WORD PTR [esi+6], dx
$L73505:

; 1213 : 				}
; 1214 : 				//debugbackward (" Obstruent",pDphsettar->np);
; 1215 : 			}
; 1216 : 
; 1217 : 			/* Higher formant transitions slow inside a nasal */
; 1218 : 			if ((feacur & FNASAL) IS_PLUS)

  061f9	f6 c3 80	 test	 bl, -128		; ffffff80H
  061fc	74 4b		 je	 SHORT $L73509

; 1219 : 			{
; 1220 : 				pDphsettar->durtran = pDph_t->durfon;

  061fe	66 8b 85 04 15
	00 00		 mov	 ax, WORD PTR [ebp+5380]

; 1221 : 				/* Except F1, which jumps to value below FNZRO */
; 1222 : 				if (pDphsettar->np == &PF1)

  06205	8d 4d 24	 lea	 ecx, DWORD PTR [ebp+36]
  06208	66 89 46 06	 mov	 WORD PTR [esi+6], ax
  0620c	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  0620f	3b c1		 cmp	 eax, ecx
  06211	75 08		 jne	 SHORT $L73507

; 1223 : 				{
; 1224 : 					pDphsettar->durtran = 0;

  06213	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0

; 1225 : 				}
; 1226 : 				/* Lower F2 of [m] murmur near [i,y,yx] */
; 1227 : 				else if ((pDphsettar->np == &PF2)

  06219	eb 2e		 jmp	 SHORT $L73509
$L73507:

; 1228 : 						 && (pDphsettar->phcur == LAP_M || pDphsettar->phcur == LAP_MX)
; 1229 : 						 && ((la_place[pDphsettar->phonex & PVALUE] & F2BACKI) IS_PLUS))

  0621b	8d 55 48	 lea	 edx, DWORD PTR [ebp+72]
  0621e	3b c2		 cmp	 eax, edx
  06220	75 27		 jne	 SHORT $L73509
  06222	66 8b 46 18	 mov	 ax, WORD PTR [esi+24]
  06226	66 3d 0b 1a	 cmp	 ax, 6667		; 00001a0bH
  0622a	74 06		 je	 SHORT $L73510
  0622c	66 3d 25 1a	 cmp	 ax, 6693		; 00001a25H
  06230	75 17		 jne	 SHORT $L73509
$L73510:
  06232	8a 46 0a	 mov	 al, BYTE PTR [esi+10]
  06235	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  0623a	f6 04 45 00 00
	00 00 40	 test	 BYTE PTR _la_place[eax*2], 64 ; 00000040H
  06242	74 05		 je	 SHORT $L73509

; 1230 : 				{
; 1231 : 					pDphsettar->bouval -= 150;

  06244	66 81 06 6a ff	 add	 WORD PTR [esi], -150	; ffffff6aH
$L73509:

; 1232 : 				}
; 1233 : 			}
; 1234 : 		}
; 1235 : 
; 1236 : 		/* Shrink tran dur inside sonorant if sonorant short */
; 1237 : 		if (((feacur & FOBST) IS_MINUS)
; 1238 : 			&& (begtyp(pDphsettar->phonex) != OBSTRUENT)	/* Unless next seg is obst */
; 1239 : 			&& (pDphsettar->durtran > 0))

  06249	f6 c3 20	 test	 bl, 32			; 00000020H
  0624c	0f 85 0c 04 00
	00		 jne	 $endbsmo$73537
  06252	0f bf 46 0a	 movsx	 eax, WORD PTR [esi+10]
  06256	8b c8		 mov	 ecx, eax
  06258	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  0625d	c1 f9 08	 sar	 ecx, 8
  06260	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_begtyp[ecx*4]
  06267	66 83 3c 42 04	 cmp	 WORD PTR [edx+eax*2], 4
  0626c	0f 84 ec 03 00
	00		 je	 $endbsmo$73537
  06272	66 8b 46 06	 mov	 ax, WORD PTR [esi+6]
  06276	66 85 c0	 test	 ax, ax
  06279	0f 8e df 03 00
	00		 jle	 $endbsmo$73537

; 1240 : 		{
; 1241 : 			//pDph_t->arg1 = pDphsettar->durtran;
; 1242 : 			//pDph_t->arg2 = shrib;
; 1243 : 			pDphsettar->durtran = mlsh1 (pDphsettar->durtran,shrib) + 1;

  0627f	0f bf 4c 24 18	 movsx	 ecx, WORD PTR _shrib$[esp+12]
  06284	0f bf c0	 movsx	 eax, ax
  06287	0f af c1	 imul	 eax, ecx
  0628a	c1 f8 0e	 sar	 eax, 14			; 0000000eH
  0628d	40		 inc	 eax
  0628e	66 89 46 06	 mov	 WORD PTR [esi+6], ax

; 1244 : 		}
; 1245 : 		//debugbackward (" Other formant freq. rule",pDphsettar->np);
; 1246 : 	}
; 1247 : 	/* Formant bandwidths */
; 1248 : 	else if (pDphsettar->par_type IS_FORM_BW)

  06292	e9 c7 03 00 00	 jmp	 $endbsmo$73537
$L73487:
  06297	3c 04		 cmp	 al, 4
  06299	0f 85 17 01 00
	00		 jne	 $L73513

; 1249 : 	{
; 1250 : 		pDphsettar->durtran = NF40MS;
; 1251 : 		if ((feacur & FVOICD) IS_PLUS)

  0629f	8a 44 24 1c	 mov	 al, BYTE PTR _feacur$[esp+12]
  062a3	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
  062a9	a8 02		 test	 al, 2
  062ab	bb 08 00 00 00	 mov	 ebx, 8
  062b0	74 37		 je	 SHORT $L73514

; 1252 : 		{
; 1253 : 			/* Glottis opens early before -voice C, widen B1 */
; 1254 : 			if (pDphsettar->np == &PB1)

  062b2	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  062b5	8d 8d b4 00 00
	00		 lea	 ecx, DWORD PTR [ebp+180]
  062bb	3b c1		 cmp	 eax, ecx
  062bd	75 30		 jne	 SHORT $L73518

; 1255 : 			{
; 1256 : 				if ((feanex & FVOICD) IS_MINUS)

  062bf	f6 c2 02	 test	 dl, 2
  062c2	75 2b		 jne	 SHORT $L73518

; 1257 : 				{
; 1258 : 					pDphsettar->durtran = NF50MS;

  062c4	66 89 5e 06	 mov	 WORD PTR [esi+6], bx

; 1259 : 					/* More increase for low vowels (F1 high) */
; 1260 : 					pDphsettar->bouval = pDphsettar->np->tarend + (PF1.tarcur >> 3);

  062c8	66 8b 4d 24	 mov	 cx, WORD PTR [ebp+36]
  062cc	66 c1 f9 03	 sar	 cx, 3
  062d0	66 03 48 1a	 add	 cx, WORD PTR [eax+26]
  062d4	66 89 0e	 mov	 WORD PTR [esi], cx

; 1261 : 					/* Effect is greater for a female voice */
; 1262 : 					if (pDph_t->malfem == FEMALE)

  062d7	66 83 bd 08 15
	00 00 00	 cmp	 WORD PTR [ebp+5384], 0
  062df	75 0e		 jne	 SHORT $L73518

; 1263 : 					{
; 1264 : 						pDphsettar->durtran = NF100MS;

  062e1	66 c7 46 06 10
	00		 mov	 WORD PTR [esi+6], 16	; 00000010H

; 1265 : 					}
; 1266 : 				}
; 1267 : 			}
; 1268 : 		}
; 1269 : 		else

  062e7	eb 06		 jmp	 SHORT $L73518
$L73514:

; 1270 : 		{
; 1271 : 			pDphsettar->durtran = NF20MS;

  062e9	66 c7 46 06 03
	00		 mov	 WORD PTR [esi+6], 3
$L73518:

; 1272 : 		}
; 1273 : 		//debugbackward (" After BW initial setup",pDphsettar->np);
; 1274 : 		/* Treat boundary with silence */
; 1275 : 		/* OUT ??? */ 
; 1276 : 		if (pDphsettar->phonex == GEN_SIL)

  062ef	b8 00 1e 00 00	 mov	 eax, 7680		; 00001e00H
  062f4	66 39 46 0a	 cmp	 WORD PTR [esi+10], ax
  062f8	75 33		 jne	 SHORT $L73519

; 1277 : 		{
; 1278 : 			pDphsettar->bouval = pDphsettar->np->tarend + ((&PB3 - pDphsettar->np) * 50);

  062fa	8b 7e 10	 mov	 edi, DWORD PTR [esi+16]
  062fd	8b cd		 mov	 ecx, ebp
  062ff	2b cf		 sub	 ecx, edi
  06301	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  06306	81 c1 fc 00 00
	00		 add	 ecx, 252		; 000000fcH
  0630c	f7 e9		 imul	 ecx
  0630e	c1 fa 03	 sar	 edx, 3
  06311	8b c2		 mov	 eax, edx
  06313	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  06316	03 d0		 add	 edx, eax
  06318	8d 04 92	 lea	 eax, DWORD PTR [edx+edx*4]
  0631b	8d 0c 80	 lea	 ecx, DWORD PTR [eax+eax*4]
  0631e	d1 e1		 shl	 ecx, 1
  06320	66 03 4f 1a	 add	 cx, WORD PTR [edi+26]

; 1279 : 			pDphsettar->durtran = NF50MS;

  06324	66 89 5e 06	 mov	 WORD PTR [esi+6], bx
  06328	66 89 0e	 mov	 WORD PTR [esi], cx

; 1280 : 			//debugbackward (" Transition to silence",pDphsettar->np);
; 1281 : 		}
; 1282 : 		else if (pDphsettar->phcur == GEN_SIL)

  0632b	eb 4c		 jmp	 SHORT $L75357
$L73519:
  0632d	66 39 46 18	 cmp	 WORD PTR [esi+24], ax
  06331	75 4a		 jne	 SHORT $L73522

; 1283 : 		{
; 1284 : 			pDphsettar->bouval = pDphsettar->np->tarnex + ((&PB3 - pDphsettar->np) * 50);

  06333	8b 7e 10	 mov	 edi, DWORD PTR [esi+16]
  06336	8b cd		 mov	 ecx, ebp
  06338	2b cf		 sub	 ecx, edi
  0633a	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  0633f	81 c1 fc 00 00
	00		 add	 ecx, 252		; 000000fcH
  06345	f7 e9		 imul	 ecx
  06347	c1 fa 03	 sar	 edx, 3
  0634a	8b c2		 mov	 eax, edx
  0634c	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  0634f	03 d0		 add	 edx, eax
  06351	8d 04 92	 lea	 eax, DWORD PTR [edx+edx*4]

; 1285 : 			pDphsettar->durtran = NF50MS;
; 1286 : 			/* 
; 1287 : 			 * Faster transition into [L] and [LL]
; 1288 : 			 */
; 1289 : 			if ((feanex & FSONCON) IS_PLUS)

  06354	8b 54 24 20	 mov	 edx, DWORD PTR _feanex$[esp+12]
  06358	81 e2 00 02 00
	00		 and	 edx, 512		; 00000200H
  0635e	8d 0c 80	 lea	 ecx, DWORD PTR [eax+eax*4]
  06361	d1 e1		 shl	 ecx, 1
  06363	66 03 4f 16	 add	 cx, WORD PTR [edi+22]
  06367	66 89 5e 06	 mov	 WORD PTR [esi+6], bx
  0636b	66 85 d2	 test	 dx, dx
  0636e	66 89 0e	 mov	 WORD PTR [esi], cx
  06371	74 06		 je	 SHORT $L75357

; 1290 : 				pDphsettar->durtran = NF15MS;

  06373	66 c7 46 06 02
	00		 mov	 WORD PTR [esi+6], 2
$L75357:
  06379	8b 54 24 20	 mov	 edx, DWORD PTR _feanex$[esp+12]
$L73522:

; 1291 : 			//debugbackward (" Transition from silence",pDphsettar->np);
; 1292 : 		}
; 1293 : 
; 1294 : 		/* BW1 widen, to nasalize transition into next nasal */
; 1295 : 		if ((feanex & FNASAL) IS_PLUS)

  0637d	f6 c2 80	 test	 dl, -128		; ffffff80H
  06380	74 1e		 je	 SHORT $L73524

; 1296 : 		{
; 1297 : 			pDphsettar->bouval = pDphsettar->np->tarend;

  06382	8b 46 10	 mov	 eax, DWORD PTR [esi+16]

; 1298 : 			if (pDphsettar->np == &PB1)

  06385	8d 95 b4 00 00
	00		 lea	 edx, DWORD PTR [ebp+180]
  0638b	3b c2		 cmp	 eax, edx
  0638d	66 8b 48 1a	 mov	 cx, WORD PTR [eax+26]
  06391	66 89 0e	 mov	 WORD PTR [esi], cx
  06394	75 0a		 jne	 SHORT $L73524

; 1299 : 			{
; 1300 : 				/* 
; 1301 : 				 * Changed 20ms -> 40ms                 28-Apr-86
; 1302 : 				 */
; 1303 : 				pDphsettar->durtran = NF40MS;	/* shorter transition   */
; 1304 : 				pDphsettar->bouval += 100;

  06396	66 83 06 64	 add	 WORD PTR [esi], 100	; 00000064H
  0639a	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
$L73524:

; 1305 : 			}
; 1306 : 			//debugbackward (" Transition to nasal",pDphsettar->np);
; 1307 : 		}
; 1308 : 		/* Nasals have constant bandwidths at target values */
; 1309 : 		if ((feacur & FNASAL) IS_PLUS)

  063a0	f6 44 24 1c 80	 test	 BYTE PTR _feacur$[esp+12], -128 ; ffffff80H
  063a5	0f 84 b3 02 00
	00		 je	 $endbsmo$73537

; 1310 : 		{
; 1311 : 			pDphsettar->durtran = 0;

  063ab	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0

; 1312 : 			//debugbackward (" Nasal has const. par val",pDphsettar->np);
; 1313 : 		}
; 1314 : 		//debugbackward (" Bandwidth result",pDphsettar->np);
; 1315 : 	}
; 1316 : 
; 1317 : 	/* Source amplitudes, including parallel formant amplitudes */
; 1318 : 	else if ((pDphsettar->par_type IS_PARALLEL_FORM_AMP)

  063b1	e9 a8 02 00 00	 jmp	 $endbsmo$73537
$L73513:

; 1319 : 			 || (pDphsettar->par_type IS_AV_OR_AH))

  063b6	3c 02		 cmp	 al, 2
  063b8	74 34		 je	 SHORT $L73528
  063ba	84 c0		 test	 al, al
  063bc	74 30		 je	 SHORT $L73528

; 1510 : 				}
; 1511 : 			}
; 1512 : 			//debugbackward ("tilt",pDphsettar->np);
; 1513 : 		}
; 1514 : 	}
; 1515 : 
; 1516 : 	/* Nasal antiresonator frequency */
; 1517 : 	else if (pDphsettar->par_type IS_NASAL_ZERO_FREQ)

  063be	3c 01		 cmp	 al, 1
  063c0	0f 85 98 02 00
	00		 jne	 $endbsmo$73537

; 1518 : 	{
; 1519 : 		pDphsettar->durtran = 0;
; 1520 : 		/* Nasalization cue: place zero between F1 and FP */
; 1521 : 		if (((feanex & FNASAL) IS_PLUS)
; 1522 : 			&& ((feacur & FNASAL) IS_MINUS))

  063c6	f6 c2 80	 test	 dl, -128		; ffffff80H
  063c9	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
  063cf	0f 84 89 02 00
	00		 je	 $endbsmo$73537
  063d5	f6 c3 80	 test	 bl, -128		; ffffff80H
  063d8	0f 85 80 02 00
	00		 jne	 $endbsmo$73537

; 1523 : 		{
; 1524 : 			pDphsettar->bouval = NASAL_ZERO_BOUNDARY;

  063de	66 c7 06 72 01	 mov	 WORD PTR [esi], 370	; 00000172H

; 1525 : 			pDphsettar->durtran = NF20MS;

  063e3	66 c7 46 06 03
	00		 mov	 WORD PTR [esi+6], 3
  063e9	e9 70 02 00 00	 jmp	 $endbsmo$73537
$L73528:

; 1320 : 	{
; 1321 : 		/* See if onset, i.e. source intensity increasing */
; 1322 : 		temp = pDphsettar->np->tarnex - 10;

  063ee	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  063f1	66 8b 42 16	 mov	 ax, WORD PTR [edx+22]
  063f5	66 2d 0a 00	 sub	 ax, 10			; 0000000aH

; 1323 : 		if (pDphsettar->bouval < temp)

  063f9	66 39 06	 cmp	 WORD PTR [esi], ax
  063fc	7d 11		 jge	 SHORT $L73530

; 1324 : 		{
; 1325 : 			pDphsettar->bouval = temp;
; 1326 : 			/* Onset of an init fricative or /h/ is very gradual */
; 1327 : 			if (pDphsettar->phcur == GEN_SIL)

  063fe	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  06404	66 89 06	 mov	 WORD PTR [esi], ax
  06407	75 06		 jne	 SHORT $L73530

; 1328 : 			{
; 1329 : 				pDphsettar->durtran = NF70MS;

  06409	66 c7 46 06 0b
	00		 mov	 WORD PTR [esi+6], 11	; 0000000bH
$L73530:

; 1330 : 			}
; 1331 : 			//debugbackward (" Onset",pDphsettar->np);
; 1332 : 		}
; 1333 : 		/* Voicing is special:  onset is abrupt, except if a voiced fric */
; 1334 : 		if ((pDphsettar->np == &PAV) && (pDphsettar->bouval < pDphsettar->np->tarnex)
; 1335 : #if 0
; 1336 : 			&& feacur != (FVOICD | FSONOR | FCONSON))
; 1337 : 		{
; 1338 : 			/* 
; 1339 : 			 * All but BH, DH, GH, YH, V, Z
; 1340 : 			 */
; 1341 : #else
; 1342 : #ifdef LAP_V
; 1343 : 			&& pDphsettar->phcur != LAP_V
; 1344 : #endif
; 1345 : 			&& pDphsettar->phcur != LAP_YH   /* 7-May-86    */
; 1346 : 			&& pDphsettar->phcur != LAP_Z)

  0640f	8d 85 20 01 00
	00		 lea	 eax, DWORD PTR [ebp+288]
  06415	3b d0		 cmp	 edx, eax
  06417	75 6e		 jne	 SHORT $L75358
  06419	66 8b 06	 mov	 ax, WORD PTR [esi]
  0641c	66 3b 42 16	 cmp	 ax, WORD PTR [edx+22]
  06420	7d 65		 jge	 SHORT $L75358
  06422	66 8b 4e 18	 mov	 cx, WORD PTR [esi+24]
  06426	66 81 f9 23 1a	 cmp	 cx, 6691		; 00001a23H
  0642b	74 5a		 je	 SHORT $L75358
  0642d	66 81 f9 15 1a	 cmp	 cx, 6677		; 00001a15H
  06432	74 53		 je	 SHORT $L75358
  06434	66 81 f9 20 1a	 cmp	 cx, 6688		; 00001a20H
  06439	74 4c		 je	 SHORT $L75358

; 1347 : 		{
; 1348 : 			/* 
; 1349 : 			 * All but Y, V, Z
; 1350 : 			 */
; 1351 : #endif
; 1352 : 			pDphsettar->durtran = 0;
; 1353 : 			//debugbackward (" Make next onset abrupt",pDphsettar->np);
; 1354 : 			/* Voicebar dies out in a voiced plosive */
; 1355 : 			if (((feacur & FPLOSV) IS_PLUS)
; 1356 : 				|| (pDphsettar->phcur == LAP_CH)
; 1357 : 				|| (pDphsettar->phcur == LAP_YH)
; 1358 : 				|| (pDphsettar->phcur == LAP_GH))

  0643b	8b 5c 24 1c	 mov	 ebx, DWORD PTR _feacur$[esp+12]
  0643f	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
  06445	8b c3		 mov	 eax, ebx
  06447	83 e0 40	 and	 eax, 64			; 00000040H
  0644a	66 85 c0	 test	 ax, ax
  0644d	75 13		 jne	 SHORT $L75374
  0644f	66 81 f9 1c 1a	 cmp	 cx, 6684		; 00001a1cH
  06454	74 07		 je	 SHORT $L73533
  06456	66 81 f9 14 1a	 cmp	 cx, 6676		; 00001a14H
  0645b	75 2e		 jne	 SHORT $L73534
$L73533:

; 1359 : 			{
; 1360 : 				if ((feacur & FPLOSV) IS_PLUS)

  0645d	66 85 c0	 test	 ax, ax
  06460	74 29		 je	 SHORT $L73534
$L75374:

; 1361 : 				{
; 1362 : 					if ((feacur & FVOICD) IS_PLUS)

  06462	f6 c3 02	 test	 bl, 2
  06465	74 16		 je	 SHORT $L73535

; 1363 : 					{
; 1364 : 						pDphsettar->bouval = pDphsettar->np->tarend - 3;

  06467	66 8b 4a 1a	 mov	 cx, WORD PTR [edx+26]

; 1365 : 						pDphsettar->durtran = NF45MS;

  0646b	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
  06471	66 83 e9 03	 sub	 cx, 3
  06475	66 89 0e	 mov	 WORD PTR [esi], cx

; 1366 : 						//debugbackward (" Voicebar dies out",pDphsettar->np);
; 1367 : 					}		   /* out eab dh etc is not a voice bar 
; 1368 : 							7/23/98 removed bh as well */
; 1369 : 					/* Do not allow prevoicing in a voiceless plosive */
; 1370 : 					else

  06478	e9 e1 01 00 00	 jmp	 $endbsmo$73537
$L73535:

; 1371 : 					{
; 1372 : 						pDphsettar->bouval = 0;

  0647d	66 c7 06 00 00	 mov	 WORD PTR [esi], 0

; 1373 : 					}
; 1374 : 					goto endbsmo;

  06482	e9 d7 01 00 00	 jmp	 $endbsmo$73537
$L75358:
  06487	8b 5c 24 1c	 mov	 ebx, DWORD PTR _feacur$[esp+12]
$L73534:

; 1375 : 				}
; 1376 : 			}
; 1377 : 		}
; 1378 : 		/* 
; 1379 : 		 * Spanish prevoices [s] and [th]               8-May-86
; 1380 : 		 * before voiced consonants
; 1381 : 		 * (The exact amount is dialectical and depends
; 1382 : 		 * on the pronunciation style.  We'll try 50%
; 1383 : 		 * for want of anything better.
; 1384 : 		 *
; 1385 : 		 * This is essentially the allophonic rule
; 1386 : 		 *      [s]->[z] / _ [+voice]
; 1387 : 		 */
; 1388 : 		if ((pDphsettar->np == &PAV)
; 1389 : 			&& (pDphsettar->phcur == LAP_S || pDphsettar->phcur == LAP_TH)
; 1390 : 			&& ((feanex & (FCONSON | FVOICD)) == (FCONSON | FVOICD)))

  0648b	8d 85 20 01 00
	00		 lea	 eax, DWORD PTR [ebp+288]
  06491	3b d0		 cmp	 edx, eax
  06493	75 2d		 jne	 SHORT $L73538
  06495	66 8b 46 18	 mov	 ax, WORD PTR [esi+24]
  06499	66 3d 0f 1a	 cmp	 ax, 6671		; 00001a0fH
  0649d	74 06		 je	 SHORT $L73539
  0649f	66 3d 11 1a	 cmp	 ax, 6673		; 00001a11H
  064a3	75 1d		 jne	 SHORT $L73538
$L73539:
  064a5	8b 44 24 20	 mov	 eax, DWORD PTR _feanex$[esp+12]
  064a9	25 02 01 00 00	 and	 eax, 258		; 00000102H
  064ae	66 3d 02 01	 cmp	 ax, 258			; 00000102H
  064b2	75 0e		 jne	 SHORT $L73538

; 1391 : 		{
; 1392 : 			pDphsettar->durtran = pDph_t->durfon >> 1;

  064b4	66 8b 8d 04 15
	00 00		 mov	 cx, WORD PTR [ebp+5380]
  064bb	66 d1 f9	 sar	 cx, 1
  064be	66 89 4e 06	 mov	 WORD PTR [esi+6], cx
$L73538:

; 1393 : 			//debugbackward (" [s, th] prevoicing rule",pDphsettar->np);
; 1394 : 		}
; 1395 : 		if (pDphsettar->phcur == LAP_TH && pDph_t->th_to_s == TRUE)

  064c2	66 81 7e 18 11
	1a		 cmp	 WORD PTR [esi+24], 6673	; 00001a11H
  064c8	75 10		 jne	 SHORT $L73540
  064ca	66 83 bd fa 2b
	00 00 01	 cmp	 WORD PTR [ebp+11258], 1
  064d2	75 06		 jne	 SHORT $L73540

; 1396 : 		{
; 1397 : 			pDphsettar->phcur = LAP_S;

  064d4	66 c7 46 18 0f
	1a		 mov	 WORD PTR [esi+24], 6671	; 00001a0fH
$L73540:

; 1398 : 		}
; 1399 : 		/* If next nasal, and current phone is voiced, set AV const */
; 1400 : 		if (((feanex & FNASAL) IS_PLUS)
; 1401 : 			&& ((feacur & FVOICD) IS_PLUS))

  064da	8a 4c 24 20	 mov	 cl, BYTE PTR _feanex$[esp+12]
  064de	f6 c1 80	 test	 cl, -128		; ffffff80H
  064e1	74 0b		 je	 SHORT $L73541
  064e3	f6 c3 02	 test	 bl, 2
  064e6	74 06		 je	 SHORT $L73541

; 1402 : 		{
; 1403 : 			pDphsettar->durtran = 0;

  064e8	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L73541:

; 1404 : 			//debugbackward (" AV const in voiced to nasal",pDphsettar->np);
; 1405 : 		}
; 1406 : 		/* If current phone nasal, and next phone is voiced, AV constant */
; 1407 : 		if (((feacur & FNASAL) IS_PLUS)
; 1408 : 			&& ((feanex & FVOICD) IS_PLUS))

  064ee	8b c3		 mov	 eax, ebx
  064f0	25 80 00 00 00	 and	 eax, 128		; 00000080H
  064f5	66 85 c0	 test	 ax, ax
  064f8	89 44 24 18	 mov	 DWORD PTR 12+[esp+12], eax
  064fc	74 0b		 je	 SHORT $L73542
  064fe	f6 c1 02	 test	 cl, 2
  06501	74 06		 je	 SHORT $L73542

; 1409 : 		{
; 1410 : 			pDphsettar->durtran = 0;

  06503	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L73542:

; 1411 : 			//debugbackward (" Make murmur const AV",pDphsettar->np);
; 1412 : 		}
; 1413 : 		/* See if offset, i.e. source intensity decreasing */
; 1414 : 		temp = pDphsettar->np->tarend - 10;

  06509	66 8b 7a 1a	 mov	 di, WORD PTR [edx+26]
  0650d	66 83 ef 0a	 sub	 di, 10			; 0000000aH

; 1415 : 		/* Plosive burst does not get attenuated during offset */
; 1416 : 		if ((feacur & FPLOSV) IS_PLUS)

  06511	f6 c3 40	 test	 bl, 64			; 00000040H
  06514	74 48		 je	 SHORT $L73545

; 1417 : 		{
; 1418 : 			/* 
; 1419 : 			 * Change from "always NF15MS"              22-Jul-86
; 1420 : 			 * The value is changed by a special rule.
; 1421 : 			 */
; 1422 : 			if ((feacur & FBURST) IS_MINUS)

  06516	81 e3 00 08 00
	00		 and	 ebx, 2048		; 00000800H
  0651c	66 85 db	 test	 bx, bx
  0651f	75 26		 jne	 SHORT $L73544

; 1423 : 				pDphsettar->durtran = mstofr( burdr(pDphsettar->phcur) );	/* Use inherent */

  06521	0f bf 46 18	 movsx	 eax, WORD PTR [esi+24]
  06525	8b d0		 mov	 edx, eax
  06527	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  0652c	c1 fa 08	 sar	 edx, 8
  0652f	8b 0c 95 00 00
	00 00		 mov	 ecx, DWORD PTR _all_burdr[edx*4]
  06536	0f bf 14 41	 movsx	 edx, WORD PTR [ecx+eax*2]
  0653a	52		 push	 edx
  0653b	e8 00 00 00 00	 call	 _mstofr
  06540	83 c4 04	 add	 esp, 4
  06543	66 89 46 06	 mov	 WORD PTR [esi+6], ax
$L73544:

; 1424 : 			if (pDphsettar->phcur != LAP_CH && pDphsettar->phcur != LAP_YH)

  06547	66 8b 46 18	 mov	 ax, WORD PTR [esi+24]
  0654b	66 3d 1c 1a	 cmp	 ax, 6684		; 00001a1cH
  0654f	74 0d		 je	 SHORT $L73545
  06551	66 3d 15 1a	 cmp	 ax, 6677		; 00001a15H
  06555	74 07		 je	 SHORT $L73545

; 1425 : 			{
; 1426 : 				temp = pDphsettar->np->tarend;

  06557	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  0655a	66 8b 78 1a	 mov	 di, WORD PTR [eax+26]
$L73545:

; 1427 : 			}
; 1428 : 			//debugbackward ("Plosive burst duration",pDphsettar->np);
; 1429 : 		}
; 1430 : 		if (pDphsettar->bouval < temp)

  0655e	66 39 3e	 cmp	 WORD PTR [esi], di
  06561	7d 45		 jge	 SHORT $L73549

; 1431 : 		{
; 1432 : 			pDphsettar->bouval = temp - 3;

  06563	8d 4f fd	 lea	 ecx, DWORD PTR [edi-3]

; 1433 : #if 0
; 1434 : 			/* Out (fix kiki problem) */
; 1435 : 			pDphsettar->durtran = NF20MS;  /* Guess */
; 1436 : #endif
; 1437 : 			if (pDphsettar->np == &PAV)

  06566	8d 85 20 01 00
	00		 lea	 eax, DWORD PTR [ebp+288]
  0656c	66 89 0e	 mov	 WORD PTR [esi], cx
  0656f	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  06572	3b c8		 cmp	 ecx, eax
  06574	75 1a		 jne	 SHORT $L73548

; 1438 : 			{
; 1439 : 				pDphsettar->bouval = temp + 4;
; 1440 : 				/* Voicing amp falls gradually at end of phrase */
; 1441 : 				if (pDphsettar->phonex == GEN_SIL)

  06576	66 81 7e 0a 00
	1e		 cmp	 WORD PTR [esi+10], 7680	; 00001e00H
  0657c	8d 47 04	 lea	 eax, DWORD PTR [edi+4]
  0657f	66 89 06	 mov	 WORD PTR [esi], ax
  06582	75 0c		 jne	 SHORT $L73548

; 1442 : 				{
; 1443 : 					pDphsettar->bouval = pDphsettar->bouval - 6;

  06584	83 c0 fa	 add	 eax, -6			; fffffffaH

; 1444 : 					pDphsettar->durtran = NF40MS;	/* Guess                */

  06587	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
  0658d	66 89 06	 mov	 WORD PTR [esi], ax
$L73548:

; 1445 : 				}
; 1446 : 			}
; 1447 : 			if (pDphsettar->np == &PAP)

  06590	8d 95 44 01 00
	00		 lea	 edx, DWORD PTR [ebp+324]
  06596	3b ca		 cmp	 ecx, edx
  06598	75 0e		 jne	 SHORT $L73549

; 1448 : 			{
; 1449 : 				pDphsettar->bouval = PAP.tarend - 36;

  0659a	66 8b 85 5e 01
	00 00		 mov	 ax, WORD PTR [ebp+350]
  065a1	66 2d 24 00	 sub	 ax, 36			; 00000024H
  065a5	66 89 06	 mov	 WORD PTR [esi], ax
$L73549:

; 1450 : 			}
; 1451 : 			//debugbackward (" Offset to noise",pDphsettar->np);
; 1452 : 		}
; 1453 : 		/* No smoothing of source amps if next segment has burst */
; 1454 : 		if (((feanex & FPLOSV) IS_PLUS)
; 1455 : 			|| (pDphsettar->phonex == LAP_YH)
; 1456 : 			|| (pDphsettar->phonex == LAP_CH))

  065a8	f6 44 24 20 40	 test	 BYTE PTR _feanex$[esp+12], 64 ; 00000040H
  065ad	75 10		 jne	 SHORT $L73551
  065af	66 8b 46 0a	 mov	 ax, WORD PTR [esi+10]
  065b3	66 3d 15 1a	 cmp	 ax, 6677		; 00001a15H
  065b7	74 06		 je	 SHORT $L73551
  065b9	66 3d 1c 1a	 cmp	 ax, 6684		; 00001a1cH
  065bd	75 06		 jne	 SHORT $L73550
$L73551:

; 1457 : 		{
; 1458 : 			pDphsettar->durtran = 0;

  065bf	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L73550:

; 1459 : 			//debugbackward (" Stop closure next",pDphsettar->np);
; 1460 : 		}
; 1461 : 
; 1462 : 		/* Onset of a vowel from voiceless open vocal tract is breathy */
; 1463 : 		if (pDphsettar->np == &PAP)

  065c5	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  065c8	8d 8d 44 01 00
	00		 lea	 ecx, DWORD PTR [ebp+324]
  065ce	3b c1		 cmp	 eax, ecx
  065d0	bb 08 00 00 00	 mov	 ebx, 8
  065d5	75 3c		 jne	 SHORT $L73556

; 1464 : 		{
; 1465 : 			if ((pDphsettar->phcur == GEN_SIL)
; 1466 : 				|| feacur == (FOBST | FCONSON))

  065d7	bf 00 1e 00 00	 mov	 edi, 7680		; 00001e00H
  065dc	66 39 7e 18	 cmp	 WORD PTR [esi+24], di
  065e0	74 09		 je	 SHORT $L73554
  065e2	66 81 7c 24 1c
	20 01		 cmp	 WORD PTR _feacur$[esp+12], 288 ; 00000120H
  065e9	75 12		 jne	 SHORT $L73555
$L73554:

; 1467 : 			{
; 1468 : 				/* 
; 1469 : 				 * (Select F, TH, S, SH)
; 1470 : 				 * Select vowels only, so [l] and [ll] sound ok.
; 1471 : 				 */
; 1472 : 				if (((feanex & FSYLL) IS_PLUS))

  065eb	f6 44 24 20 01	 test	 BYTE PTR _feanex$[esp+12], 1
  065f0	74 0b		 je	 SHORT $L73555

; 1473 : 				{
; 1474 : 					/* 
; 1475 : 					 * 56->40                           22-Jul-86
; 1476 : 					 */
; 1477 : 					pDphsettar->bouval = 40;

  065f2	66 c7 06 28 00	 mov	 WORD PTR [esi], 40	; 00000028H

; 1478 : 					pDphsettar->durtran = NF40MS;

  065f7	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
$L73555:

; 1479 : 				}
; 1480 : 				//debugbackward (" Onset of vowel from vless voc tract",pDphsettar->np);
; 1481 : 			}
; 1482 : 			/* Offset of a vowel into silence is breathy */
; 1483 : 			if (((feacur & FSYLL) IS_PLUS)
; 1484 : 				&& (pDphsettar->phonex == GEN_SIL))

  065fd	f6 44 24 1c 01	 test	 BYTE PTR _feacur$[esp+12], 1
  06602	74 0f		 je	 SHORT $L73556
  06604	66 39 7e 0a	 cmp	 WORD PTR [esi+10], di
  06608	75 09		 jne	 SHORT $L73556

; 1485 : 			{
; 1486 : 				/* 
; 1487 : 				 * Less effect for Spanish              22-Jul-86
; 1488 : 				 */
; 1489 : 				pDphsettar->bouval = 40;

  0660a	66 c7 06 28 00	 mov	 WORD PTR [esi], 40	; 00000028H

; 1490 : 				pDphsettar->durtran = NF50MS;

  0660f	66 89 5e 06	 mov	 WORD PTR [esi+6], bx
$L73556:

; 1491 : 				//debugbackward (" Breathy offset of vowel to silence",pDphsettar->np);
; 1492 : 			}
; 1493 : 		}
; 1494 : 
; 1495 : 		/* Tilt parameter jumps to target values except before voiceless */
; 1496 : 		if (pDphsettar->np == &PTILT)

  06613	8d 95 40 02 00
	00		 lea	 edx, DWORD PTR [ebp+576]
  06619	3b c2		 cmp	 eax, edx
  0661b	75 41		 jne	 SHORT $endbsmo$73537

; 1497 : 		{
; 1498 : 			pDphsettar->durtran = 10;	   /* eab changed from 0 don't believe in 0 time */
; 1499 : 			if (((feacur & FVOICD) IS_PLUS)
; 1500 : 				&& ((feacur & FNASAL) IS_MINUS)
; 1501 : 				&& ((feanex & FVOICD) IS_MINUS))

  0661d	8a 4c 24 1c	 mov	 cl, BYTE PTR _feacur$[esp+12]
  06621	66 c7 46 06 0a
	00		 mov	 WORD PTR [esi+6], 10	; 0000000aH
  06627	f6 c1 02	 test	 cl, 2
  0662a	74 32		 je	 SHORT $endbsmo$73537
  0662c	66 83 7c 24 18
	00		 cmp	 WORD PTR 12+[esp+12], 0
  06632	75 2a		 jne	 SHORT $endbsmo$73537
  06634	f6 44 24 20 02	 test	 BYTE PTR _feanex$[esp+12], 2
  06639	75 23		 jne	 SHORT $endbsmo$73537

; 1502 : 			{
; 1503 : 				pDphsettar->durtran = NF50MS;

  0663b	66 89 5e 06	 mov	 WORD PTR [esi+6], bx

; 1504 : 				pDphsettar->bouval = pDphsettar->np->tarnex >> 1;

  0663f	66 8b 48 16	 mov	 cx, WORD PTR [eax+22]
  06643	66 d1 f9	 sar	 cx, 1

; 1505 : 				/* Breathy offset to a vowel */
; 1506 : 				if (pDphsettar->phonex == GEN_SIL)

  06646	66 81 7e 0a 00
	1e		 cmp	 WORD PTR [esi+10], 7680	; 00001e00H
  0664c	66 89 0e	 mov	 WORD PTR [esi], cx
  0664f	75 0d		 jne	 SHORT $endbsmo$73537

; 1507 : 				{
; 1508 : 					pDphsettar->durtran = NF130MS;

  06651	66 c7 46 06 14
	00		 mov	 WORD PTR [esi+6], 20	; 00000014H

; 1509 : 					pDphsettar->bouval = pDphsettar->np->tarnex;

  06657	66 8b 50 16	 mov	 dx, WORD PTR [eax+22]
  0665b	66 89 16	 mov	 WORD PTR [esi], dx
$endbsmo$73537:

; 1526 : 		}
; 1527 : 		//debugbackward ("nasals",pDphsettar->np);
; 1528 : 	}
; 1529 : 
; 1530 : 	/* Truncate back transition so as not to exceed 20 frames */
; 1531 :   endbsmo:
; 1532 : 	if (pDphsettar->durtran > NF130MS)

  0665e	b8 14 00 00 00	 mov	 eax, 20			; 00000014H
  06663	66 39 46 06	 cmp	 WORD PTR [esi+6], ax
  06667	7e 04		 jle	 SHORT $L73563

; 1533 : 		pDphsettar->durtran = NF130MS;

  06669	66 89 46 06	 mov	 WORD PTR [esi+6], ax
$L73563:

; 1534 : 	/* Truncate backward tran so as not to exceed dur of phone */
; 1535 : 	if (pDphsettar->durtran > pDph_t->durfon)

  0666d	66 8b 85 04 15
	00 00		 mov	 ax, WORD PTR [ebp+5380]
  06674	66 39 46 06	 cmp	 WORD PTR [esi+6], ax
  06678	7e 04		 jle	 SHORT $L73564

; 1536 : 		pDphsettar->durtran = pDph_t->durfon;

  0667a	66 89 46 06	 mov	 WORD PTR [esi+6], ax
$L73564:

; 1537 : 	pDphsettar->np->tbacktr = pDph_t->durfon - pDphsettar->durtran;

  0667e	66 8b 85 04 15
	00 00		 mov	 ax, WORD PTR [ebp+5380]
  06685	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  06688	66 2b 46 06	 sub	 ax, WORD PTR [esi+6]
  0668c	66 89 41 10	 mov	 WORD PTR [ecx+16], ax

; 1538 : 	/* No parameter can take on negative values */
; 1539 : 	if (pDphsettar->bouval < 0)

  06690	66 83 3e 00	 cmp	 WORD PTR [esi], 0
  06694	7d 05		 jge	 SHORT $L73565

; 1540 : 		pDphsettar->bouval = 0;

  06696	66 c7 06 00 00	 mov	 WORD PTR [esi], 0
$L73565:
  0669b	5f		 pop	 edi
  0669c	5e		 pop	 esi
  0669d	5d		 pop	 ebp
  0669e	5b		 pop	 ebx

; 1541 : }

  0669f	c3		 ret	 0
_la_back_smooth_rules ENDP
_phTTS$ = 8
_fealas$ = 12
_feacur$ = 16
_feanex$ = 20
_struclm2$ = 24
_struccur$ = 28
_la_special_rules PROC NEAR

; 1763 : 	short                   bdur, vot; /* MVP made as a local variable */
; 1764 : 	short                   closure_dur;	/* MVP made as a local variable */
; 1765 : 	
; 1766 : 
; 1767 : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  066a0	8b 44 24 04	 mov	 eax, DWORD PTR _phTTS$[esp-4]
  066a4	53		 push	 ebx
  066a5	55		 push	 ebp
  066a6	56		 push	 esi
  066a7	8b 70 18	 mov	 esi, DWORD PTR [eax+24]
  066aa	57		 push	 edi

; 1768 : 	PKSD_T                  pKsd_t = phTTS->pKernelShareData;
; 1769 : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;
; 1770 : 
; 1771 : 	/* SPECIAL RULE 1: Burst duration for plosives and affricates             */
; 1772 : 
; 1773 : 	bdur = burdr(pDphsettar->phcur);   /* Look up inher. burst dur in msec in table */
; 1774 : 
; 1775 : 	if ((feacur & FBURST) IS_PLUS)

  066ab	8b 5c 24 1c	 mov	 ebx, DWORD PTR _feacur$[esp+12]
  066af	8b be 10 2c 00
	00		 mov	 edi, DWORD PTR [esi+11280]
  066b5	8b eb		 mov	 ebp, ebx
  066b7	81 e5 00 08 00
	00		 and	 ebp, 2048		; 00000800H
  066bd	0f bf 47 18	 movsx	 eax, WORD PTR [edi+24]
  066c1	8b c8		 mov	 ecx, eax
  066c3	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  066c8	c1 f9 08	 sar	 ecx, 8
  066cb	66 85 ed	 test	 bp, bp
  066ce	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_burdr[ecx*4]
  066d5	89 6c 24 14	 mov	 DWORD PTR 8+[esp+12], ebp
  066d9	66 8b 04 42	 mov	 ax, WORD PTR [edx+eax*2]
  066dd	0f 84 9c 00 00
	00		 je	 $L73598

; 1776 : 	{
; 1777 : 		bdur = mstofr (bdur);		   /* Convert to frames         */

  066e3	0f bf c0	 movsx	 eax, ax
  066e6	50		 push	 eax
  066e7	e8 00 00 00 00	 call	 _mstofr

; 1778 : 		/* Don't release burst in homorganic plosiv-nasal & plos-plos sequence */
; 1779 : 
; 1780 : /*	  Don't release burst in homorganic plosiv-nasal & plos-plos sequence */
; 1781 : /* Sperated into two rules to work better. Plos-plos to follow the place of articulation rule and 
; 1782 : plosive-nasal simply doesn't release eab 12/27/99 */
; 1783 : 
; 1784 : 	    if ((feanex & (FNASAL | FPLOSV)) IS_PLUS) 

  066ec	8a 4c 24 24	 mov	 cl, BYTE PTR _feanex$[esp+16]
  066f0	83 c4 04	 add	 esp, 4
  066f3	f6 c1 c0	 test	 cl, -64			; ffffffc0H
  066f6	74 28		 je	 SHORT $L73591

; 1785 : 		{
; 1786 : 		if (la_place[pDphsettar->phcur & PVALUE] == la_place[pDphsettar->phonex & PVALUE]) 

  066f8	8a 57 18	 mov	 dl, BYTE PTR [edi+24]
  066fb	8a 4f 0a	 mov	 cl, BYTE PTR [edi+10]
  066fe	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  06704	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  0670a	66 8b 14 55 00
	00 00 00	 mov	 dx, WORD PTR _la_place[edx*2]
  06712	66 3b 14 4d 00
	00 00 00	 cmp	 dx, WORD PTR _la_place[ecx*2]
  0671a	75 04		 jne	 SHORT $L73591

; 1787 : 			{	/* Was >= */
; 1788 : 				bdur = 0;

  0671c	33 c0		 xor	 eax, eax

; 1789 : 			}
; 1790 : 	    }
; 1791 : 
; 1792 : #ifdef OUTDAMNSPOT
; 1793 : /* Dennis had a rule that said in homorganic (meaning
; 1794 : in this case the same place of articulation) nasal plosives
; 1795 : and plosive plosive one should not release the burst of the 
; 1796 : initial plosive. This is incorrect place because a nasal
; 1797 : doesn't have a place of articulation so it can never match 
; 1798 : plus the homorganic I don't believe really means exact same 
; 1799 : place of articulation. A plosive followed by a nasal will 
; 1800 : not be realeased-period. Secondly, a plosive that has 
; 1801 : similiar place of artculation should follow the rule.
; 1802 : i=(i.e an aveloar or a dental are equivalent)
; 1803 : 	So, I added new masks to group places into "homorganic
; 1804 : groupings"
; 1805 : 
; 1806 : */
; 1807 : 
; 1808 : 		if ((feanex & (FNASAL | FPLOSV)) IS_PLUS)
; 1809 : 		{
; 1810 : 			//EAB Don't release a plosive followed by a nasal period
; 1811 : 			// The former comment is not quite correct becaue the place of articulation
; 1812 : 			//between a nasal and a plosive can't be the same becuase the nasal's
; 1813 : 			// doesn't have a place of articulation 2/26/99
; 1814 : 			if((feacur & FPLOSV ) IS_PLUS)
; 1815 : 				bdur=0;
; 1816 : 			if ((la_place[pDphsettar->phcur & PVALUE] | MASKFRONT )== (la_place[pDphsettar->phonex] | MASKFRONT ))
; 1817 : 			{		/* yes they're both done up front */
; 1818 : 				bdur = 0;
; 1819 : 			}
; 1820 : 			else if ((la_place[pDphsettar->phcur & PVALUE]  )== (la_place[pDphsettar->phonex] ))
; 1821 : 			{		/* yes they're both done up front */
; 1822 : 				bdur = 0;
; 1823 : 			}
; 1824 : 		}
; 1825 : #endif //out
; 1826 : 
; 1827 : 			
; 1828 : 
; 1829 : 
; 1830 : 		if (bdur > 1)

  0671e	eb 1d		 jmp	 SHORT $L73595
$L73591:
  06720	66 3d 01 00	 cmp	 ax, 1
  06724	7e 17		 jle	 SHORT $L73595

; 1831 : 		{
; 1832 : 			if (((feacur & FPLOSV) IS_PLUS)
; 1833 : 				&& ((feanex & FOBST) IS_PLUS))

  06726	f6 c3 40	 test	 bl, 64			; 00000040H
  06729	74 07		 je	 SHORT $L73593
  0672b	f6 44 24 20 20	 test	 BYTE PTR _feanex$[esp+12], 32 ; 00000020H

; 1834 : 			{
; 1835 : 				bdur--;				   /* Shorten burst before obst by 6 ms */
; 1836 : 										
; 1837 : 			}
; 1838 : 			else if (pDph_t->durfon < NF50MS)

  06730	75 0a		 jne	 SHORT $L75393
$L73593:
  06732	66 83 be 04 15
	00 00 08	 cmp	 WORD PTR [esi+5380], 8
  0673a	7d 01		 jge	 SHORT $L73595
$L75393:

; 1839 : 			{
; 1840 : 				bdur--;				   /* Shorten burst if closure short */

  0673c	48		 dec	 eax
$L73595:

; 1841 : 			}
; 1842 : 		}
; 1843 : 
; 1844 : 		closure_dur = pDph_t->durfon - bdur;

  0673d	66 8b 8e 04 15
	00 00		 mov	 cx, WORD PTR [esi+5380]

; 1845 : 
; 1846 : 		for (pDphsettar->np = &PA2; pDphsettar->np <= &PAB; pDphsettar->np++)

  06744	8d 96 68 01 00
	00		 lea	 edx, DWORD PTR [esi+360]
  0674a	66 2b c8	 sub	 cx, ax
  0674d	8d 86 1c 02 00
	00		 lea	 eax, DWORD PTR [esi+540]
  06753	3b d0		 cmp	 edx, eax
  06755	89 57 10	 mov	 DWORD PTR [edi+16], edx
  06758	77 25		 ja	 SHORT $L73598
  0675a	ba 24 00 00 00	 mov	 edx, 36			; 00000024H
$L73596:

; 1847 : 		{							   /* All fric gains to */
; 1848 : 			pDphsettar->np->tspesh = closure_dur;	/* zero during closur */

  0675f	8b 5f 10	 mov	 ebx, DWORD PTR [edi+16]
  06762	66 89 4b 12	 mov	 WORD PTR [ebx+18], cx

; 1849 : 			pDphsettar->np->pspesh = 0;

  06766	8b 5f 10	 mov	 ebx, DWORD PTR [edi+16]
  06769	66 c7 43 14 00
	00		 mov	 WORD PTR [ebx+20], 0
  0676f	8b 5f 10	 mov	 ebx, DWORD PTR [edi+16]
  06772	03 da		 add	 ebx, edx
  06774	3b d8		 cmp	 ebx, eax
  06776	89 5f 10	 mov	 DWORD PTR [edi+16], ebx
  06779	76 e4		 jbe	 SHORT $L73596

; 1845 : 
; 1846 : 		for (pDphsettar->np = &PA2; pDphsettar->np <= &PAB; pDphsettar->np++)

  0677b	8b 5c 24 1c	 mov	 ebx, DWORD PTR _feacur$[esp+12]
$L73598:

; 1850 : 		}
; 1851 : 	}
; 1852 : 	/* SPECIAL RULE 2: Voice onset time for aspirated plosives */
; 1853 : 
; 1854 : 	vot = 0;
; 1855 : 	if ((((fealas & FPLOSV) IS_PLUS)
; 1856 : 		 && ((fealas & FVOICD) IS_MINUS)
; 1857 : 		 && ((feacur & FSONOR) IS_PLUS ))) 

  0677f	8a 44 24 18	 mov	 al, BYTE PTR _fealas$[esp+12]
  06783	a8 40		 test	 al, 64			; 00000040H
  06785	0f 84 46 01 00
	00		 je	 $L73599
  0678b	a8 02		 test	 al, 2
  0678d	0f 85 3e 01 00
	00		 jne	 $L73599
  06793	f6 c3 10	 test	 bl, 16			; 00000010H
  06796	0f 84 35 01 00
	00		 je	 $L73599

; 1858 : 	{
; 1859 : 		PAP.pspesh = 22;	/* EAB 10/23/98 FOr Latin Spanish very low ideally 0 for ptk

  0679c	66 c7 86 58 01
	00 00 16 00	 mov	 WORD PTR [esi+344], 22	; 00000016H

; 1860 : 		 //but we'll add that level later */
; 1861 : 		if (begtyp(pDphsettar->phonex) != 1)

  067a5	0f bf 47 0a	 movsx	 eax, WORD PTR [edi+10]
  067a9	8b c8		 mov	 ecx, eax
  067ab	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  067b0	c1 f9 08	 sar	 ecx, 8
  067b3	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_begtyp[ecx*4]
  067ba	66 83 3c 42 01	 cmp	 WORD PTR [edx+eax*2], 1
  067bf	74 09		 je	 SHORT $L73600

; 1862 : 		{
; 1863 : 			PAP.pspesh = 20;		   /* Stronger asp before +back */

  067c1	66 c7 86 58 01
	00 00 14 00	 mov	 WORD PTR [esi+344], 20	; 00000014H
$L73600:

; 1864 : 		}
; 1865 : 		PAV.pspesh = 0;				   /* Amplitude of voicing during aspir */
; 1866 : 
; 1867 : 
; 1868 : 		vot = NF40MS;				   /* Asp dur for /p,t,k/ before stressed sonor */
; 1869 : 		if ((struccur & FSTRESS_1) IS_MINUS)

  067ca	8b 5c 24 28	 mov	 ebx, DWORD PTR _struccur$[esp+12]
  067ce	66 c7 86 34 01
	00 00 00 00	 mov	 WORD PTR [esi+308], 0
  067d7	8b eb		 mov	 ebp, ebx
  067d9	bf 06 00 00 00	 mov	 edi, 6
  067de	83 e5 01	 and	 ebp, 1
  067e1	66 85 ed	 test	 bp, bp
  067e4	75 0d		 jne	 SHORT $L73601

; 1870 : 		{
; 1871 : 			vot = NF25MS;			   /* Vot shorter if vowel not stressed */
; 1872 : 			PAP.pspesh -= 3;

  067e6	66 83 86 58 01
	00 00 fd	 add	 WORD PTR [esi+344], -3	; fffffffdH
  067ee	bf 04 00 00 00	 mov	 edi, 4
$L73601:

; 1873 : 		}
; 1874 : 		if (((feacur & FSONCON) IS_PLUS) )

  067f3	8b 44 24 1c	 mov	 eax, DWORD PTR _feacur$[esp+12]
  067f7	25 00 02 00 00	 and	 eax, 512		; 00000200H
  067fc	66 85 c0	 test	 ax, ax
  067ff	74 08		 je	 SHORT $L73602

; 1875 : 		{
; 1876 : 			PAP.pspesh += 3;		   /* Aspiration stronger in sonor cons */

  06801	66 83 86 58 01
	00 00 03	 add	 WORD PTR [esi+344], 3
$L73602:

; 1877 : 		}
; 1878 : 
; 1879 : 		/* eab 2/6/976 Found code that was causing after Murhty port. Vlaue of pholm2
; 1880 : 		was not being retained- substituted global variables that already exsist
; 1881 : 		after release the old and I think vestigal variables need to be removed
; 1882 : 		this problem affect all languages but in fact the code didn't exist in German
; 1883 : 		at all but was needed don't know is struclm2 is working either*/
; 1884 : 
; 1885 : 		if ( phone_feature( pDph_t,pDph_t->allophons[pDph_t->nphone -2]) == (FOBST+FCONSON ))          

  06809	0f bf 8e d0 23
	00 00		 movsx	 ecx, WORD PTR [esi+9168]
  06810	0f bf 94 4e e8
	03 00 00	 movsx	 edx, WORD PTR [esi+ecx*2+1000]
  06818	52		 push	 edx
  06819	56		 push	 esi
  0681a	e8 00 00 00 00	 call	 _phone_feature
  0681f	83 c4 08	 add	 esp, 8
  06822	66 3d 20 01	 cmp	 ax, 288			; 00000120H
  06826	75 15		 jne	 SHORT $L73603

; 1886 : 		{
; 1887 : 			if ((struclm2 & FBOUNDARY) IS_MINUS )

  06828	8b 44 24 24	 mov	 eax, DWORD PTR _struclm2$[esp+12]
  0682c	25 e0 01 00 00	 and	 eax, 480		; 000001e0H
  06831	66 85 c0	 test	 ax, ax
  06834	75 11		 jne	 SHORT $L73606

; 1888 : 			{
; 1889 : 				vot = NF15MS;	   

  06836	bf 02 00 00 00	 mov	 edi, 2

; 1890 : 			}
; 1891 : 		}
; 1892 : 		else if (((feacur & FSYLL) IS_MINUS))

  0683b	eb 0a		 jmp	 SHORT $L73606
$L73603:
  0683d	f6 44 24 1c 01	 test	 BYTE PTR _feacur$[esp+12], 1
  06842	75 03		 jne	 SHORT $L73606

; 1893 : 		{
; 1894 : 			vot += NF20MS;			   /* Vot longer in a sonorant consonant */

  06844	83 c7 03	 add	 edi, 3
$L73606:

; 1895 : 		}
; 1896 : 		if (vot >= pDph_t->durfon)

  06847	66 8b 86 04 15
	00 00		 mov	 ax, WORD PTR [esi+5380]
  0684e	66 3b f8	 cmp	 di, ax
  06851	7c 03		 jl	 SHORT $L73607

; 1897 : 		{
; 1898 : 			vot = pDph_t->durfon - 1;

  06853	8d 78 ff	 lea	 edi, DWORD PTR [eax-1]
$L73607:

; 1899 : 			
; 1900 : 		}
; 1901 : 		/* Vot cannot exceed 1/2 duration of a stressed vowel */
; 1902 : 		if ((vot > (pDph_t->durfon >> 1))
; 1903 : 			&& ((feacur & FSYLL) IS_PLUS)
; 1904 : 			&& ((struccur & FSTRESS_1) IS_PLUS))

  06856	66 8b c8	 mov	 cx, ax
  06859	66 d1 f9	 sar	 cx, 1
  0685c	66 3b f9	 cmp	 di, cx
  0685f	7e 0e		 jle	 SHORT $L73608
  06861	f6 44 24 1c 01	 test	 BYTE PTR _feacur$[esp+12], 1
  06866	74 07		 je	 SHORT $L73608
  06868	66 85 ed	 test	 bp, bp
  0686b	74 02		 je	 SHORT $L73608

; 1905 : 		{
; 1906 : 			vot = pDph_t->durfon >> 1;

  0686d	8b f9		 mov	 edi, ecx
$L73608:

; 1907 : 		}
; 1908 : 		/* A dummy vowel is used to release a voiceless plosive into silence */
; 1909 : 		if ((struccur & FDUMMY_VOWEL) IS_PLUS)

  0686f	81 e3 00 08 00
	00		 and	 ebx, 2048		; 00000800H
  06875	66 85 db	 test	 bx, bx
  06878	74 0a		 je	 SHORT $L73609

; 1910 : 		{
; 1911 : 			vot = pDph_t->durfon;
; 1912 : 			PAP.pspesh -= 3;

  0687a	66 83 86 58 01
	00 00 fd	 add	 WORD PTR [esi+344], -3	; fffffffdH
  06882	8b f8		 mov	 edi, eax
$L73609:

; 1913 : 		}
; 1914 : 		/* eab in fast mode we simply when to model a much reduced faster
; 1915 : 		release--no time to build up large pressures*/
; 1916 : 
; 1917 : #ifdef FASTTYPING_MODE
; 1918 : 		if(phTTS->bInTypingMode == TRUE || pKsd_t->sprate >300)
; 1919 : 		{
; 1920 : 			
; 1921 : 			vot=vot>>2;
; 1922 : 			if(vot == 0)
; 1923 : 				vot=1;
; 1924 : 		
; 1925 : 
; 1926 : 		PAV.pspesh += 20;
; 1927 : 		PAP.pspesh -=5;
; 1928 : 		}
; 1929 : #endif
; 1930 : 		PAV.tspesh = vot;
; 1931 : 		PAP.tspesh = vot;
; 1932 : 
; 1933 : 		/* Widen 1st and 2nd formant bws when glottis open for aspir */
; 1934 : 		PB1.tspesh = vot;
; 1935 : 		PB2.tspesh = vot;
; 1936 : 		PB1.pspesh = PB1.tarcur + 250;

  06884	66 8b 8e b4 00
	00 00		 mov	 cx, WORD PTR [esi+180]

; 1937 : 		PB2.pspesh = PB2.tarcur + 70;

  0688b	66 8b 96 d8 00
	00 00		 mov	 dx, WORD PTR [esi+216]
  06892	8a 44 24 18	 mov	 al, BYTE PTR _fealas$[esp+12]
  06896	8b 5c 24 1c	 mov	 ebx, DWORD PTR _feacur$[esp+12]
  0689a	8b 6c 24 14	 mov	 ebp, DWORD PTR 8+[esp+12]
  0689e	66 81 c1 fa 00	 add	 cx, 250			; 000000faH
  068a3	66 83 c2 46	 add	 dx, 70			; 00000046H
  068a7	66 89 be 32 01
	00 00		 mov	 WORD PTR [esi+306], di
  068ae	66 89 be 56 01
	00 00		 mov	 WORD PTR [esi+342], di
  068b5	66 89 be c6 00
	00 00		 mov	 WORD PTR [esi+198], di
  068bc	66 89 be ea 00
	00 00		 mov	 WORD PTR [esi+234], di
  068c3	66 89 8e c8 00
	00 00		 mov	 WORD PTR [esi+200], cx
  068ca	66 89 96 ec 00
	00 00		 mov	 WORD PTR [esi+236], dx
$L73599:

; 1938 : 	}
; 1939 : 	/* SPECIAL RULE 3: Create realistic voicebar, avoid pops and clicks */
; 1940 : 	/* Amp of voicebar set here, AV target in table invalid */
; 1941 : 	/* Set AV=0 for last 12.8 ms, let AV die out, thus avoid click */
; 1942 : 	/* Set to under 250 to signal voicebar */
; 1943 : 
; 1944 : 	/* Problem: spectrum has too much F4 if f2,3 are high, as in [i] */
; 1945 : 	if (((feacur & FBURST) IS_PLUS)
; 1946 : 		&& ((feacur & FVOICD) IS_PLUS)
; 1947 : 		&& ((fealas & FVOICD) IS_PLUS)
; 1948 : 		&& ((feanex & FVOICD) IS_MINUS)		/* Voicebar only if next -V */
; 1949 : 		)

  068d1	66 85 ed	 test	 bp, bp
  068d4	74 5b		 je	 SHORT $L73610
  068d6	f6 c3 02	 test	 bl, 2
  068d9	74 56		 je	 SHORT $L73610
  068db	a8 02		 test	 al, 2
  068dd	74 52		 je	 SHORT $L73610
  068df	f6 44 24 20 02	 test	 BYTE PTR _feanex$[esp+12], 2
  068e4	75 4b		 jne	 SHORT $L73610

; 1950 : 	{
; 1951 : 		PAV.tspesh = pDph_t->durfon - NF15MS;

  068e6	66 8b 86 04 15
	00 00		 mov	 ax, WORD PTR [esi+5380]

; 1952 : 		PB1.tspesh = pDph_t->durfon;
; 1953 : 		PB2.tspesh = pDph_t->durfon;
; 1954 : 		PB3.tspesh = pDph_t->durfon;
; 1955 : 		PAV.pspesh = 13;   /* Large since low-pass TILT attenuates it */

  068ed	66 c7 86 34 01
	00 00 0d 00	 mov	 WORD PTR [esi+308], 13	; 0000000dH
  068f6	66 89 86 c6 00
	00 00		 mov	 WORD PTR [esi+198], ax
  068fd	66 89 86 ea 00
	00 00		 mov	 WORD PTR [esi+234], ax
  06904	8d 48 fe	 lea	 ecx, DWORD PTR [eax-2]
  06907	66 89 86 0e 01
	00 00		 mov	 WORD PTR [esi+270], ax

; 1956 : 			//eab 10/13/98 reduce voicebar
; 1957 : 		PB1.pspesh = 1000;

  0690e	b8 e8 03 00 00	 mov	 eax, 1000		; 000003e8H
  06913	66 89 8e 32 01
	00 00		 mov	 WORD PTR [esi+306], cx
  0691a	66 89 86 c8 00
	00 00		 mov	 WORD PTR [esi+200], ax

; 1958 : 		PB2.pspesh = 1000;

  06921	66 89 86 ec 00
	00 00		 mov	 WORD PTR [esi+236], ax

; 1959 : 		PB3.pspesh = 1500;

  06928	66 c7 86 10 01
	00 00 dc 05	 mov	 WORD PTR [esi+272], 1500 ; 000005dcH
$L73610:
  06931	5f		 pop	 edi
  06932	5e		 pop	 esi
  06933	5d		 pop	 ebp
  06934	5b		 pop	 ebx

; 1960 : 	}
; 1961 : }

  06935	c3		 ret	 0
_la_special_rules ENDP
_TEXT	ENDS
EXTRN	_gr_begtyp:BYTE
_TEXT	SEGMENT
_phTTS$ = 8
_shrif$ = 12
_pholas$ = 16
_fealas$ = 20
_feacur$ = 24
_struclas$ = 28
_feanex$ = 36
_gr_forw_smooth_rules PROC NEAR

; 584  : {

  06940	53		 push	 ebx

; 585  : 	short                   temp;	   /* MVP MI : This variable is made local */
; 586  : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  06941	8b 5c 24 08	 mov	 ebx, DWORD PTR _phTTS$[esp]
  06945	55		 push	 ebp
  06946	56		 push	 esi
  06947	57		 push	 edi
  06948	8b 7b 18	 mov	 edi, DWORD PTR [ebx+24]

; 587  : 	PKSD_T                  pKsd_t = phTTS->pKernelShareData;
; 588  : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;
; 589  : 
; 590  : 	//debugforward ("Set default", pDphsettar->np);
; 591  : 	/* FORWARD SMOOTH: F1, F2, F3 */
; 592  : 	if (pDphsettar->par_type IS_FORM_FREQ)

  0694b	bd 03 00 00 00	 mov	 ebp, 3
  06950	8b b7 10 2c 00
	00		 mov	 esi, DWORD PTR [edi+11280]
  06956	8a 46 14	 mov	 al, BYTE PTR [esi+20]
  06959	3c 03		 cmp	 al, 3
  0695b	0f 85 a9 01 00
	00		 jne	 $L73765

; 593  : 	{
; 594  : 		/* 0. Use default values for obst-obst transition */
; 595  : 		if ((feacur & FSONOR) IS_PLUS)

  06961	8b 4c 24 24	 mov	 ecx, DWORD PTR _feacur$[esp+12]
  06965	b8 05 00 00 00	 mov	 eax, 5
  0696a	f6 c1 10	 test	 cl, 16			; 00000010H
  0696d	74 55		 je	 SHORT $L73772

; 596  : 		{
; 597  : 			if ((feacur & FSONCON) IS_MINUS)

  0696f	81 e1 00 02 00
	00		 and	 ecx, 512		; 00000200H
  06975	66 85 c9	 test	 cx, cx
  06978	75 27		 jne	 SHORT $L73767

; 598  : 			{
; 599  : 				pDphsettar->durtran = NF45MS;
; 600  : 				if ((fealas & FSONCON) IS_PLUS)

  0697a	8b 44 24 20	 mov	 eax, DWORD PTR _fealas$[esp+12]
  0697e	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
  06984	25 00 02 00 00	 and	 eax, 512		; 00000200H
  06989	66 85 c0	 test	 ax, ax
  0698c	74 36		 je	 SHORT $L73772

; 601  : 				{
; 602  : 					/* 1. Soncon-vowel transition, use 25-75% rule */
; 603  : 					pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarlas) >> 1;

  0698e	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  06991	0f bf 06	 movsx	 eax, WORD PTR [esi]
  06994	0f bf 51 18	 movsx	 edx, WORD PTR [ecx+24]
  06998	03 d0		 add	 edx, eax
  0699a	d1 fa		 sar	 edx, 1
  0699c	66 89 16	 mov	 WORD PTR [esi], dx

; 604  : 					/* Make F1 discontinuous for light /l/ */
; 605  : 				}
; 606  : 				else
; 607  : 				{
; 608  : 					/* 2. Vowel-[vowel/h] transition */
; 609  : 					/* Preceeding seg has strong influence on [h] init val */
; 610  : 				}
; 611  : 			}
; 612  : 			else

  0699f	eb 23		 jmp	 SHORT $L73772
$L73767:

; 613  : 			{
; 614  : 				/* pDphsettar->phcur is a sonorant conson */
; 615  : 				if ((fealas & FSONCON) IS_MINUS)

  069a1	8b 4c 24 20	 mov	 ecx, DWORD PTR _fealas$[esp+12]
  069a5	81 e1 00 02 00
	00		 and	 ecx, 512		; 00000200H
  069ab	66 85 c9	 test	 cx, cx
  069ae	75 10		 jne	 SHORT $L73771

; 616  : 				{
; 617  : 					/* 3. Vowel-soncon trans, use 75-25% rule */
; 618  : 					pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarcur) >> 1;

  069b0	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  069b3	0f bf 0a	 movsx	 ecx, WORD PTR [edx]
  069b6	0f bf 16	 movsx	 edx, WORD PTR [esi]
  069b9	03 ca		 add	 ecx, edx
  069bb	d1 f9		 sar	 ecx, 1
  069bd	66 89 0e	 mov	 WORD PTR [esi], cx
$L73771:

; 619  : 					pDphsettar->durtran = NF30MS;
; 620  : 				}
; 621  : 				else
; 622  : 				{
; 623  : 					/* 4. Soncon-soncon transition */
; 624  : 					pDphsettar->durtran = NF30MS;

  069c0	66 89 46 06	 mov	 WORD PTR [esi+6], ax
$L73772:

; 625  : 				}
; 626  : 			}
; 627  : 		}
; 628  : 		/* Bound value = previous target if current phone is sil */
; 629  : 		/* eab not if it's the first sil EAB 4/apr/95 I've fixed this once before */
; 630  : 		if (pDphsettar->phcur == GEN_SIL)

  069c4	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  069ca	75 46		 jne	 SHORT $L73773

; 631  : 		{
; 632  : 			if (pDph_t->nphone >= (pDph_t->nphonetot - 2))

  069cc	0f bf 87 98 17
	00 00		 movsx	 eax, WORD PTR [edi+6040]
  069d3	0f bf 8f d0 23
	00 00		 movsx	 ecx, WORD PTR [edi+9168]

; 633  : 			{
; 634  : 				pDphsettar->bouval = pDphsettar->np->tarlas;

  069da	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  069dd	83 e8 02	 sub	 eax, 2
  069e0	3b c8		 cmp	 ecx, eax
  069e2	7c 17		 jl	 SHORT $L73774
  069e4	66 8b 42 18	 mov	 ax, WORD PTR [edx+24]
  069e8	66 89 06	 mov	 WORD PTR [esi], ax

; 635  : 				pDphsettar->durtran = pDph_t->durfon;

  069eb	66 8b 8f 04 15
	00 00		 mov	 cx, WORD PTR [edi+5380]
  069f2	66 89 4e 06	 mov	 WORD PTR [esi+6], cx

; 636  : 			}
; 637  : 			else

  069f6	e9 be 00 00 00	 jmp	 $L73791
$L73774:

; 638  : 			{
; 639  : 				pDphsettar->bouval = pDphsettar->np->tarnex;

  069fb	66 8b 42 16	 mov	 ax, WORD PTR [edx+22]
  069ff	66 89 06	 mov	 WORD PTR [esi], ax

; 640  : 				pDphsettar->durtran = pDph_t->durfon;

  06a02	66 8b 8f 04 15
	00 00		 mov	 cx, WORD PTR [edi+5380]
  06a09	66 89 4e 06	 mov	 WORD PTR [esi+6], cx

; 641  : 			}
; 642  : 		}
; 643  : 		else

  06a0d	e9 a7 00 00 00	 jmp	 $L73791
$L73773:

; 644  : 		{
; 645  : 			/* 5. pholas=obst, pDphsettar->phcur=sonor transition */
; 646  : 			if (setloc (phTTS, (short)(pDph_t->nphone - 1), pDph_t->nphone, 'i', (short)(pDph_t->nphone - 2), feanex))

  06a12	66 8b 87 d0 23
	00 00		 mov	 ax, WORD PTR [edi+9168]
  06a19	8b 6c 24 30	 mov	 ebp, DWORD PTR _feanex$[esp+12]
  06a1d	55		 push	 ebp
  06a1e	8d 50 fe	 lea	 edx, DWORD PTR [eax-2]
  06a21	52		 push	 edx
  06a22	6a 69		 push	 105			; 00000069H
  06a24	50		 push	 eax
  06a25	48		 dec	 eax
  06a26	50		 push	 eax
  06a27	53		 push	 ebx
  06a28	e8 00 00 00 00	 call	 _setloc

; 647  : 			{
; 648  : 				//debugforward (" Use locus,percent", pDphsettar->np);
; 649  : 			}
; 650  : 			/* 6. pholas=sonor, pDphsettar->phcur=obst transition */
; 651  : 			if (setloc (phTTS, pDph_t->nphone, (short)(pDph_t->nphone - 1), 'f', (short)(pDph_t->nphone + 1), feanex))

  06a2d	66 8b 87 d0 23
	00 00		 mov	 ax, WORD PTR [edi+9168]
  06a34	55		 push	 ebp
  06a35	8d 48 01	 lea	 ecx, DWORD PTR [eax+1]
  06a38	8d 50 ff	 lea	 edx, DWORD PTR [eax-1]
  06a3b	51		 push	 ecx
  06a3c	6a 66		 push	 102			; 00000066H
  06a3e	52		 push	 edx
  06a3f	50		 push	 eax
  06a40	53		 push	 ebx
  06a41	e8 00 00 00 00	 call	 _setloc

; 652  : 			{
; 653  : 				//debugforward (" Use locus,percent", pDphsettar->np);
; 654  : 			}
; 655  : 			/* Dummy vowel for final plosive release into silence is too */
; 656  : 			/* short for an extensive formant transition, make tran less */
; 657  : 			if ((struccur & FDUMMY_VOWEL) IS_PLUS)
; 658  : 			{
; 659  : 				/* OUT                      xx += ((pDphsettar->bouval - pDphsettar->np->tarend) >> 1); pDphsettar->np->tarend += xx;   (DOESN'T
; 660  : 				 * WORK) END OUT */
; 661  : 			}
; 662  : 			/* F1 raised at onset of voiceless plosive release */
; 663  : 			if (((fealas & FPLOSV) IS_PLUS)
; 664  : 				&& ((fealas & FVOICD) IS_MINUS))

  06a46	8a 44 24 50	 mov	 al, BYTE PTR _fealas$[esp+60]
  06a4a	83 c4 30	 add	 esp, 48			; 00000030H
  06a4d	a8 40		 test	 al, 64			; 00000040H
  06a4f	74 12		 je	 SHORT $L73785
  06a51	a8 02		 test	 al, 2
  06a53	75 0e		 jne	 SHORT $L73785

; 665  : 			{
; 666  : 				if (pDphsettar->np == &PF1)

  06a55	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  06a58	8d 47 24	 lea	 eax, DWORD PTR [edi+36]
  06a5b	3b c8		 cmp	 ecx, eax
  06a5d	75 04		 jne	 SHORT $L73785

; 667  : 					pDphsettar->bouval += 100;

  06a5f	66 83 06 64	 add	 WORD PTR [esi], 100	; 00000064H
$L73785:

; 668  : 			}
; 669  : 			/* Transitions modified inside obstruents */
; 670  : 			if ((feacur & FOBST) IS_PLUS)

  06a63	8a 44 24 24	 mov	 al, BYTE PTR _feacur$[esp+12]
  06a67	a8 20		 test	 al, 32			; 00000020H
  06a69	74 25		 je	 SHORT $L73788

; 671  : 			{
; 672  : 				pDphsettar->durtran = NF30MS;
; 673  : 				if (pDphsettar->np == &PF1)

  06a6b	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  06a6e	8d 4f 24	 lea	 ecx, DWORD PTR [edi+36]
  06a71	3b d1		 cmp	 edx, ecx
  06a73	66 c7 46 06 05
	00		 mov	 WORD PTR [esi+6], 5
  06a79	75 06		 jne	 SHORT $L73787

; 674  : 					pDphsettar->durtran = NF20MS;

  06a7b	66 c7 46 06 03
	00		 mov	 WORD PTR [esi+6], 3
$L73787:

; 675  : 				/* Transitions take all of plosive duration */
; 676  : 				if ((feacur & FPLOSV) IS_PLUS)

  06a81	a8 40		 test	 al, 64			; 00000040H
  06a83	74 15		 je	 SHORT $L73789

; 677  : 				{
; 678  : 					pDphsettar->durtran = pDph_t->durfon;

  06a85	66 8b 97 04 15
	00 00		 mov	 dx, WORD PTR [edi+5380]
  06a8c	66 89 56 06	 mov	 WORD PTR [esi+6], dx
$L73788:

; 679  : 				}
; 680  : 			}
; 681  : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 682  : 			/* german DECtalk, special transitions into 'L'            */
; 683  : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 684  : 			//if (pDphsettar->phcur == L)
; 685  : 			//{
; 686  : 			//	pDphsettar->durtran = NF15MS;
; 687  : //
; 688  : //			} Questioning rule eab 4/6/98
; 689  : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 690  : 			/* fast transition into plosives                   */
; 691  : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 692  : 			if ((feacur & FPLOSV) IS_PLUS)

  06a90	a8 40		 test	 al, 64			; 00000040H
  06a92	74 06		 je	 SHORT $L73789

; 693  : 			{
; 694  : 				pDphsettar->durtran = NF15MS;

  06a94	66 c7 46 06 02
	00		 mov	 WORD PTR [esi+6], 2
$L73789:

; 695  : 
; 696  : 			}
; 697  : 			/* Higher formant transitions slow inside a nasal */
; 698  : 			if ((feacur & FNASAL) IS_PLUS)

  06a9a	a8 80		 test	 al, -128		; ffffff80H
  06a9c	74 1b		 je	 SHORT $L73791

; 699  : 			{
; 700  : 				pDphsettar->durtran = pDph_t->durfon;

  06a9e	66 8b 87 04 15
	00 00		 mov	 ax, WORD PTR [edi+5380]

; 701  : 				/* Except F1, which jumps to value above FNZRO */
; 702  : 				if (pDphsettar->np == &PF1)

  06aa5	8d 4f 24	 lea	 ecx, DWORD PTR [edi+36]
  06aa8	66 89 46 06	 mov	 WORD PTR [esi+6], ax
  06aac	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  06aaf	3b c1		 cmp	 eax, ecx
  06ab1	75 06		 jne	 SHORT $L73791

; 703  : 				{
; 704  : 					pDphsettar->durtran = 0;

  06ab3	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L73791:

; 705  : 				}
; 706  : 				/* Lower F2 & F3 of [n] nasal murmur after front vowels */
; 707  : 				/* Lower F2 of [m] nasal murmur near [i,e] */
; 708  : 			}
; 709  : 		}
; 710  : 		/* Shrink transition dur inside sonor if sonor short */
; 711  : 		if (((feacur & FOBST) IS_MINUS)
; 712  : 			&& (endtyp(pholas) != OBSTRUENT)   /* Unless prev seg is obst */
; 713  : 			&& (pDphsettar->durtran > 0))

  06ab9	f6 44 24 24 20	 test	 BYTE PTR _feacur$[esp+12], 32 ; 00000020H
  06abe	0f 85 3e 03 00
	00		 jne	 $L73838
  06ac4	0f bf 44 24 1c	 movsx	 eax, WORD PTR _pholas$[esp+12]
  06ac9	8b d0		 mov	 edx, eax
  06acb	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  06ad0	c1 fa 08	 sar	 edx, 8
  06ad3	8b 0c 95 00 00
	00 00		 mov	 ecx, DWORD PTR _all_endtyp[edx*4]
  06ada	66 83 3c 41 04	 cmp	 WORD PTR [ecx+eax*2], 4
  06adf	0f 84 1d 03 00
	00		 je	 $L73838
  06ae5	66 8b 46 06	 mov	 ax, WORD PTR [esi+6]
  06ae9	66 85 c0	 test	 ax, ax
  06aec	0f 8e 10 03 00
	00		 jle	 $L73838

; 714  : 		{
; 715  : 			//pDph_t->arg1 = pDphsettar->durtran;
; 716  : 			//pDph_t->arg2 = shrif;
; 717  : 			pDphsettar->durtran = mlsh1 (pDphsettar->durtran, shrif) + 1;

  06af2	0f bf d0	 movsx	 edx, ax
  06af5	0f bf 44 24 18	 movsx	 eax, WORD PTR _shrif$[esp+12]
  06afa	0f af d0	 imul	 edx, eax
  06afd	c1 fa 0e	 sar	 edx, 14			; 0000000eH
  06b00	42		 inc	 edx
  06b01	66 89 56 06	 mov	 WORD PTR [esi+6], dx

; 718  : 		}
; 719  : 	}
; 720  : 	/* FORWARD SMOOTH:  FN */
; 721  : 	else if (pDphsettar->par_type IS_NASAL_ZERO_FREQ)

  06b05	e9 f8 02 00 00	 jmp	 $L73838
$L73765:
  06b0a	3c 01		 cmp	 al, 1
  06b0c	75 2d		 jne	 SHORT $L73794

; 722  : 	{
; 723  : 		pDphsettar->durtran = 0;
; 724  : 		if (((fealas & FNASAL) IS_PLUS)
; 725  : 			&& ((feacur & FNASAL) IS_MINUS))

  06b0e	8a 44 24 20	 mov	 al, BYTE PTR _fealas$[esp+12]
  06b12	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
  06b18	a8 80		 test	 al, -128		; ffffff80H
  06b1a	0f 84 e2 02 00
	00		 je	 $L73838
  06b20	f6 44 24 24 80	 test	 BYTE PTR _feacur$[esp+12], -128 ; ffffff80H
  06b25	0f 85 d7 02 00
	00		 jne	 $L73838

; 726  : 		{
; 727  : 			pDphsettar->bouval = NASAL_ZERO_BOUNDARY;

  06b2b	66 c7 06 72 01	 mov	 WORD PTR [esi], 370	; 00000172H

; 728  : 			pDphsettar->durtran = NF80MS;

  06b30	66 c7 46 06 0d
	00		 mov	 WORD PTR [esi+6], 13	; 0000000dH

; 729  : 		}
; 730  : 	}
; 731  : 	/* FORWARD SMOOTH:  B1, B2, B3 */
; 732  : 	else if (pDphsettar->par_type IS_FORM_BW)

  06b36	e9 c7 02 00 00	 jmp	 $L73838
$L73794:
  06b3b	3c 04		 cmp	 al, 4
  06b3d	0f 85 4e 01 00
	00		 jne	 $L73797

; 733  : 	{
; 734  : 		/* Default transition duration is 40 ms */
; 735  : 		pDphsettar->durtran = NF40MS;
; 736  : 		/* Widen first formant bw if preceeding seg voiceless */
; 737  : 		if ((feacur & FVOICD) IS_PLUS)

  06b43	8a 44 24 24	 mov	 al, BYTE PTR _feacur$[esp+12]
  06b47	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
  06b4d	a8 02		 test	 al, 2
  06b4f	bb 08 00 00 00	 mov	 ebx, 8
  06b54	74 28		 je	 SHORT $L73798

; 738  : 		{
; 739  : 			if ((pDphsettar->np == &PB1)
; 740  : 				&& ((fealas & FVOICD) IS_MINUS))

  06b56	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  06b59	8d 8f b4 00 00
	00		 lea	 ecx, DWORD PTR [edi+180]
  06b5f	3b c1		 cmp	 eax, ecx
  06b61	75 1f		 jne	 SHORT $L73800
  06b63	f6 44 24 20 02	 test	 BYTE PTR _fealas$[esp+12], 2
  06b68	75 18		 jne	 SHORT $L73800

; 741  : 			{
; 742  : 				pDphsettar->durtran = NF50MS;

  06b6a	66 89 5e 06	 mov	 WORD PTR [esi+6], bx

; 743  : 				/* More increase for low vowels (F1 high) */
; 744  : 				pDphsettar->bouval = pDphsettar->np->tarcur + (PF1.tarcur >> 3);

  06b6e	66 8b 57 24	 mov	 dx, WORD PTR [edi+36]
  06b72	66 c1 fa 03	 sar	 dx, 3
  06b76	66 03 10	 add	 dx, WORD PTR [eax]
  06b79	66 89 16	 mov	 WORD PTR [esi], dx

; 745  : 			}
; 746  : 		}
; 747  : 		else

  06b7c	eb 04		 jmp	 SHORT $L73800
$L73798:

; 748  : 		{                                       
; 749  : 			pDphsettar->durtran = NF20MS;

  06b7e	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L73800:

; 750  : 		}
; 751  : 		/* Treat boundary with silence */
; 752  : 		if (pholas == GEN_SIL)

  06b82	b8 00 1e 00 00	 mov	 eax, 7680		; 00001e00H
  06b87	66 39 44 24 1c	 cmp	 WORD PTR _pholas$[esp+12], ax
  06b8c	75 2f		 jne	 SHORT $L73801

; 753  : 		{
; 754  : 			pDphsettar->bouval = pDphsettar->np->tarcur + ((&PB3 - pDphsettar->np) * 50);

  06b8e	8b 6e 10	 mov	 ebp, DWORD PTR [esi+16]
  06b91	8b cf		 mov	 ecx, edi
  06b93	2b cd		 sub	 ecx, ebp
  06b95	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  06b9a	81 c1 fc 00 00
	00		 add	 ecx, 252		; 000000fcH
  06ba0	f7 e9		 imul	 ecx
  06ba2	c1 fa 03	 sar	 edx, 3
  06ba5	8b c2		 mov	 eax, edx
  06ba7	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  06baa	03 d0		 add	 edx, eax
  06bac	8d 04 92	 lea	 eax, DWORD PTR [edx+edx*4]
  06baf	8d 0c 80	 lea	 ecx, DWORD PTR [eax+eax*4]
  06bb2	d1 e1		 shl	 ecx, 1
  06bb4	66 03 4d 00	 add	 cx, WORD PTR [ebp]
  06bb8	66 89 0e	 mov	 WORD PTR [esi], cx

; 755  : 			pDphsettar->durtran = NF50MS;
; 756  : 		}
; 757  : 		else if (pDphsettar->phcur == GEN_SIL)

  06bbb	eb 71		 jmp	 SHORT $L73804
$L73801:
  06bbd	66 39 46 18	 cmp	 WORD PTR [esi+24], ax
  06bc1	75 6f		 jne	 SHORT $L73803

; 758  : 		{
; 759  : 			pDphsettar->bouval = pDphsettar->np->tarlas + ((&PB3 - pDphsettar->np) * 50);

  06bc3	8b 6e 10	 mov	 ebp, DWORD PTR [esi+16]
  06bc6	8b cf		 mov	 ecx, edi
  06bc8	2b cd		 sub	 ecx, ebp
  06bca	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  06bcf	81 c1 fc 00 00
	00		 add	 ecx, 252		; 000000fcH
  06bd5	f7 e9		 imul	 ecx
  06bd7	c1 fa 03	 sar	 edx, 3
  06bda	8b c2		 mov	 eax, edx
  06bdc	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  06bdf	03 d0		 add	 edx, eax
  06be1	8d 04 92	 lea	 eax, DWORD PTR [edx+edx*4]
  06be4	8d 0c 80	 lea	 ecx, DWORD PTR [eax+eax*4]
  06be7	d1 e1		 shl	 ecx, 1
  06be9	66 03 4d 18	 add	 cx, WORD PTR [ebp+24]
  06bed	66 89 0e	 mov	 WORD PTR [esi], cx

; 760  : 			if (((phone_feature( pDph_t,pDph_t->allophons[pDph_t->nphone - 2]) & FVOICD) IS_MINUS)
; 761  : 				&& ((struclas & FDUMMY_VOWEL) IS_PLUS)
; 762  : 				&& (pDphsettar->np == &PB1))

  06bf0	0f bf 97 d0 23
	00 00		 movsx	 edx, WORD PTR [edi+9168]
  06bf7	0f bf 84 57 e8
	03 00 00	 movsx	 eax, WORD PTR [edi+edx*2+1000]
  06bff	50		 push	 eax
  06c00	57		 push	 edi
  06c01	e8 00 00 00 00	 call	 _phone_feature
  06c06	83 c4 08	 add	 esp, 8
  06c09	a8 02		 test	 al, 2
  06c0b	75 21		 jne	 SHORT $L73804
  06c0d	8b 4c 24 28	 mov	 ecx, DWORD PTR _struclas$[esp+12]
  06c11	81 e1 00 08 00
	00		 and	 ecx, 2048		; 00000800H
  06c17	66 85 c9	 test	 cx, cx
  06c1a	74 12		 je	 SHORT $L73804
  06c1c	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  06c1f	8d 97 b4 00 00
	00		 lea	 edx, DWORD PTR [edi+180]
  06c25	3b c2		 cmp	 eax, edx
  06c27	75 05		 jne	 SHORT $L73804

; 763  : 			{
; 764  : 				pDphsettar->bouval = 260;	/* Kluge to avoid discontinutiy */

  06c29	66 c7 06 04 01	 mov	 WORD PTR [esi], 260	; 00000104H
$L73804:

; 765  : 			}
; 766  : 			pDphsettar->durtran = NF50MS;

  06c2e	66 89 5e 06	 mov	 WORD PTR [esi+6], bx
$L73803:

; 767  : 		}
; 768  : 
; 769  : 		/* BW1 widen, to nasalize transition out of previous nasal */
; 770  : 		if ((fealas & FNASAL) IS_PLUS)

  06c32	f6 44 24 20 80	 test	 BYTE PTR _fealas$[esp+12], -128 ; ffffff80H
  06c37	74 42		 je	 SHORT $L73807

; 771  : 		{
; 772  : 			pDphsettar->bouval = pDphsettar->np->tarcur;	/* B2,B3 not influ by nasal */

  06c39	8b 46 10	 mov	 eax, DWORD PTR [esi+16]

; 773  : 			/* Except F2 of [n], which is wider in a non-front vowel */
; 774  : 			if ((pDphsettar->np == &PB2) && (gr_begtyp[pDphsettar->phcur] != 1))

  06c3c	8d 97 d8 00 00
	00		 lea	 edx, DWORD PTR [edi+216]
  06c42	3b c2		 cmp	 eax, edx
  06c44	66 8b 08	 mov	 cx, WORD PTR [eax]
  06c47	66 89 0e	 mov	 WORD PTR [esi], cx
  06c4a	75 1b		 jne	 SHORT $L73806
  06c4c	0f bf 56 18	 movsx	 edx, WORD PTR [esi+24]
  06c50	66 83 3c 55 00
	00 00 00 01	 cmp	 WORD PTR _gr_begtyp[edx*2], 1
  06c59	74 0c		 je	 SHORT $L73806

; 775  : 			{
; 776  : 				pDphsettar->bouval += 60;

  06c5b	83 c1 3c	 add	 ecx, 60			; 0000003cH

; 777  : 				pDphsettar->durtran = NF60MS;

  06c5e	66 c7 46 06 09
	00		 mov	 WORD PTR [esi+6], 9
  06c64	66 89 0e	 mov	 WORD PTR [esi], cx
$L73806:

; 778  : 			}
; 779  : 			if (pDphsettar->np == &PB1)

  06c67	8d 8f b4 00 00
	00		 lea	 ecx, DWORD PTR [edi+180]
  06c6d	3b c1		 cmp	 eax, ecx
  06c6f	75 0a		 jne	 SHORT $L73807

; 780  : 			{
; 781  : 				pDphsettar->durtran = NF100MS;
; 782  : 				pDphsettar->bouval += 70;

  06c71	66 83 06 46	 add	 WORD PTR [esi], 70	; 00000046H
  06c75	66 c7 46 06 10
	00		 mov	 WORD PTR [esi+6], 16	; 00000010H
$L73807:

; 783  : 			}
; 784  : 		}
; 785  : 		/* Nasals have constant bandwidths at target values */
; 786  : 		if ((feacur & FNASAL) IS_PLUS)

  06c7b	f6 44 24 24 80	 test	 BYTE PTR _feacur$[esp+12], -128 ; ffffff80H
  06c80	0f 84 7c 01 00
	00		 je	 $L73838

; 787  : 		{
; 788  : 			pDphsettar->durtran = 0;

  06c86	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0

; 789  : 			//debugforward (" Nasal has const par val", pDphsettar->np);
; 790  : 		}
; 791  : 	}
; 792  : 	/* FORWARD SMOOTH:  AV, AP, A2, A3, A4, A5, A6, AB */
; 793  : 
; 794  : 	/* Default pDphsettar->bouval is average of tarcur & tarend, default tc is 30 ms */
; 795  : 	else if ((pDphsettar->par_type IS_PARALLEL_FORM_AMP)

  06c8c	e9 71 01 00 00	 jmp	 $L73838
$L73797:

; 796  : 			 || (pDphsettar->par_type IS_AV_OR_AH))

  06c91	3c 02		 cmp	 al, 2
  06c93	74 08		 je	 SHORT $L73811
  06c95	84 c0		 test	 al, al
  06c97	0f 85 65 01 00
	00		 jne	 $L73838
$L73811:

; 797  : 	{
; 798  : 
; 799  : 		/* See if onset, i.e. plosive or large source intensity increase */
; 800  : 		temp = pDphsettar->np->tarcur - 10;

  06c9d	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]

; 801  : 		if ((pDphsettar->bouval < temp) || ((fealas & FPLOSV) IS_PLUS)
; 802  : 			|| (pholas == GRP_DJ))

  06ca0	8b 54 24 24	 mov	 edx, DWORD PTR _feacur$[esp+12]
  06ca4	8b 5c 24 20	 mov	 ebx, DWORD PTR _fealas$[esp+12]
  06ca8	66 8b 01	 mov	 ax, WORD PTR [ecx]
  06cab	66 2d 0a 00	 sub	 ax, 10			; 0000000aH
  06caf	66 39 06	 cmp	 WORD PTR [esi], ax
  06cb2	7c 0e		 jl	 SHORT $L73813
  06cb4	f6 c3 40	 test	 bl, 64			; 00000040H
  06cb7	75 09		 jne	 SHORT $L73813
  06cb9	66 81 7c 24 1c
	35 1c		 cmp	 WORD PTR _pholas$[esp+12], 7221 ; 00001c35H
  06cc0	75 48		 jne	 SHORT $L73819
$L73813:

; 803  : 		{
; 804  : 			pDphsettar->bouval = temp;
; 805  : 			if ((feacur & FOBST) IS_MINUS)

  06cc2	f6 c2 20	 test	 dl, 32			; 00000020H
  06cc5	66 89 06	 mov	 WORD PTR [esi], ax
  06cc8	75 04		 jne	 SHORT $L73814

; 806  : 				pDphsettar->durtran = NF20MS;

  06cca	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L73814:

; 807  : 			/* Voicing is special */
; 808  : 			if (pDphsettar->np == &PAV)

  06cce	8d af 20 01 00
	00		 lea	 ebp, DWORD PTR [edi+288]
  06cd4	3b cd		 cmp	 ecx, ebp
  06cd6	75 32		 jne	 SHORT $L73819

; 809  : 			{
; 810  : 				/* Gradual buildup of voicing */
; 811  : 				if (pholas == GEN_SIL)

  06cd8	66 81 7c 24 1c
	00 1e		 cmp	 WORD PTR _pholas$[esp+12], 7680 ; 00001e00H
  06cdf	75 0f		 jne	 SHORT $L73817

; 812  : 				{
; 813  : 					if ((feacur & FVOICD) IS_PLUS)

  06ce1	f6 c2 02	 test	 dl, 2
  06ce4	74 0a		 je	 SHORT $L73817

; 814  : 					{
; 815  : 						pDphsettar->durtran = NF45MS;
; 816  : 						pDphsettar->bouval -= 8;

  06ce6	66 83 06 f8	 add	 WORD PTR [esi], -8	; fffffff8H
  06cea	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
$L73817:

; 817  : 					}
; 818  : 				}
; 819  : 				/* Obstruent voicing onset is abrupt */
; 820  : 				if ((fealas & FOBST) IS_PLUS)

  06cf0	f6 c3 20	 test	 bl, 32			; 00000020H
  06cf3	74 06		 je	 SHORT $L73818

; 821  : 				{
; 822  : 					pDphsettar->bouval = temp + 6;

  06cf5	83 c0 06	 add	 eax, 6
  06cf8	66 89 06	 mov	 WORD PTR [esi], ax
$L73818:

; 823  : 				}
; 824  : 				/* Plosive onset is abrupt (used mainly for [bdg]) */
; 825  : 				if ((fealas & FPLOSV) IS_PLUS)

  06cfb	f6 c3 40	 test	 bl, 64			; 00000040H
  06cfe	74 0a		 je	 SHORT $L73819

; 826  : 				{
; 827  : 					pDphsettar->bouval = pDphsettar->np->tarcur - 5;

  06d00	66 8b 01	 mov	 ax, WORD PTR [ecx]
  06d03	66 2d 05 00	 sub	 ax, 5
  06d07	66 89 06	 mov	 WORD PTR [esi], ax
$L73819:

; 828  : 				}
; 829  : 			}
; 830  : 			//debugforward (" Onset", pDphsettar->np);
; 831  : 		}
; 832  : 		/* If last nasal, and source amp increased, abrupt onset */
; 833  : 		if (((fealas & FNASAL) IS_PLUS)
; 834  : 			&& ((feacur & FVOICD) IS_PLUS))

  06d0a	f6 c3 80	 test	 bl, -128		; ffffff80H
  06d0d	74 0d		 je	 SHORT $L75405
  06d0f	f6 c2 02	 test	 dl, 2
  06d12	74 08		 je	 SHORT $L75405

; 835  : 		{
; 836  : 			pDphsettar->durtran = 0;

  06d14	33 ed		 xor	 ebp, ebp
  06d16	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
  06d1a	eb 02		 jmp	 SHORT $L73820
$L75405:
  06d1c	33 ed		 xor	 ebp, ebp
$L73820:

; 837  : 			//debugforward (" Onset from nasal", pDphsettar->np);
; 838  : 		}
; 839  : 		/* Voicing source amp const in intervocalic nasal */
; 840  : 		if ((feacur & FNASAL) IS_PLUS)

  06d1e	f6 c2 80	 test	 dl, -128		; ffffff80H
  06d21	74 13		 je	 SHORT $L73823

; 841  : 		{
; 842  : 			if ((fealas & FVOICD) IS_PLUS)

  06d23	f6 c3 02	 test	 bl, 2
  06d26	74 0e		 je	 SHORT $L73823

; 843  : 			{
; 844  : 				if (pDphsettar->np == &PAV)

  06d28	8d 87 20 01 00
	00		 lea	 eax, DWORD PTR [edi+288]
  06d2e	3b c8		 cmp	 ecx, eax
  06d30	75 04		 jne	 SHORT $L73823

; 845  : 					pDphsettar->durtran = 0;

  06d32	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L73823:

; 846  : 			}
; 847  : 		}
; 848  : 		/* See if offset, i.e. source intensity decreasing */
; 849  : 		temp = pDphsettar->np->tarlas - 10;

  06d36	66 8b 41 18	 mov	 ax, WORD PTR [ecx+24]
  06d3a	66 2d 0a 00	 sub	 ax, 10			; 0000000aH

; 850  : 		if (pDphsettar->bouval < temp)

  06d3e	66 39 06	 cmp	 WORD PTR [esi], ax
  06d41	7d 22		 jge	 SHORT $L73826

; 851  : 		{
; 852  : 			/* Reduce bounval by 3 dB because bval time is onset */
; 853  : 			/* of next phoneme */
; 854  : 			pDphsettar->bouval = temp - 3;

  06d43	83 c0 fd	 add	 eax, -3			; fffffffdH

; 855  : 			/* Source amplitudes fall gradually into silence */
; 856  : 			if (pDphsettar->phcur == GEN_SIL)

  06d46	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  06d4c	66 89 06	 mov	 WORD PTR [esi], ax
  06d4f	75 06		 jne	 SHORT $L73825

; 857  : 				pDphsettar->durtran = NF70MS;

  06d51	66 c7 46 06 0b
	00		 mov	 WORD PTR [esi+6], 11	; 0000000bH
$L73825:

; 858  : 			/* Except voicing offset is abrupt */
; 859  : 			if (pDphsettar->np == &PAV)

  06d57	8d 87 20 01 00
	00		 lea	 eax, DWORD PTR [edi+288]
  06d5d	3b c8		 cmp	 ecx, eax
  06d5f	75 04		 jne	 SHORT $L73826

; 860  : 				pDphsettar->durtran = 0;

  06d61	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L73826:

; 861  : 			//debugforward (" Offset", pDphsettar->np);
; 862  : 		}
; 863  : 		/* Buildup A3 gradually in [C, J] */
; 864  : 		if (pDphsettar->np == &PA3)
; 865  : 		{
; 866  : 		}
; 867  : 		/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 868  : 		/* gradual transition into [PF, TS, DJ, TJ, KS] of A4     */
; 869  : 		/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 870  : 		if (pDphsettar->np == &PA4)

  06d65	8d 87 b0 01 00
	00		 lea	 eax, DWORD PTR [edi+432]
  06d6b	3b c8		 cmp	 ecx, eax
  06d6d	75 21		 jne	 SHORT $L73829

; 871  : 		{
; 872  : 			if (pDphsettar->phcur >= GRP_PF)

  06d6f	66 81 7e 18 33
	1c		 cmp	 WORD PTR [esi+24], 7219	; 00001c33H
  06d75	7c 19		 jl	 SHORT $L73829

; 873  : 			{
; 874  : 				pDphsettar->durtran = pDph_t->durfon - NF15MS;

  06d77	66 8b 87 04 15
	00 00		 mov	 ax, WORD PTR [edi+5380]
  06d7e	66 2d 02 00	 sub	 ax, 2
  06d82	66 89 46 06	 mov	 WORD PTR [esi+6], ax

; 875  : 				pDphsettar->bouval = pDphsettar->np->tarcur - 40;

  06d86	66 8b 01	 mov	 ax, WORD PTR [ecx]
  06d89	66 2d 28 00	 sub	 ax, 40			; 00000028H
  06d8d	66 89 06	 mov	 WORD PTR [esi], ax
$L73829:

; 876  : 
; 877  : 			}
; 878  : 		}
; 879  : 		/* Offset of a vowel into voiceless open vocal tract is breathy */
; 880  : 		if (pDphsettar->np == &PAP)

  06d90	8d 87 44 01 00
	00		 lea	 eax, DWORD PTR [edi+324]
  06d96	3b c8		 cmp	 ecx, eax
  06d98	75 1d		 jne	 SHORT $L73834

; 881  : 		{
; 882  : 			if ((pDphsettar->phcur == GEN_SIL))

  06d9a	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  06da0	75 15		 jne	 SHORT $L73834

; 883  : 			{
; 884  : 				if (((fealas & FVOICD) IS_PLUS)
; 885  : 					&& ((fealas & FOBST) IS_MINUS))

  06da2	f6 c3 02	 test	 bl, 2
  06da5	74 10		 je	 SHORT $L73834
  06da7	f6 c3 20	 test	 bl, 32			; 00000020H
  06daa	75 0b		 jne	 SHORT $L73834

; 886  : 				{
; 887  : 					if (pDphsettar->phcur == GEN_SIL)
; 888  : 					{
; 889  : 						pDphsettar->bouval = 52;

  06dac	66 c7 06 34 00	 mov	 WORD PTR [esi], 52	; 00000034H

; 890  : 						pDphsettar->durtran = NF80MS;

  06db1	66 c7 46 06 0d
	00		 mov	 WORD PTR [esi+6], 13	; 0000000dH
$L73834:

; 891  : 					}
; 892  : 					else
; 893  : 					{
; 894  : 						pDphsettar->bouval = 48;
; 895  : 						pDphsettar->durtran = NF45MS;
; 896  : 					}
; 897  : 				}
; 898  : 			}
; 899  : 		}
; 900  : 		/* FORWARD SMOOTH:  TLT */
; 901  : 
; 902  : 		/* Tilt parameter jumps to target values near stops and silence */
; 903  : 		if (pDphsettar->np == &PTILT)

  06db7	8d 87 40 02 00
	00		 lea	 eax, DWORD PTR [edi+576]
  06dbd	3b c8		 cmp	 ecx, eax
  06dbf	75 41		 jne	 SHORT $L73838

; 904  : 		{
; 905  : 			pDphsettar->durtran = NF25MS;
; 906  : 			if (pholas == GEN_SIL)

  06dc1	66 81 7c 24 1c
	00 1e		 cmp	 WORD PTR _pholas$[esp+12], 7680 ; 00001e00H
  06dc8	66 c7 46 06 04
	00		 mov	 WORD PTR [esi+6], 4
  06dce	75 06		 jne	 SHORT $L73836

; 907  : 			{
; 908  : 				pDphsettar->bouval = pDphsettar->np->tarcur;

  06dd0	66 8b 09	 mov	 cx, WORD PTR [ecx]
  06dd3	66 89 0e	 mov	 WORD PTR [esi], cx
$L73836:

; 909  : 			}
; 910  : 			if (pDphsettar->phcur == GEN_SIL)

  06dd6	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  06ddc	75 0a		 jne	 SHORT $L73837

; 911  : 			{
; 912  : 				/* Reach into par buffer to get actual previous value */
; 913  : 				pDphsettar->bouval = pDph_t->parstochip[OUT_TLT];

  06dde	66 8b 87 ae 03
	00 00		 mov	 ax, WORD PTR [edi+942]
  06de5	66 89 06	 mov	 WORD PTR [esi], ax
$L73837:

; 914  : 			}
; 915  : 			if (((fealas & FSTOP) IS_PLUS)
; 916  : 				|| ((feacur & FSTOP) IS_PLUS))

  06de8	81 e3 00 20 00
	00		 and	 ebx, 8192		; 00002000H
  06dee	66 85 db	 test	 bx, bx
  06df1	75 0b		 jne	 SHORT $L73839
  06df3	81 e2 00 20 00
	00		 and	 edx, 8192		; 00002000H
  06df9	66 85 d2	 test	 dx, dx
  06dfc	74 04		 je	 SHORT $L73838
$L73839:

; 917  : 			{
; 918  : 				pDphsettar->durtran = 0;

  06dfe	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L73838:

; 919  : 			}
; 920  : 		}
; 921  : 	}
; 922  : 	/* Truncate tran dur if exceeds duration of current phone */
; 923  : 	if (pDphsettar->durtran > pDph_t->durfon)

  06e02	66 8b bf 04 15
	00 00		 mov	 di, WORD PTR [edi+5380]
  06e09	66 39 7e 06	 cmp	 WORD PTR [esi+6], di
  06e0d	7e 04		 jle	 SHORT $L73840

; 924  : 		pDphsettar->durtran = pDph_t->durfon;

  06e0f	66 89 7e 06	 mov	 WORD PTR [esi+6], di
$L73840:

; 925  : 	/* Or duration of 20 frames */
; 926  : 	if (pDphsettar->durtran > NF130MS)

  06e13	b8 14 00 00 00	 mov	 eax, 20			; 00000014H
  06e18	66 39 46 06	 cmp	 WORD PTR [esi+6], ax
  06e1c	7e 04		 jle	 SHORT $L73841

; 927  : 		pDphsettar->durtran = NF130MS;

  06e1e	66 89 46 06	 mov	 WORD PTR [esi+6], ax
$L73841:

; 928  : 	/* Do not allow amplitude value to go below zero */
; 929  : 	if (pDphsettar->bouval < 0)

  06e22	66 83 3e 00	 cmp	 WORD PTR [esi], 0
  06e26	7d 05		 jge	 SHORT $L73842

; 930  : 		pDphsettar->bouval = 0;

  06e28	66 c7 06 00 00	 mov	 WORD PTR [esi], 0
$L73842:
  06e2d	5f		 pop	 edi
  06e2e	5e		 pop	 esi
  06e2f	5d		 pop	 ebp
  06e30	5b		 pop	 ebx

; 931  : }

  06e31	c3		 ret	 0
_gr_forw_smooth_rules ENDP
_TEXT	ENDS
EXTRN	_gr_place:BYTE
_TEXT	SEGMENT
_phTTS$ = 8
_shrib$ = 12
_feacur$ = 16
_feanex$ = 20
_strucnex$ = 24
_gr_back_smooth_rules PROC NEAR

; 952  : {

  06e40	53		 push	 ebx
  06e41	55		 push	 ebp

; 953  : 	short                   temp;	   /* MVP MI : This varaible is made local */
; 954  : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  06e42	8b 6c 24 0c	 mov	 ebp, DWORD PTR _phTTS$[esp+4]
  06e46	56		 push	 esi

; 955  : 	PKSD_T                  pKsd_t = phTTS->pKernelShareData;
; 956  : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;
; 957  : 
; 958  : 	//debugbackward ("Set default", pDphsettar->np);
; 959  : 
; 960  : 	/* BACKWARD SMOOTH:  F1, F2, F3 */
; 961  : 	if (pDphsettar->par_type IS_FORM_FREQ)

  06e47	ba 03 00 00 00	 mov	 edx, 3
  06e4c	57		 push	 edi
  06e4d	8b 5d 18	 mov	 ebx, DWORD PTR [ebp+24]
  06e50	8b b3 10 2c 00
	00		 mov	 esi, DWORD PTR [ebx+11280]
  06e56	8a 46 14	 mov	 al, BYTE PTR [esi+20]
  06e59	3a c2		 cmp	 al, dl
  06e5b	0f 85 cd 01 00
	00		 jne	 $L73858

; 962  : 	{
; 963  : 		/* 0. Use default values for obst-obst transition */
; 964  : 		if ((feacur & FSONOR) IS_PLUS)

  06e61	8b 44 24 1c	 mov	 eax, DWORD PTR _feacur$[esp+12]
  06e65	8b 7c 24 20	 mov	 edi, DWORD PTR _feanex$[esp+12]
  06e69	a8 10		 test	 al, 16			; 00000010H
  06e6b	74 6e		 je	 SHORT $L73866

; 965  : 		{
; 966  : 			pDphsettar->durtran = NF45MS;
; 967  : 			if ((feacur & FSONCON) IS_MINUS)

  06e6d	25 00 02 00 00	 and	 eax, 512		; 00000200H
  06e72	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
  06e78	66 85 c0	 test	 ax, ax
  06e7b	75 37		 jne	 SHORT $L73860

; 968  : 			{
; 969  : 				if ((feanex & FSONCON) IS_PLUS)

  06e7d	8b c7		 mov	 eax, edi
  06e7f	25 00 02 00 00	 and	 eax, 512		; 00000200H
  06e84	66 85 c0	 test	 ax, ax
  06e87	74 52		 je	 SHORT $L73866

; 970  : 				{
; 971  : 					/* 1. Vowel-soncon trans, use 75-25% rule */
; 972  : 					pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarnex) >> 1;

  06e89	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  06e8c	0f bf 16	 movsx	 edx, WORD PTR [esi]
  06e8f	0f bf 48 16	 movsx	 ecx, WORD PTR [eax+22]
  06e93	03 ca		 add	 ecx, edx
  06e95	d1 f9		 sar	 ecx, 1
  06e97	66 89 0e	 mov	 WORD PTR [esi], cx

; 973  : 					/* F3 transitions slower esp for [r,l] */
; 974  : 					if (pDphsettar->np == &PF3)

  06e9a	8d 4b 6c	 lea	 ecx, DWORD PTR [ebx+108]
  06e9d	3b c1		 cmp	 eax, ecx
  06e9f	75 06		 jne	 SHORT $L73862

; 975  : 					{
; 976  : 						pDphsettar->durtran = NF64MS;

  06ea1	66 c7 46 06 0a
	00		 mov	 WORD PTR [esi+6], 10	; 0000000aH
$L73862:

; 977  : 					}
; 978  : 					/* First formant jumps down 80 Hz in /l/ */
; 979  : 					if ( (pDphsettar->np == &PF1))

  06ea7	8d 53 24	 lea	 edx, DWORD PTR [ebx+36]
  06eaa	3b c2		 cmp	 eax, edx
  06eac	75 2d		 jne	 SHORT $L73866

; 980  : 					{
; 981  : 						pDphsettar->bouval += 80;

  06eae	66 83 06 50	 add	 WORD PTR [esi], 80	; 00000050H

; 982  : 					}
; 983  : 				}
; 984  : 				else
; 985  : 				{
; 986  : 					/* 2. Vowel-[vowel/h] transition */
; 987  : 					/* Following [h] has little influence on pDphsettar->bouval */
; 988  : 				}
; 989  : 			}
; 990  : 			else

  06eb2	eb 27		 jmp	 SHORT $L73866
$L73860:

; 991  : 			{
; 992  : 				pDphsettar->durtran = NF40MS;
; 993  : 				if ((feanex & FSONCON) IS_MINUS)

  06eb4	8b c7		 mov	 eax, edi
  06eb6	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
  06ebc	25 00 02 00 00	 and	 eax, 512		; 00000200H
  06ec1	66 85 c0	 test	 ax, ax
  06ec4	75 15		 jne	 SHORT $L73866

; 994  : 				{
; 995  : 					/* 3. Soncon-vowel trans, use 25-75% rule */
; 996  : 					pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarend) >> 1;

  06ec6	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  06ec9	0f bf 41 1a	 movsx	 eax, WORD PTR [ecx+26]
  06ecd	0f bf 0e	 movsx	 ecx, WORD PTR [esi]
  06ed0	03 c1		 add	 eax, ecx

; 997  : 					pDphsettar->durtran = NF20MS;

  06ed2	66 89 56 06	 mov	 WORD PTR [esi+6], dx
  06ed6	d1 f8		 sar	 eax, 1
  06ed8	66 89 06	 mov	 WORD PTR [esi], ax
$L73866:

; 998  : 				}
; 999  : 				else
; 1000 : 				{
; 1001 : 					/* 4. Soncon-soncon transition */
; 1002 : 					/* Use defaults */
; 1003 : 				}
; 1004 : 			}
; 1005 : 		}
; 1006 : 		/* No backward smoothing if next phone is silence */
; 1007 : 		if (pDphsettar->phonex == GEN_SIL)

  06edb	66 81 7e 0a 00
	1e		 cmp	 WORD PTR [esi+10], 7680	; 00001e00H
  06ee1	75 0b		 jne	 SHORT $L73868

; 1008 : 		{
; 1009 : 			pDphsettar->durtran = 0;

  06ee3	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0

; 1010 : 		}
; 1011 : 		else

  06ee9	e9 fd 00 00 00	 jmp	 $L73889
$L73868:

; 1012 : 		{
; 1013 : 			/* 5. pDphsettar->phcur=sonor, pDphsettar->phonex=obst transition */
; 1014 : 			if (setloc (phTTS, (short)(pDph_t->nphone + 1), pDph_t->nphone, 'f', (short)(pDph_t->nphone + 2), feanex))

  06eee	66 8b 83 d0 23
	00 00		 mov	 ax, WORD PTR [ebx+9168]
  06ef5	57		 push	 edi
  06ef6	8d 50 02	 lea	 edx, DWORD PTR [eax+2]
  06ef9	52		 push	 edx
  06efa	6a 66		 push	 102			; 00000066H
  06efc	50		 push	 eax
  06efd	40		 inc	 eax
  06efe	50		 push	 eax
  06eff	55		 push	 ebp
  06f00	e8 00 00 00 00	 call	 _setloc

; 1015 : 			{
; 1016 : 				//debugbackward (" Use locus,percent", pDphsettar->np);
; 1017 : 			}
; 1018 : 			/* 6. pDphsettar->phcur=obst, pDphsettar->phonex=sonor transition */
; 1019 : 			if (setloc (phTTS, pDph_t->nphone, (short)(pDph_t->nphone + 1), 'i', (short)(pDph_t->nphone - 1), feanex))

  06f05	66 8b 83 d0 23
	00 00		 mov	 ax, WORD PTR [ebx+9168]
  06f0c	57		 push	 edi
  06f0d	8d 48 ff	 lea	 ecx, DWORD PTR [eax-1]
  06f10	8d 50 01	 lea	 edx, DWORD PTR [eax+1]
  06f13	51		 push	 ecx
  06f14	6a 69		 push	 105			; 00000069H
  06f16	52		 push	 edx
  06f17	50		 push	 eax
  06f18	55		 push	 ebp
  06f19	e8 00 00 00 00	 call	 _setloc

; 1020 : 			{
; 1021 : 				//debugbackward (" Use locus,percent", pDphsettar->np);
; 1022 : 			}
; 1023 : 			/* Transitions slow inside obstruents */
; 1024 : 			if ((feacur & FOBST) IS_PLUS)

  06f1e	8a 44 24 4c	 mov	 al, BYTE PTR _feacur$[esp+60]
  06f22	83 c4 30	 add	 esp, 48			; 00000030H
  06f25	a8 20		 test	 al, 32			; 00000020H
  06f27	74 37		 je	 SHORT $L73879

; 1025 : 			{
; 1026 : 				pDphsettar->durtran = NF30MS;
; 1027 : 				if (pDphsettar->np == &PF1)

  06f29	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  06f2c	8d 43 24	 lea	 eax, DWORD PTR [ebx+36]
  06f2f	3b c8		 cmp	 ecx, eax
  06f31	66 c7 46 06 05
	00		 mov	 WORD PTR [esi+6], 5
  06f37	75 06		 jne	 SHORT $L73877

; 1028 : 					pDphsettar->durtran = NF20MS;

  06f39	66 c7 46 06 03
	00		 mov	 WORD PTR [esi+6], 3
$L73877:

; 1029 : 				/* Transitions take all of plosive duration */
; 1030 : 				if ((feacur & FPLOSV) IS_PLUS)

  06f3f	f6 44 24 1c 40	 test	 BYTE PTR _feacur$[esp+12], 64 ; 00000040H
  06f44	74 1a		 je	 SHORT $L73879

; 1031 : 				{
; 1032 : 					pDphsettar->durtran = pDph_t->durfon;

  06f46	66 8b 93 04 15
	00 00		 mov	 dx, WORD PTR [ebx+5380]

; 1033 : 					if ((pDphsettar->np == &PF1) && ((feacur & FVOICD) IS_MINUS))

  06f4d	3b c8		 cmp	 ecx, eax
  06f4f	66 89 56 06	 mov	 WORD PTR [esi+6], dx
  06f53	75 0b		 jne	 SHORT $L73879
  06f55	f6 44 24 1c 02	 test	 BYTE PTR _feacur$[esp+12], 2
  06f5a	75 04		 jne	 SHORT $L73879

; 1034 : 					{
; 1035 : 						pDphsettar->bouval += 100;

  06f5c	66 83 06 64	 add	 WORD PTR [esi], 100	; 00000064H
$L73879:

; 1036 : 					}
; 1037 : 				}
; 1038 : 			}
; 1039 : 						/* @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ */
; 1040 : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 1041 : 			/* transitions out of 'L' in german DECtalk            */
; 1042 : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 1043 : 			if (pDphsettar->phcur == GRP_L)

  06f60	66 8b 56 18	 mov	 dx, WORD PTR [esi+24]
  06f64	66 81 fa 1a 1c	 cmp	 dx, 7194		; 00001c1aH
  06f69	75 08		 jne	 SHORT $L73880

; 1044 : 			{
; 1045 : 				pDphsettar->durtran = NF15MS;

  06f6b	66 c7 46 06 02
	00		 mov	 WORD PTR [esi+6], 2

; 1046 : 
; 1047 : 			}
; 1048 : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 1049 : 			/* fast transition from burst of a plosive to a sonorant       */
; 1050 : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 1051 : 			else if ((feacur & FPLOSV) IS_PLUS)

  06f71	eb 0d		 jmp	 SHORT $L73882
$L73880:
  06f73	f6 44 24 1c 40	 test	 BYTE PTR _feacur$[esp+12], 64 ; 00000040H
  06f78	74 06		 je	 SHORT $L73882

; 1052 : 			{
; 1053 : 				pDphsettar->durtran = NF25MS;

  06f7a	66 c7 46 06 04
	00		 mov	 WORD PTR [esi+6], 4
$L73882:

; 1054 : 
; 1055 : 			}
; 1056 : 
; 1057 : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 1058 : 			/* following 'r' requires early adaption               */
; 1059 : 			/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 1060 : 			if (pDphsettar->np != &PF1)

  06f80	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  06f83	8d 4b 24	 lea	 ecx, DWORD PTR [ebx+36]
  06f86	3b c1		 cmp	 eax, ecx
  06f88	74 26		 je	 SHORT $L73885

; 1061 : 			{
; 1062 : 				if ((pDphsettar->phcur >= GRP_AH) && (pDphsettar->phcur <= GRP_UEH))

  06f8a	66 81 fa 0a 1c	 cmp	 dx, 7178		; 00001c0aH
  06f8f	7c 1f		 jl	 SHORT $L73885
  06f91	66 81 fa 09 1c	 cmp	 dx, 7177		; 00001c09H
  06f96	7f 18		 jg	 SHORT $L73885

; 1063 : 				{
; 1064 : 					if ((pDphsettar->phonex == GRP_RR) || (pDphsettar->phonex == GRP_R))

  06f98	66 8b 56 0a	 mov	 dx, WORD PTR [esi+10]
  06f9c	66 81 fa 1b 1c	 cmp	 dx, 7195		; 00001c1bH
  06fa1	74 07		 je	 SHORT $L73886
  06fa3	66 81 fa 1c 1c	 cmp	 dx, 7196		; 00001c1cH
  06fa8	75 06		 jne	 SHORT $L73885
$L73886:

; 1065 : 					{
; 1066 : 						pDphsettar->durtran = NF640MS;

  06faa	66 c7 46 06 64
	00		 mov	 WORD PTR [esi+6], 100	; 00000064H
$L73885:

; 1067 : 
; 1068 : 					}
; 1069 : 				}
; 1070 : 			}
; 1071 : 			/* @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ */
; 1072 : 			/* Higher formant transitions slow inside a nasal */
; 1073 : 			if ((feacur & FNASAL) IS_PLUS)

  06fb0	f6 44 24 1c 80	 test	 BYTE PTR _feacur$[esp+12], -128 ; ffffff80H
  06fb5	74 34		 je	 SHORT $L73889

; 1074 : 			{
; 1075 : 				pDphsettar->durtran = pDph_t->durfon;

  06fb7	66 8b 93 04 15
	00 00		 mov	 dx, WORD PTR [ebx+5380]

; 1076 : 				/* Except F1, which jumps to value below FNZRO */
; 1077 : 				if (pDphsettar->np == &PF1)

  06fbe	3b c1		 cmp	 eax, ecx
  06fc0	66 89 56 06	 mov	 WORD PTR [esi+6], dx
  06fc4	75 06		 jne	 SHORT $L73888

; 1078 : 				{
; 1079 : 					pDphsettar->durtran = 0;

  06fc6	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L73888:

; 1080 : 				}
; 1081 : 				/* Lower F2 & F3 of [n] nasal murmur before front vowels */
; 1082 : 				/* Lower F2 of [m] murmur near [i,y,yu,ir] */
; 1083 : 				if ((pDphsettar->np == &PF2) 
; 1084 : 						 && ((gr_place[pDphsettar->phonex & PVALUE] & F2BACKI) IS_PLUS))

  06fcc	8d 4b 48	 lea	 ecx, DWORD PTR [ebx+72]
  06fcf	3b c1		 cmp	 eax, ecx
  06fd1	75 18		 jne	 SHORT $L73889
  06fd3	8a 56 0a	 mov	 dl, BYTE PTR [esi+10]
  06fd6	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  06fdc	f6 04 55 00 00
	00 00 40	 test	 BYTE PTR _gr_place[edx*2], 64 ; 00000040H
  06fe4	74 05		 je	 SHORT $L73889

; 1085 : 				{
; 1086 : 					pDphsettar->bouval -= 150;

  06fe6	66 81 06 6a ff	 add	 WORD PTR [esi], -150	; ffffff6aH
$L73889:

; 1087 : 				}
; 1088 : 			}
; 1089 : 		}
; 1090 : 		/* Shrink tran dur inside sonorant if sonorant short */
; 1091 : 		if (((feacur & FOBST) IS_MINUS)
; 1092 : 			&& (gr_begtyp[pDphsettar->phonex] != 4)	/* Unless next seg is obst */
; 1093 : 			&& (pDphsettar->durtran > 0))

  06feb	f6 44 24 1c 20	 test	 BYTE PTR _feacur$[esp+12], 32 ; 00000020H
  06ff0	0f 85 93 03 00
	00		 jne	 $endbsmo$73917
  06ff6	0f bf 46 0a	 movsx	 eax, WORD PTR [esi+10]
  06ffa	66 83 3c 45 00
	00 00 00 04	 cmp	 WORD PTR _gr_begtyp[eax*2], 4
  07003	0f 84 80 03 00
	00		 je	 $endbsmo$73917
  07009	66 8b 46 06	 mov	 ax, WORD PTR [esi+6]
  0700d	66 85 c0	 test	 ax, ax
  07010	0f 8e 73 03 00
	00		 jle	 $endbsmo$73917

; 1094 : 		{
; 1095 : 			//pDph_t->arg1 = pDphsettar->durtran;
; 1096 : 			//pDph_t->arg2 = shrib;
; 1097 : 			pDphsettar->durtran = mlsh1 (pDphsettar->durtran, shrib) + 1;

  07016	0f bf 54 24 18	 movsx	 edx, WORD PTR _shrib$[esp+12]
  0701b	0f bf c8	 movsx	 ecx, ax
  0701e	0f af ca	 imul	 ecx, edx
  07021	c1 f9 0e	 sar	 ecx, 14			; 0000000eH
  07024	41		 inc	 ecx
  07025	66 89 4e 06	 mov	 WORD PTR [esi+6], cx

; 1098 : 		}
; 1099 : 	}
; 1100 : 	/* BACKWARD SMOOTH:  FN */
; 1101 : 	else if (pDphsettar->par_type IS_NASAL_ZERO_FREQ)

  07029	e9 5b 03 00 00	 jmp	 $endbsmo$73917
$L73858:
  0702e	3c 01		 cmp	 al, 1
  07030	75 2d		 jne	 SHORT $L73892

; 1102 : 	{
; 1103 : 		pDphsettar->durtran = 0;
; 1104 : 		/* Nasalization cue: place zero between F1 and FP */
; 1105 : 		if (((feanex & FNASAL) IS_PLUS)
; 1106 : 			&& ((feacur & FNASAL) IS_MINUS))

  07032	8a 44 24 20	 mov	 al, BYTE PTR _feanex$[esp+12]
  07036	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
  0703c	a8 80		 test	 al, -128		; ffffff80H
  0703e	0f 84 45 03 00
	00		 je	 $endbsmo$73917
  07044	f6 44 24 1c 80	 test	 BYTE PTR _feacur$[esp+12], -128 ; ffffff80H
  07049	0f 85 3a 03 00
	00		 jne	 $endbsmo$73917

; 1107 : 		{
; 1108 : 			pDphsettar->bouval = NASAL_ZERO_BOUNDARY;

  0704f	66 c7 06 72 01	 mov	 WORD PTR [esi], 370	; 00000172H

; 1109 : 			pDphsettar->durtran = NF80MS;

  07054	66 c7 46 06 0d
	00		 mov	 WORD PTR [esi+6], 13	; 0000000dH

; 1110 : 		}
; 1111 : 	}
; 1112 : 	/* BACKWARD SMOOTH:  B1, B2, B3 */
; 1113 : 	else if (pDphsettar->par_type IS_FORM_BW)

  0705a	e9 2a 03 00 00	 jmp	 $endbsmo$73917
$L73892:
  0705f	3c 04		 cmp	 al, 4
  07061	0f 85 2b 01 00
	00		 jne	 $L73895

; 1114 : 	{
; 1115 : 		pDphsettar->durtran = NF40MS;
; 1116 : 		if ((feacur & FVOICD) IS_PLUS)

  07067	8a 44 24 1c	 mov	 al, BYTE PTR _feacur$[esp+12]
  0706b	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
  07071	a8 02		 test	 al, 2
  07073	bd 08 00 00 00	 mov	 ebp, 8
  07078	74 39		 je	 SHORT $L73896

; 1117 : 		{
; 1118 : 			/* Glottis opens early before -voice C, widen B1 */
; 1119 : 			if (pDphsettar->np == &PB1)

  0707a	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  0707d	8d 8b b4 00 00
	00		 lea	 ecx, DWORD PTR [ebx+180]
  07083	3b c1		 cmp	 eax, ecx
  07085	75 30		 jne	 SHORT $L73900

; 1120 : 			{
; 1121 : 				if ((feanex & FVOICD) IS_MINUS)

  07087	f6 44 24 20 02	 test	 BYTE PTR _feanex$[esp+12], 2
  0708c	75 29		 jne	 SHORT $L73900

; 1122 : 				{
; 1123 : 					pDphsettar->durtran = NF50MS;

  0708e	66 89 6e 06	 mov	 WORD PTR [esi+6], bp

; 1124 : 					/* More increase for low vowels (F1 high) */
; 1125 : 					pDphsettar->bouval = pDphsettar->np->tarend + (PF1.tarcur >> 3);

  07092	66 8b 53 24	 mov	 dx, WORD PTR [ebx+36]
  07096	66 c1 fa 03	 sar	 dx, 3
  0709a	66 03 50 1a	 add	 dx, WORD PTR [eax+26]
  0709e	66 89 16	 mov	 WORD PTR [esi], dx

; 1126 : 					/* Effect is greater for a female voice */
; 1127 : 					if (pDph_t->malfem == FEMALE)

  070a1	66 83 bb 08 15
	00 00 00	 cmp	 WORD PTR [ebx+5384], 0
  070a9	75 0c		 jne	 SHORT $L73900

; 1128 : 					{
; 1129 : 						pDphsettar->durtran = NF100MS;

  070ab	66 c7 46 06 10
	00		 mov	 WORD PTR [esi+6], 16	; 00000010H

; 1130 : 					}
; 1131 : 				}
; 1132 : 			}
; 1133 : 		}
; 1134 : 		else

  070b1	eb 04		 jmp	 SHORT $L73900
$L73896:

; 1135 : 		{
; 1136 : 			pDphsettar->durtran = NF20MS;

  070b3	66 89 56 06	 mov	 WORD PTR [esi+6], dx
$L73900:

; 1137 : 		}
; 1138 : 		/* Treat boundary with silence */
; 1139 : 		/* OUT ??? */
; 1140 : 		if (pDphsettar->phonex == GEN_SIL)

  070b7	b8 00 1e 00 00	 mov	 eax, 7680		; 00001e00H
  070bc	66 39 46 0a	 cmp	 WORD PTR [esi+10], ax
  070c0	75 2c		 jne	 SHORT $L73901

; 1141 : 		{
; 1142 : 			pDphsettar->bouval = pDphsettar->np->tarend + ((&PB3 - pDphsettar->np) * 50);

  070c2	8b 7e 10	 mov	 edi, DWORD PTR [esi+16]
  070c5	8b cb		 mov	 ecx, ebx
  070c7	2b cf		 sub	 ecx, edi
  070c9	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  070ce	81 c1 fc 00 00
	00		 add	 ecx, 252		; 000000fcH
  070d4	f7 e9		 imul	 ecx
  070d6	c1 fa 03	 sar	 edx, 3
  070d9	8b c2		 mov	 eax, edx
  070db	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  070de	03 d0		 add	 edx, eax
  070e0	8d 04 92	 lea	 eax, DWORD PTR [edx+edx*4]
  070e3	8d 0c 80	 lea	 ecx, DWORD PTR [eax+eax*4]
  070e6	d1 e1		 shl	 ecx, 1
  070e8	66 03 4f 1a	 add	 cx, WORD PTR [edi+26]

; 1143 : 			pDphsettar->durtran = NF50MS;
; 1144 : 		}
; 1145 : 		else if (pDphsettar->phcur == GEN_SIL)

  070ec	eb 30		 jmp	 SHORT $L75420
$L73901:
  070ee	66 39 46 18	 cmp	 WORD PTR [esi+24], ax
  070f2	75 31		 jne	 SHORT $L73903

; 1146 : 		{
; 1147 : 			pDphsettar->bouval = pDphsettar->np->tarnex + ((&PB3 - pDphsettar->np) * 50);

  070f4	8b 7e 10	 mov	 edi, DWORD PTR [esi+16]
  070f7	8b cb		 mov	 ecx, ebx
  070f9	2b cf		 sub	 ecx, edi
  070fb	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  07100	81 c1 fc 00 00
	00		 add	 ecx, 252		; 000000fcH
  07106	f7 e9		 imul	 ecx
  07108	c1 fa 03	 sar	 edx, 3
  0710b	8b c2		 mov	 eax, edx
  0710d	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  07110	03 d0		 add	 edx, eax
  07112	8d 04 92	 lea	 eax, DWORD PTR [edx+edx*4]
  07115	8d 0c 80	 lea	 ecx, DWORD PTR [eax+eax*4]
  07118	d1 e1		 shl	 ecx, 1
  0711a	66 03 4f 16	 add	 cx, WORD PTR [edi+22]
$L75420:
  0711e	66 89 0e	 mov	 WORD PTR [esi], cx

; 1148 : 			pDphsettar->durtran = NF50MS;

  07121	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L73903:

; 1149 : 		}
; 1150 : 		/* BW1 widen, to nasalize transition into next nasal */
; 1151 : 		if ((feanex & FNASAL) IS_PLUS)

  07125	f6 44 24 20 80	 test	 BYTE PTR _feanex$[esp+12], -128 ; ffffff80H
  0712a	74 50		 je	 SHORT $L73906

; 1152 : 		{
; 1153 : 			pDphsettar->bouval = pDphsettar->np->tarend;

  0712c	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]

; 1154 : 			/* Except F2 of [n], which is wider before a non-front vowel */
; 1155 : 			if ((pDphsettar->np == &PB2) && (endtyp(pDphsettar->phcur) != 1))

  0712f	8d 83 d8 00 00
	00		 lea	 eax, DWORD PTR [ebx+216]
  07135	3b c8		 cmp	 ecx, eax
  07137	66 8b 51 1a	 mov	 dx, WORD PTR [ecx+26]
  0713b	66 89 16	 mov	 WORD PTR [esi], dx
  0713e	75 28		 jne	 SHORT $L73905
  07140	0f bf 46 18	 movsx	 eax, WORD PTR [esi+24]
  07144	8b f8		 mov	 edi, eax
  07146	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  0714b	c1 ff 08	 sar	 edi, 8
  0714e	8b 3c bd 00 00
	00 00		 mov	 edi, DWORD PTR _all_endtyp[edi*4]
  07155	66 83 3c 47 01	 cmp	 WORD PTR [edi+eax*2], 1
  0715a	74 0c		 je	 SHORT $L73905

; 1156 : 			{
; 1157 : 				pDphsettar->bouval += 60;

  0715c	83 c2 3c	 add	 edx, 60			; 0000003cH

; 1158 : 				pDphsettar->durtran = NF60MS;

  0715f	66 c7 46 06 09
	00		 mov	 WORD PTR [esi+6], 9
  07165	66 89 16	 mov	 WORD PTR [esi], dx
$L73905:

; 1159 : 			}
; 1160 : 			if (pDphsettar->np == &PB1)

  07168	8d 93 b4 00 00
	00		 lea	 edx, DWORD PTR [ebx+180]
  0716e	3b ca		 cmp	 ecx, edx
  07170	75 0a		 jne	 SHORT $L73906

; 1161 : 			{
; 1162 : 				pDphsettar->durtran = NF100MS;
; 1163 : 				pDphsettar->bouval += 100;

  07172	66 83 06 64	 add	 WORD PTR [esi], 100	; 00000064H
  07176	66 c7 46 06 10
	00		 mov	 WORD PTR [esi+6], 16	; 00000010H
$L73906:

; 1164 : 			}
; 1165 : 		}
; 1166 : 		/* Nasals have constant bandwidths at target values */
; 1167 : 		if ((feacur & FNASAL) IS_PLUS)

  0717c	f6 44 24 1c 80	 test	 BYTE PTR _feacur$[esp+12], -128 ; ffffff80H
  07181	0f 84 02 02 00
	00		 je	 $endbsmo$73917

; 1168 : 		{
; 1169 : 			pDphsettar->durtran = 0;

  07187	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0

; 1170 : 			//debugbackward (" Nasal has const. par val", pDphsettar->np);
; 1171 : 		}
; 1172 : 	}
; 1173 : 	/* BACKWARD SMOOTH:  AV, AP, A2, A3, A4, A5, A6, AB */
; 1174 : 	else if ((pDphsettar->par_type IS_PARALLEL_FORM_AMP)

  0718d	e9 f7 01 00 00	 jmp	 $endbsmo$73917
$L73895:

; 1175 : 			 || (pDphsettar->par_type IS_AV_OR_AH))

  07192	33 ed		 xor	 ebp, ebp
  07194	3c 02		 cmp	 al, 2
  07196	74 08		 je	 SHORT $L73910
  07198	84 c0		 test	 al, al
  0719a	0f 85 e9 01 00
	00		 jne	 $endbsmo$73917
$L73910:

; 1176 : 	{
; 1177 : 		/* See if onset, i.e. source intensity increasing */
; 1178 : 		temp = pDphsettar->np->tarnex - 10;

  071a0	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  071a3	66 8b 41 16	 mov	 ax, WORD PTR [ecx+22]
  071a7	66 2d 0a 00	 sub	 ax, 10			; 0000000aH

; 1179 : 		if (pDphsettar->bouval < temp)

  071ab	66 39 06	 cmp	 WORD PTR [esi], ax
  071ae	7d 11		 jge	 SHORT $L73912

; 1180 : 		{
; 1181 : 			pDphsettar->bouval = temp;
; 1182 : 			/* Onset of an init fricative or /h/ is very gradual */
; 1183 : 			if (pDphsettar->phcur == GEN_SIL)

  071b0	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  071b6	66 89 06	 mov	 WORD PTR [esi], ax
  071b9	75 06		 jne	 SHORT $L73912

; 1184 : 			{
; 1185 : 				pDphsettar->durtran = NF70MS;

  071bb	66 c7 46 06 0b
	00		 mov	 WORD PTR [esi+6], 11	; 0000000bH
$L73912:

; 1186 : 			}
; 1187 : 			//debugbackward (" Onset", pDphsettar->np);
; 1188 : 		}
; 1189 : 		/* Voicing is special:  onset is abrupt, except if a voiced fric */
; 1190 : 		if ((pDphsettar->np == &PAV) && (pDphsettar->bouval < pDphsettar->np->tarnex))

  071c1	8d 83 20 01 00
	00		 lea	 eax, DWORD PTR [ebx+288]
  071c7	3b c8		 cmp	 ecx, eax
  071c9	8b 44 24 1c	 mov	 eax, DWORD PTR _feacur$[esp+12]
  071cd	75 32		 jne	 SHORT $L73914
  071cf	66 8b 3e	 mov	 di, WORD PTR [esi]
  071d2	66 3b 79 16	 cmp	 di, WORD PTR [ecx+22]
  071d6	7d 29		 jge	 SHORT $L73914

; 1191 : 		{
; 1192 : 			pDphsettar->durtran = 0;
; 1193 : 			//debugbackward (" Make next onset abrupt", pDphsettar->np);
; 1194 : 			/* Voicebar dies out in a voiced plosive */
; 1195 : 			if (((feacur & FPLOSV) IS_PLUS))

  071d8	a8 40		 test	 al, 64			; 00000040H
  071da	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
  071de	74 21		 je	 SHORT $L73914

; 1196 : 			{
; 1197 : 				if ((feacur & FVOICD) IS_PLUS)

  071e0	a8 02		 test	 al, 2
  071e2	74 15		 je	 SHORT $L73915

; 1198 : 				{
; 1199 : 					pDphsettar->bouval = pDphsettar->np->tarend - 3;

  071e4	66 8b 41 1a	 mov	 ax, WORD PTR [ecx+26]

; 1200 : 					pDphsettar->durtran = NF45MS;

  071e8	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
  071ee	66 2b c2	 sub	 ax, dx
  071f1	66 89 06	 mov	 WORD PTR [esi], ax

; 1201 : 					//debugbackward (" Voicebar dies out", pDphsettar->np);
; 1202 : 				}
; 1203 : 				/* Do not allow prevoicing in a voiceless plosive */
; 1204 : 				else

  071f4	e9 90 01 00 00	 jmp	 $endbsmo$73917
$L73915:

; 1205 : 				{
; 1206 : 					pDphsettar->bouval = 0;

  071f9	66 89 2e	 mov	 WORD PTR [esi], bp

; 1207 : 				}
; 1208 : 				goto endbsmo;

  071fc	e9 88 01 00 00	 jmp	 $endbsmo$73917
$L73914:

; 1209 : 			}
; 1210 : 		}
; 1211 : 		/* If next nasal, & curr phone is voiced, set AV const */
; 1212 : 		if (((feanex & FNASAL) IS_PLUS)
; 1213 : 			&& ((feacur & FVOICD) IS_PLUS))

  07201	8a 54 24 20	 mov	 dl, BYTE PTR _feanex$[esp+12]
  07205	f6 c2 80	 test	 dl, -128		; ffffff80H
  07208	74 08		 je	 SHORT $L73918
  0720a	a8 02		 test	 al, 2
  0720c	74 04		 je	 SHORT $L73918

; 1214 : 		{
; 1215 : 			pDphsettar->durtran = 0;

  0720e	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L73918:

; 1216 : 			//debugforward (" AV const in voiced to  nasal", pDphsettar->np);
; 1217 : 		}
; 1218 : 		/* If curr phone nasal, and next is voiced non-obst, AV const */
; 1219 : 		if ((feacur & FNASAL) IS_PLUS)

  07212	8b 7c 24 24	 mov	 edi, DWORD PTR _strucnex$[esp+12]
  07216	25 80 00 00 00	 and	 eax, 128		; 00000080H
  0721b	66 3b c5	 cmp	 ax, bp
  0721e	89 44 24 18	 mov	 DWORD PTR 12+[esp+12], eax
  07222	74 23		 je	 SHORT $L73921

; 1220 : 		{
; 1221 : 			if (((feanex & FVOICD) IS_PLUS)
; 1222 : 				&& ((feanex & FOBST) IS_MINUS)
; 1223 : 				&& ((strucnex & FDUMMY_VOWEL) IS_MINUS))

  07224	f6 c2 02	 test	 dl, 2
  07227	74 18		 je	 SHORT $L73920
  07229	f6 c2 20	 test	 dl, 32			; 00000020H
  0722c	75 13		 jne	 SHORT $L73920
  0722e	8b d7		 mov	 edx, edi
  07230	81 e2 00 08 00
	00		 and	 edx, 2048		; 00000800H
  07236	66 85 d2	 test	 dx, dx
  07239	75 06		 jne	 SHORT $L73920

; 1224 : 			{
; 1225 : 				pDphsettar->durtran = 0;

  0723b	66 89 6e 06	 mov	 WORD PTR [esi+6], bp

; 1226 : 				//debugbackward (" Make murmur const AV", pDphsettar->np);
; 1227 : 			}
; 1228 : 			else

  0723f	eb 06		 jmp	 SHORT $L73921
$L73920:

; 1229 : 			{
; 1230 : 				pDphsettar->durtran = NF40MS;

  07241	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
$L73921:

; 1231 : 			}
; 1232 : 		}
; 1233 : 		/* See if offset, i.e. source intensity decreasing */
; 1234 : 		temp = pDphsettar->np->tarend - 10;

  07247	66 8b 41 1a	 mov	 ax, WORD PTR [ecx+26]

; 1235 : 		/* Plosive burst does not get attenuated during offset */
; 1236 : 		/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 1237 : 		/* introduce german plosives, special treatments for affricates   */
; 1238 : 		/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 1239 : 		if (pDphsettar->phcur >= GRP_P)

  0724b	66 8b 6e 18	 mov	 bp, WORD PTR [esi+24]
  0724f	66 2d 0a 00	 sub	 ax, 10			; 0000000aH
  07253	66 81 fd 2c 1c	 cmp	 bp, 7212		; 00001c2cH
  07258	7c 11		 jl	 SHORT $L73923

; 1240 : 		{
; 1241 : 			pDphsettar->durtran = NF15MS;
; 1242 : 			if (pDphsettar->phcur < GRP_PF)

  0725a	66 81 fd 33 1c	 cmp	 bp, 7219		; 00001c33H
  0725f	66 c7 46 06 02
	00		 mov	 WORD PTR [esi+6], 2
  07265	7d 04		 jge	 SHORT $L73923

; 1243 : 			{
; 1244 : 				temp = pDphsettar->np->tarend;

  07267	66 8b 41 1a	 mov	 ax, WORD PTR [ecx+26]
$L73923:

; 1245 : 			}
; 1246 : 		}
; 1247 : 		if (pDphsettar->bouval < temp)

  0726b	66 39 06	 cmp	 WORD PTR [esi], ax
  0726e	7d 0c		 jge	 SHORT $L73924

; 1248 : 		{							   /* Or does it ??? */
; 1249 : 			pDphsettar->bouval = temp - 3;

  07270	8d 50 fd	 lea	 edx, DWORD PTR [eax-3]

; 1250 : 			pDphsettar->durtran = NF20MS;

  07273	66 c7 46 06 03
	00		 mov	 WORD PTR [esi+6], 3
  07279	66 89 16	 mov	 WORD PTR [esi], dx
$L73924:

; 1251 : 		}
; 1252 : 		/* Voicing amp falls gradually at end of phrase */
; 1253 : 		/* (Source sudden offset, or next seg is a dummy vowel) */
; 1254 : 		if (pDphsettar->np == &PAV)

  0727c	8d 93 20 01 00
	00		 lea	 edx, DWORD PTR [ebx+288]
  07282	3b ca		 cmp	 ecx, edx
  07284	75 50		 jne	 SHORT $L73928

; 1255 : 		{
; 1256 : 			if ((pDphsettar->bouval < temp) || ((temp > 0)
; 1257 : 												&& (pDphsettar->np == &PAV) && ((strucnex & FDUMMY_VOWEL) IS_PLUS)))

  07286	66 39 06	 cmp	 WORD PTR [esi], ax
  07289	7c 2c		 jl	 SHORT $L73927
  0728b	66 85 c0	 test	 ax, ax
  0728e	7e 0d		 jle	 SHORT $L73926
  07290	8b d7		 mov	 edx, edi
  07292	81 e2 00 08 00
	00		 and	 edx, 2048		; 00000800H
  07298	66 85 d2	 test	 dx, dx
  0729b	75 1a		 jne	 SHORT $L73927
$L73926:

; 1264 : 				}
; 1265 : 			}
; 1266 : 			else if (pDphsettar->np == &PAP)

  0729d	8d 83 44 01 00
	00		 lea	 eax, DWORD PTR [ebx+324]
  072a3	3b c8		 cmp	 ecx, eax
  072a5	75 2f		 jne	 SHORT $L73928

; 1267 : 				pDphsettar->bouval = PAP.tarend - 6;

  072a7	66 8b 93 5e 01
	00 00		 mov	 dx, WORD PTR [ebx+350]
  072ae	66 83 ea 06	 sub	 dx, 6
  072b2	66 89 16	 mov	 WORD PTR [esi], dx
  072b5	eb 1f		 jmp	 SHORT $L73928
$L73927:

; 1258 : 			{
; 1259 : 				pDphsettar->bouval = temp + 3;

  072b7	83 c0 03	 add	 eax, 3

; 1260 : 				if ((pDphsettar->phonex == GEN_SIL)
; 1261 : 					|| ((strucnex & FDUMMY_VOWEL) IS_PLUS))

  072ba	66 81 7e 0a 00
	1e		 cmp	 WORD PTR [esi+10], 7680	; 00001e00H
  072c0	66 89 06	 mov	 WORD PTR [esi], ax
  072c3	74 0b		 je	 SHORT $L73929
  072c5	81 e7 00 08 00
	00		 and	 edi, 2048		; 00000800H
  072cb	66 85 ff	 test	 di, di
  072ce	74 06		 je	 SHORT $L73928
$L73929:

; 1262 : 				{
; 1263 : 					pDphsettar->durtran = NF75MS;

  072d0	66 c7 46 06 0c
	00		 mov	 WORD PTR [esi+6], 12	; 0000000cH
$L73928:

; 1268 : 			//debugbackward (" Offset to noise", pDphsettar->np);
; 1269 : 		}
; 1270 : 		/* No smoothing of source amps if next segment has burst */
; 1271 : 		/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 1272 : 		/* bursts in german DECtalk also begin with [P].          */
; 1273 : 		/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 1274 : 		if ((pDphsettar->phonex >= GRP_P)
; 1275 : 			&& (((feacur & FNASAL) IS_MINUS) || (pDphsettar->np != &PAV)))

  072d6	66 8b 7e 0a	 mov	 di, WORD PTR [esi+10]
  072da	66 81 ff 2c 1c	 cmp	 di, 7212		; 00001c2cH
  072df	7c 18		 jl	 SHORT $L73932
  072e1	66 83 7c 24 18
	00		 cmp	 WORD PTR 12+[esp+12], 0
  072e7	74 0a		 je	 SHORT $L73933
  072e9	8d 83 20 01 00
	00		 lea	 eax, DWORD PTR [ebx+288]
  072ef	3b c8		 cmp	 ecx, eax
  072f1	74 06		 je	 SHORT $L73932
$L73933:

; 1276 : 		{
; 1277 : 			pDphsettar->durtran = 0;

  072f3	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L73932:

; 1278 : 			//debugbackward (" Stop closure next", pDphsettar->np);
; 1279 : 		}
; 1280 : 		/* Onset of a vowel from voiceless open vocal tract is breathy */
; 1281 : 		if (pDphsettar->np == &PAP)
; 1282 : 		{
; 1283 : 			/* Offset of a vowel into silence is breathy */
; 1284 : 			if (((feacur & FSYLL) IS_PLUS)
; 1285 : 				&& (pDphsettar->phonex == GEN_SIL))

  072f9	8b 54 24 1c	 mov	 edx, DWORD PTR _feacur$[esp+12]
  072fd	8d 83 44 01 00
	00		 lea	 eax, DWORD PTR [ebx+324]
  07303	3b c8		 cmp	 ecx, eax
  07305	75 17		 jne	 SHORT $L73935
  07307	f6 c2 01	 test	 dl, 1
  0730a	74 12		 je	 SHORT $L73935
  0730c	66 81 ff 00 1e	 cmp	 di, 7680		; 00001e00H
  07311	75 0b		 jne	 SHORT $L73935

; 1286 : 			{
; 1287 : 				pDphsettar->bouval = 52;

  07313	66 c7 06 34 00	 mov	 WORD PTR [esi], 52	; 00000034H

; 1288 : 				pDphsettar->durtran = NF130MS;

  07318	66 c7 46 06 14
	00		 mov	 WORD PTR [esi+6], 20	; 00000014H
$L73935:

; 1289 : 			}
; 1290 : 		}
; 1291 : 		/* BACKWARD SMOOTH:  TLT */
; 1292 : 
; 1293 : 		/* Tilt parameter jumps to target values near stops and silence */
; 1294 : 		if (pDphsettar->np == &PTILT)

  0731e	8d 83 40 02 00
	00		 lea	 eax, DWORD PTR [ebx+576]
  07324	3b c8		 cmp	 ecx, eax
  07326	75 61		 jne	 SHORT $endbsmo$73917

; 1295 : 		{
; 1296 : 			pDphsettar->durtran = NF25MS;
; 1297 : 			if (pDphsettar->phonex == GEN_SIL)

  07328	66 81 ff 00 1e	 cmp	 di, 7680		; 00001e00H
  0732d	66 c7 46 06 04
	00		 mov	 WORD PTR [esi+6], 4
  07333	75 07		 jne	 SHORT $L73937

; 1298 : 			{
; 1299 : 				pDphsettar->bouval = pDphsettar->np->tarend;

  07335	66 8b 41 1a	 mov	 ax, WORD PTR [ecx+26]
  07339	66 89 06	 mov	 WORD PTR [esi], ax
$L73937:

; 1300 : 			}
; 1301 : 			if (pDphsettar->phcur == GEN_SIL)

  0733c	66 81 fd 00 1e	 cmp	 bp, 7680		; 00001e00H
  07341	75 07		 jne	 SHORT $L73938

; 1302 : 			{
; 1303 : 				pDphsettar->bouval = pDphsettar->np->tarnex;

  07343	66 8b 49 16	 mov	 cx, WORD PTR [ecx+22]
  07347	66 89 0e	 mov	 WORD PTR [esi], cx
$L73938:

; 1304 : 			}
; 1305 : 			if (((feanex & FSTOP) IS_PLUS)
; 1306 : 				|| ((feacur & FSTOP) IS_PLUS))

  0734a	8b 44 24 20	 mov	 eax, DWORD PTR _feanex$[esp+12]
  0734e	25 00 20 00 00	 and	 eax, 8192		; 00002000H
  07353	66 85 c0	 test	 ax, ax
  07356	75 0c		 jne	 SHORT $L73940
  07358	8b c2		 mov	 eax, edx
  0735a	25 00 20 00 00	 and	 eax, 8192		; 00002000H
  0735f	66 85 c0	 test	 ax, ax
  07362	74 06		 je	 SHORT $L73939
$L73940:

; 1307 : 			{
; 1308 : 				pDphsettar->durtran = 0;

  07364	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L73939:

; 1309 : 			}
; 1310 : 			/* Long breathy offset into silence */
; 1311 : 			if (((feacur & FVOICD) IS_PLUS)
; 1312 : 				&& ((feacur & FNASAL) IS_MINUS))

  0736a	f6 c2 02	 test	 dl, 2
  0736d	74 1a		 je	 SHORT $endbsmo$73917
  0736f	66 83 7c 24 18
	00		 cmp	 WORD PTR 12+[esp+12], 0
  07375	75 12		 jne	 SHORT $endbsmo$73917

; 1313 : 			{
; 1314 : 				if (pDphsettar->phonex == GEN_SIL)

  07377	66 81 ff 00 1e	 cmp	 di, 7680		; 00001e00H
  0737c	75 0b		 jne	 SHORT $endbsmo$73917

; 1315 : 				{
; 1316 : 					pDphsettar->bouval = 15;

  0737e	66 c7 06 0f 00	 mov	 WORD PTR [esi], 15	; 0000000fH

; 1317 : 					pDphsettar->durtran = NF130MS;

  07383	66 c7 46 06 14
	00		 mov	 WORD PTR [esi+6], 20	; 00000014H
$endbsmo$73917:

; 1318 : 				}
; 1319 : 			}
; 1320 : 		}
; 1321 : 	}
; 1322 : 	/* Truncate back transition so as not to exceed 20 frames */
; 1323 :   endbsmo:
; 1324 : 	if (pDphsettar->durtran > NF130MS)

  07389	b8 14 00 00 00	 mov	 eax, 20			; 00000014H
  0738e	66 39 46 06	 cmp	 WORD PTR [esi+6], ax
  07392	7e 04		 jle	 SHORT $L73943

; 1325 : 		pDphsettar->durtran = NF130MS;

  07394	66 89 46 06	 mov	 WORD PTR [esi+6], ax
$L73943:

; 1326 : 	/* Truncate backward tran so as not to exceed dur of phone */
; 1327 : 	if (pDphsettar->durtran > pDph_t->durfon)

  07398	66 8b 83 04 15
	00 00		 mov	 ax, WORD PTR [ebx+5380]
  0739f	66 39 46 06	 cmp	 WORD PTR [esi+6], ax
  073a3	7e 04		 jle	 SHORT $L73944

; 1328 : 		pDphsettar->durtran = pDph_t->durfon;

  073a5	66 89 46 06	 mov	 WORD PTR [esi+6], ax
$L73944:

; 1329 : 	pDphsettar->np->tbacktr = pDph_t->durfon - pDphsettar->durtran;

  073a9	66 8b 8b 04 15
	00 00		 mov	 cx, WORD PTR [ebx+5380]
  073b0	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  073b3	66 2b 4e 06	 sub	 cx, WORD PTR [esi+6]
  073b7	66 89 4a 10	 mov	 WORD PTR [edx+16], cx

; 1330 : 	/* No parameter can take on negative values */
; 1331 : 	if (pDphsettar->bouval < 0)

  073bb	66 83 3e 00	 cmp	 WORD PTR [esi], 0
  073bf	7d 05		 jge	 SHORT $L73945

; 1332 : 		pDphsettar->bouval = 0;

  073c1	66 c7 06 00 00	 mov	 WORD PTR [esi], 0
$L73945:
  073c6	5f		 pop	 edi
  073c7	5e		 pop	 esi
  073c8	5d		 pop	 ebp
  073c9	5b		 pop	 ebx

; 1333 : }

  073ca	c3		 ret	 0
_gr_back_smooth_rules ENDP
_phTTS$ = 8
_fealas$ = 12
_feacur$ = 16
_feanex$ = 20
_struclm2$ = 24
_struccur$ = 28
_gr_special_rules PROC NEAR

; 1358 : 	short                   bdur, vot; /* MVP made as a local variable */
; 1359 : 	short                   closure_dur;	/* MVP made as a local variable */
; 1360 : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  073d0	8b 44 24 04	 mov	 eax, DWORD PTR _phTTS$[esp-4]
  073d4	53		 push	 ebx
  073d5	55		 push	 ebp
  073d6	56		 push	 esi
  073d7	57		 push	 edi
  073d8	8b 78 18	 mov	 edi, DWORD PTR [eax+24]

; 1361 : 	PKSD_T                  pKsd_t = phTTS->pKernelShareData;
; 1362 : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;
; 1363 : 
; 1364 : 	/* SPECIAL RULE 1: Burst duration for plosives and affricates             */
; 1365 : 
; 1366 : 	bdur = burdr(pDphsettar->phcur);   /* Look up inher. burst dur in msec in table */
; 1367 : 
; 1368 : 	if ((feacur & FBURST) IS_PLUS)

  073db	8b 5c 24 1c	 mov	 ebx, DWORD PTR _feacur$[esp+12]
  073df	8b b7 10 2c 00
	00		 mov	 esi, DWORD PTR [edi+11280]
  073e5	0f bf 46 18	 movsx	 eax, WORD PTR [esi+24]
  073e9	8b c8		 mov	 ecx, eax
  073eb	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  073f0	c1 f9 08	 sar	 ecx, 8
  073f3	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_burdr[ecx*4]
  073fa	8b cb		 mov	 ecx, ebx
  073fc	81 e1 00 08 00
	00		 and	 ecx, 2048		; 00000800H
  07402	66 8b 04 42	 mov	 ax, WORD PTR [edx+eax*2]
  07406	89 4c 24 14	 mov	 DWORD PTR 8+[esp+12], ecx
  0740a	66 85 c9	 test	 cx, cx
  0740d	0f 84 bd 00 00
	00		 je	 $L73981

; 1369 : 	{
; 1370 : 		bdur = mstofr (bdur);		   /* Convert to frames         */

  07413	0f bf c0	 movsx	 eax, ax
  07416	50		 push	 eax
  07417	e8 00 00 00 00	 call	 _mstofr

; 1371 : 
; 1372 : 		/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 1373 : 		/* Don't release burst in homorganic plosiv-nasal & plos-plos */
; 1374 : 		/* sequence. (but only for plosives)              */
; 1375 : 		/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 1376 : 
; 1377 : 		
; 1378 : 		/* bats 878 EAB 4/2/99*/
; 1379 : 
; 1380 : 
; 1381 : /* Dennis had a rule that said in homorganic (meaning
; 1382 : in this case the same place of articulation) nasal plosives
; 1383 : and plosive plosive one should not release the burst of the 
; 1384 : initial plosive. This is incorrect place because a nasal
; 1385 : doesn't have a place of articulation so it can never match 
; 1386 : plus the homorganic I don't believe really means exact same 
; 1387 : place of articulation. A plosive followed by a nasal will 
; 1388 : not be realeased-period. Secondly, a plosive that has 
; 1389 : similiar place of artculation should follow the rule.
; 1390 : i=(i.e an aveloar or a dental are equivalent)
; 1391 : 	So, I added new masks to group places into "homorganic
; 1392 : groupings" */
; 1393 : 
; 1394 : 		if ((feanex & (FNASAL | FPLOSV)) IS_PLUS)

  0741c	8a 4c 24 24	 mov	 cl, BYTE PTR _feanex$[esp+16]
  07420	83 c4 04	 add	 esp, 4
  07423	f6 c1 c0	 test	 cl, -64			; ffffffc0H
  07426	74 45		 je	 SHORT $L73974

; 1395 : 		{
; 1396 : 			//EAB Don't release a plosive followed by a nasal period
; 1397 : 			// The former comment is not quite correct becaue the place of articulation
; 1398 : 			//between a nasal and a plosive can't be the same becuase the nasal's
; 1399 : 			// doesn't have a place of articulation 2/26/99
; 1400 : 			if((feacur & FPLOSV ) IS_PLUS)

  07428	f6 c3 40	 test	 bl, 64			; 00000040H
  0742b	74 02		 je	 SHORT $L73971

; 1401 : 				bdur=0;

  0742d	33 c0		 xor	 eax, eax
$L73971:

; 1402 : 			if ((gr_place[pDphsettar->phcur & PVALUE] | MASKFRONT )== (gr_place[pDphsettar->phonex & PVALUE] | MASKFRONT ))

  0742f	8a 4e 18	 mov	 cl, BYTE PTR [esi+24]
  07432	8a 56 0a	 mov	 dl, BYTE PTR [esi+10]
  07435	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  0743b	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  07441	66 8b 0c 4d 00
	00 00 00	 mov	 cx, WORD PTR _gr_place[ecx*2]
  07449	66 8b 14 55 00
	00 00 00	 mov	 dx, WORD PTR _gr_place[edx*2]
  07451	8b da		 mov	 ebx, edx
  07453	8b e9		 mov	 ebp, ecx
  07455	83 cb 0f	 or	 ebx, 15			; 0000000fH
  07458	83 cd 0f	 or	 ebp, 15			; 0000000fH
  0745b	66 3b eb	 cmp	 bp, bx
  0745e	75 04		 jne	 SHORT $L73972

; 1403 : 			{		/* yes they're both done up front */
; 1404 : 				bdur = 0;

  07460	33 c0		 xor	 eax, eax

; 1405 : 			}
; 1406 : 			else if (gr_place[pDphsettar->phcur & PVALUE]  == gr_place[pDphsettar->phonex & PVALUE] )

  07462	eb 28		 jmp	 SHORT $L73978
$L73972:
  07464	66 3b ca	 cmp	 cx, dx
  07467	75 04		 jne	 SHORT $L73974

; 1407 : 			{		/* yes they're both done up front */
; 1408 : 				bdur = 0;

  07469	33 c0		 xor	 eax, eax

; 1409 : 			}
; 1410 : 		
; 1411 : 
; 1412 : 		}
; 1413 : 
; 1414 : 		if (bdur > 1)

  0746b	eb 1f		 jmp	 SHORT $L73978
$L73974:
  0746d	66 3d 01 00	 cmp	 ax, 1
  07471	7e 19		 jle	 SHORT $L73978

; 1415 : 		{
; 1416 : 			if (((feacur & FPLOSV) IS_PLUS)
; 1417 : 				&& ((feanex & FOBST) IS_PLUS))

  07473	f6 44 24 1c 40	 test	 BYTE PTR _feacur$[esp+12], 64 ; 00000040H
  07478	74 07		 je	 SHORT $L73976
  0747a	f6 44 24 20 20	 test	 BYTE PTR _feanex$[esp+12], 32 ; 00000020H

; 1418 : 			{
; 1419 : 				bdur--;				   /* Shorten burst before obst by 6 ms */
; 1420 : 			}
; 1421 : 			else if (pDph_t->durfon < NF50MS)

  0747f	75 0a		 jne	 SHORT $L75433
$L73976:
  07481	66 83 bf 04 15
	00 00 08	 cmp	 WORD PTR [edi+5380], 8
  07489	7d 01		 jge	 SHORT $L73978
$L75433:

; 1422 : 			{
; 1423 : 				bdur--;				   /* Shorten burst if closure short */

  0748b	48		 dec	 eax
$L73978:

; 1424 : 			}
; 1425 : 		}
; 1426 : 
; 1427 : 		closure_dur = pDph_t->durfon - bdur;

  0748c	66 8b 8f 04 15
	00 00		 mov	 cx, WORD PTR [edi+5380]

; 1428 : 
; 1429 : 		for (pDphsettar->np = &PA2; pDphsettar->np <= &PAB; pDphsettar->np++)

  07493	8d 97 68 01 00
	00		 lea	 edx, DWORD PTR [edi+360]
  07499	66 2b c8	 sub	 cx, ax
  0749c	8d 87 1c 02 00
	00		 lea	 eax, DWORD PTR [edi+540]
  074a2	3b d0		 cmp	 edx, eax
  074a4	89 56 10	 mov	 DWORD PTR [esi+16], edx
  074a7	77 23		 ja	 SHORT $L75431
  074a9	ba 24 00 00 00	 mov	 edx, 36			; 00000024H
$L73979:

; 1430 : 		{							   /* All fric gains to */
; 1431 : 			pDphsettar->np->tspesh = closure_dur;	/* zero during closur */

  074ae	8b 5e 10	 mov	 ebx, DWORD PTR [esi+16]
  074b1	66 89 4b 12	 mov	 WORD PTR [ebx+18], cx

; 1432 : 			pDphsettar->np->pspesh = 0;

  074b5	8b 5e 10	 mov	 ebx, DWORD PTR [esi+16]
  074b8	66 c7 43 14 00
	00		 mov	 WORD PTR [ebx+20], 0
  074be	8b 6e 10	 mov	 ebp, DWORD PTR [esi+16]
  074c1	03 ea		 add	 ebp, edx
  074c3	8b dd		 mov	 ebx, ebp
  074c5	89 6e 10	 mov	 DWORD PTR [esi+16], ebp
  074c8	3b d8		 cmp	 ebx, eax
  074ca	76 e2		 jbe	 SHORT $L73979
$L75431:

; 1428 : 
; 1429 : 		for (pDphsettar->np = &PA2; pDphsettar->np <= &PAB; pDphsettar->np++)

  074cc	8b 5c 24 1c	 mov	 ebx, DWORD PTR _feacur$[esp+12]
$L73981:

; 1433 : 		}
; 1434 : 	}
; 1435 : 	/* SPECIAL RULE 2: Voice onset time for aspirated plosives */
; 1436 : 	/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 1437 : 	/* check if there are any problems with values set in gettar!    */
; 1438 : 	/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 1439 : 
; 1440 : 	vot = 0;
; 1441 : 	if ((((fealas & FPLOSV) IS_PLUS)
; 1442 : 		 && ((fealas & FVOICD) IS_MINUS)
; 1443 : 		 && ((feacur & FSONOR) IS_PLUS)))

  074d0	8a 44 24 18	 mov	 al, BYTE PTR _fealas$[esp+12]
  074d4	a8 40		 test	 al, 64			; 00000040H
  074d6	0f 84 33 01 00
	00		 je	 $L73982
  074dc	a8 02		 test	 al, 2
  074de	0f 85 2b 01 00
	00		 jne	 $L73982
  074e4	f6 c3 10	 test	 bl, 16			; 00000010H
  074e7	0f 84 22 01 00
	00		 je	 $L73982

; 1444 : 	{
; 1445 : 		/* EAB		3/2/98		At least temporarily reduce aspiration for now it's too hot*/
; 1446 : 		PAP.pspesh = 57;			   /* Amplitude of aspiration in dB     */

  074ed	66 c7 87 58 01
	00 00 39 00	 mov	 WORD PTR [edi+344], 57	; 00000039H

; 1447 : 		if (gr_begtyp[pDphsettar->phonex] != 1)

  074f6	0f bf 46 0a	 movsx	 eax, WORD PTR [esi+10]
  074fa	66 83 3c 45 00
	00 00 00 01	 cmp	 WORD PTR _gr_begtyp[eax*2], 1
  07503	74 09		 je	 SHORT $L73983

; 1448 : 		{
; 1449 : 			PAP.pspesh = 61;		   /* Stronger asp before +back */

  07505	66 c7 87 58 01
	00 00 3d 00	 mov	 WORD PTR [edi+344], 61	; 0000003dH
$L73983:

; 1450 : 		}
; 1451 : 		PAV.pspesh = 0;				   /* Amplitude of voicing during aspir */
; 1452 : 
; 1453 : 		vot = NF40MS;				   /* Asp dur for /p,t,k/ before stressed sonor */
; 1454 : 		if ((struccur & FSTRESS_1) IS_MINUS)

  0750e	8b 5c 24 28	 mov	 ebx, DWORD PTR _struccur$[esp+12]
  07512	66 c7 87 34 01
	00 00 00 00	 mov	 WORD PTR [edi+308], 0
  0751b	8b eb		 mov	 ebp, ebx
  0751d	be 06 00 00 00	 mov	 esi, 6
  07522	83 e5 01	 and	 ebp, 1
  07525	66 85 ed	 test	 bp, bp
  07528	75 0d		 jne	 SHORT $L73984

; 1455 : 		{
; 1456 : 			vot = NF25MS;			   /* Vot shorter if vowel not stressed */
; 1457 : 			PAP.pspesh -= 3;

  0752a	66 83 87 58 01
	00 00 fd	 add	 WORD PTR [edi+344], -3	; fffffffdH
  07532	be 04 00 00 00	 mov	 esi, 4
$L73984:

; 1458 : 		}
; 1459 : 		if (((feacur & FSONCON) IS_PLUS) )

  07537	8b 4c 24 1c	 mov	 ecx, DWORD PTR _feacur$[esp+12]
  0753b	81 e1 00 02 00
	00		 and	 ecx, 512		; 00000200H
  07541	66 85 c9	 test	 cx, cx
  07544	74 08		 je	 SHORT $L73985

; 1460 : 		{
; 1461 : 			PAP.pspesh += 3;		   /* Aspiration stronger in sonor cons */

  07546	66 83 87 58 01
	00 00 03	 add	 WORD PTR [edi+344], 3
$L73985:

; 1462 : 		}
; 1463 : 		
; 1464 : 		 /*eab 2/6/976 Found code that was causing after Murhty port. Vlaue of pholm2
; 1465 : 		was not being retained- substituted global variables that already exsist
; 1466 : 		after release the old and I think vestigal variables need to be removed
; 1467 : 		this problem affect all languages but in fact the code didn't exist in German
; 1468 : 		at all but was needed don't know is struclm2 is working either*/
; 1469 : 
; 1470 : 
; 1471 : 		if ( phone_feature( pDph_t,pDph_t->allophons[pDph_t->nphone -2]) == (FOBST+FCONSON ))          

  0754e	0f bf 97 d0 23
	00 00		 movsx	 edx, WORD PTR [edi+9168]
  07555	0f bf 84 57 e8
	03 00 00	 movsx	 eax, WORD PTR [edi+edx*2+1000]
  0755d	50		 push	 eax
  0755e	57		 push	 edi
  0755f	e8 00 00 00 00	 call	 _phone_feature
  07564	83 c4 08	 add	 esp, 8
  07567	66 3d 20 01	 cmp	 ax, 288			; 00000120H
  0756b	75 16		 jne	 SHORT $L73986

; 1472 : 		{
; 1473 : 			if ((struclm2 & FBOUNDARY) IS_MINUS )

  0756d	8b 4c 24 24	 mov	 ecx, DWORD PTR _struclm2$[esp+12]
  07571	81 e1 e0 01 00
	00		 and	 ecx, 480		; 000001e0H
  07577	66 85 c9	 test	 cx, cx
  0757a	75 11		 jne	 SHORT $L73989

; 1474 : 			{
; 1475 : 				vot = NF15MS;

  0757c	be 02 00 00 00	 mov	 esi, 2

; 1476 : 			}			
; 1477 : 		}
; 1478 : 		else if (((feacur & FSYLL) IS_MINUS))

  07581	eb 0a		 jmp	 SHORT $L73989
$L73986:
  07583	f6 44 24 1c 01	 test	 BYTE PTR _feacur$[esp+12], 1
  07588	75 03		 jne	 SHORT $L73989

; 1479 : 		{
; 1480 : 			vot += NF20MS;			   /* Vot longer in a sonorant consonant */

  0758a	83 c6 03	 add	 esi, 3
$L73989:

; 1481 : 		}
; 1482 : 	
; 1483 : 		if (vot >= pDph_t->durfon)

  0758d	66 8b 87 04 15
	00 00		 mov	 ax, WORD PTR [edi+5380]
  07594	66 3b f0	 cmp	 si, ax
  07597	7c 03		 jl	 SHORT $L73990

; 1484 : 		{
; 1485 : 			vot = pDph_t->durfon - 1;

  07599	8d 70 ff	 lea	 esi, DWORD PTR [eax-1]
$L73990:

; 1486 : 		}
; 1487 : 		/* Vot cannot exceed 1/2 duration of a stressed vowel */
; 1488 : 		if ((vot > (pDph_t->durfon >> 1))
; 1489 : 			&& ((feacur & FSYLL) IS_PLUS)
; 1490 : 			&& ((struccur & FSTRESS_1) IS_PLUS))

  0759c	66 8b c8	 mov	 cx, ax
  0759f	66 d1 f9	 sar	 cx, 1
  075a2	66 3b f1	 cmp	 si, cx
  075a5	7e 0e		 jle	 SHORT $L73991
  075a7	f6 44 24 1c 01	 test	 BYTE PTR _feacur$[esp+12], 1
  075ac	74 07		 je	 SHORT $L73991
  075ae	66 85 ed	 test	 bp, bp
  075b1	74 02		 je	 SHORT $L73991

; 1491 : 		{
; 1492 : 			vot = pDph_t->durfon >> 1;

  075b3	8b f1		 mov	 esi, ecx
$L73991:

; 1493 : 		}
; 1494 : 		/* A dummy vowel is used to release a voiceless plosive into silence */
; 1495 : 		if ((struccur & FDUMMY_VOWEL) IS_PLUS)

  075b5	81 e3 00 08 00
	00		 and	 ebx, 2048		; 00000800H
  075bb	66 85 db	 test	 bx, bx
  075be	74 0a		 je	 SHORT $L73992

; 1496 : 		{
; 1497 : 			vot = pDph_t->durfon;
; 1498 : 			PAP.pspesh -= 3;

  075c0	66 83 87 58 01
	00 00 fd	 add	 WORD PTR [edi+344], -3	; fffffffdH
  075c8	8b f0		 mov	 esi, eax
$L73992:

; 1499 : 		}
; 1500 : 		PAV.tspesh = vot;
; 1501 : 		PAP.tspesh = vot;	
; 1502 : 
; 1503 : 		/* Widen 1st and 2nd formant bws when glottis open for aspir */
; 1504 : 		PB1.tspesh = vot;
; 1505 : 		PB2.tspesh = vot;
; 1506 : 		PB1.pspesh = PB1.tarcur + 250;

  075ca	66 8b 97 b4 00
	00 00		 mov	 dx, WORD PTR [edi+180]

; 1507 : 		PB2.pspesh = PB2.tarcur + 70;

  075d1	66 8b 87 d8 00
	00 00		 mov	 ax, WORD PTR [edi+216]
  075d8	66 81 c2 fa 00	 add	 dx, 250			; 000000faH
  075dd	66 05 46 00	 add	 ax, 70			; 00000046H
  075e1	66 89 87 ec 00
	00 00		 mov	 WORD PTR [edi+236], ax
  075e8	8a 44 24 18	 mov	 al, BYTE PTR _fealas$[esp+12]
  075ec	66 89 b7 32 01
	00 00		 mov	 WORD PTR [edi+306], si
  075f3	66 89 b7 56 01
	00 00		 mov	 WORD PTR [edi+342], si
  075fa	66 89 b7 c6 00
	00 00		 mov	 WORD PTR [edi+198], si
  07601	66 89 b7 ea 00
	00 00		 mov	 WORD PTR [edi+234], si
  07608	66 89 97 c8 00
	00 00		 mov	 WORD PTR [edi+200], dx
$L73982:

; 1508 : 	}
; 1509 : 	/* SPECIAL RULE 3: Create realistic voicebar, avoid pops and clicks */
; 1510 : 	/* Amp of voicebar set here, AV target in table invalid */
; 1511 : 	/* Set AV=0 for last 12.8 ms, let AV die out, thus avoid click */
; 1512 : 	/* Set to under 250 to signal voicebar */
; 1513 : 
; 1514 : 	/* Problem: spectrum has too much F4 if f2,3 are high, as in [i] */
; 1515 : 	if (((feacur & FBURST) IS_PLUS)
; 1516 : 		&& ((feacur & FVOICD) IS_PLUS)
; 1517 : 		&& ((fealas & FVOICD) IS_PLUS)
; 1518 : 		&& ((feanex & FVOICD) IS_MINUS))		/* Voicebar only if next -V */

  0760f	66 83 7c 24 14
	00		 cmp	 WORD PTR 8+[esp+12], 0
  07615	74 5d		 je	 SHORT $L73993
  07617	f6 44 24 1c 02	 test	 BYTE PTR _feacur$[esp+12], 2
  0761c	74 56		 je	 SHORT $L73993
  0761e	a8 02		 test	 al, 2
  07620	74 52		 je	 SHORT $L73993
  07622	f6 44 24 20 02	 test	 BYTE PTR _feanex$[esp+12], 2
  07627	75 4b		 jne	 SHORT $L73993

; 1519 : 	{
; 1520 : 		PAV.tspesh = pDph_t->durfon - NF15MS;

  07629	66 8b 87 04 15
	00 00		 mov	 ax, WORD PTR [edi+5380]

; 1521 : 		PB1.tspesh = pDph_t->durfon;
; 1522 : 		PB2.tspesh = pDph_t->durfon;
; 1523 : 		PB3.tspesh = pDph_t->durfon;
; 1524 : 		/* EAB BATS 709  It was way tooo hot!*/
; 1525 : 		/* per Oliver was still too hot The voicebar should be almost non-existant 
; 1526 : 		 BATS 734 still hot */ 
; 1527 : 		PAV.pspesh = 10;			   /* Large since low-pass TILT attenuates it */

  07630	66 c7 87 34 01
	00 00 0a 00	 mov	 WORD PTR [edi+308], 10	; 0000000aH
  07639	66 89 87 c6 00
	00 00		 mov	 WORD PTR [edi+198], ax
  07640	66 89 87 ea 00
	00 00		 mov	 WORD PTR [edi+234], ax
  07647	8d 48 fe	 lea	 ecx, DWORD PTR [eax-2]
  0764a	66 89 87 0e 01
	00 00		 mov	 WORD PTR [edi+270], ax

; 1528 : 		PB1.pspesh = 1000;

  07651	b8 e8 03 00 00	 mov	 eax, 1000		; 000003e8H
  07656	66 89 8f 32 01
	00 00		 mov	 WORD PTR [edi+306], cx
  0765d	66 89 87 c8 00
	00 00		 mov	 WORD PTR [edi+200], ax

; 1529 : 		PB2.pspesh = 1000;

  07664	66 89 87 ec 00
	00 00		 mov	 WORD PTR [edi+236], ax

; 1530 : 		PB3.pspesh = 1500;

  0766b	66 c7 87 10 01
	00 00 dc 05	 mov	 WORD PTR [edi+272], 1500 ; 000005dcH
$L73993:
  07674	5f		 pop	 edi
  07675	5e		 pop	 esi
  07676	5d		 pop	 ebp
  07677	5b		 pop	 ebx

; 1531 : 	}
; 1532 : }

  07678	c3		 ret	 0
_gr_special_rules ENDP
_TEXT	ENDS
EXTRN	_all_place:BYTE
_TEXT	SEGMENT
_phTTS$ = 8
_shrif$ = 12
_pholas$ = 16
_fealas$ = 20
_feacur$ = 24
_feanex$ = 36
_pDph_t$ = 8
_fr_forw_smooth_rules PROC NEAR

; 415  : {

  07680	53		 push	 ebx
  07681	55		 push	 ebp

; 416  : 	short temp;
; 417  : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  07682	8b 6c 24 0c	 mov	 ebp, DWORD PTR _phTTS$[esp+4]
  07686	56		 push	 esi
  07687	57		 push	 edi
  07688	8b 5d 18	 mov	 ebx, DWORD PTR [ebp+24]
  0768b	89 5c 24 14	 mov	 DWORD PTR _pDph_t$[esp+12], ebx

; 418  : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;

  0768f	8b b3 10 2c 00
	00		 mov	 esi, DWORD PTR [ebx+11280]

; 419  : 
; 420  : #ifdef DEBGFRENCH
; 421  :     printf ("forw_... entry bouval %d, durtran : %d\n", 
; 422  :              pDphsettar->bouval, pDphsettar->durtran);
; 423  : #endif
; 424  : 
; 425  :   	if (pDphsettar->par_type IS_FORM_FREQ) {    /* FORWARD SMOOTH: F1, F2, F3 */

  07695	8a 46 14	 mov	 al, BYTE PTR [esi+20]
  07698	3c 03		 cmp	 al, 3
  0769a	0f 85 7f 02 00
	00		 jne	 $L74101

; 426  :   		/* 0. Use default values for obst-obst transition */
; 427  :     	if ( feacur & TSonore ) {        /* Vowels, semi-vowels, L and R */

  076a0	8b 44 24 24	 mov	 eax, DWORD PTR _feacur$[esp+12]
  076a4	66 8b 54 24 1c	 mov	 dx, WORD PTR _pholas$[esp+12]
  076a9	a8 10		 test	 al, 16			; 00000010H
  076ab	bf 05 00 00 00	 mov	 edi, 5
  076b0	74 7e		 je	 SHORT $L74109

; 428  :       		if ( !(feacur & TLiqGli) ) {   /* a vowel */

  076b2	25 00 10 00 00	 and	 eax, 4096		; 00001000H
  076b7	66 85 c0	 test	 ax, ax
  076ba	75 51		 jne	 SHORT $L74103

; 429  : 				pDphsettar->durtran = NF45MS;
; 430  :         		if (fealas & TLiqGli)

  076bc	8b 44 24 20	 mov	 eax, DWORD PTR _fealas$[esp+12]
  076c0	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
  076c6	25 00 10 00 00	 and	 eax, 4096		; 00001000H
  076cb	66 85 c0	 test	 ax, ax
  076ce	74 60		 je	 SHORT $L74109

; 431  : 			 	{
; 432  :           			/* 1. A in LA, RA (Soncon-vowel transition, use 25-75% rule) */
; 433  : 					pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarlas) >> 1;

  076d0	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  076d3	0f bf 3e	 movsx	 edi, WORD PTR [esi]
  076d6	0f bf 41 18	 movsx	 eax, WORD PTR [ecx+24]
  076da	03 c7		 add	 eax, edi
  076dc	d1 f8		 sar	 eax, 1

; 434  :           			/* Make F1 discontinuous for L; F1 of A in LA */
; 435  :           			if ( pholas == FP_L && pDphsettar->np == &PF1 ) pDphsettar->bouval += 80;

  076de	66 81 fa 12 19	 cmp	 dx, 6418		; 00001912H
  076e3	66 89 06	 mov	 WORD PTR [esi], ax
  076e6	75 0f		 jne	 SHORT $L74105
  076e8	8d 53 24	 lea	 edx, DWORD PTR [ebx+36]
  076eb	3b ca		 cmp	 ecx, edx
  076ed	75 41		 jne	 SHORT $L74109
  076ef	83 c0 50	 add	 eax, 80			; 00000050H
  076f2	66 89 06	 mov	 WORD PTR [esi], ax

; 436  :           			/* Make F3 & F2 transitions slower out of /r/ ex: A in RA */
; 437  :           			if ( pholas == FP_R && pDphsettar->np != &PF1 ) pDphsettar->durtran = NF70MS;

  076f5	eb 39		 jmp	 SHORT $L74109
$L74105:
  076f7	66 81 fa 13 19	 cmp	 dx, 6419		; 00001913H
  076fc	75 32		 jne	 SHORT $L74109
  076fe	8d 43 24	 lea	 eax, DWORD PTR [ebx+36]
  07701	3b c8		 cmp	 ecx, eax
  07703	74 2b		 je	 SHORT $L74109
  07705	66 c7 46 06 0b
	00		 mov	 WORD PTR [esi+6], 11	; 0000000bH

; 438  : 				}
; 439  :       		}
; 440  : 			else if ( !(fealas & TLiqGli) ) {  /* soncon : semi-vowel or L or R */

  0770b	eb 23		 jmp	 SHORT $L74109
$L74103:
  0770d	8b 4c 24 20	 mov	 ecx, DWORD PTR _fealas$[esp+12]
  07711	81 e1 00 10 00
	00		 and	 ecx, 4096		; 00001000H
  07717	66 85 c9	 test	 cx, cx
  0771a	75 10		 jne	 SHORT $L74108

; 441  :         		/* Phcur is a sonorant conson; Vowel-soncon trans, use 75-25%
; 442  :            		   L in LA; R in RA; Y in SYOn; R in RYOn (not Y in RYOn) 
; 443  : 				*/
; 444  : 				pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarcur) >> 1;

  0771c	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  0771f	0f bf 0e	 movsx	 ecx, WORD PTR [esi]
  07722	0f bf 02	 movsx	 eax, WORD PTR [edx]
  07725	03 c1		 add	 eax, ecx
  07727	d1 f8		 sar	 eax, 1
  07729	66 89 06	 mov	 WORD PTR [esi], ax
$L74108:

; 445  : 				pDphsettar->durtran = NF30MS;
; 446  :       		} 
; 447  : 			else 
; 448  : 			{
; 449  :         		/* 4. Soncon-soncon transition ex : R in LRI, Y in LYOn or RYOn */
; 450  : 			   	pDphsettar->durtran = NF30MS;

  0772c	66 89 7e 06	 mov	 WORD PTR [esi+6], di
$L74109:

; 451  : 			}
; 452  : #ifdef DEBG
; 453  :         	if (dbgphs) 
; 454  : 			{
; 455  :         		printf ("phsettar.c forw_smooth_rules pDphsettar->bouval %d, pDphsettar->durtran %d\n",
; 456  :             	pDphsettar->bouval, pDphsettar->durtran);
; 457  : 			}
; 458  : #endif
; 459  :     	} /* TSonore */
; 460  : 
; 461  : 		/* Bound value = previous target if current phone is sil */
; 462  :     	if (pDphsettar->phcur == GEN_SIL) 

  07730	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  07736	75 3e		 jne	 SHORT $L74110

; 463  : 		{
; 464  : 			/*Eab  8/16/00 */
; 465  : 			if (pDph_t->nphone > 1)

  07738	66 83 bb d0 23
	00 00 01	 cmp	 WORD PTR [ebx+9168], 1
  07740	7e 1a		 jle	 SHORT $L74111

; 466  : 			{	pDphsettar->bouval = pDphsettar->np->tarlas;

  07742	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  07745	66 8b 42 18	 mov	 ax, WORD PTR [edx+24]
  07749	66 89 06	 mov	 WORD PTR [esi], ax

; 470  : 			}
; 471  :             pDphsettar->durtran = pDph_t->durfon;

  0774c	66 8b 83 04 15
	00 00		 mov	 ax, WORD PTR [ebx+5380]
  07753	66 89 46 06	 mov	 WORD PTR [esi+6], ax

; 472  :     } 
; 473  : 	else

  07757	e9 72 01 00 00	 jmp	 $L74137
$L74111:

; 467  : 			}
; 468  : 			else
; 469  : 			{	pDphsettar->bouval = pDphsettar->np->tarnex;

  0775c	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  0775f	66 8b 51 16	 mov	 dx, WORD PTR [ecx+22]
  07763	66 89 16	 mov	 WORD PTR [esi], dx

; 470  : 			}
; 471  :             pDphsettar->durtran = pDph_t->durfon;

  07766	66 8b 83 04 15
	00 00		 mov	 ax, WORD PTR [ebx+5380]
  0776d	66 89 46 06	 mov	 WORD PTR [esi+6], ax

; 472  :     } 
; 473  : 	else

  07771	e9 58 01 00 00	 jmp	 $L74137
$L74110:

; 474  : 	{
; 475  :     	if ( setloc (phTTS, (short)(pDph_t->nphone-1), pDph_t->nphone, INITIAL, (short)(pDph_t->nphone-2), feanex) ) 

  07776	66 8b 83 d0 23
	00 00		 mov	 ax, WORD PTR [ebx+9168]
  0777d	8b 7c 24 30	 mov	 edi, DWORD PTR _feanex$[esp+12]
  07781	57		 push	 edi
  07782	8d 48 fe	 lea	 ecx, DWORD PTR [eax-2]
  07785	51		 push	 ecx
  07786	6a 00		 push	 0
  07788	50		 push	 eax
  07789	48		 dec	 eax
  0778a	50		 push	 eax
  0778b	55		 push	 ebp
  0778c	e8 00 00 00 00	 call	 _setloc
  07791	83 c4 18	 add	 esp, 24			; 00000018H
  07794	66 85 c0	 test	 ax, ax
  07797	75 1c		 jne	 SHORT $L74120

; 476  : 		{
; 477  :         	/* pholas=obst, pDphsettar->phcur=sonor transition B A */
; 478  : #ifdef DEBGFRENCH
; 479  :           	printf ("Use locus, bouval %d, durtran : %d\n", 
; 480  :                      pDphsettar->bouval, pDphsettar->durtran);
; 481  : #endif
; 482  :       	}
; 483  :  		else if ( setloc (phTTS, pDph_t->nphone, (short)(pDph_t->nphone-1), FINAL, 
; 484  :         	(short)(pDph_t->nphone+1), feanex) ) 

  07799	66 8b 83 d0 23
	00 00		 mov	 ax, WORD PTR [ebx+9168]
  077a0	57		 push	 edi
  077a1	8d 50 01	 lea	 edx, DWORD PTR [eax+1]
  077a4	8d 48 ff	 lea	 ecx, DWORD PTR [eax-1]
  077a7	52		 push	 edx
  077a8	6a 01		 push	 1
  077aa	51		 push	 ecx
  077ab	50		 push	 eax
  077ac	55		 push	 ebp
  077ad	e8 00 00 00 00	 call	 _setloc
  077b2	83 c4 18	 add	 esp, 24			; 00000018H
$L74120:

; 485  : 		{
; 486  :         	/* pholas=sonor, pDphsettar->phcur=obst transition A B */
; 487  : #ifdef DEBGFRENCH
; 488  :           	printf ("Use locus, bouval %d, durtran : %d\n", 
; 489  :                      pDphsettar->bouval, pDphsettar->durtran);
; 490  : #endif
; 491  : 		}
; 492  : #ifdef DEBGFRENCH
; 493  :         else if (dbgphs) 
; 494  : 		{
; 495  :         	printf ("phsettar.c forw_sm... Locus does not apply\n");
; 496  : 		}
; 497  : #endif
; 498  : 
; 499  :       	// Michel 
; 500  :       	if (pDphsettar->np == &PF1 && pDphsettar->phcur == FP_W) {

  077b5	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  077b8	8d 43 24	 lea	 eax, DWORD PTR [ebx+36]
  077bb	3b c8		 cmp	 ecx, eax
  077bd	75 0c		 jne	 SHORT $L74121
  077bf	66 81 7e 18 14
	19		 cmp	 WORD PTR [esi+24], 6420	; 00001914H
  077c5	75 04		 jne	 SHORT $L74121

; 501  :         	pDphsettar->bouval -= 100; // ?????? avoid a clic for MWA for instance

  077c7	66 83 06 9c	 add	 WORD PTR [esi], -100	; ffffff9cH
$L74121:

; 502  :          	//printf ("pDphsettar->bouval -= 100 : %d\n", pDphsettar->bouval);
; 503  :       	}
; 504  : 
; 505  :       	/* beginning of P, T, K
; 506  :            F1 raised at onset of voiceless plosive release 
; 507  :         */
; 508  :       	if ( fealas & TPlosive && !(fealas & TVoisee) ) {

  077cb	8a 54 24 20	 mov	 dl, BYTE PTR _fealas$[esp+12]
  077cf	f6 c2 40	 test	 dl, 64			; 00000040H
  077d2	74 0d		 je	 SHORT $L74123
  077d4	f6 c2 02	 test	 dl, 2
  077d7	75 08		 jne	 SHORT $L74123

; 509  : #ifdef DEBG
; 510  :         	if (dbgphs) printf ("phsettar.c forw_... plosive %d\n", pDphsettar->bouval);
; 511  : #endif
; 512  :         	if (pDphsettar->np == &PF1) pDphsettar->bouval += 100;

  077d9	3b c8		 cmp	 ecx, eax
  077db	75 04		 jne	 SHORT $L74123
  077dd	66 83 06 64	 add	 WORD PTR [esi], 100	; 00000064H
$L74123:

; 513  : 		}
; 514  : 
; 515  :       	/* beginning of F, S, Ch, V, Z, J
; 516  :            Transitions modified inside obstruents
; 517  :       	*/
; 518  :       	if (feacur & TFricative) { /* begin of S in _SA, AS */

  077e1	8a 54 24 24	 mov	 dl, BYTE PTR _feacur$[esp+12]
  077e5	f6 c2 08	 test	 dl, 8
  077e8	74 12		 je	 SHORT $L74124

; 519  : 			pDphsettar->durtran = NF30MS;
; 520  :         
; 521  : 			if (pDphsettar->np == &PF1) pDphsettar->durtran = NF20MS;

  077ea	3b c8		 cmp	 ecx, eax
  077ec	66 c7 46 06 05
	00		 mov	 WORD PTR [esi+6], 5
  077f2	75 18		 jne	 SHORT $L74127
  077f4	66 c7 46 06 03
	00		 mov	 WORD PTR [esi+6], 3

; 522  : 		}
; 523  :  		else if (feacur & TPlosive) 

  077fa	eb 10		 jmp	 SHORT $L74127
$L74124:
  077fc	f6 c2 40	 test	 dl, 64			; 00000040H
  077ff	74 0b		 je	 SHORT $L74127

; 524  : 		{
; 525  :         	/* Transitions take all of plosive duration */
; 526  :            	pDphsettar->durtran = pDph_t->durfon;

  07801	66 8b bb 04 15
	00 00		 mov	 di, WORD PTR [ebx+5380]
  07808	66 89 7e 06	 mov	 WORD PTR [esi+6], di
$L74127:

; 527  : 		}
; 528  :       
; 529  :       	/* beginning of M, N, Gn, Ng
; 530  :            Higher formant transitions slow inside a nasal 
; 531  : 		*/
; 532  :       	if ( !(feacur & TVoyelle) && feacur & TNasale ) 

  0780c	f6 c2 04	 test	 dl, 4
  0780f	0f 85 b9 00 00
	00		 jne	 $L74137
  07815	f6 44 24 24 80	 test	 BYTE PTR _feacur$[esp+12], -128 ; ffffff80H
  0781a	0f 84 ae 00 00
	00		 je	 $L74137

; 533  : 		{
; 534  : 			pDphsettar->durtran = pDph_t->durfon;

  07820	66 8b 93 04 15
	00 00		 mov	 dx, WORD PTR [ebx+5380]

; 535  : 			if (pDphsettar->np == &PF1) 

  07827	3b c8		 cmp	 ecx, eax
  07829	66 89 56 06	 mov	 WORD PTR [esi+6], dx
  0782d	75 0b		 jne	 SHORT $L74129

; 536  : 			{
; 537  : 				pDphsettar->durtran = 0;

  0782f	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0

; 538  :         	}
; 539  : 			else if ( pDphsettar->phcur == FP_N && endtyp (pholas) == 1 ) 

  07835	e9 94 00 00 00	 jmp	 $L74137
$L74129:
  0783a	66 8b 56 18	 mov	 dx, WORD PTR [esi+24]
  0783e	66 81 fa 26 19	 cmp	 dx, 6438		; 00001926H
  07843	75 5a		 jne	 SHORT $L74131
  07845	0f bf 44 24 1c	 movsx	 eax, WORD PTR _pholas$[esp+12]
  0784a	8b f8		 mov	 edi, eax
  0784c	8b e8		 mov	 ebp, eax
  0784e	c1 ff 08	 sar	 edi, 8
  07851	81 e5 ff 00 00
	00		 and	 ebp, 255		; 000000ffH
  07857	8b 3c bd 00 00
	00 00		 mov	 edi, DWORD PTR _all_endtyp[edi*4]
  0785e	66 83 3c 6f 01	 cmp	 WORD PTR [edi+ebp*2], 1
  07863	75 3a		 jne	 SHORT $L74131

; 540  : 			{
; 541  : 				/* Lower F2 & F3 of [n] nasal murmur after front vowels */
; 542  :           		if (pDphsettar->np == &PF2) 

  07865	8d 53 48	 lea	 edx, DWORD PTR [ebx+72]
  07868	3b ca		 cmp	 ecx, edx
  0786a	75 26		 jne	 SHORT $L74132

; 543  : 				{
; 544  : 					pDphsettar->bouval -= 100;

  0786c	66 83 06 9c	 add	 WORD PTR [esi], -100	; ffffff9cH

; 545  :             		if ( place (pholas) & F2BACKF ) pDphsettar->bouval -= 100;

  07870	8b d0		 mov	 edx, eax
  07872	c1 fa 08	 sar	 edx, 8
  07875	66 8b 0e	 mov	 cx, WORD PTR [esi]
  07878	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  0787d	8b 14 95 00 00
	00 00		 mov	 edx, DWORD PTR _all_place[edx*4]
  07884	f6 04 42 80	 test	 BYTE PTR [edx+eax*2], -128 ; ffffff80H
  07888	74 44		 je	 SHORT $L74137
  0788a	83 c1 9c	 add	 ecx, -100		; ffffff9cH
  0788d	66 89 0e	 mov	 WORD PTR [esi], cx

; 546  :           		}
; 547  : 				else if (pDphsettar->np == &PF3) 

  07890	eb 3c		 jmp	 SHORT $L74137
$L74132:
  07892	83 c3 6c	 add	 ebx, 108		; 0000006cH
  07895	3b cb		 cmp	 ecx, ebx
  07897	75 35		 jne	 SHORT $L74137

; 548  : 				{
; 549  : 					pDphsettar->bouval -= 100;

  07899	66 83 06 9c	 add	 WORD PTR [esi], -100	; ffffff9cH

; 550  : 				}
; 551  :         	}
; 552  : 	 		else if ( pDphsettar->np == &PF2 && pDphsettar->phcur == FP_M && 

  0789d	eb 2f		 jmp	 SHORT $L74137
$L74131:

; 553  :             	place (pholas) & F2BACKF ) 

  0789f	83 c3 48	 add	 ebx, 72			; 00000048H
  078a2	3b cb		 cmp	 ecx, ebx
  078a4	75 28		 jne	 SHORT $L74137
  078a6	66 81 fa 25 19	 cmp	 dx, 6437		; 00001925H
  078ab	75 21		 jne	 SHORT $L74137
  078ad	0f bf 44 24 1c	 movsx	 eax, WORD PTR _pholas$[esp+12]
  078b2	8b c8		 mov	 ecx, eax
  078b4	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  078b9	c1 f9 08	 sar	 ecx, 8
  078bc	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_place[ecx*4]
  078c3	f6 04 42 80	 test	 BYTE PTR [edx+eax*2], -128 ; ffffff80H
  078c7	74 05		 je	 SHORT $L74137

; 554  : 			{
; 555  : 				/* Lower F2 of [m] nasal murmur near [i,e] */
; 556  : 				pDphsettar->bouval -= 150;

  078c9	66 81 06 6a ff	 add	 WORD PTR [esi], -150	; ffffff6aH
$L74137:

; 557  : 			}
; 558  : 		}
; 559  :     } /* if GEN_SIL or not */
; 560  : 
; 561  : 	/*eab rw boundary does not act like en english coarticulated are but really
; 562  : 	needs a bouval 12/95*/
; 563  :     //if( pDphsettar->np == &PF2 && pDphsettar->phcur == FP_W && pholas== FP_R ) {
; 564  :     //  pDphsettar->bouval -=400; 
; 565  :     //}
; 566  : 
; 567  :     /* (vowel, Liqglide) . <vowel, Liqglide, nasal>
; 568  :        Shrink or lengthen transition duration inside a sonorant
; 569  :        unless previous segment is obstruent 
; 570  :     */
; 571  :     if ( !(feacur & TPlosive) && !(feacur & TFricative)
; 572  :     	&& endtyp (pholas) != 4 && pDphsettar->durtran > 0 ) {

  078ce	f6 44 24 24 48	 test	 BYTE PTR _feacur$[esp+12], 72 ; 00000048H
  078d3	0f 85 55 03 00
	00		 jne	 $L74182
  078d9	0f bf 44 24 1c	 movsx	 eax, WORD PTR _pholas$[esp+12]
  078de	8b c8		 mov	 ecx, eax
  078e0	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  078e5	c1 f9 08	 sar	 ecx, 8
  078e8	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_endtyp[ecx*4]
  078ef	66 83 3c 42 04	 cmp	 WORD PTR [edx+eax*2], 4
  078f4	0f 84 34 03 00
	00		 je	 $L74182
  078fa	66 8b 46 06	 mov	 ax, WORD PTR [esi+6]
  078fe	66 85 c0	 test	 ax, ax
  07901	0f 8e 27 03 00
	00		 jle	 $L74182

; 573  :       	/* L in PAL; R, L, Ap in ARLAp */
; 574  : 
; 575  : #ifdef DEBG
; 576  :         if (dbgphs) {
; 577  :         	printf ("phsettar.c forw_sm... 1 %s durtran %d\n",
; 578  :             phprint (pDphsettar->phcur), pDphsettar->durtran);
; 579  :         }
; 580  : #endif
; 581  : 		//pDph_t->arg1 = pDphsettar->durtran;
; 582  : 		//pDph_t->arg2 = shrif;
; 583  : 			pDphsettar->durtran = mlsh1 (pDphsettar->durtran, shrif) + 1;

  07907	0f bf 4c 24 18	 movsx	 ecx, WORD PTR _shrif$[esp+12]
  0790c	0f bf c0	 movsx	 eax, ax
  0790f	0f af c1	 imul	 eax, ecx
  07912	c1 f8 0e	 sar	 eax, 14			; 0000000eH
  07915	40		 inc	 eax
  07916	66 89 46 06	 mov	 WORD PTR [esi+6], ax

; 584  : #ifdef DEBG
; 585  :         if (dbgphs) {
; 586  :           printf("phsettar.c forw_sm... 2 %s durtran %d\n",
; 587  :           phprint(pDphsettar->phcur), pDphsettar->durtran);
; 588  : 		}
; 589  : #endif
; 590  :     } /* shrink or lengthen */
; 591  :   	} 
; 592  : 	else if (pDphsettar->par_type IS_NASAL_ZERO_FREQ) { /* FORWARD SMOOTH:  FN */

  0791a	e9 0f 03 00 00	 jmp	 $L74182
$L74101:
  0791f	3c 01		 cmp	 al, 1
  07921	75 3a		 jne	 SHORT $L74140

; 593  : 		pDphsettar->durtran = 0;
; 594  : 
; 595  :     	/* (M, N, Gn, Ng) . <not M, N, Gn, Ng>
; 596  :            beginning of A in MA or of On in MOn 
; 597  :         */
; 598  :     	if ( !(fealas & TVoyelle) && fealas & TNasale
; 599  :       		&& ( feacur & TVoyelle || !(feacur & TNasale) ) ) {

  07923	8a 44 24 20	 mov	 al, BYTE PTR _fealas$[esp+12]
  07927	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
  0792d	a8 04		 test	 al, 4
  0792f	0f 85 f9 02 00
	00		 jne	 $L74182
  07935	a8 80		 test	 al, -128		; ffffff80H
  07937	0f 84 f1 02 00
	00		 je	 $L74182
  0793d	8a 44 24 24	 mov	 al, BYTE PTR _feacur$[esp+12]
  07941	a8 04		 test	 al, 4
  07943	75 08		 jne	 SHORT $L74142
  07945	a8 80		 test	 al, -128		; ffffff80H
  07947	0f 85 e1 02 00
	00		 jne	 $L74182
$L74142:

; 600  :       		pDphsettar->bouval  = NASAL_ZERO_BOUNDARY ;

  0794d	66 c7 06 72 01	 mov	 WORD PTR [esi], 370	; 00000172H

; 601  : 			pDphsettar->durtran = NF80MS;

  07952	66 c7 46 06 0d
	00		 mov	 WORD PTR [esi+6], 13	; 0000000dH

; 602  : 		}
; 603  : 
; 604  :   		} 
; 605  : 		else if (pDphsettar->par_type IS_FORM_BW) {  /* FORWARD SMOOTH:  B1, B2, B3 */

  07958	e9 d1 02 00 00	 jmp	 $L74182
$L74140:
  0795d	3c 04		 cmp	 al, 4
  0795f	0f 85 3a 01 00
	00		 jne	 $L74144

; 606  :     		/* Widen first formant bw if preceeding segment is voiceless */
; 607  :     		if (feacur & TVoisee) {

  07965	8a 44 24 24	 mov	 al, BYTE PTR _feacur$[esp+12]
  07969	8a 5c 24 20	 mov	 bl, BYTE PTR _fealas$[esp+12]
  0796d	a8 02		 test	 al, 2
  0796f	bd 08 00 00 00	 mov	 ebp, 8
  07974	74 30		 je	 SHORT $L74145

; 608  :       			pDphsettar->durtran = NF40MS;       /* Default B1, B2, B3 : 40 ms */
; 609  :       			if ( pDphsettar->np == &PB1 && !(fealas & TVoisee) ) {

  07976	8b 4c 24 14	 mov	 ecx, DWORD PTR _pDph_t$[esp+12]
  0797a	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  0797d	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
  07983	8d 91 b4 00 00
	00		 lea	 edx, DWORD PTR [ecx+180]
  07989	3b c2		 cmp	 eax, edx
  0798b	75 1f		 jne	 SHORT $L74147
  0798d	f6 c3 02	 test	 bl, 2
  07990	75 1a		 jne	 SHORT $L74147

; 610  :         			/* B1 of beginning of A in PA */
; 611  : 					pDphsettar->durtran = NF50MS;

  07992	66 89 6e 06	 mov	 WORD PTR [esi+6], bp

; 612  :         			pDphsettar->bouval  = pDphsettar->np->tarcur + (PF1.tarcur >> 3); /* based on F1 */

  07996	66 8b 49 24	 mov	 cx, WORD PTR [ecx+36]
  0799a	66 c1 f9 03	 sar	 cx, 3
  0799e	66 03 08	 add	 cx, WORD PTR [eax]
  079a1	66 89 0e	 mov	 WORD PTR [esi], cx

; 613  : #ifdef DEBG
; 614  :           			if (dbgphs) printf ("BW1 pDphsettar->durtran %d, pDphsettar->bouval\n", pDphsettar->durtran, pDphsettar->bouval);
; 615  : #endif
; 616  : 				}
; 617  :     		}
; 618  :  			else {

  079a4	eb 06		 jmp	 SHORT $L74147
$L74145:

; 619  :       			pDphsettar->durtran = NF20MS;   /* beginning of P in PA */

  079a6	66 c7 46 06 03
	00		 mov	 WORD PTR [esi+6], 3
$L74147:

; 620  : 			}
; 621  : 		
; 622  : 			/* <GEN_SIL>  or (GEN_SIL).<>
; 623  :         	   Treat boundary with silence +100 pour B1, +50 pour B2
; 624  :     		*/
; 625  :     		if (pholas == GEN_SIL) {

  079ac	b8 00 1e 00 00	 mov	 eax, 7680		; 00001e00H
  079b1	66 39 44 24 1c	 cmp	 WORD PTR _pholas$[esp+12], ax
  079b6	75 2d		 jne	 SHORT $L74148

; 626  :       			pDphsettar->bouval  = pDphsettar->np->tarcur + (&PB3 - pDphsettar->np) * 50;

  079b8	8b 7e 10	 mov	 edi, DWORD PTR [esi+16]
  079bb	8b 4c 24 14	 mov	 ecx, DWORD PTR _pDph_t$[esp+12]
  079bf	2b cf		 sub	 ecx, edi
  079c1	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  079c6	81 c1 fc 00 00
	00		 add	 ecx, 252		; 000000fcH
  079cc	f7 e9		 imul	 ecx
  079ce	c1 fa 03	 sar	 edx, 3
  079d1	8b c2		 mov	 eax, edx
  079d3	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  079d6	03 d0		 add	 edx, eax
  079d8	8d 04 92	 lea	 eax, DWORD PTR [edx+edx*4]
  079db	8d 0c 80	 lea	 ecx, DWORD PTR [eax+eax*4]
  079de	d1 e1		 shl	 ecx, 1
  079e0	66 03 0f	 add	 cx, WORD PTR [edi]

; 627  : 				pDphsettar->durtran = NF50MS;
; 628  :     		}
; 629  :  			else if (pDphsettar->phcur == GEN_SIL) {  /* B1, B2, B3 of beginning of _ in PA_ */

  079e3	eb 32		 jmp	 SHORT $L75477
$L74148:
  079e5	66 39 46 18	 cmp	 WORD PTR [esi+24], ax
  079e9	75 33		 jne	 SHORT $L74150

; 630  :       			pDphsettar->bouval  = pDphsettar->np->tarlas + (&PB3 - pDphsettar->np) * 50;

  079eb	8b 7e 10	 mov	 edi, DWORD PTR [esi+16]
  079ee	8b 4c 24 14	 mov	 ecx, DWORD PTR _pDph_t$[esp+12]
  079f2	2b cf		 sub	 ecx, edi
  079f4	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  079f9	81 c1 fc 00 00
	00		 add	 ecx, 252		; 000000fcH
  079ff	f7 e9		 imul	 ecx
  07a01	c1 fa 03	 sar	 edx, 3
  07a04	8b c2		 mov	 eax, edx
  07a06	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  07a09	03 d0		 add	 edx, eax
  07a0b	8d 04 92	 lea	 eax, DWORD PTR [edx+edx*4]
  07a0e	8d 0c 80	 lea	 ecx, DWORD PTR [eax+eax*4]
  07a11	d1 e1		 shl	 ecx, 1
  07a13	66 03 4f 18	 add	 cx, WORD PTR [edi+24]
$L75477:
  07a17	66 89 0e	 mov	 WORD PTR [esi], cx

; 631  : 				pDphsettar->durtran = NF50MS;

  07a1a	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L74150:

; 632  : #ifdef DEBG
; 633  :         		if (dbgphs) {
; 634  :           			printf ("phsettar.c forw_sm... pDphsettar->durtran %d, pDphsettar->bouval %d, pDphsettar->np->tarlas %d\n",
; 635  : 	            	pDphsettar->durtran, pDphsettar->bouval, pDphsettar->np->tarlas);
; 636  :         		}
; 637  : #endif
; 638  : 			}
; 639  : 
; 640  :     		/* (M, N, Gn, Ng) . <>
; 641  :        			BW widen, to nasalize transition out of previous nasal : A in MA 
; 642  : 			*/
; 643  :     		if (!(fealas & TVoyelle) && fealas & TNasale) {

  07a1e	f6 c3 04	 test	 bl, 4
  07a21	75 63		 jne	 SHORT $L74154
  07a23	f6 c3 80	 test	 bl, -128		; ffffff80H
  07a26	74 5e		 je	 SHORT $L74154

; 644  : 				pDphsettar->bouval = pDphsettar->np->tarcur;	/* B2,B3 not influ by nasal */
; 645  :       			if (pDphsettar->np == &PB1) {

  07a28	8b 54 24 14	 mov	 edx, DWORD PTR _pDph_t$[esp+12]
  07a2c	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  07a2f	66 8b 08	 mov	 cx, WORD PTR [eax]
  07a32	8d ba b4 00 00
	00		 lea	 edi, DWORD PTR [edx+180]
  07a38	3b c7		 cmp	 eax, edi
  07a3a	66 89 0e	 mov	 WORD PTR [esi], cx
  07a3d	75 0c		 jne	 SHORT $L74152

; 646  :         			pDphsettar->durtran = NF100MS;
; 647  :         			pDphsettar->bouval += 70;       /* B1 of A in MA */

  07a3f	66 83 06 46	 add	 WORD PTR [esi], 70	; 00000046H
  07a43	66 c7 46 06 10
	00		 mov	 WORD PTR [esi+6], 16	; 00000010H

; 648  :       			}
; 649  : 		 		else if ( pDphsettar->np == &PB2 && pholas == FP_N && begtyp (pDphsettar->phcur) != 1 ) {

  07a49	eb 3b		 jmp	 SHORT $L74154
$L74152:
  07a4b	81 c2 d8 00 00
	00		 add	 edx, 216		; 000000d8H
  07a51	3b c2		 cmp	 eax, edx
  07a53	75 31		 jne	 SHORT $L74154
  07a55	66 81 7c 24 1c
	26 19		 cmp	 WORD PTR _pholas$[esp+12], 6438 ; 00001926H
  07a5c	75 28		 jne	 SHORT $L74154
  07a5e	0f bf 46 18	 movsx	 eax, WORD PTR [esi+24]
  07a62	8b d0		 mov	 edx, eax
  07a64	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  07a69	c1 fa 08	 sar	 edx, 8
  07a6c	8b 14 95 00 00
	00 00		 mov	 edx, DWORD PTR _all_begtyp[edx*4]
  07a73	66 83 3c 42 01	 cmp	 WORD PTR [edx+eax*2], 1
  07a78	74 0c		 je	 SHORT $L74154

; 650  :         			/* F2 of [n] is wider in a non-front vowel */
; 651  : 					pDphsettar->bouval += 60;

  07a7a	83 c1 3c	 add	 ecx, 60			; 0000003cH

; 652  : 					pDphsettar->durtran = NF60MS;

  07a7d	66 c7 46 06 09
	00		 mov	 WORD PTR [esi+6], 9
  07a83	66 89 0e	 mov	 WORD PTR [esi], cx
$L74154:

; 653  : 				}
; 654  : #ifdef DEBG
; 655  :         		if (dbgphs) {
; 656  :           			printf ("BW3 pDphsettar->durtran %d, pDphsettar->bouval %d, pDphsettar->np->tarcur %d\n",
; 657  :             		pDphsettar->durtran, pDphsettar->bouval, pDphsettar->np->tarcur);
; 658  : 				}
; 659  : #endif
; 660  : 			}
; 661  : 
; 662  :     		/* Beginning of <M, N, Gn, Ng>
; 663  :       		   Nasals consonants have constant bandwidths
; 664  :        	       ex : B1, B2, B3 of beginning of M in MA 
; 665  :            */
; 666  :     		if (!(feacur & TVoyelle) && feacur & TNasale) {

  07a86	8a 44 24 24	 mov	 al, BYTE PTR _feacur$[esp+12]
  07a8a	a8 04		 test	 al, 4
  07a8c	0f 85 9c 01 00
	00		 jne	 $L74182
  07a92	a8 80		 test	 al, -128		; ffffff80H
  07a94	0f 84 94 01 00
	00		 je	 $L74182

; 667  : 				pDphsettar->durtran = 0;
; 668  : 				// debugforward ("Nasal has const par val", pDphsettar->np, pDphsettar->bouval, pDphsettar->durtran);
; 669  : 			}
; 670  :   		} 
; 671  : 		else if ((pDphsettar->par_type IS_PARALLEL_FORM_AMP) || 

  07a9a	e9 89 01 00 00	 jmp	 $L74183
$L74144:

; 672  :         	(pDphsettar->par_type IS_AV_OR_AH)) 

  07a9f	3c 02		 cmp	 al, 2
  07aa1	74 08		 je	 SHORT $L74158
  07aa3	84 c0		 test	 al, al
  07aa5	0f 85 83 01 00
	00		 jne	 $L74182
$L74158:

; 673  : 		{
; 674  :     		/* FORWARD SMOOTH:  AV, AP, A2, A3, A4, A5, A6, AB, TL
; 675  :       		   Default bouval is average of tarcur & tarend
; 676  :       		   default tc is 30 ms
; 677  :       		   See if onset, i.e. plosive or large source intensity increase
; 678  :     		*/
; 679  :     		temp = pDphsettar->np->tarcur - 10; if (temp<0) temp=0;

  07aab	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  07aae	66 8b 01	 mov	 ax, WORD PTR [ecx]
  07ab1	66 2d 0a 00	 sub	 ax, 10			; 0000000aH
  07ab5	66 85 c0	 test	 ax, ax
  07ab8	7d 02		 jge	 SHORT $L74159
  07aba	33 c0		 xor	 eax, eax
$L74159:

; 680  : 
; 681  :     		if ( pDphsettar->bouval < temp || fealas & TPlosive || pholas == FP_J ) 

  07abc	66 39 06	 cmp	 WORD PTR [esi], ax
  07abf	66 8b 6c 24 1c	 mov	 bp, WORD PTR _pholas$[esp+12]
  07ac4	8b 54 24 20	 mov	 edx, DWORD PTR _fealas$[esp+12]
  07ac8	7c 0c		 jl	 SHORT $L74161
  07aca	f6 c2 40	 test	 dl, 64			; 00000040H
  07acd	75 07		 jne	 SHORT $L74161
  07acf	66 81 fd 19 19	 cmp	 bp, 6425		; 00001919H
  07ad4	75 56		 jne	 SHORT $L74166
$L74161:

; 682  : 			{
; 683  : 				pDphsettar->bouval = temp;
; 684  :       			if ( !(feacur & TPlosive) && !(feacur & TFricative) ) pDphsettar->durtran = NF20MS;

  07ad6	8a 54 24 24	 mov	 dl, BYTE PTR _feacur$[esp+12]
  07ada	66 89 06	 mov	 WORD PTR [esi], ax
  07add	f6 c2 48	 test	 dl, 72			; 00000048H
  07ae0	75 06		 jne	 SHORT $L74162
  07ae2	66 c7 46 06 03
	00		 mov	 WORD PTR [esi+6], 3
$L74162:

; 685  : 
; 686  :       			if (pDphsettar->np == &PAV) {  /* Voicing is special */

  07ae8	8d bb 20 01 00
	00		 lea	 edi, DWORD PTR [ebx+288]
  07aee	3b cf		 cmp	 ecx, edi
  07af0	75 36		 jne	 SHORT $L75467

; 687  :         			/* (GEN_SIL).<Vowel, LiqGlid, nasal> */
; 688  :         			if (pholas == GEN_SIL && feacur & TVoisee ) 

  07af2	66 81 fd 00 1e	 cmp	 bp, 7680		; 00001e00H
  07af7	75 0f		 jne	 SHORT $L74164
  07af9	f6 c2 02	 test	 dl, 2
  07afc	74 0a		 je	 SHORT $L74164

; 689  : 					{
; 690  :           				pDphsettar->durtran = NF45MS;  /* Gradual buildup of voicing */
; 691  : 						pDphsettar->bouval -= 8;

  07afe	66 83 06 f8	 add	 WORD PTR [esi], -8	; fffffff8H
  07b02	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
$L74164:

; 692  : 					}
; 693  : 
; 694  : 				/* Obstruent voicing onset is abrupt */
; 695  :         		if (fealas & TFricative) pDphsettar->bouval = temp + 6;

  07b08	8b 54 24 20	 mov	 edx, DWORD PTR _fealas$[esp+12]
  07b0c	f6 c2 08	 test	 dl, 8
  07b0f	74 06		 je	 SHORT $L74165
  07b11	83 c0 06	 add	 eax, 6
  07b14	66 89 06	 mov	 WORD PTR [esi], ax
$L74165:

; 696  : 
; 697  : 				/* Plosive onset is abrupt (used mainly for [bdg]) */
; 698  :         		if (fealas & TPlosive) pDphsettar->bouval = pDphsettar->np->tarcur - 5;

  07b17	f6 c2 40	 test	 dl, 64			; 00000040H
  07b1a	74 10		 je	 SHORT $L74166
  07b1c	66 8b 01	 mov	 ax, WORD PTR [ecx]
  07b1f	66 2d 05 00	 sub	 ax, 5
  07b23	66 89 06	 mov	 WORD PTR [esi], ax
  07b26	eb 04		 jmp	 SHORT $L74166
$L75467:
  07b28	8b 54 24 20	 mov	 edx, DWORD PTR _fealas$[esp+12]
$L74166:

; 699  : 			}
; 700  : 			
; 701  : 			// debugforward ("Onset", pDphsettar->np, pDphsettar->bouval, pDphsettar->durtran);
; 702  : 		}
; 703  : 
; 704  :     	/* (M, N, Gn, Ng) . <vowel, LiqGli, Nasal>
; 705  :       	   If last nasal, and source amp increased, abrupt onset
; 706  :            ex : AV, AH, A2-A6 for beginning of A in MA
; 707  :     	*/
; 708  :     	if ( !(fealas & TVoyelle) && fealas & TNasale && feacur & TVoisee ) {

  07b2c	f6 c2 04	 test	 dl, 4
  07b2f	75 15		 jne	 SHORT $L75469
  07b31	f6 c2 80	 test	 dl, -128		; ffffff80H
  07b34	74 10		 je	 SHORT $L75469
  07b36	8a 44 24 24	 mov	 al, BYTE PTR _feacur$[esp+12]
  07b3a	a8 02		 test	 al, 2
  07b3c	74 0c		 je	 SHORT $L74167

; 709  : 			pDphsettar->durtran = 0;

  07b3e	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
  07b44	eb 04		 jmp	 SHORT $L74167
$L75469:
  07b46	8a 44 24 24	 mov	 al, BYTE PTR _feacur$[esp+12]
$L74167:

; 710  : 			// debugforward ("Onset from nasal", pDphsettar->np, pDphsettar->bouval, pDphsettar->durtran);
; 711  : 		}
; 712  : 
; 713  :     	/* (vowel, LiqGli, Nasal) . <M, N, Gn, Ng>
; 714  :            Voicing source amp const in intervocalic nasal
; 715  :            ex : AV for beginning of M in AM
; 716  :        	*/
; 717  :       	if ( !(feacur & TVoyelle) && feacur & TNasale ) {

  07b4a	a8 04		 test	 al, 4
  07b4c	75 19		 jne	 SHORT $L74169
  07b4e	a8 80		 test	 al, -128		; ffffff80H
  07b50	74 15		 je	 SHORT $L74169

; 718  :       		if ( fealas & TVoisee && pDphsettar->np == &PAV) pDphsettar->durtran = 0;

  07b52	f6 c2 02	 test	 dl, 2
  07b55	74 10		 je	 SHORT $L74169
  07b57	8d 83 20 01 00
	00		 lea	 eax, DWORD PTR [ebx+288]
  07b5d	3b c8		 cmp	 ecx, eax
  07b5f	75 06		 jne	 SHORT $L74169
  07b61	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L74169:

; 719  : 		}
; 720  : 
; 721  :     	/* AV, AH, A2-A6 DECREASING
; 722  :       	   See if offset, i.e. source intensity decreasing
; 723  :            ex :  for beginning of A in MA
; 724  :     	*/
; 725  : 		temp = pDphsettar->np->tarlas - 10;

  07b67	66 8b 41 18	 mov	 ax, WORD PTR [ecx+24]
  07b6b	66 2d 0a 00	 sub	 ax, 10			; 0000000aH

; 726  :     	if (pDphsettar->bouval < temp) {

  07b6f	66 39 06	 cmp	 WORD PTR [esi], ax
  07b72	7d 24		 jge	 SHORT $L74172

; 727  :       		/* Reduce boundary value by 3 dB */
; 728  : 			pDphsettar->bouval = temp - 3;

  07b74	83 c0 fd	 add	 eax, -3			; fffffffdH

; 729  : 
; 730  : 			/* Source amplitudes fall gradually into silence */
; 731  :       		if (pDphsettar->phcur == GEN_SIL) pDphsettar->durtran = NF70MS;

  07b77	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  07b7d	66 89 06	 mov	 WORD PTR [esi], ax
  07b80	75 06		 jne	 SHORT $L74171
  07b82	66 c7 46 06 0b
	00		 mov	 WORD PTR [esi+6], 11	; 0000000bH
$L74171:

; 732  : 			
; 733  : 			/* Except voicing offset is abrupt */
; 734  :       		if (pDphsettar->np == &PAV) pDphsettar->durtran = 0;

  07b88	8d 83 20 01 00
	00		 lea	 eax, DWORD PTR [ebx+288]
  07b8e	3b c8		 cmp	 ecx, eax
  07b90	75 06		 jne	 SHORT $L74172
  07b92	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L74172:

; 735  : 
; 736  : 			// debugforward ("Offset",pDphsettar->np, pDphsettar->bouval, pDphsettar->durtran);
; 737  : 		}
; 738  : 
; 739  : #ifdef NEVER_EVER_EVER_NEVER
; 740  : 		/* Buildup A3 gradually in [C, J] */
; 741  :     	if (pDphsettar->np == &PA3) {
; 742  :       		if ( pDphsettar->phcur == FP_CH || pDphsettar->phcur == FP_J ) {
; 743  : 				pDphsettar->durtran = pDph_t->durfon - NF15MS;
; 744  : 				pDphsettar->bouval = pDphsettar->np->tarcur - 30;
; 745  :         		debugforward ("CH/J rule", pDphsettar->np, pDphsettar->bouval, pDphsettar->durtran);
; 746  : 			}
; 747  : 		}
; 748  : #endif
; 749  : 
; 750  :     	/* (vowel, LiqGli, B,D,G, V,J,Z) . <GEN_SIL, F, S>
; 751  :       	   Offset of a vowel into voiceless open vocal tract is breathy
; 752  :       	   ex : beginning of S in AS
; 753  :     	*/
; 754  :     	if (pDphsettar->np == &PAP) {

  07b98	8d 83 44 01 00
	00		 lea	 eax, DWORD PTR [ebx+324]
  07b9e	3b c8		 cmp	 ecx, eax
  07ba0	75 3e		 jne	 SHORT $L74178

; 755  : 			/* eab ap phoneme has a sudden onset of aspiration cauisng it
; 756  : 			   to be percieved as a plosive 
; 757  :             */
; 758  :         	pDphsettar->durtran = NF130MS;
; 759  : 
; 760  :       	if ( /*pDphsettar->phcur == GEN_SIL ||*/ pDphsettar->phcur == FP_F || pDphsettar->phcur == FP_S ) {

  07ba2	66 8b 46 18	 mov	 ax, WORD PTR [esi+24]
  07ba6	66 c7 46 06 14
	00		 mov	 WORD PTR [esi+6], 20	; 00000014H
  07bac	66 3d 18 19	 cmp	 ax, 6424		; 00001918H
  07bb0	74 06		 je	 SHORT $L74175
  07bb2	66 3d 1b 19	 cmp	 ax, 6427		; 0000191bH
  07bb6	75 28		 jne	 SHORT $L74178
$L74175:

; 761  :         	if ( fealas & TVoisee && !(fealas & TPlosive) && !(fealas & TFricative) ) {

  07bb8	f6 c2 02	 test	 dl, 2
  07bbb	74 23		 je	 SHORT $L74178
  07bbd	f6 c2 48	 test	 dl, 72			; 00000048H
  07bc0	75 1e		 jne	 SHORT $L74178

; 762  : 				if (pDphsettar->phcur == GEN_SIL) {

  07bc2	66 3d 00 1e	 cmp	 ax, 7680		; 00001e00H
  07bc6	75 0d		 jne	 SHORT $L74177

; 763  : 					pDphsettar->bouval = 52;

  07bc8	66 c7 06 34 00	 mov	 WORD PTR [esi], 52	; 00000034H

; 764  : 					pDphsettar->durtran = NF80MS;

  07bcd	66 c7 46 06 0d
	00		 mov	 WORD PTR [esi+6], 13	; 0000000dH

; 765  :           		}
; 766  :  				else {

  07bd3	eb 0b		 jmp	 SHORT $L74178
$L74177:

; 767  :             		pDphsettar->bouval  = 48-20;

  07bd5	66 c7 06 1c 00	 mov	 WORD PTR [esi], 28	; 0000001cH

; 768  : 					pDphsettar->durtran = NF45MS;

  07bda	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
$L74178:

; 769  : 				}
; 770  : #ifdef DEBG
; 771  :             	if (dbgphs) {
; 772  :               		printf ("PAP pDphsettar->durtran %d, pDphsettar->bouval %d\n", pDphsettar->durtran, pDphsettar->bouval);
; 773  : 				}
; 774  : #endif
; 775  : 			}
; 776  : 		}
; 777  :     } /* PAP */
; 778  : 
; 779  :     /* FORWARD SMOOTH:  TLT
; 780  :       Tilt parameter jumps to target values near stops and silence
; 781  :     */
; 782  :     if (pDphsettar->np == &PTILT) {

  07be0	8d 83 40 02 00
	00		 lea	 eax, DWORD PTR [ebx+576]
  07be6	3b c8		 cmp	 ecx, eax
  07be8	75 44		 jne	 SHORT $L74182

; 783  : 		pDphsettar->durtran = NF25MS;
; 784  : 
; 785  :       	if (pholas == GEN_SIL) pDphsettar->bouval = pDphsettar->np->tarcur;

  07bea	66 81 fd 00 1e	 cmp	 bp, 7680		; 00001e00H
  07bef	66 c7 46 06 04
	00		 mov	 WORD PTR [esi+6], 4
  07bf5	75 06		 jne	 SHORT $L74180
  07bf7	66 8b 09	 mov	 cx, WORD PTR [ecx]
  07bfa	66 89 0e	 mov	 WORD PTR [esi], cx
$L74180:

; 786  :       	
; 787  : 		if (pDphsettar->phcur == GEN_SIL) 

  07bfd	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  07c03	75 0a		 jne	 SHORT $L74181

; 788  : 		{
; 789  : 			/* Reach into par buffer to get actual previous value */
; 790  : 			pDphsettar->bouval = pDph_t->parstochip[OUT_TLT];

  07c05	66 8b 83 ae 03
	00 00		 mov	 ax, WORD PTR [ebx+942]
  07c0c	66 89 06	 mov	 WORD PTR [esi], ax
$L74181:

; 791  : 		}
; 792  :       /* plosives or nasals */
; 793  :       if ( fealas & TOcclusive || feacur & TOcclusive ) pDphsettar->durtran = 0;

  07c0f	81 e2 00 01 00
	00		 and	 edx, 256		; 00000100H
  07c15	66 85 d2	 test	 dx, dx
  07c18	75 0e		 jne	 SHORT $L74183
  07c1a	8b 44 24 24	 mov	 eax, DWORD PTR _feacur$[esp+12]
  07c1e	25 00 01 00 00	 and	 eax, 256		; 00000100H
  07c23	66 85 c0	 test	 ax, ax
  07c26	74 06		 je	 SHORT $L74182
$L74183:
  07c28	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L74182:

; 794  : 	}
; 795  : 	} /* else if */
; 796  : 
; 797  :   	if (pDphsettar->durtran > pDph_t->durfon)  pDphsettar->durtran = pDph_t->durfon;

  07c2e	8b 4c 24 14	 mov	 ecx, DWORD PTR _pDph_t$[esp+12]
  07c32	66 8b 81 04 15
	00 00		 mov	 ax, WORD PTR [ecx+5380]
  07c39	66 39 46 06	 cmp	 WORD PTR [esi+6], ax
  07c3d	7e 04		 jle	 SHORT $L74184
  07c3f	66 89 46 06	 mov	 WORD PTR [esi+6], ax
$L74184:

; 798  :   	if (pDphsettar->durtran > NF130MS) pDphsettar->durtran = NF130MS; /* < 20 frames */

  07c43	b8 14 00 00 00	 mov	 eax, 20			; 00000014H
  07c48	66 39 46 06	 cmp	 WORD PTR [esi+6], ax
  07c4c	7e 04		 jle	 SHORT $L74185
  07c4e	66 89 46 06	 mov	 WORD PTR [esi+6], ax
$L74185:

; 799  :   	if (pDphsettar->bouval < 0) pDphsettar->bouval = 0;

  07c52	66 83 3e 00	 cmp	 WORD PTR [esi], 0
  07c56	7d 05		 jge	 SHORT $L74186
  07c58	66 c7 06 00 00	 mov	 WORD PTR [esi], 0
$L74186:
  07c5d	5f		 pop	 edi
  07c5e	5e		 pop	 esi
  07c5f	5d		 pop	 ebp
  07c60	5b		 pop	 ebx

; 800  : } // fr_forw_smooth_rules

  07c61	c3		 ret	 0
_fr_forw_smooth_rules ENDP
_phTTS$ = 8
_shrib$ = 12
_feacur$ = 16
_feanex$ = 20
_pDph_t$ = 8
_fr_back_smooth_rules PROC NEAR

; 826  : {

  07c70	53		 push	 ebx
  07c71	55		 push	 ebp

; 827  : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  07c72	8b 6c 24 0c	 mov	 ebp, DWORD PTR _phTTS$[esp+4]
  07c76	56		 push	 esi

; 828  : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;
; 829  :   	short temp;
; 830  : 
; 831  : #ifdef DEBG
; 832  :     //printf ("Set default  bouval %d, durtran :%d\n", 
; 833  :     //         pDphsettar->bouval, pDphsettar->durtran);
; 834  : #endif
; 835  :   	if (pDphsettar->par_type IS_FORM_FREQ) {   /* BACKWARD SMOOTH : F1, F2, F3 */

  07c77	b9 03 00 00 00	 mov	 ecx, 3
  07c7c	57		 push	 edi
  07c7d	8b 5d 18	 mov	 ebx, DWORD PTR [ebp+24]
  07c80	89 5c 24 14	 mov	 DWORD PTR _pDph_t$[esp+12], ebx
  07c84	8b b3 10 2c 00
	00		 mov	 esi, DWORD PTR [ebx+11280]
  07c8a	8a 46 14	 mov	 al, BYTE PTR [esi+20]
  07c8d	3a c1		 cmp	 al, cl
  07c8f	0f 85 23 02 00
	00		 jne	 $L74201

; 836  : 		/* 0. Use default values for obst-obst transition */
; 837  :     	if (feacur & TSonore) { /* Vowels, semi-vowels, L and R */

  07c95	8b 44 24 1c	 mov	 eax, DWORD PTR _feacur$[esp+12]
  07c99	8b 7c 24 20	 mov	 edi, DWORD PTR _feanex$[esp+12]
  07c9d	a8 10		 test	 al, 16			; 00000010H
  07c9f	74 76		 je	 SHORT $L74208

; 838  : 			pDphsettar->durtran = NF45MS;
; 839  :       		if ( !(feacur & TLiqGli) ) { /* vowel */

  07ca1	25 00 10 00 00	 and	 eax, 4096		; 00001000H
  07ca6	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
  07cac	66 85 c0	 test	 ax, ax
  07caf	75 3f		 jne	 SHORT $L74203

; 840  :         		if (feanex & TLiqGli) {

  07cb1	8b c7		 mov	 eax, edi
  07cb3	25 00 10 00 00	 and	 eax, 4096		; 00001000H
  07cb8	66 85 c0	 test	 ax, ax
  07cbb	74 5a		 je	 SHORT $L74208

; 841  :           			/* 1. end of A in AL or AR : vowel-soncon trans, use 75-25% */
; 842  : 					pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarnex) >> 1;

  07cbd	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  07cc0	0f bf 16	 movsx	 edx, WORD PTR [esi]
  07cc3	0f bf 48 16	 movsx	 ecx, WORD PTR [eax+22]
  07cc7	03 ca		 add	 ecx, edx
  07cc9	d1 f9		 sar	 ecx, 1
  07ccb	66 89 0e	 mov	 WORD PTR [esi], cx

; 843  : 					if (pDphsettar->np == &PF3)

  07cce	8d 4b 6c	 lea	 ecx, DWORD PTR [ebx+108]
  07cd1	3b c1		 cmp	 eax, ecx
  07cd3	75 06		 jne	 SHORT $L74205

; 844  : 			  			pDphsettar->durtran = NF64MS; /* F3 trans. slower for [R, L] */

  07cd5	66 c7 46 06 0a
	00		 mov	 WORD PTR [esi+6], 10	; 0000000aH
$L74205:

; 845  : 
; 846  :           			/* First formant jumps down 80 Hz in /L/ */
; 847  :           			if ( pDphsettar->phonex == FP_L && pDphsettar->np == &PF1 ) pDphsettar->bouval += 80;

  07cdb	66 81 7e 0a 12
	19		 cmp	 WORD PTR [esi+10], 6418	; 00001912H
  07ce1	75 34		 jne	 SHORT $L74208
  07ce3	8d 53 24	 lea	 edx, DWORD PTR [ebx+36]
  07ce6	3b c2		 cmp	 eax, edx
  07ce8	75 2d		 jne	 SHORT $L74208
  07cea	66 83 06 50	 add	 WORD PTR [esi], 80	; 00000050H

; 848  : 				}
; 849  : 
; 850  :       		} 
; 851  : 			else { /* LiqGli */

  07cee	eb 27		 jmp	 SHORT $L74208
$L74203:

; 852  : 				pDphsettar->durtran = NF40MS;
; 853  :         		if ( !(feanex & TLiqGli) ) { /* vowel; ex : end of L in LA */

  07cf0	8b c7		 mov	 eax, edi
  07cf2	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
  07cf8	25 00 10 00 00	 and	 eax, 4096		; 00001000H
  07cfd	66 85 c0	 test	 ax, ax
  07d00	75 15		 jne	 SHORT $L74208

; 854  :           			/* 3. Soncon-vowel trans, use 25-75% */
; 855  : 					pDphsettar->bouval = (pDphsettar->bouval + pDphsettar->np->tarend) >> 1;

  07d02	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  07d05	0f bf 42 1a	 movsx	 eax, WORD PTR [edx+26]
  07d09	0f bf 16	 movsx	 edx, WORD PTR [esi]
  07d0c	03 c2		 add	 eax, edx

; 856  : 					pDphsettar->durtran = NF20MS;

  07d0e	66 89 4e 06	 mov	 WORD PTR [esi+6], cx
  07d12	d1 f8		 sar	 eax, 1
  07d14	66 89 06	 mov	 WORD PTR [esi], ax
$L74208:

; 857  :         		}
; 858  :  				else {
; 859  :           			/* 4. Soncon-soncon transition : use defaults; ex : L in LR */
; 860  : 				}
; 861  : 			}
; 862  : #ifdef DEBG
; 863  :         	if (dbgphs) 
; 864  : 			{
; 865  :           		printf ("phsettar.c back_sm... pDphsettar->bouval %d, pDphsettar->durtran %d\n",
; 866  :             	pDphsettar->bouval, pDphsettar->durtran);
; 867  : 		}
; 868  : #endif
; 869  :     } /* TSonore */
; 870  : 
; 871  : 	/* No backward smoothing if next phone is silence */
; 872  :     if (pDphsettar->phonex == GEN_SIL) {

  07d17	66 81 7e 0a 00
	1e		 cmp	 WORD PTR [esi+10], 7680	; 00001e00H
  07d1d	75 0b		 jne	 SHORT $L74210

; 873  : 			pDphsettar->durtran = 0;

  07d1f	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0

; 874  :     }
; 875  :  	else

  07d25	e9 3e 01 00 00	 jmp	 $L74233
$L74210:

; 876  :  	{
; 877  :     	if ( setloc (phTTS, (short)(pDph_t->nphone+1), pDph_t->nphone, FINAL, (short)(pDph_t->nphone+2), feanex) ) 

  07d2a	66 8b 83 d0 23
	00 00		 mov	 ax, WORD PTR [ebx+9168]
  07d31	57		 push	 edi
  07d32	8d 48 02	 lea	 ecx, DWORD PTR [eax+2]
  07d35	51		 push	 ecx
  07d36	6a 01		 push	 1
  07d38	50		 push	 eax
  07d39	40		 inc	 eax
  07d3a	50		 push	 eax
  07d3b	55		 push	 ebp
  07d3c	e8 00 00 00 00	 call	 _setloc
  07d41	83 c4 18	 add	 esp, 24			; 00000018H
  07d44	66 85 c0	 test	 ax, ax
  07d47	75 1c		 jne	 SHORT $L74218

; 878  : 		{
; 879  :       		/* phcur=sonor, phonex=obst transition */
; 880  : 			// debugbackward ("Use locus, percent", pDphsettar->np, pDphsettar->bouval, pDphsettar->durtran);
; 881  :     	} 
; 882  : 		else if ( setloc (phTTS, pDph_t->nphone, (short)(pDph_t->nphone+1), INITIAL, (short)(pDph_t->nphone-1), feanex) ) 

  07d49	66 8b 83 d0 23
	00 00		 mov	 ax, WORD PTR [ebx+9168]
  07d50	57		 push	 edi
  07d51	8d 50 ff	 lea	 edx, DWORD PTR [eax-1]
  07d54	8d 48 01	 lea	 ecx, DWORD PTR [eax+1]
  07d57	52		 push	 edx
  07d58	6a 00		 push	 0
  07d5a	51		 push	 ecx
  07d5b	50		 push	 eax
  07d5c	55		 push	 ebp
  07d5d	e8 00 00 00 00	 call	 _setloc
  07d62	83 c4 18	 add	 esp, 24			; 00000018H
$L74218:

; 883  : 		{
; 884  :         	/* phcur=obst, phonex=sonor transition */
; 885  : 			// debugbackward ("Use locus, percent", pDphsettar->np, pDphsettar->bouval, pDphsettar->durtran);
; 886  : 		}
; 887  : #ifdef DEBG
; 888  :     	else if (dbgphs) 
; 889  : 		{	
; 890  : 			printf ("phsettar.c back_sm... Locus does not apply\n");
; 891  : 		}
; 892  : #endif
; 893  : 
; 894  :     	/* <Fricatives, Plosives>
; 895  :        	   F1, F2, F3 slow inside obstruents; ex : end of S in SA
; 896  :     	*/
; 897  :     	if (feacur & TFricative) {

  07d65	8a 44 24 1c	 mov	 al, BYTE PTR _feacur$[esp+12]
  07d69	a8 08		 test	 al, 8
  07d6b	74 18		 je	 SHORT $L74219

; 898  : 			pDphsettar->durtran = NF30MS;
; 899  : 			if (pDphsettar->np == &PF1)

  07d6d	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  07d70	8d 53 24	 lea	 edx, DWORD PTR [ebx+36]
  07d73	3b ca		 cmp	 ecx, edx
  07d75	66 c7 46 06 05
	00		 mov	 WORD PTR [esi+6], 5
  07d7b	75 29		 jne	 SHORT $L74223

; 900  : 				pDphsettar->durtran = NF20MS;

  07d7d	66 c7 46 06 03
	00		 mov	 WORD PTR [esi+6], 3

; 901  :     	} 
; 902  : 		else if (feacur & TPlosive) 

  07d83	eb 21		 jmp	 SHORT $L74223
$L74219:
  07d85	a8 40		 test	 al, 64			; 00000040H
  07d87	74 1d		 je	 SHORT $L74223

; 903  : 		{
; 904  :         	/* Transitions take all of plosive duration; end of P in PA */
; 905  : 			pDphsettar->durtran = pDph_t->durfon;

  07d89	66 8b 8b 04 15
	00 00		 mov	 cx, WORD PTR [ebx+5380]

; 906  :         	if ( pDphsettar->np == &PF1 && !(feacur & TVoisee) ) 

  07d90	8d 53 24	 lea	 edx, DWORD PTR [ebx+36]
  07d93	66 89 4e 06	 mov	 WORD PTR [esi+6], cx
  07d97	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  07d9a	3b ca		 cmp	 ecx, edx
  07d9c	75 08		 jne	 SHORT $L74223
  07d9e	a8 02		 test	 al, 2
  07da0	75 04		 jne	 SHORT $L74223

; 907  : 				pDphsettar->bouval += 100;

  07da2	66 83 06 64	 add	 WORD PTR [esi], 100	; 00000064H
$L74223:

; 908  : 		}
; 909  : 
; 910  :     	/* <M, N, Gn, Ng>
; 911  :         	Higher formant transitions slow at end of a nasal
; 912  :     	*/
; 913  :     	if ( !(feacur & TVoyelle) && feacur & TNasale ) {

  07da6	a8 04		 test	 al, 4
  07da8	0f 85 ba 00 00
	00		 jne	 $L74233
  07dae	a8 80		 test	 al, -128		; ffffff80H
  07db0	0f 84 b2 00 00
	00		 je	 $L74233

; 914  : 			pDphsettar->durtran = pDph_t->durfon;
; 915  :     		if (pDphsettar->np == &PF1) {

  07db6	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  07db9	66 8b 83 04 15
	00 00		 mov	 ax, WORD PTR [ebx+5380]
  07dc0	8d 53 24	 lea	 edx, DWORD PTR [ebx+36]
  07dc3	66 89 46 06	 mov	 WORD PTR [esi+6], ax
  07dc7	3b ca		 cmp	 ecx, edx
  07dc9	75 0b		 jne	 SHORT $L74225

; 916  :           		pDphsettar->durtran = 0;      /* Except F1 */

  07dcb	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0

; 917  :         	}
; 918  :  			else if ( pDphsettar->phcur == FP_N && begtyp (pDphsettar->phonex) == 1 ) 

  07dd1	e9 92 00 00 00	 jmp	 $L74233
$L74225:
  07dd6	66 8b 56 18	 mov	 dx, WORD PTR [esi+24]
  07dda	66 81 fa 26 19	 cmp	 dx, 6438		; 00001926H
  07ddf	75 59		 jne	 SHORT $L74227
  07de1	0f bf 46 0a	 movsx	 eax, WORD PTR [esi+10]
  07de5	8b f8		 mov	 edi, eax
  07de7	8b e8		 mov	 ebp, eax
  07de9	c1 ff 08	 sar	 edi, 8
  07dec	81 e5 ff 00 00
	00		 and	 ebp, 255		; 000000ffH
  07df2	8b 3c bd 00 00
	00 00		 mov	 edi, DWORD PTR _all_begtyp[edi*4]
  07df9	66 83 3c 6f 01	 cmp	 WORD PTR [edi+ebp*2], 1
  07dfe	75 3a		 jne	 SHORT $L74227

; 919  : 			{
; 920  : 				/* Lower F2 & F3 of [n] nasal murmur before front vowels */
; 921  :           		if (pDphsettar->np == &PF2) 

  07e00	8d 53 48	 lea	 edx, DWORD PTR [ebx+72]
  07e03	3b ca		 cmp	 ecx, edx
  07e05	75 26		 jne	 SHORT $L74228

; 922  : 				{
; 923  :             		pDphsettar->bouval -= 100;   /* end of N in NI */

  07e07	66 83 06 9c	 add	 WORD PTR [esi], -100	; ffffff9cH

; 924  :             		if ( place (pDphsettar->phonex) & F2BACKI ) 

  07e0b	8b d0		 mov	 edx, eax
  07e0d	c1 fa 08	 sar	 edx, 8
  07e10	66 8b 0e	 mov	 cx, WORD PTR [esi]
  07e13	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  07e18	8b 14 95 00 00
	00 00		 mov	 edx, DWORD PTR _all_place[edx*4]
  07e1f	f6 04 42 40	 test	 BYTE PTR [edx+eax*2], 64 ; 00000040H
  07e23	74 43		 je	 SHORT $L74233

; 925  : 						pDphsettar->bouval -= 100;

  07e25	83 c1 9c	 add	 ecx, -100		; ffffff9cH
  07e28	66 89 0e	 mov	 WORD PTR [esi], cx

; 926  :           			}
; 927  : 			 		else if (pDphsettar->np == &PF3) 

  07e2b	eb 3b		 jmp	 SHORT $L74233
$L74228:
  07e2d	83 c3 6c	 add	 ebx, 108		; 0000006cH
  07e30	3b cb		 cmp	 ecx, ebx
  07e32	75 34		 jne	 SHORT $L74233

; 928  : 					{
; 929  : 						pDphsettar->bouval -= 100;

  07e34	66 83 06 9c	 add	 WORD PTR [esi], -100	; ffffff9cH

; 930  : 					}
; 931  :         		} 
; 932  : 				else if (pDphsettar->np == &PF2 && pDphsettar->phcur == FP_M && place(pDphsettar->phonex) & F2BACKI) 

  07e38	eb 2e		 jmp	 SHORT $L74233
$L74227:
  07e3a	83 c3 48	 add	 ebx, 72			; 00000048H
  07e3d	3b cb		 cmp	 ecx, ebx
  07e3f	75 27		 jne	 SHORT $L74233
  07e41	66 81 fa 25 19	 cmp	 dx, 6437		; 00001925H
  07e46	75 20		 jne	 SHORT $L74233
  07e48	0f bf 46 0a	 movsx	 eax, WORD PTR [esi+10]
  07e4c	8b c8		 mov	 ecx, eax
  07e4e	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  07e53	c1 f9 08	 sar	 ecx, 8
  07e56	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_place[ecx*4]
  07e5d	f6 04 42 40	 test	 BYTE PTR [edx+eax*2], 64 ; 00000040H
  07e61	74 05		 je	 SHORT $L74233

; 933  : 				{
; 934  :           			pDphsettar->bouval -= 150;    /* Lower F2 of [m] murmur near [Y] */

  07e63	66 81 06 6a ff	 add	 WORD PTR [esi], -150	; ffffff6aH
$L74233:

; 935  : 				}
; 936  : 			}
; 937  :     	} /* GEN_SIL or not */
; 938  : 
; 939  :     	/*	(vowel, Liqglide) . <vowel, Liqglide, nasal>
; 940  :       		Shrink or lengthen transition duration inside a sonorant
; 941  :       		unless previous segment is obstruent
; 942  :       		ex : F1, F2, F3 of end of A in PAL
; 943  :     	*/
; 944  :     	if ( !(feacur & TPlosive) && !(feacur & TFricative)
; 945  :       		&& begtyp (pDphsettar->phonex) != 4 && pDphsettar->durtran > 0 ) 

  07e68	f6 44 24 1c 48	 test	 BYTE PTR _feacur$[esp+12], 72 ; 00000048H
  07e6d	0f 85 14 04 00
	00		 jne	 $L74289
  07e73	0f bf 46 0a	 movsx	 eax, WORD PTR [esi+10]
  07e77	8b c8		 mov	 ecx, eax
  07e79	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  07e7e	c1 f9 08	 sar	 ecx, 8
  07e81	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_begtyp[ecx*4]
  07e88	66 83 3c 42 04	 cmp	 WORD PTR [edx+eax*2], 4
  07e8d	0f 84 f4 03 00
	00		 je	 $L74289
  07e93	66 8b 46 06	 mov	 ax, WORD PTR [esi+6]
  07e97	66 85 c0	 test	 ax, ax
  07e9a	0f 8e e7 03 00
	00		 jle	 $L74289

; 946  : 		{
; 947  : 			//pDph_t->arg1 = pDphsettar->durtran;
; 948  : 			//pDph_t->arg2 = shrib;
; 949  : 			pDphsettar->durtran = mlsh1 (pDphsettar->durtran, shrib) + 1;

  07ea0	0f bf 4c 24 18	 movsx	 ecx, WORD PTR _shrib$[esp+12]
  07ea5	0f bf c0	 movsx	 eax, ax
  07ea8	0f af c1	 imul	 eax, ecx
  07eab	c1 f8 0e	 sar	 eax, 14			; 0000000eH
  07eae	40		 inc	 eax
  07eaf	66 89 46 06	 mov	 WORD PTR [esi+6], ax

; 950  : 		}
; 951  :   	}
; 952  :  	else if (pDphsettar->par_type IS_NASAL_ZERO_FREQ) { /* BACKWARD SMOOTH:  FN */

  07eb3	e9 cf 03 00 00	 jmp	 $L74289
$L74201:
  07eb8	3c 01		 cmp	 al, 1
  07eba	75 3a		 jne	 SHORT $L74236

; 953  : 		pDphsettar->durtran = 0;
; 954  : 
; 955  :     	/*
; 956  :       		<not M, N, Gn, Ng> . (M, N, Gn, Ng)
; 957  :       		end of A in AM or of On in OnM
; 958  :     	*/
; 959  :     	if ( !(feanex & TVoyelle) && feanex & TNasale
; 960  :       		&& ( feacur & TVoyelle || !(feacur & TNasale) ) ) {

  07ebc	8a 44 24 20	 mov	 al, BYTE PTR _feanex$[esp+12]
  07ec0	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
  07ec6	a8 04		 test	 al, 4
  07ec8	0f 85 b9 03 00
	00		 jne	 $L74289
  07ece	a8 80		 test	 al, -128		; ffffff80H
  07ed0	0f 84 b1 03 00
	00		 je	 $L74289
  07ed6	8a 44 24 1c	 mov	 al, BYTE PTR _feacur$[esp+12]
  07eda	a8 04		 test	 al, 4
  07edc	75 08		 jne	 SHORT $L74238
  07ede	a8 80		 test	 al, -128		; ffffff80H
  07ee0	0f 85 a1 03 00
	00		 jne	 $L74289
$L74238:

; 961  :       		pDphsettar->bouval  = NASAL_ZERO_BOUNDARY;

  07ee6	66 c7 06 72 01	 mov	 WORD PTR [esi], 370	; 00000172H

; 962  : 			pDphsettar->durtran = NF80MS;

  07eeb	66 c7 46 06 0d
	00		 mov	 WORD PTR [esi+6], 13	; 0000000dH

; 963  : 		}
; 964  :   	}
; 965  :  	else if (pDphsettar->par_type IS_FORM_BW) {    /* BACKWARD SMOOTH:  B1, B2, B3 */

  07ef1	e9 91 03 00 00	 jmp	 $L74289
$L74236:
  07ef6	3c 04		 cmp	 al, 4
  07ef8	0f 85 4c 01 00
	00		 jne	 $L74240

; 966  :     	if (feacur & TVoisee) {

  07efe	8a 44 24 1c	 mov	 al, BYTE PTR _feacur$[esp+12]
  07f02	bd 08 00 00 00	 mov	 ebp, 8
  07f07	a8 02		 test	 al, 2
  07f09	74 3f		 je	 SHORT $L74241

; 967  : 			pDphsettar->durtran = NF40MS;
; 968  : 
; 969  :       		if (pDphsettar->np == &PB1) {

  07f0b	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  07f0e	8d 93 b4 00 00
	00		 lea	 edx, DWORD PTR [ebx+180]
  07f14	3b c2		 cmp	 eax, edx
  07f16	66 c7 46 06 06
	00		 mov	 WORD PTR [esi+6], 6
  07f1c	75 30		 jne	 SHORT $L74245

; 970  : 				/* Glottis opens early before -voice C, widen B1 */
; 971  :         		if ( !(feanex & TVoisee) ) { /* ex : end of A in AP */

  07f1e	f6 44 24 20 02	 test	 BYTE PTR _feanex$[esp+12], 2
  07f23	75 29		 jne	 SHORT $L74245

; 972  : 					pDphsettar->durtran = NF50MS;

  07f25	66 89 6e 06	 mov	 WORD PTR [esi+6], bp

; 973  : 					/* More increase for low vowels (F1 high) */
; 974  : 					pDphsettar->bouval = pDphsettar->np->tarend + (PF1.tarcur >> 3);

  07f29	66 8b 4b 24	 mov	 cx, WORD PTR [ebx+36]
  07f2d	66 c1 f9 03	 sar	 cx, 3
  07f31	66 03 48 1a	 add	 cx, WORD PTR [eax+26]
  07f35	66 89 0e	 mov	 WORD PTR [esi], cx

; 975  : 					/* Effect is greater for a female voice */
; 976  :           			if (pDph_t->malfem == FEMALE) pDphsettar->durtran = NF100MS;

  07f38	66 83 bb 08 15
	00 00 00	 cmp	 WORD PTR [ebx+5384], 0
  07f40	75 0c		 jne	 SHORT $L74245
  07f42	66 c7 46 06 10
	00		 mov	 WORD PTR [esi+6], 16	; 00000010H

; 977  : 				}
; 978  : 			}
; 979  :     	}
; 980  :  		else

  07f48	eb 04		 jmp	 SHORT $L74245
$L74241:

; 981  :  		{	pDphsettar->durtran = NF20MS;

  07f4a	66 89 4e 06	 mov	 WORD PTR [esi+6], cx
$L74245:

; 982  : 		}
; 983  : 
; 984  : 		/* Treat boundary with silence */
; 985  :     	if (pDphsettar->phonex == GEN_SIL) {

  07f4e	66 8b 5e 0a	 mov	 bx, WORD PTR [esi+10]
  07f52	66 81 fb 00 1e	 cmp	 bx, 7680		; 00001e00H
  07f57	75 2e		 jne	 SHORT $L74246

; 986  :       		pDphsettar->bouval  = pDphsettar->np->tarend + (&PB3 - pDphsettar->np) * 50;

  07f59	8b 7e 10	 mov	 edi, DWORD PTR [esi+16]
  07f5c	8b 4c 24 14	 mov	 ecx, DWORD PTR _pDph_t$[esp+12]
  07f60	2b cf		 sub	 ecx, edi
  07f62	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  07f67	81 c1 fc 00 00
	00		 add	 ecx, 252		; 000000fcH
  07f6d	f7 e9		 imul	 ecx
  07f6f	c1 fa 03	 sar	 edx, 3
  07f72	8b c2		 mov	 eax, edx
  07f74	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  07f77	03 d0		 add	 edx, eax
  07f79	8d 04 92	 lea	 eax, DWORD PTR [edx+edx*4]
  07f7c	8d 0c 80	 lea	 ecx, DWORD PTR [eax+eax*4]
  07f7f	d1 e1		 shl	 ecx, 1
  07f81	66 03 4f 1a	 add	 cx, WORD PTR [edi+26]

; 987  : 			pDphsettar->durtran = NF50MS;
; 988  :     	}
; 989  :  		else if (pDphsettar->phcur == GEN_SIL) {

  07f85	eb 34		 jmp	 SHORT $L75516
$L74246:
  07f87	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  07f8d	75 33		 jne	 SHORT $L74248

; 990  :      		pDphsettar->bouval  = pDphsettar->np->tarnex + (&PB3 - pDphsettar->np) * 50;

  07f8f	8b 7e 10	 mov	 edi, DWORD PTR [esi+16]
  07f92	8b 4c 24 14	 mov	 ecx, DWORD PTR _pDph_t$[esp+12]
  07f96	2b cf		 sub	 ecx, edi
  07f98	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  07f9d	81 c1 fc 00 00
	00		 add	 ecx, 252		; 000000fcH
  07fa3	f7 e9		 imul	 ecx
  07fa5	c1 fa 03	 sar	 edx, 3
  07fa8	8b c2		 mov	 eax, edx
  07faa	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  07fad	03 d0		 add	 edx, eax
  07faf	8d 04 92	 lea	 eax, DWORD PTR [edx+edx*4]
  07fb2	8d 0c 80	 lea	 ecx, DWORD PTR [eax+eax*4]
  07fb5	d1 e1		 shl	 ecx, 1
  07fb7	66 03 4f 16	 add	 cx, WORD PTR [edi+22]
$L75516:
  07fbb	66 89 0e	 mov	 WORD PTR [esi], cx

; 991  : 			pDphsettar->durtran = NF50MS;

  07fbe	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L74248:

; 992  : 		}
; 993  : 
; 994  :     	/*	<> . (M, N, Gn, Ng)
; 995  :       		BW1 widen, to nasalize transition into next nasal
; 996  :       		ex : B1, B2, B3 at end of A in AM
; 997  :     	*/
; 998  :     	if ( !(feanex & TVoyelle) && feanex & TNasale) {

  07fc2	8a 44 24 20	 mov	 al, BYTE PTR _feanex$[esp+12]
  07fc6	a8 04		 test	 al, 4
  07fc8	75 61		 jne	 SHORT $L74252
  07fca	a8 80		 test	 al, -128		; ffffff80H
  07fcc	74 5d		 je	 SHORT $L74252

; 999  : 			pDphsettar->bouval = pDphsettar->np->tarend;
; 1000 :     		if (pDphsettar->np == &PB1) {

  07fce	8b 54 24 14	 mov	 edx, DWORD PTR _pDph_t$[esp+12]
  07fd2	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  07fd5	66 8b 48 1a	 mov	 cx, WORD PTR [eax+26]
  07fd9	8d ba b4 00 00
	00		 lea	 edi, DWORD PTR [edx+180]
  07fdf	3b c7		 cmp	 eax, edi
  07fe1	66 89 0e	 mov	 WORD PTR [esi], cx
  07fe4	75 0c		 jne	 SHORT $L74250

; 1001 : 				pDphsettar->durtran = NF100MS;
; 1002 : 				pDphsettar->bouval += 100;

  07fe6	66 83 06 64	 add	 WORD PTR [esi], 100	; 00000064H
  07fea	66 c7 46 06 10
	00		 mov	 WORD PTR [esi+6], 16	; 00000010H

; 1003 :      		} 
; 1004 : 			else if ( pDphsettar->np == &PB2 && pDphsettar->phonex == FP_N && endtyp (pDphsettar->phcur) != 1 ) 

  07ff0	eb 39		 jmp	 SHORT $L74252
$L74250:
  07ff2	81 c2 d8 00 00
	00		 add	 edx, 216		; 000000d8H
  07ff8	3b c2		 cmp	 eax, edx
  07ffa	75 2f		 jne	 SHORT $L74252
  07ffc	66 81 fb 26 19	 cmp	 bx, 6438		; 00001926H
  08001	75 28		 jne	 SHORT $L74252
  08003	0f bf 46 18	 movsx	 eax, WORD PTR [esi+24]
  08007	8b d0		 mov	 edx, eax
  08009	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  0800e	c1 fa 08	 sar	 edx, 8
  08011	8b 14 95 00 00
	00 00		 mov	 edx, DWORD PTR _all_endtyp[edx*4]
  08018	66 83 3c 42 01	 cmp	 WORD PTR [edx+eax*2], 1
  0801d	74 0c		 je	 SHORT $L74252

; 1005 : 			{
; 1006 :         		/* F2 of [n] is wider before a non-front vowel */
; 1007 :         		pDphsettar->bouval += 60;

  0801f	83 c1 3c	 add	 ecx, 60			; 0000003cH

; 1008 :         		pDphsettar->durtran = NF60MS;

  08022	66 c7 46 06 09
	00		 mov	 WORD PTR [esi+6], 9
  08028	66 89 0e	 mov	 WORD PTR [esi], cx
$L74252:

; 1009 : 			}
; 1010 : 		}
; 1011 : 
; 1012 :     	/*	<M, N, Gn, Ng>
; 1013 :       		B1, B2, B3 : nasals have constant bandwidths at target values
; 1014 :       		end of M in MA
; 1015 :     	*/
; 1016 :     	if ( !(feacur & TVoyelle) && feacur & TNasale ) 

  0802b	8a 44 24 1c	 mov	 al, BYTE PTR _feacur$[esp+12]
  0802f	a8 04		 test	 al, 4
  08031	0f 85 50 02 00
	00		 jne	 $L74289
  08037	a8 80		 test	 al, -128		; ffffff80H
  08039	0f 84 48 02 00
	00		 je	 $L74289

; 1017 : 		{
; 1018 : 			pDphsettar->durtran = 0;

  0803f	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0

; 1019 : 			// debugbackward ("Nasal has const. par val", pDphsettar->np, pDphsettar->bouval, pDphsettar->durtran);
; 1020 : 		}
; 1021 :  	}
; 1022 :  	else if ((pDphsettar->par_type IS_PARALLEL_FORM_AMP) || (pDphsettar->par_type IS_AV_OR_AH)) {

  08045	e9 3d 02 00 00	 jmp	 $L74289
$L74240:
  0804a	33 ed		 xor	 ebp, ebp
  0804c	3c 02		 cmp	 al, 2
  0804e	74 08		 je	 SHORT $L74256
  08050	84 c0		 test	 al, al
  08052	0f 85 2f 02 00
	00		 jne	 $L74289
$L74256:

; 1023 : 		/* BACKWARD SMOOTH:  AV, AP, A2, A3, A4, A5, A6, AB, TL */
; 1024 : 
; 1025 :     	/*	INCREASING
; 1026 :       		See if onset, i.e. source intensity increasing
; 1027 :       		AV, AP, A2-A6, TL
; 1028 :     	*/
; 1029 : 		temp = pDphsettar->np->tarnex - 10;

  08058	8b 56 10	 mov	 edx, DWORD PTR [esi+16]
  0805b	66 8b 42 16	 mov	 ax, WORD PTR [edx+22]
  0805f	66 2d 0a 00	 sub	 ax, 10			; 0000000aH

; 1030 :     	if (pDphsettar->bouval < temp) {

  08063	66 39 06	 cmp	 WORD PTR [esi], ax
  08066	7d 11		 jge	 SHORT $L74258

; 1031 : 			pDphsettar->bouval = temp;
; 1032 : 			if (pDphsettar->phcur == GEN_SIL) pDphsettar->durtran = NF70MS;

  08068	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  0806e	66 89 06	 mov	 WORD PTR [esi], ax
  08071	75 06		 jne	 SHORT $L74258
  08073	66 c7 46 06 0b
	00		 mov	 WORD PTR [esi+6], 11	; 0000000bH
$L74258:

; 1033 : 			//  debugbackward ("Onset", pDphsettar->np, pDphsettar->bouval, pDphsettar->durtran);
; 1034 : 		}
; 1035 : 
; 1036 :     	/*	AV INCREASING
; 1037 :       		Voicing is special:  onset is abrupt, except if a voiced fric
; 1038 :     	*/
; 1039 :     	if ( pDphsettar->np == &PAV && (pDphsettar->bouval < pDphsettar->np->tarnex)
; 1040 :       		&& pDphsettar->phcur != FP_V && pDphsettar->phcur != FP_J && pDphsettar->phcur != FP_Z ) {

  08079	8d bb 20 01 00
	00		 lea	 edi, DWORD PTR [ebx+288]
  0807f	3b d7		 cmp	 edx, edi
  08081	0f 85 91 00 00
	00		 jne	 $L75517
  08087	66 8b 06	 mov	 ax, WORD PTR [esi]
  0808a	66 3b 42 16	 cmp	 ax, WORD PTR [edx+22]
  0808e	0f 8d 82 00 00
	00		 jge	 $L74260
  08094	66 8b 46 18	 mov	 ax, WORD PTR [esi+24]
  08098	66 3d 1c 19	 cmp	 ax, 6428		; 0000191cH
  0809c	74 78		 je	 SHORT $L74260
  0809e	66 3d 19 19	 cmp	 ax, 6425		; 00001919H
  080a2	74 72		 je	 SHORT $L74260
  080a4	66 3d 1d 19	 cmp	 ax, 6429		; 0000191dH
  080a8	74 6c		 je	 SHORT $L74260

; 1041 : 			pDphsettar->durtran = 0;
; 1042 : 		// debugbackward ("Make next onset abrupt", pDphsettar->np, pDphsettar->bouval, pDphsettar->durtran);
; 1043 : 
; 1044 :       	/*	Pb with AV of last frame if this is ifdef ex: OPI
; 1045 :         	Voicebar dies out in a voiced plosive
; 1046 :         	end of B in BA or P in PA
; 1047 :       	*/
; 1048 :       	if ( feacur & TPlosive || pDphsettar->phcur == FP_CH ) 

  080aa	8a 4c 24 1c	 mov	 cl, BYTE PTR _feacur$[esp+12]
  080ae	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
  080b2	f6 c1 40	 test	 cl, 64			; 00000040H
  080b5	75 06		 jne	 SHORT $L74261
  080b7	66 3d 17 19	 cmp	 ax, 6423		; 00001917H
  080bb	75 59		 jne	 SHORT $L74260
$L74261:

; 1049 : 		{
; 1050 :         	if (feacur & TVoisee) 

  080bd	f6 44 24 1c 02	 test	 BYTE PTR _feacur$[esp+12], 2
  080c2	74 13		 je	 SHORT $L74262

; 1051 : 			{
; 1052 : 				pDphsettar->bouval = pDphsettar->np->tarend - 3;

  080c4	66 8b 4a 1a	 mov	 cx, WORD PTR [edx+26]

; 1053 : 				pDphsettar->durtran = NF45MS;

  080c8	66 c7 46 06 07
	00		 mov	 WORD PTR [esi+6], 7
  080ce	66 83 e9 03	 sub	 cx, 3
  080d2	66 89 0e	 mov	 WORD PTR [esi], cx

; 1054 : 				// debugbackward ("Voicebar dies out", pDphsettar->np, pDphsettar->bouval, pDphsettar->durtran);
; 1055 :         	}
; 1056 :  			else

  080d5	eb 03		 jmp	 SHORT $L74263
$L74262:

; 1057 : 			{
; 1058 :           		/* Do not allow prevoicing in a voiceless plosive
; 1059 :                    ex AV for P is 0 even for the last frame
; 1060 :             	*/
; 1061 : 				pDphsettar->bouval = 0;

  080d7	66 89 2e	 mov	 WORD PTR [esi], bp
$L74263:

; 1062 : 			}
; 1063 :         	if (pDphsettar->durtran > NF130MS) pDphsettar->durtran = NF130MS;

  080da	b8 14 00 00 00	 mov	 eax, 20			; 00000014H
  080df	66 39 46 06	 cmp	 WORD PTR [esi+6], ax
  080e3	7e 04		 jle	 SHORT $L74264
  080e5	66 89 46 06	 mov	 WORD PTR [esi+6], ax
$L74264:

; 1064 :         	if (pDphsettar->durtran > pDph_t->durfon) pDphsettar->durtran = pDph_t->durfon;

  080e9	66 8b 83 04 15
	00 00		 mov	 ax, WORD PTR [ebx+5380]
  080f0	66 39 46 06	 cmp	 WORD PTR [esi+6], ax
  080f4	7e 04		 jle	 SHORT $L74265
  080f6	66 89 46 06	 mov	 WORD PTR [esi+6], ax
$L74265:

; 1065 :         	if (pDphsettar->bouval < 0) pDphsettar->bouval = 0;

  080fa	66 39 2e	 cmp	 WORD PTR [esi], bp
  080fd	7d 03		 jge	 SHORT $L74266
  080ff	66 89 2e	 mov	 WORD PTR [esi], bp
$L74266:

; 1066 :         	pDphsettar->np->tbacktr = pDph_t->durfon - pDphsettar->durtran;

  08102	66 8b 83 04 15
	00 00		 mov	 ax, WORD PTR [ebx+5380]
  08109	5f		 pop	 edi
  0810a	66 2b 46 06	 sub	 ax, WORD PTR [esi+6]
  0810e	5e		 pop	 esi
  0810f	5d		 pop	 ebp
  08110	5b		 pop	 ebx
  08111	66 89 42 10	 mov	 WORD PTR [edx+16], ax

; 1205 : 
; 1206 : } // fr_back_smooth_rules

  08115	c3		 ret	 0
$L74260:

; 1067 : #ifdef DEBG
; 1068 :           	if (dbgphs) 
; 1069 : 			{
; 1070 :             	printf ("phsettar.c back_sm... RETURN pDphsettar->bouval %d, pDphsettar->durtran %d\n",
; 1071 :               	pDphsettar->bouval, pDphsettar->durtran);
; 1072 : 			}
; 1073 : #endif
; 1074 :         	return;
; 1075 : 		}
; 1076 : 	}
; 1077 : 
; 1078 :     /* AV for <vowel, LiqGli, B,D,G, V,Z,J, nasal> . <M, N, Gn, Ng>
; 1079 :        If curr phone is voiced and next is nasal, set AV const
; 1080 :        AV for end of A in AM
; 1081 :     */
; 1082 :     if ( pDphsettar->np == &PAV && feacur & TVoisee
; 1083 :      	&& !(feanex & TVoyelle) && feanex & TNasale ) 

  08116	3b d7		 cmp	 edx, edi
$L75517:
  08118	8a 44 24 20	 mov	 al, BYTE PTR _feanex$[esp+12]
  0811c	8a 4c 24 1c	 mov	 cl, BYTE PTR _feacur$[esp+12]
  08120	75 11		 jne	 SHORT $L74267
  08122	f6 c1 02	 test	 cl, 2
  08125	74 0c		 je	 SHORT $L74267
  08127	a8 04		 test	 al, 4
  08129	75 08		 jne	 SHORT $L74267
  0812b	a8 80		 test	 al, -128		; ffffff80H
  0812d	74 04		 je	 SHORT $L74267

; 1084 : 	{
; 1085 : 		pDphsettar->durtran = 0;

  0812f	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L74267:

; 1086 : 		// debugforward ("AV const in voiced to nasal", pDphsettar->np, pDphsettar->bouval, pDphsettar->durtran);
; 1087 : 	}
; 1088 : 
; 1089 :     /* AV for <M, N, Gn, Ng>
; 1090 :        If curr phone nasal, and next is voiced non-obst, AV const
; 1091 :        ex : AV for end of M in MA
; 1092 :     */
; 1093 :     if ( pDphsettar->np == &PAV && !(feacur & TVoyelle) && feacur & TNasale) 

  08133	3b d7		 cmp	 edx, edi
  08135	bd 06 00 00 00	 mov	 ebp, 6
  0813a	75 26		 jne	 SHORT $L74270
  0813c	f6 c1 04	 test	 cl, 4
  0813f	75 21		 jne	 SHORT $L74270
  08141	f6 c1 80	 test	 cl, -128		; ffffff80H
  08144	74 1c		 je	 SHORT $L74270

; 1094 : 	{
; 1095 :     	if ( feanex & TVoisee && !(feanex & TPlosive) && !(feanex & TFricative)
; 1096 :         	&& pDphsettar->phonex != FP_AP) 

  08146	a8 02		 test	 al, 2
  08148	74 14		 je	 SHORT $L74269
  0814a	a8 48		 test	 al, 72			; 00000048H
  0814c	75 10		 jne	 SHORT $L74269
  0814e	66 81 7e 0a 11
	19		 cmp	 WORD PTR [esi+10], 6417	; 00001911H
  08154	74 08		 je	 SHORT $L74269

; 1097 : 		{
; 1098 :         	pDphsettar->durtran = 0;   /* vowels, LigGli, nasal */

  08156	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0

; 1099 : 			// debugbackward ("Make murmur const AV", pDphsettar->np, pDphsettar->bouval, pDphsettar->durtran);
; 1100 :       	} 
; 1101 : 		else

  0815c	eb 04		 jmp	 SHORT $L74270
$L74269:

; 1102 :  		{	
; 1103 : 			pDphsettar->durtran = NF40MS;

  0815e	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L74270:

; 1104 : 		}
; 1105 : 	}
; 1106 : 
; 1107 :     /* DECREASING
; 1108 :        See if offset, i.e. source intensity decreasing
; 1109 :     */
; 1110 : 	temp = pDphsettar->np->tarend - 10;

  08162	66 8b 42 1a	 mov	 ax, WORD PTR [edx+26]

; 1111 : 
; 1112 :     /* Plosive burst does not get attenuated during offset
; 1113 :        AV, AH, A2-A6, TL
; 1114 :     */
; 1115 :     if (feacur & TPlosive) {

  08166	8a 4c 24 1c	 mov	 cl, BYTE PTR _feacur$[esp+12]
  0816a	66 2d 0a 00	 sub	 ax, 10			; 0000000aH
  0816e	f6 c1 40	 test	 cl, 64			; 00000040H
  08171	74 0c		 je	 SHORT $L74271

; 1116 :      	pDphsettar->durtran = NF15MS;        /* Amplitudes at the end of P */

  08173	66 c7 46 06 02
	00		 mov	 WORD PTR [esi+6], 2

; 1117 : 		temp = pDphsettar->np->tarend;

  08179	66 8b 42 1a	 mov	 ax, WORD PTR [edx+26]

; 1118 :     } 
; 1119 : 	else if (pDphsettar->phcur == FP_J || pDphsettar->phcur == FP_CH) 

  0817d	eb 18		 jmp	 SHORT $L74273
$L74271:
  0817f	66 8b 4e 18	 mov	 cx, WORD PTR [esi+24]
  08183	66 81 f9 19 19	 cmp	 cx, 6425		; 00001919H
  08188	74 07		 je	 SHORT $L74274
  0818a	66 81 f9 17 19	 cmp	 cx, 6423		; 00001917H
  0818f	75 06		 jne	 SHORT $L74273
$L74274:

; 1120 : 	{
; 1121 :      	pDphsettar->durtran = NF15MS;

  08191	66 c7 46 06 02
	00		 mov	 WORD PTR [esi+6], 2
$L74273:

; 1122 : 	}
; 1123 :     
; 1124 : 	if (pDphsettar->bouval < temp) 

  08197	66 39 06	 cmp	 WORD PTR [esi], ax
  0819a	7d 0c		 jge	 SHORT $L74275

; 1125 : 	{
; 1126 : 		pDphsettar->bouval = temp - 3;

  0819c	83 c0 fd	 add	 eax, -3			; fffffffdH

; 1127 : 		pDphsettar->durtran = NF20MS;

  0819f	66 c7 46 06 03
	00		 mov	 WORD PTR [esi+6], 3
  081a5	66 89 06	 mov	 WORD PTR [esi], ax
$L74275:

; 1128 : 	}
; 1129 : 
; 1130 : #ifdef NEVER_EVER_EVER_NEVER
; 1131 :     /*
; 1132 :       Pb : last frame of plosive for AV not 0 in OPI for ex:
; 1133 :       Voicing amp falls gradually at end of phrase
; 1134 :       Source sudden offset, or next seg is a dummy vowel
; 1135 :     */
; 1136 :     if (pDphsettar->np == &PAV) {
; 1137 :     	if ( pDphsettar->bouval < temp || (temp > 0 && pDphsettar->phonex == FP_AP) )  {
; 1138 : 			pDphsettar->bouval = temp + 3;
; 1139 :         	if ( pDphsettar->phonex == GEN_SIL || pDphsettar->phonex == FP_AP ) pDphsettar->durtran = NF75MS;
; 1140 : 		}
; 1141 :       	debugbackward ("Offset to noise", pDphsettar->np, pDphsettar->bouval, pDphsettar->durtran);
; 1142 : 	}
; 1143 : #endif
; 1144 : 
; 1145 :     /* except AV : <> . (Plosive, J, Ch)
; 1146 :        No smoothing of source amps if next segment has burst
; 1147 :     */
; 1148 :     if ( pDphsettar->np != &PAV
; 1149 :      	&& (feanex & TPlosive || pDphsettar->phonex == FP_J || pDphsettar->phonex == FP_CH) ) {

  081a8	8a 4c 24 20	 mov	 cl, BYTE PTR _feanex$[esp+12]
  081ac	3b d7		 cmp	 edx, edi
  081ae	74 1b		 je	 SHORT $L74276
  081b0	f6 c1 40	 test	 cl, 64			; 00000040H
  081b3	75 10		 jne	 SHORT $L74277
  081b5	66 8b 46 0a	 mov	 ax, WORD PTR [esi+10]
  081b9	66 3d 19 19	 cmp	 ax, 6425		; 00001919H
  081bd	74 06		 je	 SHORT $L74277
  081bf	66 3d 17 19	 cmp	 ax, 6423		; 00001917H
  081c3	75 06		 jne	 SHORT $L74276
$L74277:

; 1150 : 		pDphsettar->durtran = 0;

  081c5	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L74276:

; 1151 :  		// debugbackward ("Stop closure next", pDphsettar->np, pDphsettar->bouval, pDphsettar->durtran);
; 1152 : 	}
; 1153 : 
; 1154 : 	/* Onset of a vowel from voiceless open vocal tract is breathy */
; 1155 :     if (pDphsettar->np == &PAP) 

  081cb	8d 83 44 01 00
	00		 lea	 eax, DWORD PTR [ebx+324]
  081d1	3b d0		 cmp	 edx, eax
  081d3	75 41		 jne	 SHORT $L75514

; 1156 : 	{
; 1157 : 		if ( pDphsettar->phcur == FP_F || pDphsettar->phcur == FP_S ) 

  081d5	66 8b 46 18	 mov	 ax, WORD PTR [esi+24]
  081d9	66 3d 18 19	 cmp	 ax, 6424		; 00001918H
  081dd	74 06		 je	 SHORT $L74280
  081df	66 3d 1b 19	 cmp	 ax, 6427		; 0000191bH
  081e3	75 13		 jne	 SHORT $L74281
$L74280:

; 1158 : 		{
; 1159 :         	if ( feanex & TVoisee && !(feanex & TPlosive) && !(feanex & TFricative) ) 

  081e5	f6 c1 02	 test	 cl, 2
  081e8	74 0e		 je	 SHORT $L74281
  081ea	f6 c1 48	 test	 cl, 72			; 00000048H
  081ed	75 09		 jne	 SHORT $L74281

; 1160 : 			{
; 1161 :           		/* AP for  <F, S> . (vowel, LiqGli, nasal) */
; 1162 : 				pDphsettar->bouval = 52;

  081ef	66 c7 06 34 00	 mov	 WORD PTR [esi], 52	; 00000034H

; 1163 : 				pDphsettar->durtran = NF40MS;

  081f4	66 89 6e 06	 mov	 WORD PTR [esi+6], bp
$L74281:

; 1164 : 			}
; 1165 : 		}
; 1166 : 
; 1167 :       	if ( feacur & TSyllabique && pDphsettar->phonex == GEN_SIL ) {

  081f8	8b 4c 24 1c	 mov	 ecx, DWORD PTR _feacur$[esp+12]
  081fc	f6 c1 01	 test	 cl, 1
  081ff	74 19		 je	 SHORT $L74282
  08201	66 81 7e 0a 00
	1e		 cmp	 WORD PTR [esi+10], 7680	; 00001e00H
  08207	75 11		 jne	 SHORT $L74282

; 1168 : 			/* Offset of a vowel into silence is breathy */
; 1169 :         	pDphsettar->bouval  = 32;       /* AP for <vowel sauf FP_AP> . GEN_SIL */

  08209	66 c7 06 20 00	 mov	 WORD PTR [esi], 32	; 00000020H

; 1170 : 			/* eab ap phoneme has a sudden onset of aspiration cauisng it
; 1171 : 			   to be percieved as a plosive This was 52 changing it to see if this
; 1172 : 			   is the code causing the problem
; 1173 :             */
; 1174 : 			pDphsettar->durtran = NF130MS;

  0820e	66 c7 46 06 14
	00		 mov	 WORD PTR [esi+6], 20	; 00000014H
  08214	eb 04		 jmp	 SHORT $L74282
$L75514:
  08216	8b 4c 24 1c	 mov	 ecx, DWORD PTR _feacur$[esp+12]
$L74282:

; 1175 : 		}
; 1176 : 	}
; 1177 : 
; 1178 :     /* BACKWARD SMOOTH:  TLT
; 1179 :        Tilt parameter jumps to target values near stops and silence
; 1180 :     */
; 1181 :     if (pDphsettar->np == &PTILT) {

  0821a	81 c3 40 02 00
	00		 add	 ebx, 576		; 00000240H
  08220	3b d3		 cmp	 edx, ebx
  08222	75 63		 jne	 SHORT $L74289

; 1182 : 			pDphsettar->durtran = NF25MS;
; 1183 : 
; 1184 :       if (pDphsettar->phonex == GEN_SIL) pDphsettar->bouval = pDphsettar->np->tarend;

  08224	66 8b 46 0a	 mov	 ax, WORD PTR [esi+10]
  08228	66 c7 46 06 04
	00		 mov	 WORD PTR [esi+6], 4
  0822e	66 3d 00 1e	 cmp	 ax, 7680		; 00001e00H
  08232	75 07		 jne	 SHORT $L74284
  08234	66 8b 7a 1a	 mov	 di, WORD PTR [edx+26]
  08238	66 89 3e	 mov	 WORD PTR [esi], di
$L74284:

; 1185 :       if (pDphsettar->phcur  == GEN_SIL) pDphsettar->bouval = pDphsettar->np->tarnex;

  0823b	66 81 7e 18 00
	1e		 cmp	 WORD PTR [esi+24], 7680	; 00001e00H
  08241	75 07		 jne	 SHORT $L74285
  08243	66 8b 52 16	 mov	 dx, WORD PTR [edx+22]
  08247	66 89 16	 mov	 WORD PTR [esi], dx
$L74285:

; 1186 : 
; 1187 :       /* <>.(plosives, fricatives) */
; 1188 :       if ( feanex & TOcclusive || feacur & TOcclusive ) pDphsettar->durtran = 0;

  0824a	8b 54 24 20	 mov	 edx, DWORD PTR _feanex$[esp+12]
  0824e	81 e2 00 01 00
	00		 and	 edx, 256		; 00000100H
  08254	66 85 d2	 test	 dx, dx
  08257	75 0d		 jne	 SHORT $L74287
  08259	8b d1		 mov	 edx, ecx
  0825b	81 e2 00 01 00
	00		 and	 edx, 256		; 00000100H
  08261	66 85 d2	 test	 dx, dx
  08264	74 06		 je	 SHORT $L74286
$L74287:
  08266	66 c7 46 06 00
	00		 mov	 WORD PTR [esi+6], 0
$L74286:

; 1189 : 
; 1190 :       if ( feacur & TVoisee && !(feacur & TNasale) ) {

  0826c	f6 c1 02	 test	 cl, 2
  0826f	74 16		 je	 SHORT $L74289
  08271	f6 c1 80	 test	 cl, -128		; ffffff80H
  08274	75 11		 jne	 SHORT $L74289

; 1191 :         if (pDphsettar->phonex == GEN_SIL) {   /* Long breathy offset into silence */

  08276	66 3d 00 1e	 cmp	 ax, 7680		; 00001e00H
  0827a	75 0b		 jne	 SHORT $L74289

; 1192 : 					pDphsettar->bouval = 15;

  0827c	66 c7 06 0f 00	 mov	 WORD PTR [esi], 15	; 0000000fH

; 1193 : 					pDphsettar->durtran = NF130MS;

  08281	66 c7 46 06 14
	00		 mov	 WORD PTR [esi+6], 20	; 00000014H
$L74289:

; 1194 : 				}
; 1195 : 			}
; 1196 : 
; 1197 :     } /* tilt */
; 1198 : 
; 1199 :   } /* else if type parameter */
; 1200 : 
; 1201 :   if (pDphsettar->durtran > NF130MS) pDphsettar->durtran = NF130MS;

  08287	b8 14 00 00 00	 mov	 eax, 20			; 00000014H
  0828c	66 39 46 06	 cmp	 WORD PTR [esi+6], ax
  08290	7e 04		 jle	 SHORT $L74290
  08292	66 89 46 06	 mov	 WORD PTR [esi+6], ax
$L74290:

; 1202 :   if (pDphsettar->durtran > pDph_t->durfon) pDphsettar->durtran = pDph_t->durfon;

  08296	8b 4c 24 14	 mov	 ecx, DWORD PTR _pDph_t$[esp+12]
  0829a	66 8b 81 04 15
	00 00		 mov	 ax, WORD PTR [ecx+5380]
  082a1	66 39 46 06	 cmp	 WORD PTR [esi+6], ax
  082a5	7e 04		 jle	 SHORT $L74291
  082a7	66 89 46 06	 mov	 WORD PTR [esi+6], ax
$L74291:

; 1203 :   if (pDphsettar->bouval < 0) pDphsettar->bouval = 0;

  082ab	66 83 3e 00	 cmp	 WORD PTR [esi], 0
  082af	7d 05		 jge	 SHORT $L74292
  082b1	66 c7 06 00 00	 mov	 WORD PTR [esi], 0
$L74292:

; 1204 : 	pDphsettar->np->tbacktr = pDph_t->durfon - pDphsettar->durtran;

  082b6	66 8b 81 04 15
	00 00		 mov	 ax, WORD PTR [ecx+5380]
  082bd	8b 4e 10	 mov	 ecx, DWORD PTR [esi+16]
  082c0	66 2b 46 06	 sub	 ax, WORD PTR [esi+6]
  082c4	5f		 pop	 edi
  082c5	5e		 pop	 esi
  082c6	5d		 pop	 ebp
  082c7	66 89 41 10	 mov	 WORD PTR [ecx+16], ax
  082cb	5b		 pop	 ebx

; 1205 : 
; 1206 : } // fr_back_smooth_rules

  082cc	c3		 ret	 0
_fr_back_smooth_rules ENDP
_phTTS$ = 8
_fealas$ = 12
_feacur$ = 16
_feanex$ = 20
_pholas$ = 32
_fr_special_rules PROC NEAR

; 1234 : 
; 1235 : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  082d0	8b 44 24 04	 mov	 eax, DWORD PTR _phTTS$[esp-4]
  082d4	53		 push	 ebx
  082d5	56		 push	 esi
  082d6	57		 push	 edi
  082d7	8b 78 18	 mov	 edi, DWORD PTR [eax+24]

; 1236 :   	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;
; 1237 :   	/*static*/ short closure_dur;
; 1238 :   	short  vot;
; 1239 :   	short  bdur;
; 1240 : 
; 1241 :   	/* SPECIAL RULE 1: Burst duration for plosives */
; 1242 :   	bdur = burdr (pDphsettar->phcur);      /* Look up inher. burst dur in msec in table */
; 1243 : 
; 1244 : #ifdef DEBG
; 1245 :     if (dbgphs) {
; 1246 :      	printf ("phsettar.c special_rules entree pDphsettar->phcur %d, %s\n",
; 1247 :         pDphsettar->phcur, phprint (pDphsettar->phcur));
; 1248 :       	printf ("phsettar.c special_rules feacur %8x\n", feacur);
; 1249 : 	}
; 1250 : #endif
; 1251 :   	/* <plosives> . (nasals or plosives)
; 1252 :        ex : P in PM  P and M are FLABIAL; or D in TN (T and N are FALVEL)
; 1253 :   	*/
; 1254 :   	if ( feacur & TPlosive ) {

  082da	8b 5c 24 18	 mov	 ebx, DWORD PTR _feacur$[esp+8]
  082de	8b b7 10 2c 00
	00		 mov	 esi, DWORD PTR [edi+11280]
  082e4	0f bf 46 18	 movsx	 eax, WORD PTR [esi+24]
  082e8	8b c8		 mov	 ecx, eax
  082ea	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  082ef	c1 f9 08	 sar	 ecx, 8
  082f2	f6 c3 40	 test	 bl, 64			; 00000040H
  082f5	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_burdr[ecx*4]
  082fc	66 8b 04 42	 mov	 ax, WORD PTR [edx+eax*2]
  08300	0f 84 ba 00 00
	00		 je	 $L74327

; 1255 :     	bdur = mstofr (bdur);    /* Convert to frames */

  08306	0f bf c0	 movsx	 eax, ax
  08309	55		 push	 ebp
  0830a	50		 push	 eax
  0830b	e8 00 00 00 00	 call	 _mstofr

; 1256 :     	/* Don't release burst in homorganic plosiv-nasal & plos-plos sequence */
; 1257 :     	if ( !(feanex & TVoyelle) && feanex & TNasale || feanex & TPlosive ) {

  08310	8a 4c 24 24	 mov	 cl, BYTE PTR _feanex$[esp+16]
  08314	83 c4 04	 add	 esp, 4
  08317	f6 c1 04	 test	 cl, 4
  0831a	75 05		 jne	 SHORT $L74318
  0831c	f6 c1 80	 test	 cl, -128		; ffffff80H
  0831f	75 05		 jne	 SHORT $L74317
$L74318:
  08321	f6 c1 40	 test	 cl, 64			; 00000040H
  08324	74 3f		 je	 SHORT $L74319
$L74317:

; 1258 :       		if (place (pDphsettar->phcur) == place (pDphsettar->phonex)) 

  08326	0f bf 4e 18	 movsx	 ecx, WORD PTR [esi+24]
  0832a	0f bf 56 0a	 movsx	 edx, WORD PTR [esi+10]
  0832e	8b e9		 mov	 ebp, ecx
  08330	8b da		 mov	 ebx, edx
  08332	c1 fd 08	 sar	 ebp, 8
  08335	c1 fb 08	 sar	 ebx, 8
  08338	8b 2c ad 00 00
	00 00		 mov	 ebp, DWORD PTR _all_place[ebp*4]
  0833f	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  08345	8b 1c 9d 00 00
	00 00		 mov	 ebx, DWORD PTR _all_place[ebx*4]
  0834c	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  08352	66 8b 4c 4d 00	 mov	 cx, WORD PTR [ebp+ecx*2]
  08357	66 3b 0c 53	 cmp	 cx, WORD PTR [ebx+edx*2]
  0835b	75 04		 jne	 SHORT $L75535

; 1259 : 		  		bdur = 0;

  0835d	33 c0		 xor	 eax, eax

; 1260 :     	}
; 1261 : 
; 1262 :     	if (bdur > 1) {

  0835f	eb 1a		 jmp	 SHORT $L74324
$L75535:
  08361	8a 4c 24 20	 mov	 cl, BYTE PTR _feanex$[esp+12]
$L74319:
  08365	66 3d 01 00	 cmp	 ax, 1
  08369	7e 10		 jle	 SHORT $L74324

; 1263 :       		/* P in OPTE; S in OSTIL */
; 1264 :       		if ( (feacur & TPlosive || feacur & TFricative) && feanex & TPlosive ) {

  0836b	f6 c1 40	 test	 cl, 64			; 00000040H

; 1265 :         		bdur--;    /* Shorten burst before obst by 6 ms */
; 1266 :       		}
; 1267 :  			else if (pDph_t->durfon < NF50MS) 

  0836e	75 0a		 jne	 SHORT $L75539
  08370	66 83 bf 04 15
	00 00 08	 cmp	 WORD PTR [edi+5380], 8
  08378	7d 01		 jge	 SHORT $L74324
$L75539:

; 1268 : 			{
; 1269 :         		bdur--;    /* Shorten burst if closure short */

  0837a	48		 dec	 eax
$L74324:

; 1270 :       		}
; 1271 :     	}
; 1272 : 
; 1273 :     	closure_dur = pDph_t->durfon - bdur;

  0837b	66 8b 8f 04 15
	00 00		 mov	 cx, WORD PTR [edi+5380]

; 1274 : 
; 1275 :     	for (pDphsettar->np = &PA2; pDphsettar->np <= &PAB; pDphsettar->np++) { /* All fric gains to */

  08382	8d 97 68 01 00
	00		 lea	 edx, DWORD PTR [edi+360]
  08388	66 2b c8	 sub	 cx, ax
  0838b	8d 87 1c 02 00
	00		 lea	 eax, DWORD PTR [edi+540]
  08391	3b d0		 cmp	 edx, eax
  08393	89 56 10	 mov	 DWORD PTR [esi+16], edx
  08396	77 23		 ja	 SHORT $L75536
  08398	ba 24 00 00 00	 mov	 edx, 36			; 00000024H
$L74325:

; 1276 :       		pDphsettar->np->tspesh = closure_dur;   /* zero during closure */

  0839d	8b 5e 10	 mov	 ebx, DWORD PTR [esi+16]
  083a0	66 89 4b 12	 mov	 WORD PTR [ebx+18], cx

; 1277 :       		pDphsettar->np->pspesh = 0;

  083a4	8b 5e 10	 mov	 ebx, DWORD PTR [esi+16]
  083a7	66 c7 43 14 00
	00		 mov	 WORD PTR [ebx+20], 0
  083ad	8b 6e 10	 mov	 ebp, DWORD PTR [esi+16]
  083b0	03 ea		 add	 ebp, edx
  083b2	8b dd		 mov	 ebx, ebp
  083b4	89 6e 10	 mov	 DWORD PTR [esi+16], ebp
  083b7	3b d8		 cmp	 ebx, eax
  083b9	76 e2		 jbe	 SHORT $L74325
$L75536:

; 1274 : 
; 1275 :     	for (pDphsettar->np = &PA2; pDphsettar->np <= &PAB; pDphsettar->np++) { /* All fric gains to */

  083bb	8b 5c 24 1c	 mov	 ebx, DWORD PTR _feacur$[esp+12]
  083bf	5d		 pop	 ebp
$L74327:

; 1278 :     	}
; 1279 : 
; 1280 : #ifdef DEBG
; 1281 :     	if (dbgphs) 
; 1282 : 		{
; 1283 :       		printf ("phsettar.c special_rules bdur %d, closure_dur %d\n",
; 1284 :         	bdur, closure_dur);
; 1285 :     	}
; 1286 : #endif
; 1287 : 
; 1288 :   	} /* if plosive */
; 1289 : 
; 1290 : 
; 1291 :   	/* if preceding phoneme is p, t, k
; 1292 :        (p, t, k) . <vowel, liquide, glide, nasal>
; 1293 :        SPECIAL RULE 2: Voice onset time for aspirated plosives
; 1294 :        for SegAXP in [c][a][p][SegAXP], or  in [c][a][p][]  ("cap est" : 2 words)
; 1295 :        for l in pli, for r in pra 
; 1296 : 	*/
; 1297 :   	vot = 0;
; 1298 :   	if ( fealas & TPlosive && !(fealas & TVoisee) && feacur & TSonore ) 

  083c0	8a 44 24 14	 mov	 al, BYTE PTR _fealas$[esp+8]
  083c4	a8 40		 test	 al, 64			; 00000040H
  083c6	74 7b		 je	 SHORT $L74328
  083c8	a8 02		 test	 al, 2
  083ca	75 77		 jne	 SHORT $L74328
  083cc	f6 c3 10	 test	 bl, 16			; 00000010H
  083cf	74 72		 je	 SHORT $L74328

; 1299 : 	{
; 1300 :    		/* pli, pra, pi */
; 1301 : 
; 1302 :     	PAP.pspesh = 50;  // Amplitude of aspiration in dB
; 1303 :      	//PAP.pspesh = 37;   //Amplitude of aspiration in dB 
; 1304 : 
; 1305 :     	/* Stronger asp before +back; ex:pra */
; 1306 :     	//if (begtyp (pDphsettar->phonex) != 1) PAP.pspesh = 61-30;
; 1307 :     	PAV.pspesh = 0;     /* Amplitude of voicing during aspir */
; 1308 :     	vot = NF40MS;       /* 6 frames; Asp dur for /p, t, k/ before stressed sonor */
; 1309 :     	if ( pholas == FP_P ) vot = NF25MS; // 4 frames

  083d1	66 81 7c 24 28
	22 19		 cmp	 WORD PTR _pholas$[esp+8], 6434 ; 00001922H
  083d8	66 c7 87 58 01
	00 00 32 00	 mov	 WORD PTR [edi+344], 50	; 00000032H
  083e1	66 c7 87 34 01
	00 00 00 00	 mov	 WORD PTR [edi+308], 0
  083ea	b8 06 00 00 00	 mov	 eax, 6
  083ef	75 05		 jne	 SHORT $L74329
  083f1	b8 04 00 00 00	 mov	 eax, 4
$L74329:

; 1310 : 
; 1311 :     	/*  Aspiration stronger in sonor cons : l in pli : AP=60 
; 1312 :             r in pra, autre AP=64 
; 1313 :     	*/
; 1314 :     	/* if (feacur & TLiqGli) PAP.pspesh += 3; */ 
; 1315 : 
; 1316 :     	/* Vot longer in a sonorant consonant : l in pli, r in pra */
; 1317 :     	if ( !(feacur & TSyllabique) ) vot += NF20MS;

  083f6	83 e3 01	 and	 ebx, 1
  083f9	66 85 db	 test	 bx, bx
  083fc	75 03		 jne	 SHORT $L74330
  083fe	83 c0 03	 add	 eax, 3
$L74330:

; 1318 : 
; 1319 :     	if (vot >= pDph_t->durfon) vot = pDph_t->durfon - 1;

  08401	66 8b 8f 04 15
	00 00		 mov	 cx, WORD PTR [edi+5380]
  08408	66 3b c1	 cmp	 ax, cx
  0840b	7c 03		 jl	 SHORT $L74331
  0840d	8d 41 ff	 lea	 eax, DWORD PTR [ecx-1]
$L74331:

; 1320 : 
; 1321 :     	/* Vot cannot exceed 1/2 duration of a stressed vowel */
; 1322 :     	if ( vot > (pDph_t->durfon >> 1) && feacur & TSyllabique ) vot = pDph_t->durfon >> 1;

  08410	66 8b d1	 mov	 dx, cx
  08413	66 d1 fa	 sar	 dx, 1
  08416	66 3b c2	 cmp	 ax, dx
  08419	7e 07		 jle	 SHORT $L74332
  0841b	66 85 db	 test	 bx, bx
  0841e	74 02		 je	 SHORT $L74332
  08420	8b c2		 mov	 eax, edx
$L74332:

; 1323 : 
; 1324 :     	/* c a p SegAXP; SegAXP added in phalloph.c */
; 1325 :     	if ( pDphsettar->phcur == FP_AP ) 

  08422	66 81 7e 18 11
	19		 cmp	 WORD PTR [esi+24], 6417	; 00001911H
  08428	75 0b		 jne	 SHORT $L74333

; 1326 : 		{
; 1327 :       		vot = pDph_t->durfon;

  0842a	8b c1		 mov	 eax, ecx

; 1328 :       		PAP.pspesh -= 6;

  0842c	66 c7 87 58 01
	00 00 2c 00	 mov	 WORD PTR [edi+344], 44	; 0000002cH
$L74333:

; 1329 :     	}
; 1330 : 
; 1331 :     	PAV.tspesh = vot;

  08435	66 89 87 32 01
	00 00		 mov	 WORD PTR [edi+306], ax

; 1332 :     	PAP.tspesh = vot;

  0843c	66 89 87 56 01
	00 00		 mov	 WORD PTR [edi+342], ax
$L74328:
  08443	5f		 pop	 edi
  08444	5e		 pop	 esi
  08445	5b		 pop	 ebx

; 1333 : 
; 1334 :     	/* Widen 1st and 2nd formant bws when glottis open for aspir.
; 1335 :        	   Ex: A in PA during vot; very little effect */
; 1336 :     	//PB1.tspesh = vot;
; 1337 :     	//PB2.tspesh = vot;
; 1338 :     	//PB1.pspesh = PB1.tarcur + 250;
; 1339 :     	//PB2.pspesh = PB2.tarcur + 70;
; 1340 :   	} /* if p,t,k followed by sonorant */
; 1341 : 
; 1342 : 
; 1343 : #if 0
; 1344 :   	/* Problem: spectrum has too much F4 if f2,3 are high, as in [i] */
; 1345 :   	if ( feacur & TPlosive && feacur & TVoisee && fealas & TVoisee
; 1346 :     	&& !(feanex & TVoisee) ) 
; 1347 : 	{ 
; 1348 :     	/* not very often used : "agpi" or "rag sur"; give a bad sound */
; 1349 :     	//printf ("p_fr_st1.c  RULE 3 ????????????\n");
; 1350 :     	PAV.tspesh = pDph_t->durfon - NF15MS;
; 1351 :     	PB1.tspesh = pDph_t->durfon;
; 1352 :     	PB2.tspesh = pDph_t->durfon;
; 1353 :     	PB3.tspesh = pDph_t->durfon;
; 1354 :     	PAV.pspesh = 63;    /* Large since low-pass TILT attenuates it */
; 1355 :     	PB1.pspesh = 1000;
; 1356 :     	PB2.pspesh = 1000;
; 1357 :     	PB3.pspesh = 1500;
; 1358 :   	}
; 1359 : #endif
; 1360 : } // fr_special_rules

  08446	c3		 ret	 0
_fr_special_rules ENDP
_TEXT	ENDS
PUBLIC	_getendtar
EXTRN	_all_plocu:BYTE
_TEXT	SEGMENT
_phTTS$ = 8
_nfonobst$ = 12
_nfonsonor$ = 16
_initfinso$ = 20
_nfonvowel$ = 24
_fonobst$ = -28
_fonsonor$ = -24
_fonvowel$ = -12
_typso$ = -16
_f2backaffil$ = -4
_curval$ = -20
_ploc$ = 20
_prcnt$ = 16
_pDphsettar$ = -8
_setloc	PROC NEAR

; 75   : {

  08450	83 ec 1c	 sub	 esp, 28			; 0000001cH

; 76   : 	/* Automatic variables */
; 77   : 	short                   fonobst, fonsonor, fonvowel, typob, typso, f2backaffil, curval, tarvowel;
; 78   : 	short                   sontyx, ploc, locus, prcnt, delta_freq,tmp;
; 79   : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  08453	8b 44 24 20	 mov	 eax, DWORD PTR _phTTS$[esp+24]
  08457	53		 push	 ebx
  08458	55		 push	 ebp
  08459	56		 push	 esi
  0845a	8b 68 18	 mov	 ebp, DWORD PTR [eax+24]

; 80   : 	PKSD_T                  pKsd_t = phTTS->pKernelShareData;
; 81   : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;
; 82   : 
; 83   : 	/* Convert phoneme pointers into phoneme names */
; 84   : 	fonobst = get_phone (pDph_t, nfonobst);

  0845d	66 8b 44 24 30	 mov	 ax, WORD PTR _nfonobst$[esp+36]
  08462	66 85 c0	 test	 ax, ax
  08465	8b 9d 10 2c 00
	00		 mov	 ebx, DWORD PTR [ebp+11280]
  0846b	57		 push	 edi
  0846c	89 5c 24 24	 mov	 DWORD PTR _pDphsettar$[esp+44], ebx
  08470	be 00 1e 00 00	 mov	 esi, 7680		; 00001e00H
  08475	7c 1a		 jl	 SHORT $L75541
  08477	66 3b 85 06 15
	00 00		 cmp	 ax, WORD PTR [ebp+5382]
  0847e	7d 11		 jge	 SHORT $L75541
  08480	0f bf c8	 movsx	 ecx, ax
  08483	66 8b 94 4d ec
	03 00 00	 mov	 dx, WORD PTR [ebp+ecx*2+1004]
  0848b	89 54 24 10	 mov	 DWORD PTR _fonobst$[esp+44], edx
  0848f	eb 06		 jmp	 SHORT $L75542
$L75541:
  08491	89 74 24 10	 mov	 DWORD PTR _fonobst$[esp+44], esi
  08495	8b d6		 mov	 edx, esi
$L75542:

; 85   : 	fonsonor = get_phone (pDph_t, nfonsonor);

  08497	66 8b 44 24 38	 mov	 ax, WORD PTR _nfonsonor$[esp+40]
  0849c	66 85 c0	 test	 ax, ax
  0849f	7c 1a		 jl	 SHORT $L75543
  084a1	66 3b 85 06 15
	00 00		 cmp	 ax, WORD PTR [ebp+5382]
  084a8	7d 11		 jge	 SHORT $L75543
  084aa	0f bf c0	 movsx	 eax, ax
  084ad	66 8b 84 45 ec
	03 00 00	 mov	 ax, WORD PTR [ebp+eax*2+1004]
  084b5	89 44 24 14	 mov	 DWORD PTR _fonsonor$[esp+44], eax
  084b9	eb 06		 jmp	 SHORT $L75544
$L75543:
  084bb	89 74 24 14	 mov	 DWORD PTR _fonsonor$[esp+44], esi
  084bf	8b c6		 mov	 eax, esi
$L75544:

; 86   : 	fonvowel = get_phone (pDph_t, nfonvowel);

  084c1	66 8b 4c 24 40	 mov	 cx, WORD PTR _nfonvowel$[esp+40]
  084c6	66 85 c9	 test	 cx, cx
  084c9	7c 1b		 jl	 SHORT $L75545
  084cb	66 3b 8d 06 15
	00 00		 cmp	 cx, WORD PTR [ebp+5382]
  084d2	7d 12		 jge	 SHORT $L75545
  084d4	0f bf c9	 movsx	 ecx, cx
  084d7	66 8b 8c 4d ec
	03 00 00	 mov	 cx, WORD PTR [ebp+ecx*2+1004]
  084df	66 89 4c 24 20	 mov	 WORD PTR _fonvowel$[esp+44], cx
  084e4	eb 04		 jmp	 SHORT $L75546
$L75545:
  084e6	89 74 24 20	 mov	 DWORD PTR _fonvowel$[esp+44], esi
$L75546:

; 87   : 	
; 88   : 	/* Use values at beginning of the sonorant */
; 89   : 	if (initfinso == 'i') 

  084ea	80 7c 24 3c 69	 cmp	 BYTE PTR _initfinso$[esp+40], 105 ; 00000069H

; 90   : 	{
; 91   : 		typob = endtyp(fonobst);

  084ef	0f bf f2	 movsx	 esi, dx
  084f2	75 37		 jne	 SHORT $L74365
  084f4	8b d6		 mov	 edx, esi
  084f6	8b ce		 mov	 ecx, esi
  084f8	c1 fa 08	 sar	 edx, 8
  084fb	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  08501	8b 14 95 00 00
	00 00		 mov	 edx, DWORD PTR _all_endtyp[edx*4]
  08508	66 8b 14 4a	 mov	 dx, WORD PTR [edx+ecx*2]

; 92   : 		typso = begtyp(fonsonor);

  0850c	0f bf c8	 movsx	 ecx, ax
  0850f	8b f9		 mov	 edi, ecx
  08511	c1 ff 08	 sar	 edi, 8
  08514	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  0851a	8b 3c bd 00 00
	00 00		 mov	 edi, DWORD PTR _all_begtyp[edi*4]
  08521	66 8b 3c 4f	 mov	 di, WORD PTR [edi+ecx*2]
  08525	89 7c 24 1c	 mov	 DWORD PTR _typso$[esp+44], edi

; 93   : 	} 
; 94   : 	else 

  08529	eb 3a		 jmp	 SHORT $L75561
$L74365:

; 95   : 	{	/* Or at the end of the sonorant */
; 96   : 		typob = begtyp(fonobst);

  0852b	8b ce		 mov	 ecx, esi
  0852d	8b d6		 mov	 edx, esi
  0852f	c1 f9 08	 sar	 ecx, 8
  08532	81 e2 ff 00 00
	00		 and	 edx, 255		; 000000ffH
  08538	8b 0c 8d 00 00
	00 00		 mov	 ecx, DWORD PTR _all_begtyp[ecx*4]
  0853f	66 8b 14 51	 mov	 dx, WORD PTR [ecx+edx*2]

; 97   : 		typso = endtyp(fonsonor);

  08543	0f bf c8	 movsx	 ecx, ax
  08546	8b f9		 mov	 edi, ecx
  08548	c1 ff 08	 sar	 edi, 8
  0854b	81 e1 ff 00 00
	00		 and	 ecx, 255		; 000000ffH
  08551	8b 3c bd 00 00
	00 00		 mov	 edi, DWORD PTR _all_endtyp[edi*4]
  08558	66 8b 0c 4f	 mov	 cx, WORD PTR [edi+ecx*2]
  0855c	66 89 4c 24 1c	 mov	 WORD PTR _typso$[esp+44], cx
  08561	8b 7c 24 1c	 mov	 edi, DWORD PTR _typso$[esp+44]
$L75561:

; 98   : 	}
; 99   : 
; 100  : 	if ((pDphsettar->np > &PF3) || (typob != OBSTRUENT) || (typso == OBSTRUENT)) 

  08565	8d 4d 6c	 lea	 ecx, DWORD PTR [ebp+108]
  08568	39 4b 10	 cmp	 DWORD PTR [ebx+16], ecx
  0856b	0f 87 23 03 00
	00		 ja	 $L74368
  08571	66 83 fa 04	 cmp	 dx, 4
  08575	0f 85 19 03 00
	00		 jne	 $L74368
  0857b	66 3b fa	 cmp	 di, dx
  0857e	0f 84 10 03 00
	00		 je	 $L74368

; 103  : 	}
; 104  : 	if (initfinso == 'i') 

  08584	8a 4c 24 3c	 mov	 cl, BYTE PTR _initfinso$[esp+40]

; 105  : 	{
; 106  : 		// wrong! need to make language specific
; 107  : 		f2backaffil = place(fonsonor )& F2BACKI;

  08588	0f bf c0	 movsx	 eax, ax
  0858b	80 f9 69	 cmp	 cl, 105			; 00000069H
  0858e	8b d0		 mov	 edx, eax
  08590	75 2b		 jne	 SHORT $L74369
  08592	c1 fa 08	 sar	 edx, 8
  08595	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  0859a	8b 0c 95 00 00
	00 00		 mov	 ecx, DWORD PTR _all_place[edx*4]
  085a1	8a 14 41	 mov	 dl, BYTE PTR [ecx+eax*2]

; 108  : 		curval = getbegtar (phTTS, nfonsonor);

  085a4	8b 4c 24 30	 mov	 ecx, DWORD PTR _phTTS$[esp+40]
  085a8	0f bf 44 24 38	 movsx	 eax, WORD PTR _nfonsonor$[esp+40]
  085ad	83 e2 40	 and	 edx, 64			; 00000040H
  085b0	50		 push	 eax
  085b1	51		 push	 ecx
  085b2	89 54 24 30	 mov	 DWORD PTR _f2backaffil$[esp+52], edx
  085b6	e8 00 00 00 00	 call	 _getbegtar

; 109  : 	} 
; 110  : 	else 

  085bb	eb 2c		 jmp	 SHORT $L75603
$L74369:

; 111  : 	{	/* Or at the end of the sonorant */
; 112  : 		f2backaffil = place(fonsonor) & F2BACKF;

  085bd	c1 fa 08	 sar	 edx, 8
  085c0	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  085c5	8b 0c 95 00 00
	00 00		 mov	 ecx, DWORD PTR _all_place[edx*4]
  085cc	8a 14 41	 mov	 dl, BYTE PTR [ecx+eax*2]

; 113  : 		curval = getendtar(phTTS, nfonsonor);

  085cf	8b 4c 24 30	 mov	 ecx, DWORD PTR _phTTS$[esp+40]
  085d3	0f bf 44 24 38	 movsx	 eax, WORD PTR _nfonsonor$[esp+40]
  085d8	81 e2 80 00 00
	00		 and	 edx, 128		; 00000080H
  085de	50		 push	 eax
  085df	51		 push	 ecx
  085e0	89 54 24 30	 mov	 DWORD PTR _f2backaffil$[esp+52], edx
  085e4	e8 00 00 00 00	 call	 _getendtar
$L75603:
  085e9	83 c4 08	 add	 esp, 8
  085ec	89 44 24 18	 mov	 DWORD PTR _curval$[esp+44], eax

; 114  : 	}
; 115  : 	sontyx = typso;
; 116  : 
; 117  : 
; 118  : 	if (typso == ROUNDED_SONOR_CONS)   /* If sonorant is rounded conson, */

  085f0	66 83 ff 05	 cmp	 di, 5
  085f4	8b c7		 mov	 eax, edi
  085f6	75 07		 jne	 SHORT $L74371

; 119  : 		sontyx = BACK_ROUNDED_VOWEL;   /* use C locus for rounded vowel  */

  085f8	b8 03 00 00 00	 mov	 eax, 3

; 120  : 
; 121  : 	/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 122  : 	/* 'low' class is fourth entry in plocu                                   */
; 123  : 	/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 124  : 
; 125  : 	//eab We can get rid of this if we eliminates low_vowels from german phrom
; 126  : 	if (typso == 6) //LOW_VOWEL)

  085fd	eb 0b		 jmp	 SHORT $L74372
$L74371:
  085ff	66 83 ff 06	 cmp	 di, 6
  08603	75 05		 jne	 SHORT $L74372

; 127  : 	{								/* If sonorant is low vowel */
; 128  : 		sontyx = 2;					/* use back instead */

  08605	b8 02 00 00 00	 mov	 eax, 2
$L74372:

; 129  : 	}
; 130  : 
; 131  : 
; 132  : 	/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%*/
; 133  : 	/* Pointer into locus data comes from one of 4 tables for        */
; 134  : 	/* front-unrounded, back, front-rounded, low vowels.             */
; 135  : 	/* sontyx now equals 1, 2, 3, or 4                               */
; 136  : 	/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%*/
; 137  : 
; 138  : 	/* Pointer into locus data comes from one of 3 tables for front, back, */
; 139  : 	/* and rounded vowels, sontyx now equals 1, 2, or 3 */
; 140  : 
; 141  : 	tmp = fonobst & PFONT;

  0860a	8b 4c 24 10	 mov	 ecx, DWORD PTR _fonobst$[esp+44]
  0860e	81 e1 00 1f 00
	00		 and	 ecx, 7936		; 00001f00H

; 142  : 	if(tmp == PFUSA<<PSFONT)

  08614	66 81 f9 00 1e	 cmp	 cx, 7680		; 00001e00H
  08619	75 1b		 jne	 SHORT $L74373

; 143  : 	{
; 144  : 		ploc = plocu( (fonobst + (US_TOT_ALLOPHONES * (sontyx - 1) ) ) );

  0861b	0f bf c0	 movsx	 eax, ax
  0861e	8d 14 c5 00 00
	00 00		 lea	 edx, DWORD PTR [eax*8]
  08625	2b d0		 sub	 edx, eax
  08627	8d 0c 90	 lea	 ecx, DWORD PTR [eax+edx*4]
  0862a	8d 14 06	 lea	 edx, DWORD PTR [esi+eax]
  0862d	8d 44 4a c5	 lea	 eax, DWORD PTR [edx+ecx*2-59]

; 145  : 	}
; 146  : 	else if(tmp == PFUK<<PSFONT)

  08631	e9 8c 00 00 00	 jmp	 $L75604
$L74373:
  08636	66 81 f9 00 1d	 cmp	 cx, 7424		; 00001d00H
  0863b	75 12		 jne	 SHORT $L74375

; 147  : 	{
; 148  : 		ploc = plocu( (fonobst + (UK_TOT_ALLOPHONES * (sontyx - 1) ) ) );

  0863d	0f bf c0	 movsx	 eax, ax
  08640	8d 0c c0	 lea	 ecx, DWORD PTR [eax+eax*8]
  08643	8d 04 48	 lea	 eax, DWORD PTR [eax+ecx*2]
  08646	8d 14 46	 lea	 edx, DWORD PTR [esi+eax*2]
  08649	8d 44 10 c7	 lea	 eax, DWORD PTR [eax+edx-57]

; 149  : 	}
; 150  : 	else if(tmp == PFGR<<PSFONT)

  0864d	eb 73		 jmp	 SHORT $L75604
$L74375:
  0864f	66 81 f9 00 1c	 cmp	 cx, 7168		; 00001c00H
  08654	75 29		 jne	 SHORT $L74377

; 151  : 	{
; 152  : 		ploc = plocu( (fonobst + (GR_TOT_ALLOPHONES * (sontyx - 1) ) ) );

  08656	0f bf c0	 movsx	 eax, ax
  08659	8b c8		 mov	 ecx, eax
  0865b	c1 e1 05	 shl	 ecx, 5
  0865e	2b c8		 sub	 ecx, eax
  08660	d1 e1		 shl	 ecx, 1
  08662	2b c8		 sub	 ecx, eax
  08664	8d 44 31 c3	 lea	 eax, DWORD PTR [ecx+esi-61]
$L75605:
  08668	8b d0		 mov	 edx, eax
  0866a	c1 fa 08	 sar	 edx, 8
  0866d	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  08672	8b 0c 95 00 00
	00 00		 mov	 ecx, DWORD PTR _all_plocu[edx*4]
  08679	66 8b 3c 41	 mov	 di, WORD PTR [ecx+eax*2]

; 153  : 	}
; 154  : 	else if(tmp == PFLA<<PSFONT)

  0867d	eb 5e		 jmp	 SHORT $L75595
$L74377:
  0867f	66 81 f9 00 1a	 cmp	 cx, 6656		; 00001a00H
  08684	75 11		 jne	 SHORT $L74379

; 155  : 	{
; 156  : 		ploc = plocu( (fonobst + (LA_TOT_ALLOPHONES  * (sontyx - 1) ) ) );

  08686	0f bf c0	 movsx	 eax, ax
  08689	8d 14 80	 lea	 edx, DWORD PTR [eax+eax*4]
  0868c	c1 e2 03	 shl	 edx, 3
  0868f	2b d0		 sub	 edx, eax
  08691	8d 44 32 d9	 lea	 eax, DWORD PTR [edx+esi-39]

; 157  : 	}
; 158  : 	else if(tmp == PFSP<<PSFONT)

  08695	eb 2b		 jmp	 SHORT $L75604
$L74379:
  08697	66 81 f9 00 1b	 cmp	 cx, 6912		; 00001b00H
  0869c	75 11		 jne	 SHORT $L74381

; 159  : 	{
; 160  : 		ploc = plocu( (fonobst + (SP_TOT_ALLOPHONES * (sontyx - 1) ) ) );

  0869e	0f bf c0	 movsx	 eax, ax
  086a1	8d 0c 80	 lea	 ecx, DWORD PTR [eax+eax*4]
  086a4	c1 e1 03	 shl	 ecx, 3
  086a7	2b c8		 sub	 ecx, eax
  086a9	8d 44 31 d9	 lea	 eax, DWORD PTR [ecx+esi-39]

; 161  : 	}
; 162  : 	else if(tmp == PFFR<<PSFONT)

  086ad	eb b9		 jmp	 SHORT $L75605
$L74381:
  086af	66 81 f9 00 19	 cmp	 cx, 6400		; 00001900H
  086b4	75 23		 jne	 SHORT $L75602

; 163  : 	{
; 164  : 		ploc = plocu( (fonobst + (FR_TOT_ALLOPHONES * (sontyx - 1) ) ) );

  086b6	0f bf c0	 movsx	 eax, ax
  086b9	8d 14 80	 lea	 edx, DWORD PTR [eax+eax*4]
  086bc	03 c6		 add	 eax, esi
  086be	8d 44 d0 d7	 lea	 eax, DWORD PTR [eax+edx*8-41]
$L75604:
  086c2	8b c8		 mov	 ecx, eax
  086c4	c1 f9 08	 sar	 ecx, 8
  086c7	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  086cc	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_plocu[ecx*4]
  086d3	66 8b 3c 42	 mov	 di, WORD PTR [edx+eax*2]
  086d7	eb 04		 jmp	 SHORT $L75595
$L75602:
  086d9	8b 7c 24 3c	 mov	 edi, DWORD PTR _ploc$[esp+40]
$L75595:

; 165  : 		//printf ("setloc  fonobst : %x, sontyx %d, ploc %d\n", 
; 166  :     	//         fonobst, sontyx, ploc);
; 167  : 	}
; 168  : 
; 169  : 	
; 170  : 	if (ploc == 0)					   /* Pointer to locus, zero means */

  086dd	66 85 ff	 test	 di, di

; 171  : 		return (0);					   /* no locus, use default calc  */

  086e0	0f 84 ae 01 00
	00		 je	 $L74368

; 172  : 	ploc = ploc + (3 * (pDphsettar->np - &PF1));	/* Table has 3 entries/formant  */

  086e6	8b 4b 10	 mov	 ecx, DWORD PTR [ebx+16]
  086e9	b8 39 8e e3 38	 mov	 eax, 954437177		; 38e38e39H
  086ee	2b cd		 sub	 ecx, ebp
  086f0	83 e9 24	 sub	 ecx, 36			; 00000024H
  086f3	f7 e9		 imul	 ecx
  086f5	c1 fa 03	 sar	 edx, 3
  086f8	8b c2		 mov	 eax, edx
  086fa	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  086fd	03 d0		 add	 edx, eax
  086ff	8d 0c 3a	 lea	 ecx, DWORD PTR [edx+edi]
  08702	8d 14 51	 lea	 edx, DWORD PTR [ecx+edx*2]

; 173  : 	locus = pDph_t->p_locus[ploc];	   /* First entry is locus freq   */

  08705	8b 8d 10 15 00
	00		 mov	 ecx, DWORD PTR [ebp+5392]
  0870b	0f bf c2	 movsx	 eax, dx

; 174  : 	prcnt = pDph_t->p_locus[ploc + 1]; /* Second entry is % toward V  */
; 175  : 	pDphsettar->durtran = mstofr(pDph_t->p_locus[ploc + 2]);	/* 3rd is tran dur in msec  */

  0870e	0f bf 54 41 04	 movsx	 edx, WORD PTR [ecx+eax*2+4]
  08713	66 8b 5c 41 02	 mov	 bx, WORD PTR [ecx+eax*2+2]
  08718	66 8b 3c 41	 mov	 di, WORD PTR [ecx+eax*2]
  0871c	52		 push	 edx
  0871d	89 5c 24 3c	 mov	 DWORD PTR _prcnt$[esp+44], ebx
  08721	e8 00 00 00 00	 call	 _mstofr
  08726	8b 4c 24 28	 mov	 ecx, DWORD PTR _pDphsettar$[esp+48]
  0872a	83 c4 04	 add	 esp, 4

; 176  : 
; 177  : #ifdef DEBGFRENCH
; 178  :     if (dbgphs) {
; 179  :       printf ("phsettar.c setloc ploc %d, locus %d, prcnt %d, pDphsettar->durtran %d\n",
; 180  :                ploc, locus, prcnt, pDphsettar->durtran);
; 181  :     }
; 182  : #endif
; 183  : 
; 184  : /* #ifdef ENGLISH 1/3/97 eab I think this should apply generally*/
; 185  : 	/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 186  : 	/* take transition reduction out for german DECtalk      */
; 187  : 	/* %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% */
; 188  : 	/* Reduce F2 and F3 transition in a sonor conson adj to nonpalatal obst */
; 189  : 	// worng! make language specific or gnerneal 
; 190  : 	if ((typso == ROUNDED_SONOR_CONS) && (pDphsettar->np > &PF1)
; 191  : 		&& ((place(fonobst) & (FPALATL | FDENTAL)) IS_MINUS))

  0872d	66 83 7c 24 1c
	05		 cmp	 WORD PTR _typso$[esp+44], 5
  08733	66 89 41 06	 mov	 WORD PTR [ecx+6], ax
  08737	75 2a		 jne	 SHORT $L74385
  08739	8d 55 24	 lea	 edx, DWORD PTR [ebp+36]
  0873c	39 51 10	 cmp	 DWORD PTR [ecx+16], edx
  0873f	76 22		 jbe	 SHORT $L74385
  08741	8b d6		 mov	 edx, esi
  08743	81 e6 ff 00 00
	00		 and	 esi, 255		; 000000ffH
  08749	c1 fa 08	 sar	 edx, 8
  0874c	8b 14 95 00 00
	00 00		 mov	 edx, DWORD PTR _all_place[edx*4]
  08753	f6 04 72 06	 test	 BYTE PTR [edx+esi*2], 6
  08757	75 0a		 jne	 SHORT $L74385

; 192  : 	{
; 193  : 		prcnt = (prcnt >> 1) + 50;

  08759	66 d1 fb	 sar	 bx, 1
  0875c	83 c3 32	 add	 ebx, 50			; 00000032H
  0875f	89 5c 24 38	 mov	 DWORD PTR _prcnt$[esp+40], ebx
$L74385:

; 194  : 	} 
; 195  : 	
; 196  : 	/* @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ */
; 197  : /*#endif*/
; 198  : 	/* Ditto for vowel/sonor with F2 assoc with back cavity, e.g. [iy] */
; 199  : 	if ((f2backaffil IS_PLUS) && (pDphsettar->np == &PF2))

  08763	66 83 7c 24 28
	00		 cmp	 WORD PTR _f2backaffil$[esp+44], 0
  08769	74 28		 je	 SHORT $L74386
  0876b	8b 71 10	 mov	 esi, DWORD PTR [ecx+16]
  0876e	8d 55 48	 lea	 edx, DWORD PTR [ebp+72]
  08771	3b f2		 cmp	 esi, edx
  08773	75 1e		 jne	 SHORT $L74386

; 200  : 	{
; 201  : 		prcnt += (25 - (prcnt >> 2));  /* Reduce trans extent by 1/4 */

  08775	66 8b d3	 mov	 dx, bx
  08778	be 19 00 00 00	 mov	 esi, 25			; 00000019H
  0877d	66 c1 fa 02	 sar	 dx, 2
  08781	2b f2		 sub	 esi, edx

; 202  : 		pDphsettar->durtran = (pDphsettar->durtran >> 1) + 2;	/* And shorten tran dur */

  08783	66 d1 f8	 sar	 ax, 1
  08786	03 de		 add	 ebx, esi
  08788	83 c0 02	 add	 eax, 2
  0878b	89 5c 24 38	 mov	 DWORD PTR _prcnt$[esp+40], ebx
  0878f	66 89 41 06	 mov	 WORD PTR [ecx+6], ax
$L74386:

; 203  : 	}
; 204  : 	/* Let bouval = locus + ((prcnt * (curval-locus)) / 100); */
; 205  : 	/* Old approximation (no divides):                       */
; 206  : 	/* delta_freq = (prcnt * (curval-locus)) >> 7;            */
; 207  : 	/* bouval = locus + delta_freq + (delta_freq >> 2);    */
; 208  : 	/* End of old approximation                              */
; 209  : 	tmp = prcnt;
; 210  : #ifdef ENGLISH_UK
; 211  : 	
; 212  : 	/*eab 11/19/97  first cut just for ch but probably should be for all plos*/
; 213  : 	if (initfinso != 'i' && fonobst == 54)
; 214  : 	{
; 215  : 		tmp = prcnt+40;
; 216  : 		if(tmp >100 )
; 217  : 			tmp=100;
; 218  : 	}
; 219  : #endif
; 220  : 
; 221  : 	//pDph_t->arg2 = curval - locus;
; 222  : 	//pDph_t->arg3 = 100;
; 223  : 	delta_freq = muldv (tmp, (curval - locus), 100);
; 224  :   	pDphsettar->bouval = locus + delta_freq;

  08793	0f bf 4c 24 18	 movsx	 ecx, WORD PTR _curval$[esp+44]
  08798	0f bf 44 24 38	 movsx	 eax, WORD PTR _prcnt$[esp+40]
  0879d	0f bf df	 movsx	 ebx, di
  087a0	2b cb		 sub	 ecx, ebx
  087a2	89 44 24 38	 mov	 DWORD PTR 16+[esp+40], eax
  087a6	0f af c8	 imul	 ecx, eax
  087a9	b8 1f 85 eb 51	 mov	 eax, 1374389535		; 51eb851fH
  087ae	8b 74 24 24	 mov	 esi, DWORD PTR _pDphsettar$[esp+44]
  087b2	f7 e9		 imul	 ecx
  087b4	c1 fa 05	 sar	 edx, 5
  087b7	8b c2		 mov	 eax, edx
  087b9	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  087bc	03 d0		 add	 edx, eax

; 225  : 
; 226  : #ifdef DEBUG_TARGETS
; 227  :     printf ("locus %d delta_freq %d \n", locus, delta_freq);
; 228  :     printf ("pDphsettar->bouval %d \n", pDphsettar->bouval);
; 229  : #endif
; 230  : 
; 231  : /* V-V coarticulation across an obst consonant: */
; 232  : #ifndef FRENCH
; 233  : 	if (((phone_feature( pDph_t,fonsonor) & FVOWEL) IS_PLUS)
; 234  : 		&& ((phone_feature( pDph_t,fonvowel) & FVOWEL) IS_PLUS)
; 235  : 		&& (pDphsettar->np == &PF2))

  087be	0f bf 44 24 14	 movsx	 eax, WORD PTR _fonsonor$[esp+44]
  087c3	03 d7		 add	 edx, edi
  087c5	50		 push	 eax
  087c6	55		 push	 ebp
  087c7	66 89 16	 mov	 WORD PTR [esi], dx
  087ca	e8 00 00 00 00	 call	 _phone_feature
  087cf	83 c4 08	 add	 esp, 8
  087d2	a8 04		 test	 al, 4
  087d4	0f 84 ae 00 00
	00		 je	 $L74387
  087da	0f bf 4c 24 20	 movsx	 ecx, WORD PTR _fonvowel$[esp+44]
  087df	51		 push	 ecx
  087e0	55		 push	 ebp
  087e1	e8 00 00 00 00	 call	 _phone_feature
  087e6	83 c4 08	 add	 esp, 8
  087e9	a8 04		 test	 al, 4
  087eb	0f 84 97 00 00
	00		 je	 $L74387
  087f1	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  087f4	8d 55 48	 lea	 edx, DWORD PTR [ebp+72]
  087f7	3b c2		 cmp	 eax, edx
  087f9	0f 85 89 00 00
	00		 jne	 $L74387

; 236  : #endif
; 237  : #ifdef FRENCH
; 238  : 	if (((phone_feature( pDph_t, fonsonor) & TVoyelle) IS_PLUS)
; 239  : 		&& ((phone_feature( pDph_t, fonvowel) & TVoyelle) IS_PLUS)
; 240  : 		&& (pDphsettar->np == &PF2))
; 241  : #endif
; 242  : {
; 243  : 		/* Find target values for both vowels */
; 244  : 		if (initfinso == 'i')

  087ff	80 7c 24 3c 69	 cmp	 BYTE PTR _initfinso$[esp+40], 105 ; 00000069H
  08804	75 12		 jne	 SHORT $L74388

; 245  : 		{
; 246  : 			tarvowel = getendtar (phTTS, nfonvowel);

  08806	0f bf 44 24 40	 movsx	 eax, WORD PTR _nfonvowel$[esp+40]
  0880b	8b 4c 24 30	 mov	 ecx, DWORD PTR _phTTS$[esp+40]
  0880f	50		 push	 eax
  08810	51		 push	 ecx
  08811	e8 00 00 00 00	 call	 _getendtar

; 247  : 		}
; 248  : 		else

  08816	eb 10		 jmp	 SHORT $L75606
$L74388:

; 249  : 		{
; 250  : 			tarvowel = getbegtar (phTTS, nfonvowel);

  08818	0f bf 54 24 40	 movsx	 edx, WORD PTR _nfonvowel$[esp+40]
  0881d	8b 44 24 30	 mov	 eax, DWORD PTR _phTTS$[esp+40]
  08821	52		 push	 edx
  08822	50		 push	 eax
  08823	e8 00 00 00 00	 call	 _getbegtar
$L75606:

; 251  : 		}
; 252  : 		/* Set vvbouval, the offset to boundary value due to the remote vowel */
; 253  : 		vv_coartic_across_c (pDph_t, fonvowel, tarvowel, fonsonor, curval,
; 254  : 							 fonobst, pDph_t->allodurs[nfonobst]);

  08828	0f bf 4c 24 3c	 movsx	 ecx, WORD PTR _nfonobst$[esp+48]
  0882d	83 c4 08	 add	 esp, 8
  08830	66 8b 94 4d 9c
	0d 00 00	 mov	 dx, WORD PTR [ebp+ecx*2+3484]
  08838	8b 4c 24 10	 mov	 ecx, DWORD PTR _fonobst$[esp+44]
  0883c	52		 push	 edx
  0883d	8b 54 24 1c	 mov	 edx, DWORD PTR _curval$[esp+48]
  08841	51		 push	 ecx
  08842	8b 4c 24 1c	 mov	 ecx, DWORD PTR _fonsonor$[esp+52]
  08846	52		 push	 edx
  08847	8b 54 24 2c	 mov	 edx, DWORD PTR _fonvowel$[esp+56]
  0884b	51		 push	 ecx
  0884c	50		 push	 eax
  0884d	52		 push	 edx
  0884e	55		 push	 ebp
  0884f	e8 00 00 00 00	 call	 _vv_coartic_across_c

; 255  : 		/* Now recompute boundary value taking into account this offset */
; 256  : 		curval += pDphsettar->vvbouval;

  08854	66 8b 76 04	 mov	 si, WORD PTR [esi+4]
  08858	8b 44 24 34	 mov	 eax, DWORD PTR _curval$[esp+72]
  0885c	83 c4 1c	 add	 esp, 28			; 0000001cH
  0885f	8d 0c 06	 lea	 ecx, DWORD PTR [esi+eax]

; 257  : 		//pDph_t->arg1 = prcnt;
; 258  : 		//pDph_t->arg2 = curval - locus;
; 259  : 		//pDph_t->arg3 = 100;
; 260  : 		delta_freq = muldv (prcnt, (curval - locus), 100);

  08862	b8 1f 85 eb 51	 mov	 eax, 1374389535		; 51eb851fH

; 261  : 		pDphsettar->bouval = locus + delta_freq;
; 262  : 		pDphsettar->bouval -= pDphsettar->vvbouval;		/* pDphsettar->vvbouval will be added in phdraw */

  08867	0f bf c9	 movsx	 ecx, cx
  0886a	2b cb		 sub	 ecx, ebx
  0886c	0f af 4c 24 38	 imul	 ecx, DWORD PTR 16+[esp+40]
  08871	f7 e9		 imul	 ecx
  08873	c1 fa 05	 sar	 edx, 5
  08876	8b 4c 24 24	 mov	 ecx, DWORD PTR _pDphsettar$[esp+44]
  0887a	8b c2		 mov	 eax, edx
  0887c	c1 e8 1f	 shr	 eax, 31			; 0000001fH
  0887f	03 d0		 add	 edx, eax
  08881	2b d6		 sub	 edx, esi
  08883	03 d7		 add	 edx, edi
  08885	66 89 11	 mov	 WORD PTR [ecx], dx
$L74387:
  08888	5f		 pop	 edi
  08889	5e		 pop	 esi
  0888a	5d		 pop	 ebp

; 263  : 	}
; 264  : 
; 265  : #ifdef DEBUG_TARGETS
; 266  : 	printf ("\t\t\t      (vtar = %4d  locus[%d] = %4d Hz  prcnt = %3d)\n",
; 267  : 			curval, ploc, locus, pDph_t->p_locus[ploc + 1]);
; 268  : #endif
; 269  : 	
; 270  : 	return (1);						   /* Indicate success */

  0888b	66 b8 01 00	 mov	 ax, 1
  0888f	5b		 pop	 ebx

; 271  : }

  08890	83 c4 1c	 add	 esp, 28			; 0000001cH
  08893	c3		 ret	 0
$L74368:
  08894	5f		 pop	 edi
  08895	5e		 pop	 esi
  08896	5d		 pop	 ebp

; 101  : 	{
; 102  : 		return (0);					   /* Not obstruent-sonorant tran, as assumed */

  08897	66 33 c0	 xor	 ax, ax
  0889a	5b		 pop	 ebx

; 271  : }

  0889b	83 c4 1c	 add	 esp, 28			; 0000001cH
  0889e	c3		 ret	 0
_setloc	ENDP
_pDph_t$ = 8
_remotetar$ = 16
_currenttar$ = 24
_dur_cons$ = 32
_vv_coartic_across_c PROC NEAR

; 301  : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;

  088a0	8b 44 24 04	 mov	 eax, DWORD PTR _pDph_t$[esp-4]

; 302  : 
; 303  : 	if (dur_cons > NF100MS)

  088a4	66 8b 54 24 1c	 mov	 dx, WORD PTR _dur_cons$[esp-4]
  088a9	56		 push	 esi
  088aa	66 83 fa 10	 cmp	 dx, 16			; 00000010H
  088ae	8b b0 10 2c 00
	00		 mov	 esi, DWORD PTR [eax+11280]
  088b4	7e 0c		 jle	 SHORT $L74406

; 304  : 	{
; 305  : 		pDphsettar->vvbouval = 0;

  088b6	33 c0		 xor	 eax, eax
  088b8	66 89 46 04	 mov	 WORD PTR [esi+4], ax

; 306  : 		pDphsettar->vvdurtran = 0;

  088bc	66 89 46 08	 mov	 WORD PTR [esi+8], ax
  088c0	5e		 pop	 esi

; 314  : 	}
; 315  : 
; 316  : #ifdef DEBUG_TARGETS
; 317  : 	printf ("\t -> BV=%d TC=%d\n", pDphsettar->vvbouval, pDphsettar->vvdurtran);
; 318  : #endif
; 319  : }

  088c1	c3		 ret	 0
$L74406:

; 307  : 	}
; 308  : 	else
; 309  : 	{
; 310  : 		//pDph_t->arg1 = (remotetar - currenttar) * (NF100MS - dur_cons);
; 311  : 		//pDph_t->arg2 = 460;			   /* 45% of pDph_t->arg1, also divided by 16 frames */
; 312  : 		pDphsettar->vvbouval = mlsh1 (((remotetar - currenttar) * (NF100MS - dur_cons)), 460);

  088c2	0f bf 44 24 10	 movsx	 eax, WORD PTR _remotetar$[esp]
  088c7	0f bf 4c 24 18	 movsx	 ecx, WORD PTR _currenttar$[esp]
  088cc	2b c1		 sub	 eax, ecx
  088ce	57		 push	 edi
  088cf	0f bf ca	 movsx	 ecx, dx
  088d2	bf 10 00 00 00	 mov	 edi, 16			; 00000010H
  088d7	2b f9		 sub	 edi, ecx
  088d9	0f af c7	 imul	 eax, edi

; 313  : 		pDphsettar->vvdurtran = NF80MS - (dur_cons >> 2);

  088dc	66 c1 fa 02	 sar	 dx, 2
  088e0	8d 0c 40	 lea	 ecx, DWORD PTR [eax+eax*2]
  088e3	5f		 pop	 edi
  088e4	c1 e1 03	 shl	 ecx, 3
  088e7	2b c8		 sub	 ecx, eax
  088e9	8d 04 89	 lea	 eax, DWORD PTR [ecx+ecx*4]
  088ec	b9 0d 00 00 00	 mov	 ecx, 13			; 0000000dH
  088f1	c1 e0 02	 shl	 eax, 2
  088f4	c1 f8 0e	 sar	 eax, 14			; 0000000eH
  088f7	2b ca		 sub	 ecx, edx
  088f9	66 89 46 04	 mov	 WORD PTR [esi+4], ax
  088fd	66 89 4e 08	 mov	 WORD PTR [esi+8], cx
  08901	5e		 pop	 esi

; 314  : 	}
; 315  : 
; 316  : #ifdef DEBUG_TARGETS
; 317  : 	printf ("\t -> BV=%d TC=%d\n", pDphsettar->vvbouval, pDphsettar->vvdurtran);
; 318  : #endif
; 319  : }

  08902	c3		 ret	 0
_vv_coartic_across_c ENDP
_phTTS$ = 8
_nfone$ = 12
_getbegtar PROC NEAR

; 1247 : 	short                   temp, tmp;
; 1248 : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  08910	8b 4c 24 04	 mov	 ecx, DWORD PTR _phTTS$[esp-4]
  08914	53		 push	 ebx

; 1249 : 	PKSD_T                  pKsd_t = phTTS->pKernelShareData;
; 1250 : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;
; 1251 : 
; 1252 : 	temp = gettar (phTTS, nfone);

  08915	8b 5c 24 0c	 mov	 ebx, DWORD PTR _nfone$[esp]
  08919	55		 push	 ebp
  0891a	56		 push	 esi
  0891b	57		 push	 edi
  0891c	8b 79 18	 mov	 edi, DWORD PTR [ecx+24]
  0891f	85 db		 test	 ebx, ebx
  08921	8b af 10 2c 00
	00		 mov	 ebp, DWORD PTR [edi+11280]
  08927	7c 15		 jl	 SHORT $L75609
  08929	0f bf 87 06 15
	00 00		 movsx	 eax, WORD PTR [edi+5382]
  08930	3b d8		 cmp	 ebx, eax
  08932	7d 0a		 jge	 SHORT $L75609
  08934	0f bf 84 5f ec
	03 00 00	 movsx	 eax, WORD PTR [edi+ebx*2+1004]
  0893c	eb 05		 jmp	 SHORT $L75610
$L75609:
  0893e	b8 00 1e 00 00	 mov	 eax, 7680		; 00001e00H
$L75610:
  08943	c1 f8 08	 sar	 eax, 8
  08946	53		 push	 ebx
  08947	51		 push	 ecx
  08948	ff 14 85 00 00
	00 00		 call	 DWORD PTR _all_gettar[eax*4]
  0894f	83 c4 08	 add	 esp, 8

; 1253 : 		
; 1254 : 	if (temp < -1)

  08952	66 3d ff ff	 cmp	 ax, -1
  08956	0f 8d 89 00 00
	00		 jge	 $L74531

; 1255 : 	{          
; 1256 : 		/* If next seg diphthong, */
; 1257 : 		temp = pDph_t->p_diph[-temp];  /* use diph first value  */

  0895c	8b 97 14 15 00
	00		 mov	 edx, DWORD PTR [edi+5396]
  08962	0f bf c8	 movsx	 ecx, ax

; 1258 : 		/* Special coarticulation rules to change (vowel) target */
; 1259 : 		if (pDphsettar->par_type IS_FORM_FREQ)

  08965	8a 45 14	 mov	 al, BYTE PTR [ebp+20]
  08968	d1 e1		 shl	 ecx, 1
  0896a	2b d1		 sub	 edx, ecx
  0896c	3c 03		 cmp	 al, 3
  0896e	66 8b 32	 mov	 si, WORD PTR [edx]
  08971	75 6f		 jne	 SHORT $L75613

; 1260 : 		{
; 1261 : 			//old code replace by below temp += special_coartic (pDph_t, nfone, 0);
; 1262 : 			tmp = get_phone(pDph_t,nfone);
; 1263 : 			tmp = nfone & PFONT;

  08973	8b c3		 mov	 eax, ebx
  08975	25 00 1f 00 00	 and	 eax, 7936		; 00001f00H

; 1264 : 			if(tmp == PFUSA<<PSFONT)

  0897a	66 3d 00 1e	 cmp	 ax, 7680		; 00001e00H
  0897e	75 16		 jne	 SHORT $L74522

; 1265 : 			{
; 1266 : 				temp += us_special_coartic (pDph_t,(short)nfone, 0);

  08980	6a 00		 push	 0
  08982	53		 push	 ebx
  08983	57		 push	 edi
  08984	e8 00 00 00 00	 call	 _us_special_coartic

; 1277 : 			{
; 1278 : 				temp += sp_special_coartic (pDph_t, (short)nfone, 0);

  08989	83 c4 0c	 add	 esp, 12			; 0000000cH
  0898c	03 f0		 add	 esi, eax

; 1279 : 			}
; 1280 : 			else if(tmp == PFFR<<PSFONT)
; 1281 : 			{
; 1282 : 				//temp += fr_special_coartic (pDph_t, nfone, 0);
; 1283 : 			//when we have french change to fr_
; 1284 : 			}
; 1285 : 		}
; 1286 : 	}
; 1287 : 	return (temp);

  0898e	66 8b c6	 mov	 ax, si
  08991	5f		 pop	 edi
  08992	5e		 pop	 esi
  08993	5d		 pop	 ebp
  08994	5b		 pop	 ebx

; 1288 : }

  08995	c3		 ret	 0
$L74522:

; 1267 : 			}
; 1268 : 			else if(tmp == PFGR<<PSFONT)

  08996	66 3d 00 1c	 cmp	 ax, 7168		; 00001c00H
  0899a	75 16		 jne	 SHORT $L74525

; 1269 : 			{	
; 1270 : 				temp += gr_special_coartic (pDph_t, (short)nfone, 0);

  0899c	6a 00		 push	 0
  0899e	53		 push	 ebx
  0899f	57		 push	 edi
  089a0	e8 00 00 00 00	 call	 _gr_special_coartic

; 1277 : 			{
; 1278 : 				temp += sp_special_coartic (pDph_t, (short)nfone, 0);

  089a5	83 c4 0c	 add	 esp, 12			; 0000000cH
  089a8	03 f0		 add	 esi, eax

; 1279 : 			}
; 1280 : 			else if(tmp == PFFR<<PSFONT)
; 1281 : 			{
; 1282 : 				//temp += fr_special_coartic (pDph_t, nfone, 0);
; 1283 : 			//when we have french change to fr_
; 1284 : 			}
; 1285 : 		}
; 1286 : 	}
; 1287 : 	return (temp);

  089aa	66 8b c6	 mov	 ax, si
  089ad	5f		 pop	 edi
  089ae	5e		 pop	 esi
  089af	5d		 pop	 ebp
  089b0	5b		 pop	 ebx

; 1288 : }

  089b1	c3		 ret	 0
$L74525:

; 1271 : 			}
; 1272 : 			else if(tmp == PFLA<<PSFONT)

  089b2	66 3d 00 1a	 cmp	 ax, 6656		; 00001a00H
  089b6	75 16		 jne	 SHORT $L74528

; 1273 : 			{
; 1274 : 				temp += la_special_coartic (pDph_t, (short)nfone, 0);

  089b8	6a 00		 push	 0
  089ba	53		 push	 ebx
  089bb	57		 push	 edi
  089bc	e8 00 00 00 00	 call	 _la_special_coartic

; 1277 : 			{
; 1278 : 				temp += sp_special_coartic (pDph_t, (short)nfone, 0);

  089c1	83 c4 0c	 add	 esp, 12			; 0000000cH
  089c4	03 f0		 add	 esi, eax

; 1279 : 			}
; 1280 : 			else if(tmp == PFFR<<PSFONT)
; 1281 : 			{
; 1282 : 				//temp += fr_special_coartic (pDph_t, nfone, 0);
; 1283 : 			//when we have french change to fr_
; 1284 : 			}
; 1285 : 		}
; 1286 : 	}
; 1287 : 	return (temp);

  089c6	66 8b c6	 mov	 ax, si
  089c9	5f		 pop	 edi
  089ca	5e		 pop	 esi
  089cb	5d		 pop	 ebp
  089cc	5b		 pop	 ebx

; 1288 : }

  089cd	c3		 ret	 0
$L74528:

; 1275 : 			}
; 1276 : 			else if(tmp == PFSP<<PSFONT)

  089ce	66 3d 00 1b	 cmp	 ax, 6912		; 00001b00H
  089d2	75 0e		 jne	 SHORT $L75613

; 1277 : 			{
; 1278 : 				temp += sp_special_coartic (pDph_t, (short)nfone, 0);

  089d4	6a 00		 push	 0
  089d6	53		 push	 ebx
  089d7	57		 push	 edi
  089d8	e8 00 00 00 00	 call	 _sp_special_coartic
  089dd	83 c4 0c	 add	 esp, 12			; 0000000cH
  089e0	03 f0		 add	 esi, eax
$L75613:

; 1279 : 			}
; 1280 : 			else if(tmp == PFFR<<PSFONT)
; 1281 : 			{
; 1282 : 				//temp += fr_special_coartic (pDph_t, nfone, 0);
; 1283 : 			//when we have french change to fr_
; 1284 : 			}
; 1285 : 		}
; 1286 : 	}
; 1287 : 	return (temp);

  089e2	66 8b c6	 mov	 ax, si
$L74531:
  089e5	5f		 pop	 edi
  089e6	5e		 pop	 esi
  089e7	5d		 pop	 ebp
  089e8	5b		 pop	 ebx

; 1288 : }

  089e9	c3		 ret	 0
_getbegtar ENDP
_pDph_t$ = 8
_nfon$ = 12
_diphpos$ = 16
_temp$ = -4
_us_special_coartic PROC NEAR

; 349  : {

  089f0	51		 push	 ecx

; 350  : 	/* Note: Gen coartic of 5% with adjacent segs elsewhere, so stuff here is big */
; 351  : 	/* This routine is only called if the current segment is diph (i.e. a vowel) */
; 352  : 
; 353  : 	short                   temp, fonnex, foncur, fonlas;
; 354  : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;

  089f1	8b 4c 24 08	 mov	 ecx, DWORD PTR _pDph_t$[esp]

; 355  : 	extern short us_place[];
; 356  : 	temp = 0;
; 357  : 	foncur = get_phone(pDph_t, nfon);

  089f5	66 8b 44 24 0c	 mov	 ax, WORD PTR _nfon$[esp]
  089fa	53		 push	 ebx
  089fb	55		 push	 ebp
  089fc	8b 99 10 2c 00
	00		 mov	 ebx, DWORD PTR [ecx+11280]
  08a02	56		 push	 esi
  08a03	66 85 c0	 test	 ax, ax
  08a06	57		 push	 edi
  08a07	c7 44 24 10 00
	00 00 00	 mov	 DWORD PTR _temp$[esp+20], 0
  08a0f	7c 16		 jl	 SHORT $L75618
  08a11	66 3b 81 06 15
	00 00		 cmp	 ax, WORD PTR [ecx+5382]
  08a18	7d 0d		 jge	 SHORT $L75618
  08a1a	0f bf d0	 movsx	 edx, ax
  08a1d	66 8b b4 51 ec
	03 00 00	 mov	 si, WORD PTR [ecx+edx*2+1004]
  08a25	eb 05		 jmp	 SHORT $L75619
$L75618:
  08a27	be 00 1e 00 00	 mov	 esi, 7680		; 00001e00H
$L75619:

; 358  : 	fonnex = get_phone(pDph_t, nfon + 1);

  08a2c	0f bf d0	 movsx	 edx, ax
  08a2f	89 54 24 1c	 mov	 DWORD PTR 12+[esp+16], edx
  08a33	8d 42 01	 lea	 eax, DWORD PTR [edx+1]
  08a36	85 c0		 test	 eax, eax
  08a38	7c 15		 jl	 SHORT $L75620
  08a3a	0f bf b9 06 15
	00 00		 movsx	 edi, WORD PTR [ecx+5382]
  08a41	3b c7		 cmp	 eax, edi
  08a43	7d 0a		 jge	 SHORT $L75620
  08a45	66 8b ac 51 ee
	03 00 00	 mov	 bp, WORD PTR [ecx+edx*2+1006]
  08a4d	eb 05		 jmp	 SHORT $L75621
$L75620:
  08a4f	bd 00 1e 00 00	 mov	 ebp, 7680		; 00001e00H
$L75621:

; 359  : 	fonlas = get_phone(pDph_t, nfon - 1);

  08a54	8d 42 ff	 lea	 eax, DWORD PTR [edx-1]
  08a57	85 c0		 test	 eax, eax
  08a59	7c 15		 jl	 SHORT $L75622
  08a5b	0f bf b9 06 15
	00 00		 movsx	 edi, WORD PTR [ecx+5382]
  08a62	3b c7		 cmp	 eax, edi
  08a64	7d 0a		 jge	 SHORT $L75622
  08a66	66 8b bc 51 ea
	03 00 00	 mov	 di, WORD PTR [ecx+edx*2+1002]
  08a6e	eb 05		 jmp	 SHORT $L75623
$L75622:
  08a70	bf 00 1e 00 00	 mov	 edi, 7680		; 00001e00H
$L75623:

; 360  : 
; 361  : 	/* F3 target of selected vowels */
; 362  : 	if (pDphsettar->np == &PF3)

  08a75	8d 41 6c	 lea	 eax, DWORD PTR [ecx+108]
  08a78	39 43 10	 cmp	 DWORD PTR [ebx+16], eax
  08a7b	75 52		 jne	 SHORT $L71986

; 363  : 	{
; 364  : 		if (((phone_feature( pDph_t,foncur) & FVOWEL) IS_PLUS) && (foncur != USP_RR))

  08a7d	0f bf d6	 movsx	 edx, si
  08a80	52		 push	 edx
  08a81	51		 push	 ecx
  08a82	e8 00 00 00 00	 call	 _phone_feature
  08a87	83 c4 08	 add	 esp, 8
  08a8a	a8 04		 test	 al, 4
  08a8c	74 39		 je	 SHORT $L75628
  08a8e	66 81 fe 0f 1e	 cmp	 si, 7695		; 00001e0fH
  08a93	74 32		 je	 SHORT $L75628

; 365  : 		{
; 366  : 			if (((fonlas == USP_W) || (fonlas == USP_R) || (fonlas == USP_RX))
; 367  : 				|| ((fonnex == USP_W) || (fonnex == USP_R) || (fonnex == USP_RX)))

  08a95	66 81 ff 18 1e	 cmp	 di, 7704		; 00001e18H
  08a9a	74 23		 je	 SHORT $L71988
  08a9c	66 81 ff 1a 1e	 cmp	 di, 7706		; 00001e1aH
  08aa1	74 1c		 je	 SHORT $L71988
  08aa3	66 81 ff 1d 1e	 cmp	 di, 7709		; 00001e1dH
  08aa8	74 15		 je	 SHORT $L71988
  08aaa	66 81 fd 18 1e	 cmp	 bp, 7704		; 00001e18H
  08aaf	74 0e		 je	 SHORT $L71988
  08ab1	66 81 fd 1a 1e	 cmp	 bp, 7706		; 00001e1aH
  08ab6	74 07		 je	 SHORT $L71988
  08ab8	66 81 fd 1d 1e	 cmp	 bp, 7709		; 00001e1dH
  08abd	75 08		 jne	 SHORT $L75628
$L71988:

; 368  : 			{
; 369  : 				temp = -150;

  08abf	c7 44 24 10 6a
	ff ff ff	 mov	 DWORD PTR _temp$[esp+20], -150 ; ffffff6aH
$L75628:
  08ac7	8b 4c 24 18	 mov	 ecx, DWORD PTR _pDph_t$[esp+16]
  08acb	8b 54 24 1c	 mov	 edx, DWORD PTR 12+[esp+16]
$L71986:

; 370  : 			}
; 371  : 		}
; 372  : 	}
; 373  : 	/* F2 target of selected vowels */
; 374  : 	if (pDphsettar->np == &PF2)

  08acf	8d 41 48	 lea	 eax, DWORD PTR [ecx+72]
  08ad2	39 43 10	 cmp	 DWORD PTR [ebx+16], eax
  08ad5	0f 85 56 01 00
	00		 jne	 $L75626

; 375  : 	{
; 376  : 		/* Front vowel F2 target lowered before [LX] */
; 377  : 		if (fonnex == USP_LX)

  08adb	66 8b 5c 24 20	 mov	 bx, WORD PTR _diphpos$[esp+16]
  08ae0	66 81 fd 1e 1e	 cmp	 bp, 7710		; 00001e1eH
  08ae5	75 55		 jne	 SHORT $L71996

; 378  : 		{
; 379  : 			if (((foncur >= USP_IY) && (foncur <= USP_AE)) || (foncur == USP_IX))

  08ae7	66 81 fe 01 1e	 cmp	 si, 7681		; 00001e01H
  08aec	7c 07		 jl	 SHORT $L71993
  08aee	66 81 fe 05 1e	 cmp	 si, 7685		; 00001e05H
  08af3	7e 07		 jle	 SHORT $L71992
$L71993:
  08af5	66 81 fe 12 1e	 cmp	 si, 7698		; 00001e12H
  08afa	75 08		 jne	 SHORT $L71991
$L71992:

; 380  : 			{
; 381  : 				temp = -150;

  08afc	c7 44 24 10 6a
	ff ff ff	 mov	 DWORD PTR _temp$[esp+20], -150 ; ffffff6aH
$L71991:

; 382  : 			}
; 383  : 			if (((foncur == USP_AY) || (foncur == USP_OY))
; 384  : 				&& (diphpos == 1))

  08b04	66 81 fe 07 1e	 cmp	 si, 7687		; 00001e07H
  08b09	74 07		 je	 SHORT $L71995
  08b0b	66 81 fe 0c 1e	 cmp	 si, 7692		; 00001e0cH
  08b10	75 0e		 jne	 SHORT $L71994
$L71995:
  08b12	66 83 fb 01	 cmp	 bx, 1
  08b16	75 08		 jne	 SHORT $L71994

; 385  : 			{
; 386  : 				temp = -250;

  08b18	c7 44 24 10 06
	ff ff ff	 mov	 DWORD PTR _temp$[esp+20], -250 ; ffffff06H
$L71994:

; 387  : 			}
; 388  : 			if (((foncur == USP_AY) || (foncur == USP_OY))
; 389  : 				&& (diphpos > 1))

  08b20	66 81 fe 07 1e	 cmp	 si, 7687		; 00001e07H
  08b25	74 07		 je	 SHORT $L71997
  08b27	66 81 fe 0c 1e	 cmp	 si, 7692		; 00001e0cH
  08b2c	75 0e		 jne	 SHORT $L71996
$L71997:
  08b2e	66 83 fb 01	 cmp	 bx, 1
  08b32	7e 08		 jle	 SHORT $L71996

; 390  : 			{
; 391  : 				temp = -350;

  08b34	c7 44 24 10 a2
	fe ff ff	 mov	 DWORD PTR _temp$[esp+20], -350 ; fffffea2H
$L71996:

; 392  : 
; 393  : 			}
; 394  : 		}
; 395  : 		/* Front vowel F2 target lowered after [W], [L] (DO ALSO FOR F3 of [W] */
; 396  : 		if ((fonlas == USP_W) || (fonlas == USP_LL) || (fonlas == USP_LX))

  08b3c	66 81 ff 18 1e	 cmp	 di, 7704		; 00001e18H
  08b41	74 0e		 je	 SHORT $L71999
  08b43	66 81 ff 1b 1e	 cmp	 di, 7707		; 00001e1bH
  08b48	74 07		 je	 SHORT $L71999
  08b4a	66 81 ff 1e 1e	 cmp	 di, 7710		; 00001e1eH
  08b4f	75 1d		 jne	 SHORT $L72000
$L71999:

; 397  : 		{
; 398  : 			if (((foncur >= USP_IY) && (foncur <= USP_AE)) || (foncur == USP_IX))

  08b51	66 81 fe 01 1e	 cmp	 si, 7681		; 00001e01H
  08b56	7c 07		 jl	 SHORT $L72002
  08b58	66 81 fe 05 1e	 cmp	 si, 7685		; 00001e05H
  08b5d	7e 07		 jle	 SHORT $L72001
$L72002:
  08b5f	66 81 fe 12 1e	 cmp	 si, 7698		; 00001e12H
  08b64	75 08		 jne	 SHORT $L72000
$L72001:

; 399  : 			{
; 400  : 				temp = -150;		   /* las and nex effects not cumulative */

  08b66	c7 44 24 10 6a
	ff ff ff	 mov	 DWORD PTR _temp$[esp+20], -150 ; ffffff6aH
$L72000:

; 401  : 			}
; 402  : 		}
; 403  : 		/* [UW] F2 target raised adjacent to an alveolar */
; 404  : 		if (foncur == USP_UW)

  08b6e	66 81 fe 0e 1e	 cmp	 si, 7694		; 00001e0eH
  08b73	b0 08		 mov	 al, 8
  08b75	75 19		 jne	 SHORT $L75624

; 405  : 		{
; 406  : 			if ((us_place[fonlas & PVALUE] & FALVEL) IS_PLUS)

  08b77	81 e7 ff 00 00
	00		 and	 edi, 255		; 000000ffH
  08b7d	84 04 7d 00 00
	00 00		 test	 BYTE PTR _us_place[edi*2], al
  08b84	74 16		 je	 SHORT $L72006

; 407  : 			{
; 408  : 				temp = 200;

  08b86	c7 44 24 10 c8
	00 00 00	 mov	 DWORD PTR _temp$[esp+20], 200 ; 000000c8H

; 409  : 			}
; 410  : 		}
; 411  : 		if ((foncur == USP_UW)
; 412  : 			|| ((foncur == USP_YU) && (diphpos > 0)))

  08b8e	eb 0c		 jmp	 SHORT $L72006
$L75624:
  08b90	66 81 fe 10 1e	 cmp	 si, 7696		; 00001e10H
  08b95	75 1c		 jne	 SHORT $L72007
  08b97	66 85 db	 test	 bx, bx
  08b9a	7e 17		 jle	 SHORT $L72007
$L72006:

; 413  : 		{
; 414  : 			if ((us_place[fonnex  & PVALUE] & FALVEL) IS_PLUS)

  08b9c	81 e5 ff 00 00
	00		 and	 ebp, 255		; 000000ffH
  08ba2	84 04 6d 00 00
	00 00		 test	 BYTE PTR _us_place[ebp*2], al
  08ba9	74 08		 je	 SHORT $L72007

; 415  : 			{
; 416  : 				temp += 200;

  08bab	81 44 24 10 c8
	00 00 00	 add	 DWORD PTR _temp$[esp+20], 200 ; 000000c8H
$L72007:

; 417  : 			}
; 418  : 		}
; 419  : 		/* Effects are greater for unstressed vowels */
; 420  : 		if ((pDph_t->allofeats[nfon] & FSTRESS) IS_MINUS)

  08bb3	8b 84 91 58 06
	00 00		 mov	 eax, DWORD PTR [ecx+edx*4+1624]
  08bba	a8 03		 test	 al, 3
  08bbc	75 31		 jne	 SHORT $L72008

; 421  : 		{
; 422  : 			temp += (temp >> 1);

  08bbe	66 8b 4c 24 10	 mov	 cx, WORD PTR _temp$[esp+20]
  08bc3	8b 54 24 10	 mov	 edx, DWORD PTR _temp$[esp+20]
  08bc7	66 d1 f9	 sar	 cx, 1
  08bca	03 d1		 add	 edx, ecx

; 423  : 
; 424  : 			/* Unstressed YU has a fronted U part */
; 425  : 			if ((foncur == USP_YU) && (diphpos > 0))

  08bcc	66 81 fe 10 1e	 cmp	 si, 7696		; 00001e10H
  08bd1	89 54 24 10	 mov	 DWORD PTR _temp$[esp+20], edx
  08bd5	75 2e		 jne	 SHORT $L75627
  08bd7	66 85 db	 test	 bx, bx
  08bda	7e 29		 jle	 SHORT $L75627
  08bdc	5f		 pop	 edi

; 426  : 			{
; 427  : 				temp = 400;

  08bdd	c7 44 24 0c 90
	01 00 00	 mov	 DWORD PTR _temp$[esp+16], 400 ; 00000190H

; 440  : 	}
; 441  : 
; 442  : 	return (temp);

  08be5	66 8b 44 24 0c	 mov	 ax, WORD PTR _temp$[esp+16]
  08bea	5e		 pop	 esi
  08beb	5d		 pop	 ebp
  08bec	5b		 pop	 ebx

; 443  : }

  08bed	59		 pop	 ecx
  08bee	c3		 ret	 0
$L72008:

; 428  : 			}
; 429  : 		}
; 430  : 		/* Reduce effects for phrase-final stressed vowels */
; 431  : 		else if ((pDph_t->allofeats[nfon] & FBOUNDARY) >= FVPNEXT)

  08bef	25 e0 01 00 00	 and	 eax, 480		; 000001e0H
  08bf4	3d a0 00 00 00	 cmp	 eax, 160		; 000000a0H
  08bf9	72 0a		 jb	 SHORT $L75627

; 432  : 		{
; 433  : 			temp = temp >> 1;

  08bfb	66 8b 44 24 10	 mov	 ax, WORD PTR _temp$[esp+20]
  08c00	66 d1 f8	 sar	 ax, 1
  08c03	eb 05		 jmp	 SHORT $L72011
$L75627:
  08c05	66 8b 44 24 10	 mov	 ax, WORD PTR _temp$[esp+20]
$L72011:

; 434  : 		}
; 435  : 		/* Maximum change should not be excessive */
; 436  : 		if (temp > 400)

  08c0a	66 3d 90 01	 cmp	 ax, 400			; 00000190H
  08c0e	7e 13		 jle	 SHORT $L72012
  08c10	5f		 pop	 edi

; 437  : 			temp = 400;

  08c11	c7 44 24 0c 90
	01 00 00	 mov	 DWORD PTR _temp$[esp+16], 400 ; 00000190H

; 440  : 	}
; 441  : 
; 442  : 	return (temp);

  08c19	66 8b 44 24 0c	 mov	 ax, WORD PTR _temp$[esp+16]
  08c1e	5e		 pop	 esi
  08c1f	5d		 pop	 ebp
  08c20	5b		 pop	 ebx

; 443  : }

  08c21	59		 pop	 ecx
  08c22	c3		 ret	 0
$L72012:

; 438  : 		if (temp < -400)

  08c23	66 3d 70 fe	 cmp	 ax, -400		; fffffe70H
  08c27	7d 0d		 jge	 SHORT $L72013

; 439  : 			temp = -400;

  08c29	c7 44 24 10 70
	fe ff ff	 mov	 DWORD PTR _temp$[esp+20], -400 ; fffffe70H
$L75626:

; 440  : 	}
; 441  : 
; 442  : 	return (temp);

  08c31	66 8b 44 24 10	 mov	 ax, WORD PTR _temp$[esp+20]
$L72013:
  08c36	5f		 pop	 edi
  08c37	5e		 pop	 esi
  08c38	5d		 pop	 ebp
  08c39	5b		 pop	 ebx

; 443  : }

  08c3a	59		 pop	 ecx
  08c3b	c3		 ret	 0
_us_special_coartic ENDP
_pDph_t$ = 8
_nfon$ = 12
_sp_special_coartic PROC NEAR

; 390  : 
; 391  : /* Note: Gen coartic of 5% with adjacent segs elsewhere, so stuff here is big */
; 392  : /* This routine is only called if the current segment is diph (i.e. a vowel) */
; 393  : /* 
; 394  :  * Completely redone for Spanish                                16-Apr-86
; 395  :  */
; 396  : 	short temp, fonnex, foncur, fonlas;
; 397  : 
; 398  : 	temp = 0;
; 399  : 	foncur = get_phone(pDph_t,nfon);

  08c40	66 8b 44 24 08	 mov	 ax, WORD PTR _nfon$[esp-4]
  08c45	53		 push	 ebx
  08c46	55		 push	 ebp
  08c47	56		 push	 esi
  08c48	8b 74 24 10	 mov	 esi, DWORD PTR _pDph_t$[esp+8]
  08c4c	57		 push	 edi
  08c4d	66 85 c0	 test	 ax, ax
  08c50	7c 16		 jl	 SHORT $L75640
  08c52	66 3b 86 06 15
	00 00		 cmp	 ax, WORD PTR [esi+5382]
  08c59	7d 0d		 jge	 SHORT $L75640
  08c5b	0f bf c8	 movsx	 ecx, ax
  08c5e	66 8b ac 4e ec
	03 00 00	 mov	 bp, WORD PTR [esi+ecx*2+1004]
  08c66	eb 05		 jmp	 SHORT $L75641
$L75640:
  08c68	bd 00 1e 00 00	 mov	 ebp, 7680		; 00001e00H
$L75641:

; 400  : 	fonnex = get_phone(pDph_t,nfon + 1);

  08c6d	0f bf c0	 movsx	 eax, ax
  08c70	8d 48 01	 lea	 ecx, DWORD PTR [eax+1]
  08c73	85 c9		 test	 ecx, ecx
  08c75	7c 15		 jl	 SHORT $L75642
  08c77	0f bf 96 06 15
	00 00		 movsx	 edx, WORD PTR [esi+5382]
  08c7e	3b ca		 cmp	 ecx, edx
  08c80	7d 0a		 jge	 SHORT $L75642
  08c82	66 8b 9c 46 ee
	03 00 00	 mov	 bx, WORD PTR [esi+eax*2+1006]
  08c8a	eb 05		 jmp	 SHORT $L75643
$L75642:
  08c8c	bb 00 1e 00 00	 mov	 ebx, 7680		; 00001e00H
$L75643:

; 401  : 	fonlas = get_phone(pDph_t,nfon - 1);

  08c91	8d 48 ff	 lea	 ecx, DWORD PTR [eax-1]
  08c94	85 c9		 test	 ecx, ecx
  08c96	7c 15		 jl	 SHORT $L75644
  08c98	0f bf 96 06 15
	00 00		 movsx	 edx, WORD PTR [esi+5382]
  08c9f	3b ca		 cmp	 ecx, edx
  08ca1	7d 0a		 jge	 SHORT $L75644
  08ca3	66 8b 84 46 ea
	03 00 00	 mov	 ax, WORD PTR [esi+eax*2+1002]
  08cab	eb 05		 jmp	 SHORT $L75645
$L75644:
  08cad	b8 00 1e 00 00	 mov	 eax, 7680		; 00001e00H
$L75645:

; 402  : 
; 403  : 	/* 
; 404  : 	 * This assumes that changes are mostly symmetric.
; 405  : 	 */
; 406  : 	temp += span_spec_coart (pDph_t,foncur, fonlas);

  08cb2	50		 push	 eax
  08cb3	55		 push	 ebp
  08cb4	56		 push	 esi
  08cb5	e8 00 00 00 00	 call	 _span_spec_coart

; 407  : 	temp += span_spec_coart (pDph_t,foncur, fonnex);

  08cba	53		 push	 ebx
  08cbb	55		 push	 ebp
  08cbc	56		 push	 esi
  08cbd	8b f8		 mov	 edi, eax
  08cbf	e8 00 00 00 00	 call	 _span_spec_coart
  08cc4	83 c4 18	 add	 esp, 24			; 00000018H
  08cc7	03 c7		 add	 eax, edi
  08cc9	5f		 pop	 edi
  08cca	5e		 pop	 esi
  08ccb	5d		 pop	 ebp
  08ccc	5b		 pop	 ebx

; 408  : 
; 409  : 	return (temp);
; 410  : }

  08ccd	c3		 ret	 0
_sp_special_coartic ENDP
_pDph_t$ = 8
_vowel$ = 12
_other$ = 16
_span_spec_coart PROC NEAR

; 441  : 	int            			loc;
; 442  : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;
; 443  : 
; 444  : 	if (other == SPP_IX)

  08cd0	8b 54 24 0c	 mov	 edx, DWORD PTR _other$[esp-4]
  08cd4	53		 push	 ebx
  08cd5	56		 push	 esi
  08cd6	8b 74 24 0c	 mov	 esi, DWORD PTR _pDph_t$[esp+4]
  08cda	66 81 fa 24 1b	 cmp	 dx, 6948		; 00001b24H
  08cdf	57		 push	 edi
  08ce0	8b 8e 10 2c 00
	00		 mov	 ecx, DWORD PTR [esi+11280]
  08ce6	75 05		 jne	 SHORT $L72803

; 445  : 		other = SPP_NH;

  08ce8	ba 0d 1b 00 00	 mov	 edx, 6925		; 00001b0dH
$L72803:

; 446  : 	loc = sp_place[other & PVALUE];
; 447  : 	if (pDphsettar->np == &PF1)

  08ced	8b 49 10	 mov	 ecx, DWORD PTR [ecx+16]
  08cf0	8d 5e 24	 lea	 ebx, DWORD PTR [esi+36]
  08cf3	0f bf c2	 movsx	 eax, dx
  08cf6	8b f8		 mov	 edi, eax
  08cf8	81 e7 ff 00 00
	00		 and	 edi, 255		; 000000ffH
  08cfe	3b cb		 cmp	 ecx, ebx
  08d00	0f bf 3c 7d 00
	00 00 00	 movsx	 edi, WORD PTR _sp_place[edi*2]
  08d08	75 21		 jne	 SHORT $L72804

; 448  : 	{
; 449  : #if 1
; 450  : 		/* OUT because "me" sounds like "mi"                    30-Jul-86       */
; 451  : 		if (vowel == SPP_E
; 452  : 			&& other == SPP_M)

  08d0a	66 81 7c 24 14
	02 1b		 cmp	 WORD PTR _vowel$[esp+8], 6914 ; 00001b02H
  08d11	0f 85 35 02 00
	00		 jne	 $L72897
  08d17	66 81 fa 0b 1b	 cmp	 dx, 6923		; 00001b0bH
  08d1c	0f 85 2a 02 00
	00		 jne	 $L72897
  08d22	5f		 pop	 edi
  08d23	5e		 pop	 esi

; 453  : 			return (-50);

  08d24	b8 ce ff ff ff	 mov	 eax, -50		; ffffffceH
  08d29	5b		 pop	 ebx

; 635  : }

  08d2a	c3		 ret	 0
$L72804:

; 454  : #endif
; 455  : 	}
; 456  : 	else if (pDphsettar->np == &PF2)

  08d2b	8d 5e 48	 lea	 ebx, DWORD PTR [esi+72]
  08d2e	3b cb		 cmp	 ecx, ebx
  08d30	0f 85 cd 00 00
	00		 jne	 $L72807

; 457  : 	{
; 458  : 		switch (vowel)
; 459  : 		{

  08d36	0f bf 4c 24 14	 movsx	 ecx, WORD PTR _vowel$[esp+8]
  08d3b	81 c1 ff e4 ff
	ff		 add	 ecx, -6913		; ffffe4ffH
  08d41	83 f9 04	 cmp	 ecx, 4
  08d44	0f 87 02 02 00
	00		 ja	 $L72897
  08d4a	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $L75648[ecx*4]
$L72812:

; 460  : 		case SPP_A:
; 461  : 			if (loc == FLABIAL)

  08d51	83 ff 01	 cmp	 edi, 1
  08d54	0f 84 f2 01 00
	00		 je	 $L72897

; 462  : 			{
; 463  : 			}
; 464  : 			else
; 465  : 			{
; 466  : 				switch (other)
; 467  : 				{

  08d5a	05 f3 e4 ff ff	 add	 eax, -6925		; ffffe4f3H
  08d5f	83 f8 10	 cmp	 eax, 16			; 00000010H
  08d62	0f 87 e4 01 00
	00		 ja	 $L72897
  08d68	33 c9		 xor	 ecx, ecx
  08d6a	8a 88 00 00 00
	00		 mov	 cl, BYTE PTR $L75649[eax]
  08d70	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $L75650[ecx*4]
$L72821:

; 468  : 				case SPP_CH:
; 469  : 				case SPP_YH:
; 470  : 				case SPP_Y:
; 471  : 				case SPP_NH:
; 472  : 					return (100);
; 473  : 				case SPP_J:
; 474  : 					return (-50);
; 475  : 				}
; 476  : 			}
; 477  : 			break;
; 478  : 
; 479  : 		case SPP_E:
; 480  : 			switch (other)
; 481  : 			{

  08d77	3d 05 1b 00 00	 cmp	 eax, 6917		; 00001b05H
  08d7c	0f 85 ca 01 00
	00		 jne	 $L72897
  08d82	5f		 pop	 edi
  08d83	5e		 pop	 esi

; 482  : 				
; 483  : 				/* eab 7/15/98 FOund that coarticulation of eu dipthong lowers 
; 484  : 				the achieved value of e 2formant target*/
; 485  : 			case SPP_U:
; 486  : 				return(-300);

  08d84	b8 d4 fe ff ff	 mov	 eax, -300		; fffffed4H
  08d89	5b		 pop	 ebx

; 635  : }

  08d8a	c3		 ret	 0
$L72827:

; 487  : 
; 488  : 			}
; 489  : 			break;
; 490  : 
; 491  : 
; 492  : 			case SPP_I :		   /* eab 7/16/98* more code for double vowel dipthong*/
; 493  : 				
; 494  : 				switch (other)
; 495  : 				{

  08d8b	3d 04 1b 00 00	 cmp	 eax, 6916		; 00001b04H
  08d90	0f 85 b6 01 00
	00		 jne	 $L72897
$L72861:
  08d96	5f		 pop	 edi
  08d97	5e		 pop	 esi

; 496  : 	
; 497  : 				case SPP_O:
; 498  : 					return (-200);

  08d98	b8 38 ff ff ff	 mov	 eax, -200		; ffffff38H
  08d9d	5b		 pop	 ebx

; 635  : }

  08d9e	c3		 ret	 0
$L72833:

; 499  : 				}
; 500  : 			
; 501  : 
; 502  : 				
; 503  : 			break;
; 504  : 
; 505  : 
; 506  : 		case SPP_O:
; 507  : #if 01
; 508  : /* OUT to prevent overload                              30-Apr-86       */
; 509  : /* Back in again                                        30-Jul-86       */
; 510  : 			if (loc == FLABIAL
; 511  : 				&& other != SPP_F)

  08d9f	83 ff 01	 cmp	 edi, 1
  08da2	75 10		 jne	 SHORT $L72834
  08da4	66 81 fa 0e 1b	 cmp	 dx, 6926		; 00001b0eH
  08da9	74 09		 je	 SHORT $L72834
  08dab	5f		 pop	 edi
  08dac	5e		 pop	 esi

; 512  : 				return (-50);

  08dad	b8 ce ff ff ff	 mov	 eax, -50		; ffffffceH
  08db2	5b		 pop	 ebx

; 635  : }

  08db3	c3		 ret	 0
$L72834:

; 513  : #endif
; 514  : 			if (other == SPP_Y
; 515  : 				|| other == SPP_YH)

  08db4	66 81 fa 1d 1b	 cmp	 dx, 6941		; 00001b1dH
  08db9	74 0b		 je	 SHORT $L72889
  08dbb	66 81 fa 15 1b	 cmp	 dx, 6933		; 00001b15H
  08dc0	0f 85 86 01 00
	00		 jne	 $L72897
$L72889:
  08dc6	5f		 pop	 edi
  08dc7	5e		 pop	 esi

; 516  : 				return (100);

  08dc8	b8 64 00 00 00	 mov	 eax, 100		; 00000064H
  08dcd	5b		 pop	 ebx

; 635  : }

  08dce	c3		 ret	 0
$L72837:

; 517  : 			break;
; 518  : 
; 519  : 		case SPP_U:
; 520  : 
; 521  : 
; 522  : #if 01
; 523  : /* OUT to prevent overload                              30-Apr-86       */
; 524  : /* Back in again                                        30-Jul-86       */
; 525  : 			if (other == SPP_M
; 526  : 				|| other == SPP_F)

  08dcf	66 81 fa 0b 1b	 cmp	 dx, 6923		; 00001b0bH
  08dd4	0f 84 39 01 00
	00		 je	 $L72839
  08dda	66 81 fa 0e 1b	 cmp	 dx, 6926		; 00001b0eH
  08ddf	0f 84 2e 01 00
	00		 je	 $L72839

; 527  : 				return (-50);
; 528  : #endif
; 529  : 			if (loc == FDENTAL
; 530  : 				|| other == SPP_S
; 531  : 				|| loc == FPALATL)

  08de5	83 ff 02	 cmp	 edi, 2
  08de8	74 10		 je	 SHORT $L72841
  08dea	66 81 fa 0f 1b	 cmp	 dx, 6927		; 00001b0fH
  08def	74 09		 je	 SHORT $L72841
  08df1	83 ff 04	 cmp	 edi, 4
  08df4	0f 85 52 01 00
	00		 jne	 $L72897
$L72841:
  08dfa	5f		 pop	 edi
  08dfb	5e		 pop	 esi

; 532  : 				return (75);

  08dfc	b8 4b 00 00 00	 mov	 eax, 75			; 0000004bH
  08e01	5b		 pop	 ebx

; 635  : }

  08e02	c3		 ret	 0
$L72807:

; 533  : 			break;
; 534  : 		}
; 535  : 	}
; 536  : 	else if (pDphsettar->np == &PF3)

  08e03	83 c6 6c	 add	 esi, 108		; 0000006cH
  08e06	3b ce		 cmp	 ecx, esi
  08e08	0f 85 3e 01 00
	00		 jne	 $L72897

; 537  : 	{
; 538  : 		switch (vowel)
; 539  : 		{

  08e0e	0f bf 4c 24 14	 movsx	 ecx, WORD PTR _vowel$[esp+8]
  08e13	81 c1 ff e4 ff
	ff		 add	 ecx, -6913		; ffffe4ffH
  08e19	83 f9 04	 cmp	 ecx, 4
  08e1c	0f 87 2a 01 00
	00		 ja	 $L72897
  08e22	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $L75651[ecx*4]
$L72848:

; 540  : 		case SPP_A:
; 541  : 			if (loc == FLABIAL
; 542  : 				&& other != SPP_M)

  08e29	83 ff 01	 cmp	 edi, 1
  08e2c	75 10		 jne	 SHORT $L72849
  08e2e	66 81 fa 0b 1b	 cmp	 dx, 6923		; 00001b0bH
  08e33	74 25		 je	 SHORT $L72853
  08e35	5f		 pop	 edi
  08e36	5e		 pop	 esi

; 543  : 				return (-100);

  08e37	b8 9c ff ff ff	 mov	 eax, -100		; ffffff9cH
  08e3c	5b		 pop	 ebx

; 635  : }

  08e3d	c3		 ret	 0
$L72849:

; 544  : 			else if (loc == FDENTAL)

  08e3e	83 ff 02	 cmp	 edi, 2
  08e41	75 09		 jne	 SHORT $L72851
  08e43	5f		 pop	 edi
  08e44	5e		 pop	 esi

; 545  : 				return (75);

  08e45	b8 4b 00 00 00	 mov	 eax, 75			; 0000004bH
  08e4a	5b		 pop	 ebx

; 635  : }

  08e4b	c3		 ret	 0
$L72851:

; 546  : 			else if (loc == FVELAR)

  08e4c	83 ff 10	 cmp	 edi, 16			; 00000010H
  08e4f	75 09		 jne	 SHORT $L72853
  08e51	5f		 pop	 edi
  08e52	5e		 pop	 esi

; 547  : 				return (-75);

  08e53	b8 b5 ff ff ff	 mov	 eax, -75		; ffffffb5H
  08e58	5b		 pop	 ebx

; 635  : }

  08e59	c3		 ret	 0
$L72853:

; 548  : 			else
; 549  : 			{
; 550  : 				switch (other)
; 551  : 				{

  08e5a	05 f6 e4 ff ff	 add	 eax, -6922		; ffffe4f6H
  08e5f	83 f8 13	 cmp	 eax, 19			; 00000013H
  08e62	0f 87 e4 00 00
	00		 ja	 $L72897
  08e68	33 d2		 xor	 edx, edx
  08e6a	8a 90 00 00 00
	00		 mov	 dl, BYTE PTR $L75652[eax]
  08e70	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $L75653[edx*4]
$L72859:
  08e77	5f		 pop	 edi
  08e78	5e		 pop	 esi

; 552  : 				case SPP_N:
; 553  : 					return (200);

  08e79	b8 c8 00 00 00	 mov	 eax, 200		; 000000c8H
  08e7e	5b		 pop	 ebx

; 635  : }

  08e7f	c3		 ret	 0
$L72862:
  08e80	5f		 pop	 edi
  08e81	5e		 pop	 esi

; 554  : 				case SPP_S:
; 555  : 					return (100);
; 556  : 				case SPP_LL:
; 557  : 				case SPP_Y:
; 558  : 					return (-200);
; 559  : 				case SPP_NH:
; 560  : 					return (50);

  08e82	b8 32 00 00 00	 mov	 eax, 50			; 00000032H
  08e87	5b		 pop	 ebx

; 635  : }

  08e88	c3		 ret	 0
$L72863:

; 561  : 				}
; 562  : 			}
; 563  : 			break;
; 564  : 
; 565  : 		case SPP_E:
; 566  : 			switch (other)
; 567  : 			{

  08e89	05 fd e4 ff ff	 add	 eax, -6915		; ffffe4fdH
  08e8e	83 f8 18	 cmp	 eax, 24			; 00000018H
  08e91	0f 87 b5 00 00
	00		 ja	 $L72897
  08e97	33 c9		 xor	 ecx, ecx
  08e99	8a 88 00 00 00
	00		 mov	 cl, BYTE PTR $L75654[eax]
  08e9f	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $L75655[ecx*4]
$L72868:
  08ea6	5f		 pop	 edi
  08ea7	5e		 pop	 esi

; 568  : 			case SPP_M:
; 569  : 				return (300);

  08ea8	b8 2c 01 00 00	 mov	 eax, 300		; 0000012cH
  08ead	5b		 pop	 ebx

; 635  : }

  08eae	c3		 ret	 0
$L72873:
  08eaf	5f		 pop	 edi
  08eb0	5e		 pop	 esi

; 570  : 			case SPP_N:
; 571  : 				return (150);
; 572  : 			case SPP_LL:
; 573  : 				return (-50);
; 574  : 			case SPP_NH:
; 575  : 				return (75);
; 576  : 			case SPP_K:
; 577  : 			case SPP_G:
; 578  : 			case SPP_GH:
; 579  : 				return (150);
; 580  : 			case SPP_I:
; 581  : 				return (-250); /* eab 7/20/98 For Spanish ie diphong*/

  08eb1	b8 06 ff ff ff	 mov	 eax, -250		; ffffff06H
  08eb6	5b		 pop	 ebx

; 635  : }

  08eb7	c3		 ret	 0
$L72874:

; 582  : 			}
; 583  : 			break;
; 584  : 
; 585  : 		case SPP_I:
; 586  : 			switch (other)
; 587  : 			{

  08eb8	3d 04 1b 00 00	 cmp	 eax, 6916		; 00001b04H
  08ebd	74 62		 je	 SHORT $L72880
  08ebf	3d 0a 1b 00 00	 cmp	 eax, 6922		; 00001b0aH
  08ec4	0f 8e 82 00 00
	00		 jle	 $L72897
  08eca	3d 0d 1b 00 00	 cmp	 eax, 6925		; 00001b0dH
  08ecf	7f 7b		 jg	 SHORT $L72897
$L72869:
  08ed1	5f		 pop	 edi
  08ed2	5e		 pop	 esi

; 588  : 			case SPP_M:
; 589  : 			case SPP_NH:
; 590  : 			case SPP_N:
; 591  : 				return (150);

  08ed3	b8 96 00 00 00	 mov	 eax, 150		; 00000096H
  08ed8	5b		 pop	 ebx

; 635  : }

  08ed9	c3		 ret	 0
$L72881:

; 592  : 			case SPP_O:
; 593  : 				return(-100);
; 594  : 					
; 595  : 			}
; 596  : 			break;
; 597  : 
; 598  : 		case SPP_O:
; 599  : 			switch (other)
; 600  : 			{

  08eda	05 f5 e4 ff ff	 add	 eax, -6923		; ffffe4f5H
  08edf	83 f8 12	 cmp	 eax, 18			; 00000012H
  08ee2	77 2a		 ja	 SHORT $L72891
  08ee4	33 d2		 xor	 edx, edx
  08ee6	8a 90 00 00 00
	00		 mov	 dl, BYTE PTR $L75656[eax]
  08eec	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $L75657[edx*4]
$L72871:
  08ef3	5f		 pop	 edi
  08ef4	5e		 pop	 esi

; 601  : 			case SPP_M:
; 602  : 				return (75);

  08ef5	b8 4b 00 00 00	 mov	 eax, 75			; 0000004bH
  08efa	5b		 pop	 ebx

; 635  : }

  08efb	c3		 ret	 0
$L72887:
  08efc	5f		 pop	 edi
  08efd	5e		 pop	 esi

; 603  : 			case SPP_N:
; 604  : 				return (175);

  08efe	b8 af 00 00 00	 mov	 eax, 175		; 000000afH
  08f03	5b		 pop	 ebx

; 635  : }

  08f04	c3		 ret	 0
$L72888:
  08f05	5f		 pop	 edi
  08f06	5e		 pop	 esi

; 605  : 			case SPP_NH:
; 606  : 				return (125);

  08f07	b8 7d 00 00 00	 mov	 eax, 125		; 0000007dH
  08f0c	5b		 pop	 ebx

; 635  : }

  08f0d	c3		 ret	 0
$L72891:

; 607  : 			case SPP_Y:
; 608  : 			case SPP_YH:
; 609  : 				return (100);
; 610  : 			case SPP_J:
; 611  : 			case SPP_F:
; 612  : 				break;
; 613  : 			default:
; 614  : 				if (loc == FLABIAL)

  08f0e	83 ff 01	 cmp	 edi, 1
  08f11	75 09		 jne	 SHORT $L72892
$L72839:
  08f13	5f		 pop	 edi
  08f14	5e		 pop	 esi

; 615  : 					return (-50);

  08f15	b8 ce ff ff ff	 mov	 eax, -50		; ffffffceH
  08f1a	5b		 pop	 ebx

; 635  : }

  08f1b	c3		 ret	 0
$L72892:

; 616  : 				else if (loc == FVELAR)

  08f1c	83 ff 10	 cmp	 edi, 16			; 00000010H
  08f1f	75 2b		 jne	 SHORT $L72897
$L72880:
  08f21	5f		 pop	 edi
  08f22	5e		 pop	 esi

; 617  : 					return (-100);

  08f23	b8 9c ff ff ff	 mov	 eax, -100		; ffffff9cH
  08f28	5b		 pop	 ebx

; 635  : }

  08f29	c3		 ret	 0
$L72895:

; 618  : 			}
; 619  : 			break;
; 620  : 
; 621  : 		case SPP_U:
; 622  : 			switch (other)
; 623  : 			{

  08f2a	05 f6 e4 ff ff	 add	 eax, -6922		; ffffe4f6H
  08f2f	83 f8 11	 cmp	 eax, 17			; 00000011H
  08f32	77 18		 ja	 SHORT $L72897
  08f34	33 c9		 xor	 ecx, ecx
  08f36	8a 88 00 00 00
	00		 mov	 cl, BYTE PTR $L75658[eax]
  08f3c	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $L75659[ecx*4]
$L72900:
  08f43	5f		 pop	 edi
  08f44	5e		 pop	 esi

; 624  : 			case SPP_M:
; 625  : 			case SPP_N:
; 626  : 			case SPP_NH:
; 627  : 			case SPP_LL:
; 628  : 			case SPP_G:
; 629  : 			case SPP_GH:
; 630  : 				return (-75);

  08f45	b8 b5 ff ff ff	 mov	 eax, -75		; ffffffb5H
  08f4a	5b		 pop	 ebx

; 635  : }

  08f4b	c3		 ret	 0
$L72897:
  08f4c	5f		 pop	 edi
  08f4d	5e		 pop	 esi

; 631  : 			}
; 632  : 		}
; 633  : 	}
; 634  : 	return (0);

  08f4e	33 c0		 xor	 eax, eax
  08f50	5b		 pop	 ebx

; 635  : }

  08f51	c3		 ret	 0
  08f52	8b ff		 npad	 2
$L75648:
  08f54	00 00 00 00	 DD	 $L72812
  08f58	00 00 00 00	 DD	 $L72821
  08f5c	00 00 00 00	 DD	 $L72827
  08f60	00 00 00 00	 DD	 $L72833
  08f64	00 00 00 00	 DD	 $L72837
$L75650:
  08f68	00 00 00 00	 DD	 $L72889
  08f6c	00 00 00 00	 DD	 $L72839
  08f70	00 00 00 00	 DD	 $L72897
$L75649:
  08f74	00		 DB	 0
  08f75	02		 DB	 2
  08f76	02		 DB	 2
  08f77	01		 DB	 1
  08f78	02		 DB	 2
  08f79	02		 DB	 2
  08f7a	02		 DB	 2
  08f7b	02		 DB	 2
  08f7c	00		 DB	 0
  08f7d	02		 DB	 2
  08f7e	02		 DB	 2
  08f7f	02		 DB	 2
  08f80	02		 DB	 2
  08f81	02		 DB	 2
  08f82	02		 DB	 2
  08f83	00		 DB	 0
  08f84	00		 DB	 0
  08f85	8d 49 00	 npad	 3
$L75651:
  08f88	00 00 00 00	 DD	 $L72848
  08f8c	00 00 00 00	 DD	 $L72863
  08f90	00 00 00 00	 DD	 $L72874
  08f94	00 00 00 00	 DD	 $L72881
  08f98	00 00 00 00	 DD	 $L72895
$L75653:
  08f9c	00 00 00 00	 DD	 $L72861
  08fa0	00 00 00 00	 DD	 $L72859
  08fa4	00 00 00 00	 DD	 $L72862
  08fa8	00 00 00 00	 DD	 $L72889
  08fac	00 00 00 00	 DD	 $L72897
$L75652:
  08fb0	00		 DB	 0
  08fb1	04		 DB	 4
  08fb2	01		 DB	 1
  08fb3	02		 DB	 2
  08fb4	04		 DB	 4
  08fb5	03		 DB	 3
  08fb6	04		 DB	 4
  08fb7	04		 DB	 4
  08fb8	04		 DB	 4
  08fb9	04		 DB	 4
  08fba	04		 DB	 4
  08fbb	04		 DB	 4
  08fbc	04		 DB	 4
  08fbd	04		 DB	 4
  08fbe	04		 DB	 4
  08fbf	04		 DB	 4
  08fc0	04		 DB	 4
  08fc1	04		 DB	 4
  08fc2	04		 DB	 4
  08fc3	00		 DB	 0
$L75655:
  08fc4	00 00 00 00	 DD	 $L72873
  08fc8	00 00 00 00	 DD	 $L72839
  08fcc	00 00 00 00	 DD	 $L72868
  08fd0	00 00 00 00	 DD	 $L72869
  08fd4	00 00 00 00	 DD	 $L72871
  08fd8	00 00 00 00	 DD	 $L72897
$L75654:
  08fdc	00		 DB	 0
  08fdd	05		 DB	 5
  08fde	05		 DB	 5
  08fdf	05		 DB	 5
  08fe0	05		 DB	 5
  08fe1	05		 DB	 5
  08fe2	05		 DB	 5
  08fe3	01		 DB	 1
  08fe4	02		 DB	 2
  08fe5	03		 DB	 3
  08fe6	04		 DB	 4
  08fe7	05		 DB	 5
  08fe8	05		 DB	 5
  08fe9	05		 DB	 5
  08fea	05		 DB	 5
  08feb	05		 DB	 5
  08fec	05		 DB	 5
  08fed	03		 DB	 3
  08fee	05		 DB	 5
  08fef	05		 DB	 5
  08ff0	05		 DB	 5
  08ff1	05		 DB	 5
  08ff2	05		 DB	 5
  08ff3	03		 DB	 3
  08ff4	03		 DB	 3
  08ff5	8d 49 00	 npad	 3
$L75657:
  08ff8	00 00 00 00	 DD	 $L72871
  08ffc	00 00 00 00	 DD	 $L72887
  09000	00 00 00 00	 DD	 $L72888
  09004	00 00 00 00	 DD	 $L72897
  09008	00 00 00 00	 DD	 $L72889
  0900c	00 00 00 00	 DD	 $L72891
$L75656:
  09010	00		 DB	 0
  09011	01		 DB	 1
  09012	02		 DB	 2
  09013	03		 DB	 3
  09014	05		 DB	 5
  09015	03		 DB	 3
  09016	05		 DB	 5
  09017	05		 DB	 5
  09018	05		 DB	 5
  09019	05		 DB	 5
  0901a	04		 DB	 4
  0901b	05		 DB	 5
  0901c	05		 DB	 5
  0901d	05		 DB	 5
  0901e	05		 DB	 5
  0901f	05		 DB	 5
  09020	05		 DB	 5
  09021	05		 DB	 5
  09022	04		 DB	 4
  09023	90		 npad	 1
$L75659:
  09024	00 00 00 00	 DD	 $L72900
  09028	00 00 00 00	 DD	 $L72897
$L75658:
  0902c	00		 DB	 0
  0902d	00		 DB	 0
  0902e	00		 DB	 0
  0902f	00		 DB	 0
  09030	01		 DB	 1
  09031	01		 DB	 1
  09032	01		 DB	 1
  09033	01		 DB	 1
  09034	01		 DB	 1
  09035	01		 DB	 1
  09036	00		 DB	 0
  09037	01		 DB	 1
  09038	01		 DB	 1
  09039	01		 DB	 1
  0903a	01		 DB	 1
  0903b	01		 DB	 1
  0903c	01		 DB	 1
  0903d	00		 DB	 0
_span_spec_coart ENDP
_pDph_t$ = 8
_nfon$ = 12
_la_special_coartic PROC NEAR

; 391  : 
; 392  : /* Note: Gen coartic of 5% with adjacent segs elsewhere, so stuff here is big */
; 393  : /* This routine is only called if the current segment is diph (i.e. a vowel) */
; 394  : /* 
; 395  :  * Completely redone for Spanish                                16-Apr-86
; 396  :  */
; 397  : 	short                   temp, fonnex, foncur, fonlas;
; 398  : 
; 399  : 	temp = 0;
; 400  : 	foncur = get_phone(pDph_t,nfon);

  09040	66 8b 44 24 08	 mov	 ax, WORD PTR _nfon$[esp-4]
  09045	53		 push	 ebx
  09046	55		 push	 ebp
  09047	56		 push	 esi
  09048	8b 74 24 10	 mov	 esi, DWORD PTR _pDph_t$[esp+8]
  0904c	57		 push	 edi
  0904d	66 85 c0	 test	 ax, ax
  09050	7c 16		 jl	 SHORT $L75661
  09052	66 3b 86 06 15
	00 00		 cmp	 ax, WORD PTR [esi+5382]
  09059	7d 0d		 jge	 SHORT $L75661
  0905b	0f bf c8	 movsx	 ecx, ax
  0905e	66 8b ac 4e ec
	03 00 00	 mov	 bp, WORD PTR [esi+ecx*2+1004]
  09066	eb 05		 jmp	 SHORT $L75662
$L75661:
  09068	bd 00 1e 00 00	 mov	 ebp, 7680		; 00001e00H
$L75662:

; 401  : 	fonnex = get_phone(pDph_t,nfon + 1);

  0906d	0f bf c0	 movsx	 eax, ax
  09070	8d 48 01	 lea	 ecx, DWORD PTR [eax+1]
  09073	85 c9		 test	 ecx, ecx
  09075	7c 15		 jl	 SHORT $L75663
  09077	0f bf 96 06 15
	00 00		 movsx	 edx, WORD PTR [esi+5382]
  0907e	3b ca		 cmp	 ecx, edx
  09080	7d 0a		 jge	 SHORT $L75663
  09082	66 8b 9c 46 ee
	03 00 00	 mov	 bx, WORD PTR [esi+eax*2+1006]
  0908a	eb 05		 jmp	 SHORT $L75664
$L75663:
  0908c	bb 00 1e 00 00	 mov	 ebx, 7680		; 00001e00H
$L75664:

; 402  : 	fonlas = get_phone(pDph_t,nfon - 1);

  09091	8d 48 ff	 lea	 ecx, DWORD PTR [eax-1]
  09094	85 c9		 test	 ecx, ecx
  09096	7c 15		 jl	 SHORT $L75665
  09098	0f bf 96 06 15
	00 00		 movsx	 edx, WORD PTR [esi+5382]
  0909f	3b ca		 cmp	 ecx, edx
  090a1	7d 0a		 jge	 SHORT $L75665
  090a3	66 8b 84 46 ea
	03 00 00	 mov	 ax, WORD PTR [esi+eax*2+1002]
  090ab	eb 05		 jmp	 SHORT $L75666
$L75665:
  090ad	b8 00 1e 00 00	 mov	 eax, 7680		; 00001e00H
$L75666:

; 403  : 
; 404  : 	/* 
; 405  : 	 * This assumes that changes are mostly symmetric.
; 406  : 	 */
; 407  : 	temp += la_spec_coart(pDph_t,foncur, fonlas);

  090b2	50		 push	 eax
  090b3	55		 push	 ebp
  090b4	56		 push	 esi
  090b5	e8 00 00 00 00	 call	 _la_spec_coart

; 408  : 	temp += la_spec_coart(pDph_t,foncur, fonnex);

  090ba	53		 push	 ebx
  090bb	55		 push	 ebp
  090bc	56		 push	 esi
  090bd	8b f8		 mov	 edi, eax
  090bf	e8 00 00 00 00	 call	 _la_spec_coart
  090c4	83 c4 18	 add	 esp, 24			; 00000018H
  090c7	03 c7		 add	 eax, edi
  090c9	5f		 pop	 edi
  090ca	5e		 pop	 esi
  090cb	5d		 pop	 ebp
  090cc	5b		 pop	 ebx

; 409  : 
; 410  : 	return (temp);
; 411  : }

  090cd	c3		 ret	 0
_la_special_coartic ENDP
_pDph_t$ = 8
_vowel$ = 12
_other$ = 16
_la_spec_coart PROC NEAR

; 441  : 	int            			loc;
; 442  : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;
; 443  : 
; 444  : 	if (other == LAP_IX)

  090d0	8b 54 24 0c	 mov	 edx, DWORD PTR _other$[esp-4]
  090d4	53		 push	 ebx
  090d5	56		 push	 esi
  090d6	8b 74 24 0c	 mov	 esi, DWORD PTR _pDph_t$[esp+4]
  090da	66 81 fa 24 1a	 cmp	 dx, 6692		; 00001a24H
  090df	57		 push	 edi
  090e0	8b 8e 10 2c 00
	00		 mov	 ecx, DWORD PTR [esi+11280]
  090e6	75 05		 jne	 SHORT $L73264

; 445  : 		other = LAP_NH;

  090e8	ba 0d 1a 00 00	 mov	 edx, 6669		; 00001a0dH
$L73264:

; 446  : 	loc = la_place[other & PVALUE];
; 447  : 	if (pDphsettar->np == &PF1)

  090ed	8b 49 10	 mov	 ecx, DWORD PTR [ecx+16]
  090f0	8d 5e 24	 lea	 ebx, DWORD PTR [esi+36]
  090f3	0f bf c2	 movsx	 eax, dx
  090f6	8b f8		 mov	 edi, eax
  090f8	81 e7 ff 00 00
	00		 and	 edi, 255		; 000000ffH
  090fe	3b cb		 cmp	 ecx, ebx
  09100	0f bf 3c 7d 00
	00 00 00	 movsx	 edi, WORD PTR _la_place[edi*2]
  09108	75 21		 jne	 SHORT $L73265

; 448  : 	{
; 449  : #if 1
; 450  : 		/* OUT because "me" sounds like "mi"                    30-Jul-86       */
; 451  : 		if (vowel == LAP_E
; 452  : 			&& other == LAP_M)

  0910a	66 81 7c 24 14
	02 1a		 cmp	 WORD PTR _vowel$[esp+8], 6658 ; 00001a02H
  09111	0f 85 35 02 00
	00		 jne	 $L73358
  09117	66 81 fa 0b 1a	 cmp	 dx, 6667		; 00001a0bH
  0911c	0f 85 2a 02 00
	00		 jne	 $L73358
  09122	5f		 pop	 edi
  09123	5e		 pop	 esi

; 453  : 			return (-50);

  09124	b8 ce ff ff ff	 mov	 eax, -50		; ffffffceH
  09129	5b		 pop	 ebx

; 635  : }

  0912a	c3		 ret	 0
$L73265:

; 454  : #endif
; 455  : 	}
; 456  : 	else if (pDphsettar->np == &PF2)

  0912b	8d 5e 48	 lea	 ebx, DWORD PTR [esi+72]
  0912e	3b cb		 cmp	 ecx, ebx
  09130	0f 85 cd 00 00
	00		 jne	 $L73268

; 457  : 	{
; 458  : 		switch (vowel)
; 459  : 		{

  09136	0f bf 4c 24 14	 movsx	 ecx, WORD PTR _vowel$[esp+8]
  0913b	81 c1 ff e5 ff
	ff		 add	 ecx, -6657		; ffffe5ffH
  09141	83 f9 04	 cmp	 ecx, 4
  09144	0f 87 02 02 00
	00		 ja	 $L73358
  0914a	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $L75669[ecx*4]
$L73273:

; 460  : 		case LAP_A:
; 461  : 			if (loc == FLABIAL)

  09151	83 ff 01	 cmp	 edi, 1
  09154	0f 84 f2 01 00
	00		 je	 $L73358

; 462  : 			{
; 463  : 			}
; 464  : 			else
; 465  : 			{
; 466  : 				switch (other)
; 467  : 				{

  0915a	05 f3 e5 ff ff	 add	 eax, -6669		; ffffe5f3H
  0915f	83 f8 10	 cmp	 eax, 16			; 00000010H
  09162	0f 87 e4 01 00
	00		 ja	 $L73358
  09168	33 c9		 xor	 ecx, ecx
  0916a	8a 88 00 00 00
	00		 mov	 cl, BYTE PTR $L75670[eax]
  09170	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $L75671[ecx*4]
$L73282:

; 468  : 				case LAP_CH:
; 469  : 				case LAP_YH:
; 470  : 				case LAP_Y:
; 471  : 				case LAP_NH:
; 472  : 					return (100);
; 473  : 				case LAP_J:
; 474  : 					return (-50);
; 475  : 				}
; 476  : 			}
; 477  : 			break;
; 478  : 
; 479  : 		case LAP_E:
; 480  : 			switch (other)
; 481  : 			{

  09177	3d 05 1a 00 00	 cmp	 eax, 6661		; 00001a05H
  0917c	0f 85 ca 01 00
	00		 jne	 $L73358
  09182	5f		 pop	 edi
  09183	5e		 pop	 esi

; 482  : 				
; 483  : 				/* eab 7/15/98 FOund that coarticulation of eu dipthong lowers 
; 484  : 				the achieved value of e 2formant target*/
; 485  : 			case LAP_U:
; 486  : 				return(-300);

  09184	b8 d4 fe ff ff	 mov	 eax, -300		; fffffed4H
  09189	5b		 pop	 ebx

; 635  : }

  0918a	c3		 ret	 0
$L73288:

; 487  : 
; 488  : 			}
; 489  : 			break;
; 490  : 
; 491  : 
; 492  : 			case LAP_I :		   /* eab 7/16/98* more code for double vowel dipthong*/
; 493  : 				
; 494  : 				switch (other)
; 495  : 				{

  0918b	3d 04 1a 00 00	 cmp	 eax, 6660		; 00001a04H
  09190	0f 85 b6 01 00
	00		 jne	 $L73358
$L73322:
  09196	5f		 pop	 edi
  09197	5e		 pop	 esi

; 496  : 	
; 497  : 				case LAP_O:
; 498  : 					return (-200);

  09198	b8 38 ff ff ff	 mov	 eax, -200		; ffffff38H
  0919d	5b		 pop	 ebx

; 635  : }

  0919e	c3		 ret	 0
$L73294:

; 499  : 				}
; 500  : 			
; 501  : 
; 502  : 				
; 503  : 			break;
; 504  : 
; 505  : 
; 506  : 		case LAP_O:
; 507  : #if 01
; 508  : /* OUT to prevent overload                              30-Apr-86       */
; 509  : /* Back in again                                        30-Jul-86       */
; 510  : 			if (loc == FLABIAL
; 511  : 				&& other != LAP_F)

  0919f	83 ff 01	 cmp	 edi, 1
  091a2	75 10		 jne	 SHORT $L73295
  091a4	66 81 fa 0e 1a	 cmp	 dx, 6670		; 00001a0eH
  091a9	74 09		 je	 SHORT $L73295
  091ab	5f		 pop	 edi
  091ac	5e		 pop	 esi

; 512  : 				return (-50);

  091ad	b8 ce ff ff ff	 mov	 eax, -50		; ffffffceH
  091b2	5b		 pop	 ebx

; 635  : }

  091b3	c3		 ret	 0
$L73295:

; 513  : #endif
; 514  : 			if (other == LAP_Y
; 515  : 				|| other == LAP_YH)

  091b4	66 81 fa 1d 1a	 cmp	 dx, 6685		; 00001a1dH
  091b9	74 0b		 je	 SHORT $L73350
  091bb	66 81 fa 15 1a	 cmp	 dx, 6677		; 00001a15H
  091c0	0f 85 86 01 00
	00		 jne	 $L73358
$L73350:
  091c6	5f		 pop	 edi
  091c7	5e		 pop	 esi

; 516  : 				return (100);

  091c8	b8 64 00 00 00	 mov	 eax, 100		; 00000064H
  091cd	5b		 pop	 ebx

; 635  : }

  091ce	c3		 ret	 0
$L73298:

; 517  : 			break;
; 518  : 
; 519  : 		case LAP_U:
; 520  : 
; 521  : 
; 522  : #if 01
; 523  : /* OUT to prevent overload                              30-Apr-86       */
; 524  : /* Back in again                                        30-Jul-86       */
; 525  : 			if (other == LAP_M
; 526  : 				|| other == LAP_F)

  091cf	66 81 fa 0b 1a	 cmp	 dx, 6667		; 00001a0bH
  091d4	0f 84 39 01 00
	00		 je	 $L73300
  091da	66 81 fa 0e 1a	 cmp	 dx, 6670		; 00001a0eH
  091df	0f 84 2e 01 00
	00		 je	 $L73300

; 527  : 				return (-50);
; 528  : #endif
; 529  : 			if (loc == FDENTAL
; 530  : 				|| other == LAP_S
; 531  : 				|| loc == FPALATL)

  091e5	83 ff 02	 cmp	 edi, 2
  091e8	74 10		 je	 SHORT $L73302
  091ea	66 81 fa 0f 1a	 cmp	 dx, 6671		; 00001a0fH
  091ef	74 09		 je	 SHORT $L73302
  091f1	83 ff 04	 cmp	 edi, 4
  091f4	0f 85 52 01 00
	00		 jne	 $L73358
$L73302:
  091fa	5f		 pop	 edi
  091fb	5e		 pop	 esi

; 532  : 				return (75);

  091fc	b8 4b 00 00 00	 mov	 eax, 75			; 0000004bH
  09201	5b		 pop	 ebx

; 635  : }

  09202	c3		 ret	 0
$L73268:

; 533  : 			break;
; 534  : 		}
; 535  : 	}
; 536  : 	else if (pDphsettar->np == &PF3)

  09203	83 c6 6c	 add	 esi, 108		; 0000006cH
  09206	3b ce		 cmp	 ecx, esi
  09208	0f 85 3e 01 00
	00		 jne	 $L73358

; 537  : 	{
; 538  : 		switch (vowel)
; 539  : 		{

  0920e	0f bf 4c 24 14	 movsx	 ecx, WORD PTR _vowel$[esp+8]
  09213	81 c1 ff e5 ff
	ff		 add	 ecx, -6657		; ffffe5ffH
  09219	83 f9 04	 cmp	 ecx, 4
  0921c	0f 87 2a 01 00
	00		 ja	 $L73358
  09222	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $L75672[ecx*4]
$L73309:

; 540  : 		case LAP_A:
; 541  : 			if (loc == FLABIAL
; 542  : 				&& other != LAP_M)

  09229	83 ff 01	 cmp	 edi, 1
  0922c	75 10		 jne	 SHORT $L73310
  0922e	66 81 fa 0b 1a	 cmp	 dx, 6667		; 00001a0bH
  09233	74 25		 je	 SHORT $L73314
  09235	5f		 pop	 edi
  09236	5e		 pop	 esi

; 543  : 				return (-100);

  09237	b8 9c ff ff ff	 mov	 eax, -100		; ffffff9cH
  0923c	5b		 pop	 ebx

; 635  : }

  0923d	c3		 ret	 0
$L73310:

; 544  : 			else if (loc == FDENTAL)

  0923e	83 ff 02	 cmp	 edi, 2
  09241	75 09		 jne	 SHORT $L73312
  09243	5f		 pop	 edi
  09244	5e		 pop	 esi

; 545  : 				return (75);

  09245	b8 4b 00 00 00	 mov	 eax, 75			; 0000004bH
  0924a	5b		 pop	 ebx

; 635  : }

  0924b	c3		 ret	 0
$L73312:

; 546  : 			else if (loc == FVELAR)

  0924c	83 ff 10	 cmp	 edi, 16			; 00000010H
  0924f	75 09		 jne	 SHORT $L73314
  09251	5f		 pop	 edi
  09252	5e		 pop	 esi

; 547  : 				return (-75);

  09253	b8 b5 ff ff ff	 mov	 eax, -75		; ffffffb5H
  09258	5b		 pop	 ebx

; 635  : }

  09259	c3		 ret	 0
$L73314:

; 548  : 			else
; 549  : 			{
; 550  : 				switch (other)
; 551  : 				{

  0925a	05 f6 e5 ff ff	 add	 eax, -6666		; ffffe5f6H
  0925f	83 f8 13	 cmp	 eax, 19			; 00000013H
  09262	0f 87 e4 00 00
	00		 ja	 $L73358
  09268	33 d2		 xor	 edx, edx
  0926a	8a 90 00 00 00
	00		 mov	 dl, BYTE PTR $L75673[eax]
  09270	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $L75674[edx*4]
$L73320:
  09277	5f		 pop	 edi
  09278	5e		 pop	 esi

; 552  : 				case LAP_N:
; 553  : 					return (200);

  09279	b8 c8 00 00 00	 mov	 eax, 200		; 000000c8H
  0927e	5b		 pop	 ebx

; 635  : }

  0927f	c3		 ret	 0
$L73323:
  09280	5f		 pop	 edi
  09281	5e		 pop	 esi

; 554  : 				case LAP_S:
; 555  : 					return (100);
; 556  : 				case LAP_LL:
; 557  : 				case LAP_Y:
; 558  : 					return (-200);
; 559  : 				case LAP_NH:
; 560  : 					return (50);

  09282	b8 32 00 00 00	 mov	 eax, 50			; 00000032H
  09287	5b		 pop	 ebx

; 635  : }

  09288	c3		 ret	 0
$L73324:

; 561  : 				}
; 562  : 			}
; 563  : 			break;
; 564  : 
; 565  : 		case LAP_E:
; 566  : 			switch (other)
; 567  : 			{

  09289	05 fd e5 ff ff	 add	 eax, -6659		; ffffe5fdH
  0928e	83 f8 18	 cmp	 eax, 24			; 00000018H
  09291	0f 87 b5 00 00
	00		 ja	 $L73358
  09297	33 c9		 xor	 ecx, ecx
  09299	8a 88 00 00 00
	00		 mov	 cl, BYTE PTR $L75675[eax]
  0929f	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $L75676[ecx*4]
$L73329:
  092a6	5f		 pop	 edi
  092a7	5e		 pop	 esi

; 568  : 			case LAP_M:
; 569  : 				return (300);

  092a8	b8 2c 01 00 00	 mov	 eax, 300		; 0000012cH
  092ad	5b		 pop	 ebx

; 635  : }

  092ae	c3		 ret	 0
$L73334:
  092af	5f		 pop	 edi
  092b0	5e		 pop	 esi

; 570  : 			case LAP_N:
; 571  : 				return (150);
; 572  : 			case LAP_LL:
; 573  : 				return (-50);
; 574  : 			case LAP_NH:
; 575  : 				return (75);
; 576  : 			case LAP_K:
; 577  : 			case LAP_G:
; 578  : 			case LAP_GH:
; 579  : 				return (150);
; 580  : 			case LAP_I:
; 581  : 				return (-250); /* eab 7/20/98 For Spanish ie diphong*/

  092b1	b8 06 ff ff ff	 mov	 eax, -250		; ffffff06H
  092b6	5b		 pop	 ebx

; 635  : }

  092b7	c3		 ret	 0
$L73335:

; 582  : 			}
; 583  : 			break;
; 584  : 
; 585  : 		case LAP_I:
; 586  : 			switch (other)
; 587  : 			{

  092b8	3d 04 1a 00 00	 cmp	 eax, 6660		; 00001a04H
  092bd	74 62		 je	 SHORT $L73341
  092bf	3d 0a 1a 00 00	 cmp	 eax, 6666		; 00001a0aH
  092c4	0f 8e 82 00 00
	00		 jle	 $L73358
  092ca	3d 0d 1a 00 00	 cmp	 eax, 6669		; 00001a0dH
  092cf	7f 7b		 jg	 SHORT $L73358
$L73330:
  092d1	5f		 pop	 edi
  092d2	5e		 pop	 esi

; 588  : 			case LAP_M:
; 589  : 			case LAP_NH:
; 590  : 			case LAP_N:
; 591  : 				return (150);

  092d3	b8 96 00 00 00	 mov	 eax, 150		; 00000096H
  092d8	5b		 pop	 ebx

; 635  : }

  092d9	c3		 ret	 0
$L73342:

; 592  : 			case LAP_O:
; 593  : 				return(-100);
; 594  : 					
; 595  : 			}
; 596  : 			break;
; 597  : 
; 598  : 		case LAP_O:
; 599  : 			switch (other)
; 600  : 			{

  092da	05 f5 e5 ff ff	 add	 eax, -6667		; ffffe5f5H
  092df	83 f8 12	 cmp	 eax, 18			; 00000012H
  092e2	77 2a		 ja	 SHORT $L73352
  092e4	33 d2		 xor	 edx, edx
  092e6	8a 90 00 00 00
	00		 mov	 dl, BYTE PTR $L75677[eax]
  092ec	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $L75678[edx*4]
$L73332:
  092f3	5f		 pop	 edi
  092f4	5e		 pop	 esi

; 601  : 			case LAP_M:
; 602  : 				return (75);

  092f5	b8 4b 00 00 00	 mov	 eax, 75			; 0000004bH
  092fa	5b		 pop	 ebx

; 635  : }

  092fb	c3		 ret	 0
$L73348:
  092fc	5f		 pop	 edi
  092fd	5e		 pop	 esi

; 603  : 			case LAP_N:
; 604  : 				return (175);

  092fe	b8 af 00 00 00	 mov	 eax, 175		; 000000afH
  09303	5b		 pop	 ebx

; 635  : }

  09304	c3		 ret	 0
$L73349:
  09305	5f		 pop	 edi
  09306	5e		 pop	 esi

; 605  : 			case LAP_NH:
; 606  : 				return (125);

  09307	b8 7d 00 00 00	 mov	 eax, 125		; 0000007dH
  0930c	5b		 pop	 ebx

; 635  : }

  0930d	c3		 ret	 0
$L73352:

; 607  : 			case LAP_Y:
; 608  : 			case LAP_YH:
; 609  : 				return (100);
; 610  : 			case LAP_J:
; 611  : 			case LAP_F:
; 612  : 				break;
; 613  : 			default:
; 614  : 				if (loc == FLABIAL)

  0930e	83 ff 01	 cmp	 edi, 1
  09311	75 09		 jne	 SHORT $L73353
$L73300:
  09313	5f		 pop	 edi
  09314	5e		 pop	 esi

; 615  : 					return (-50);

  09315	b8 ce ff ff ff	 mov	 eax, -50		; ffffffceH
  0931a	5b		 pop	 ebx

; 635  : }

  0931b	c3		 ret	 0
$L73353:

; 616  : 				else if (loc == FVELAR)

  0931c	83 ff 10	 cmp	 edi, 16			; 00000010H
  0931f	75 2b		 jne	 SHORT $L73358
$L73341:
  09321	5f		 pop	 edi
  09322	5e		 pop	 esi

; 617  : 					return (-100);

  09323	b8 9c ff ff ff	 mov	 eax, -100		; ffffff9cH
  09328	5b		 pop	 ebx

; 635  : }

  09329	c3		 ret	 0
$L73356:

; 618  : 			}
; 619  : 			break;
; 620  : 
; 621  : 		case LAP_U:
; 622  : 			switch (other)
; 623  : 			{

  0932a	05 f6 e5 ff ff	 add	 eax, -6666		; ffffe5f6H
  0932f	83 f8 11	 cmp	 eax, 17			; 00000011H
  09332	77 18		 ja	 SHORT $L73358
  09334	33 c9		 xor	 ecx, ecx
  09336	8a 88 00 00 00
	00		 mov	 cl, BYTE PTR $L75679[eax]
  0933c	ff 24 8d 00 00
	00 00		 jmp	 DWORD PTR $L75680[ecx*4]
$L73361:
  09343	5f		 pop	 edi
  09344	5e		 pop	 esi

; 624  : 			case LAP_M:
; 625  : 			case LAP_N:
; 626  : 			case LAP_NH:
; 627  : 			case LAP_LL:
; 628  : 			case LAP_G:
; 629  : 			case LAP_GH:
; 630  : 				return (-75);

  09345	b8 b5 ff ff ff	 mov	 eax, -75		; ffffffb5H
  0934a	5b		 pop	 ebx

; 635  : }

  0934b	c3		 ret	 0
$L73358:
  0934c	5f		 pop	 edi
  0934d	5e		 pop	 esi

; 631  : 			}
; 632  : 		}
; 633  : 	}
; 634  : 	return (0);

  0934e	33 c0		 xor	 eax, eax
  09350	5b		 pop	 ebx

; 635  : }

  09351	c3		 ret	 0
  09352	8b ff		 npad	 2
$L75669:
  09354	00 00 00 00	 DD	 $L73273
  09358	00 00 00 00	 DD	 $L73282
  0935c	00 00 00 00	 DD	 $L73288
  09360	00 00 00 00	 DD	 $L73294
  09364	00 00 00 00	 DD	 $L73298
$L75671:
  09368	00 00 00 00	 DD	 $L73350
  0936c	00 00 00 00	 DD	 $L73300
  09370	00 00 00 00	 DD	 $L73358
$L75670:
  09374	00		 DB	 0
  09375	02		 DB	 2
  09376	02		 DB	 2
  09377	01		 DB	 1
  09378	02		 DB	 2
  09379	02		 DB	 2
  0937a	02		 DB	 2
  0937b	02		 DB	 2
  0937c	00		 DB	 0
  0937d	02		 DB	 2
  0937e	02		 DB	 2
  0937f	02		 DB	 2
  09380	02		 DB	 2
  09381	02		 DB	 2
  09382	02		 DB	 2
  09383	00		 DB	 0
  09384	00		 DB	 0
  09385	8d 49 00	 npad	 3
$L75672:
  09388	00 00 00 00	 DD	 $L73309
  0938c	00 00 00 00	 DD	 $L73324
  09390	00 00 00 00	 DD	 $L73335
  09394	00 00 00 00	 DD	 $L73342
  09398	00 00 00 00	 DD	 $L73356
$L75674:
  0939c	00 00 00 00	 DD	 $L73322
  093a0	00 00 00 00	 DD	 $L73320
  093a4	00 00 00 00	 DD	 $L73323
  093a8	00 00 00 00	 DD	 $L73350
  093ac	00 00 00 00	 DD	 $L73358
$L75673:
  093b0	00		 DB	 0
  093b1	04		 DB	 4
  093b2	01		 DB	 1
  093b3	02		 DB	 2
  093b4	04		 DB	 4
  093b5	03		 DB	 3
  093b6	04		 DB	 4
  093b7	04		 DB	 4
  093b8	04		 DB	 4
  093b9	04		 DB	 4
  093ba	04		 DB	 4
  093bb	04		 DB	 4
  093bc	04		 DB	 4
  093bd	04		 DB	 4
  093be	04		 DB	 4
  093bf	04		 DB	 4
  093c0	04		 DB	 4
  093c1	04		 DB	 4
  093c2	04		 DB	 4
  093c3	00		 DB	 0
$L75676:
  093c4	00 00 00 00	 DD	 $L73334
  093c8	00 00 00 00	 DD	 $L73300
  093cc	00 00 00 00	 DD	 $L73329
  093d0	00 00 00 00	 DD	 $L73330
  093d4	00 00 00 00	 DD	 $L73332
  093d8	00 00 00 00	 DD	 $L73358
$L75675:
  093dc	00		 DB	 0
  093dd	05		 DB	 5
  093de	05		 DB	 5
  093df	05		 DB	 5
  093e0	05		 DB	 5
  093e1	05		 DB	 5
  093e2	05		 DB	 5
  093e3	01		 DB	 1
  093e4	02		 DB	 2
  093e5	03		 DB	 3
  093e6	04		 DB	 4
  093e7	05		 DB	 5
  093e8	05		 DB	 5
  093e9	05		 DB	 5
  093ea	05		 DB	 5
  093eb	05		 DB	 5
  093ec	05		 DB	 5
  093ed	03		 DB	 3
  093ee	05		 DB	 5
  093ef	05		 DB	 5
  093f0	05		 DB	 5
  093f1	05		 DB	 5
  093f2	05		 DB	 5
  093f3	03		 DB	 3
  093f4	03		 DB	 3
  093f5	8d 49 00	 npad	 3
$L75678:
  093f8	00 00 00 00	 DD	 $L73332
  093fc	00 00 00 00	 DD	 $L73348
  09400	00 00 00 00	 DD	 $L73349
  09404	00 00 00 00	 DD	 $L73358
  09408	00 00 00 00	 DD	 $L73350
  0940c	00 00 00 00	 DD	 $L73352
$L75677:
  09410	00		 DB	 0
  09411	01		 DB	 1
  09412	02		 DB	 2
  09413	03		 DB	 3
  09414	05		 DB	 5
  09415	03		 DB	 3
  09416	05		 DB	 5
  09417	05		 DB	 5
  09418	05		 DB	 5
  09419	05		 DB	 5
  0941a	04		 DB	 4
  0941b	05		 DB	 5
  0941c	05		 DB	 5
  0941d	05		 DB	 5
  0941e	05		 DB	 5
  0941f	05		 DB	 5
  09420	05		 DB	 5
  09421	05		 DB	 5
  09422	04		 DB	 4
  09423	90		 npad	 1
$L75680:
  09424	00 00 00 00	 DD	 $L73361
  09428	00 00 00 00	 DD	 $L73358
$L75679:
  0942c	00		 DB	 0
  0942d	00		 DB	 0
  0942e	00		 DB	 0
  0942f	00		 DB	 0
  09430	01		 DB	 1
  09431	01		 DB	 1
  09432	01		 DB	 1
  09433	01		 DB	 1
  09434	01		 DB	 1
  09435	01		 DB	 1
  09436	00		 DB	 0
  09437	01		 DB	 1
  09438	01		 DB	 1
  09439	01		 DB	 1
  0943a	01		 DB	 1
  0943b	01		 DB	 1
  0943c	01		 DB	 1
  0943d	00		 DB	 0
_la_spec_coart ENDP
_pDph_t$ = 8
_nfon$ = 12
_diphpos$ = 16
_temp$ = 8
_gr_special_coartic PROC NEAR

; 465  : 	/* Note: Gen coartic of 5% with adjacent segs elsewhere, so stuff here is big */
; 466  : 	/* This routine is only called if the current segment is diph (i.e. a vowel) */
; 467  : 
; 468  : 	short                   temp, fonnex, foncur, fonlas;
; 469  : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;
; 470  : 
; 471  : 	temp = 0;
; 472  : 	foncur = get_phone(pDph_t, nfon);

  09440	66 8b 4c 24 08	 mov	 cx, WORD PTR _nfon$[esp-4]
  09445	53		 push	 ebx
  09446	8b 5c 24 08	 mov	 ebx, DWORD PTR _pDph_t$[esp]
  0944a	55		 push	 ebp
  0944b	56		 push	 esi
  0944c	57		 push	 edi
  0944d	8b 93 10 2c 00
	00		 mov	 edx, DWORD PTR [ebx+11280]
  09453	c7 44 24 14 00
	00 00 00	 mov	 DWORD PTR _temp$[esp+12], 0
  0945b	66 85 c9	 test	 cx, cx
  0945e	7c 16		 jl	 SHORT $L75682
  09460	66 3b 8b 06 15
	00 00		 cmp	 cx, WORD PTR [ebx+5382]
  09467	7d 0d		 jge	 SHORT $L75682
  09469	0f bf c1	 movsx	 eax, cx
  0946c	66 8b 84 43 ec
	03 00 00	 mov	 ax, WORD PTR [ebx+eax*2+1004]
  09474	eb 05		 jmp	 SHORT $L75683
$L75682:
  09476	b8 00 1e 00 00	 mov	 eax, 7680		; 00001e00H
$L75683:

; 473  : 	fonnex = get_phone(pDph_t, nfon + 1);

  0947b	0f bf e9	 movsx	 ebp, cx
  0947e	8d 4d 01	 lea	 ecx, DWORD PTR [ebp+1]
  09481	85 c9		 test	 ecx, ecx
  09483	7c 15		 jl	 SHORT $L75684
  09485	0f bf b3 06 15
	00 00		 movsx	 esi, WORD PTR [ebx+5382]
  0948c	3b ce		 cmp	 ecx, esi
  0948e	7d 0a		 jge	 SHORT $L75684
  09490	66 8b bc 6b ee
	03 00 00	 mov	 di, WORD PTR [ebx+ebp*2+1006]
  09498	eb 05		 jmp	 SHORT $L75685
$L75684:
  0949a	bf 00 1e 00 00	 mov	 edi, 7680		; 00001e00H
$L75685:

; 474  : 	fonlas = get_phone(pDph_t, nfon - 1);

  0949f	8d 4d ff	 lea	 ecx, DWORD PTR [ebp-1]
  094a2	85 c9		 test	 ecx, ecx
  094a4	7c 15		 jl	 SHORT $L75686
  094a6	0f bf b3 06 15
	00 00		 movsx	 esi, WORD PTR [ebx+5382]
  094ad	3b ce		 cmp	 ecx, esi
  094af	7d 0a		 jge	 SHORT $L75686
  094b1	66 8b b4 6b ea
	03 00 00	 mov	 si, WORD PTR [ebx+ebp*2+1002]
  094b9	eb 05		 jmp	 SHORT $L75687
$L75686:
  094bb	be 00 1e 00 00	 mov	 esi, 7680		; 00001e00H
$L75687:

; 475  : 
; 476  : 
; 477  : 	/* F2 target of selected vowels */
; 478  : 	if (pDphsettar->np == &PF2)

  094c0	8d 4b 48	 lea	 ecx, DWORD PTR [ebx+72]
  094c3	39 4a 10	 cmp	 DWORD PTR [edx+16], ecx
  094c6	0f 85 54 01 00
	00		 jne	 $L75698

; 479  : 	{
; 480  : 		/* Front vowel F2 target lowered before [L] */
; 481  : 		if (fonnex == GRP_L)

  094cc	66 8b 54 24 1c	 mov	 dx, WORD PTR _diphpos$[esp+12]
  094d1	66 81 ff 1a 1c	 cmp	 di, 7194		; 00001c1aH
  094d6	75 5a		 jne	 SHORT $L73727

; 482  : 		{
; 483  : 			if ((foncur == GRP_E) && (foncur == GRP_AE) || (foncur == GRP_I)
; 484  : 				|| (foncur == GRP_EH)
; 485  : 				|| (foncur == GRP_AEH)
; 486  : 				|| (foncur == GRP_IH)
; 487  : 				)

  094d8	66 3d 02 1c	 cmp	 ax, 7170		; 00001c02H
  094dc	74 54		 je	 SHORT $L73727
  094de	66 3d 05 1c	 cmp	 ax, 7173		; 00001c05H
  094e2	74 12		 je	 SHORT $L73723
  094e4	66 3d 0b 1c	 cmp	 ax, 7179		; 00001c0bH
  094e8	74 0c		 je	 SHORT $L73723
  094ea	66 3d 03 1c	 cmp	 ax, 7171		; 00001c03H
  094ee	74 06		 je	 SHORT $L73723
  094f0	66 3d 0d 1c	 cmp	 ax, 7181		; 00001c0dH
  094f4	75 08		 jne	 SHORT $L73722
$L73723:

; 488  : 			{
; 489  : 				temp = -150;

  094f6	c7 44 24 14 6a
	ff ff ff	 mov	 DWORD PTR _temp$[esp+12], -150 ; ffffff6aH
$L73722:

; 490  : 			}
; 491  : 			if (((foncur == GRP_AU) || (foncur == GRP_EU))
; 492  : 				&& (diphpos == 1))

  094fe	66 3d 13 1c	 cmp	 ax, 7187		; 00001c13H
  09502	74 06		 je	 SHORT $L73726
  09504	66 3d 14 1c	 cmp	 ax, 7188		; 00001c14H
  09508	75 0e		 jne	 SHORT $L73725
$L73726:
  0950a	66 83 fa 01	 cmp	 dx, 1
  0950e	75 08		 jne	 SHORT $L73725

; 493  : 			{
; 494  : 				temp = -250;

  09510	c7 44 24 14 06
	ff ff ff	 mov	 DWORD PTR _temp$[esp+12], -250 ; ffffff06H
$L73725:

; 495  : 			}
; 496  : 			if (((foncur == GRP_AU) || (foncur == GRP_EU))
; 497  : 				&& (diphpos > 1))

  09518	66 3d 13 1c	 cmp	 ax, 7187		; 00001c13H
  0951c	74 06		 je	 SHORT $L73728
  0951e	66 3d 14 1c	 cmp	 ax, 7188		; 00001c14H
  09522	75 0e		 jne	 SHORT $L73727
$L73728:
  09524	66 83 fa 01	 cmp	 dx, 1
  09528	7e 08		 jle	 SHORT $L73727

; 498  : 			{
; 499  : 				temp = -350;

  0952a	c7 44 24 14 a2
	fe ff ff	 mov	 DWORD PTR _temp$[esp+12], -350 ; fffffea2H
$L73727:

; 500  : 
; 501  : 			}
; 502  : 		}
; 503  : 		/* Front vowel F2 target lowered after [W], [L] (DO ALSO FOR F3 of [W] */
; 504  : 		//if ((fonlas == W) || (fonlas == LL) || (fonlas == LX))
; 505  : 		if(fonlas == GRP_L)

  09532	66 81 fe 1a 1c	 cmp	 si, 7194		; 00001c1aH
  09537	75 26		 jne	 SHORT $L73730

; 506  : 		{
; 507  : 				if ((foncur == GRP_E) && (foncur == GRP_AE) || (foncur == GRP_I)
; 508  : 				|| (foncur == GRP_EH)
; 509  : 				|| (foncur == GRP_AEH)
; 510  : 				|| (foncur == GRP_IH)
; 511  : 				)

  09539	66 3d 02 1c	 cmp	 ax, 7170		; 00001c02H
  0953d	74 63		 je	 SHORT $L73737
  0953f	66 3d 05 1c	 cmp	 ax, 7173		; 00001c05H
  09543	74 12		 je	 SHORT $L73731
  09545	66 3d 0b 1c	 cmp	 ax, 7179		; 00001c0bH
  09549	74 0c		 je	 SHORT $L73731
  0954b	66 3d 03 1c	 cmp	 ax, 7171		; 00001c03H
  0954f	74 06		 je	 SHORT $L73731
  09551	66 3d 0d 1c	 cmp	 ax, 7181		; 00001c0dH
  09555	75 08		 jne	 SHORT $L73730
$L73731:

; 512  : 
; 513  : 			{
; 514  : 				temp = -150;		   /* las and nex effects not cumulative */

  09557	c7 44 24 14 6a
	ff ff ff	 mov	 DWORD PTR _temp$[esp+12], -150 ; ffffff6aH
$L73730:

; 515  : 			}
; 516  : 		}
; 517  : 		/* [UW] F2 target raised adjacent to an alveolar */
; 518  : 		if (foncur == GRP_UE)

  0955f	66 3d 09 1c	 cmp	 ax, 7177		; 00001c09H
  09563	b1 08		 mov	 cl, 8
  09565	75 19		 jne	 SHORT $L75696

; 519  : 		{
; 520  : 			if ((gr_place[fonlas & PVALUE] & FALVEL) IS_PLUS)

  09567	81 e6 ff 00 00
	00		 and	 esi, 255		; 000000ffH
  0956d	84 0c 75 00 00
	00 00		 test	 BYTE PTR _gr_place[esi*2], cl
  09574	74 15		 je	 SHORT $L73736

; 521  : 			{
; 522  : 				temp = 200;

  09576	c7 44 24 14 c8
	00 00 00	 mov	 DWORD PTR _temp$[esp+12], 200 ; 000000c8H

; 523  : 			}
; 524  : 		}
; 525  : 		if ((foncur == GRP_UE)
; 526  : 			|| ((foncur == GRP_U) && (diphpos > 0)))

  0957e	eb 0b		 jmp	 SHORT $L73736
$L75696:
  09580	66 3d 08 1c	 cmp	 ax, 7176		; 00001c08H
  09584	75 1c		 jne	 SHORT $L73737
  09586	66 85 d2	 test	 dx, dx
  09589	7e 17		 jle	 SHORT $L73737
$L73736:

; 527  : 		{
; 528  : 			if ((gr_place[fonnex & PVALUE] & FALVEL) IS_PLUS)

  0958b	81 e7 ff 00 00
	00		 and	 edi, 255		; 000000ffH
  09591	84 0c 7d 00 00
	00 00		 test	 BYTE PTR _gr_place[edi*2], cl
  09598	74 08		 je	 SHORT $L73737

; 529  : 			{
; 530  : 				temp += 200;

  0959a	81 44 24 14 c8
	00 00 00	 add	 DWORD PTR _temp$[esp+12], 200 ; 000000c8H
$L73737:

; 531  : 			}
; 532  : 		}
; 533  : 		/* Effects are greater for unstressed vowels */
; 534  : 		if ((pDph_t->allofeats[nfon] & FSTRESS) IS_MINUS)

  095a2	8b 8c ab 58 06
	00 00		 mov	 ecx, DWORD PTR [ebx+ebp*4+1624]
  095a9	f6 c1 03	 test	 cl, 3
  095ac	75 2f		 jne	 SHORT $L73738

; 535  : 		{
; 536  : 			temp += (temp >> 1);

  095ae	66 8b 4c 24 14	 mov	 cx, WORD PTR _temp$[esp+12]
  095b3	8b 74 24 14	 mov	 esi, DWORD PTR _temp$[esp+12]
  095b7	66 d1 f9	 sar	 cx, 1
  095ba	03 f1		 add	 esi, ecx

; 537  : 
; 538  : 			/* Unstressed YU has a fronted U part */
; 539  : 			if ((foncur == GRP_U) && (diphpos > 0))

  095bc	66 3d 08 1c	 cmp	 ax, 7176		; 00001c08H
  095c0	89 74 24 14	 mov	 DWORD PTR _temp$[esp+12], esi
  095c4	75 2f		 jne	 SHORT $L75699
  095c6	66 85 d2	 test	 dx, dx
  095c9	7e 2a		 jle	 SHORT $L75699
  095cb	5f		 pop	 edi

; 540  : 			{
; 541  : 				temp = 400;

  095cc	c7 44 24 10 90
	01 00 00	 mov	 DWORD PTR _temp$[esp+8], 400 ; 00000190H

; 554  : 	}
; 555  : 
; 556  : 	return (temp);

  095d4	66 8b 44 24 10	 mov	 ax, WORD PTR _temp$[esp+8]
  095d9	5e		 pop	 esi
  095da	5d		 pop	 ebp
  095db	5b		 pop	 ebx

; 557  : }

  095dc	c3		 ret	 0
$L73738:

; 542  : 			}
; 543  : 		}
; 544  : 		/* Reduce effects for phrase-final stressed vowels */
; 545  : 		else if ((pDph_t->allofeats[nfon] & FBOUNDARY) >= FVPNEXT)

  095dd	81 e1 e0 01 00
	00		 and	 ecx, 480		; 000001e0H
  095e3	81 f9 a0 00 00
	00		 cmp	 ecx, 160		; 000000a0H
  095e9	72 0a		 jb	 SHORT $L75699

; 546  : 		{
; 547  : 			temp = temp >> 1;

  095eb	66 8b 44 24 14	 mov	 ax, WORD PTR _temp$[esp+12]
  095f0	66 d1 f8	 sar	 ax, 1
  095f3	eb 05		 jmp	 SHORT $L73741
$L75699:
  095f5	66 8b 44 24 14	 mov	 ax, WORD PTR _temp$[esp+12]
$L73741:

; 548  : 		}
; 549  : 		/* Maximum change should not be excessive */
; 550  : 		if (temp > 400)

  095fa	66 3d 90 01	 cmp	 ax, 400			; 00000190H
  095fe	7e 12		 jle	 SHORT $L73742
  09600	5f		 pop	 edi

; 551  : 			temp = 400;

  09601	c7 44 24 10 90
	01 00 00	 mov	 DWORD PTR _temp$[esp+8], 400 ; 00000190H

; 554  : 	}
; 555  : 
; 556  : 	return (temp);

  09609	66 8b 44 24 10	 mov	 ax, WORD PTR _temp$[esp+8]
  0960e	5e		 pop	 esi
  0960f	5d		 pop	 ebp
  09610	5b		 pop	 ebx

; 557  : }

  09611	c3		 ret	 0
$L73742:

; 552  : 		if (temp < -400)

  09612	66 3d 70 fe	 cmp	 ax, -400		; fffffe70H
  09616	7d 0d		 jge	 SHORT $L73743

; 553  : 			temp = -400;

  09618	c7 44 24 14 70
	fe ff ff	 mov	 DWORD PTR _temp$[esp+12], -400 ; fffffe70H
$L75698:

; 554  : 	}
; 555  : 
; 556  : 	return (temp);

  09620	66 8b 44 24 14	 mov	 ax, WORD PTR _temp$[esp+12]
$L73743:
  09625	5f		 pop	 edi
  09626	5e		 pop	 esi
  09627	5d		 pop	 ebp
  09628	5b		 pop	 ebx

; 557  : }

  09629	c3		 ret	 0
_gr_special_coartic ENDP
_phTTS$ = 8
_nfone$ = 12
_getendtar PROC NEAR

; 1311 : 	short                   temp, tmp;
; 1312 : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  09630	8b 4c 24 04	 mov	 ecx, DWORD PTR _phTTS$[esp-4]
  09634	53		 push	 ebx

; 1313 : 	PKSD_T                  pKsd_t = phTTS->pKernelShareData;
; 1314 : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;
; 1315 : 
; 1316 : 	temp = gettar (phTTS, nfone);

  09635	8b 5c 24 0c	 mov	 ebx, DWORD PTR _nfone$[esp]
  09639	55		 push	 ebp
  0963a	56		 push	 esi
  0963b	57		 push	 edi
  0963c	8b 79 18	 mov	 edi, DWORD PTR [ecx+24]
  0963f	85 db		 test	 ebx, ebx
  09641	8b af 10 2c 00
	00		 mov	 ebp, DWORD PTR [edi+11280]
  09647	7c 15		 jl	 SHORT $L75710
  09649	0f bf 87 06 15
	00 00		 movsx	 eax, WORD PTR [edi+5382]
  09650	3b d8		 cmp	 ebx, eax
  09652	7d 0a		 jge	 SHORT $L75710
  09654	0f bf 84 5f ec
	03 00 00	 movsx	 eax, WORD PTR [edi+ebx*2+1004]
  0965c	eb 05		 jmp	 SHORT $L75711
$L75710:
  0965e	b8 00 1e 00 00	 mov	 eax, 7680		; 00001e00H
$L75711:
  09663	c1 f8 08	 sar	 eax, 8
  09666	53		 push	 ebx
  09667	51		 push	 ecx
  09668	ff 14 85 00 00
	00 00		 call	 DWORD PTR _all_gettar[eax*4]
  0966f	83 c4 08	 add	 esp, 8

; 1317 : 	if (temp < -1)

  09672	66 3d ff ff	 cmp	 ax, -1
  09676	0f 8d be 00 00
	00		 jge	 $L74561

; 1318 : 	{
; 1319 : 		temp = -temp;                              /* Vowel tar is diphth */
; 1320 : 
; 1321 : 		while (pDph_t->p_diph[temp] != -1)

  0967c	8b 8f 14 15 00
	00		 mov	 ecx, DWORD PTR [edi+5396]
  09682	f7 d8		 neg	 eax
  09684	0f bf d0	 movsx	 edx, ax
  09687	66 83 3c 51 ff	 cmp	 WORD PTR [ecx+edx*2], -1
  0968c	74 0b		 je	 SHORT $L74550
$L74549:

; 1322 : 		{
; 1323 : 			temp++;

  0968e	40		 inc	 eax
  0968f	0f bf d0	 movsx	 edx, ax
  09692	66 83 3c 51 ff	 cmp	 WORD PTR [ecx+edx*2], -1
  09697	75 f5		 jne	 SHORT $L74549
$L74550:

; 1324 : 		}
; 1325 : 		temp = pDph_t->p_diph[temp - 1];        /* Last val of diph */

  09699	0f bf c0	 movsx	 eax, ax
  0969c	66 8b 74 41 fe	 mov	 si, WORD PTR [ecx+eax*2-2]

; 1326 : 		/* Special coarticulation rules to change (vowel) target */
; 1327 : 		if (pDphsettar->par_type IS_FORM_FREQ)

  096a1	8a 45 14	 mov	 al, BYTE PTR [ebp+20]
  096a4	3c 03		 cmp	 al, 3
  096a6	0f 85 8b 00 00
	00		 jne	 $L75716

; 1328 : 		{
; 1329 : 			//temp1 = special_coartic (pDph_t, nfone, 1);
; 1330 : 			tmp = get_phone(pDph_t,nfone);

  096ac	85 db		 test	 ebx, ebx
  096ae	7c 15		 jl	 SHORT $L75712
  096b0	0f bf 8f 06 15
	00 00		 movsx	 ecx, WORD PTR [edi+5382]
  096b7	3b d9		 cmp	 ebx, ecx
  096b9	7d 0a		 jge	 SHORT $L75712
  096bb	66 8b 84 5f ec
	03 00 00	 mov	 ax, WORD PTR [edi+ebx*2+1004]
  096c3	eb 05		 jmp	 SHORT $L75713
$L75712:
  096c5	b8 00 1e 00 00	 mov	 eax, 7680		; 00001e00H
$L75713:

; 1331 : 			tmp = tmp & PFONT;

  096ca	25 00 1f 00 00	 and	 eax, 7936		; 00001f00H

; 1332 : 			if(tmp == PFUSA<<PSFONT)

  096cf	66 3d 00 1e	 cmp	 ax, 7680		; 00001e00H
  096d3	75 16		 jne	 SHORT $L74552

; 1333 : 			{
; 1334 : 				temp += us_special_coartic (pDph_t, (short)nfone, 0);

  096d5	6a 00		 push	 0
  096d7	53		 push	 ebx
  096d8	57		 push	 edi
  096d9	e8 00 00 00 00	 call	 _us_special_coartic

; 1345 : 			{
; 1346 : 				temp += sp_special_coartic (pDph_t, (short)nfone, 0);

  096de	83 c4 0c	 add	 esp, 12			; 0000000cH
  096e1	03 f0		 add	 esi, eax

; 1347 : 			}
; 1348 : 			else if(tmp == PFFR<<PSFONT)
; 1349 : 			{
; 1350 : 				//temp += fr_special_coartic (pDph_t, nfone, 0);
; 1351 : 			//when we have french change to fr_
; 1352 : 			}
; 1353 : 		}
; 1354 : 	}
; 1355 : 	return (temp);

  096e3	66 8b c6	 mov	 ax, si
  096e6	5f		 pop	 edi
  096e7	5e		 pop	 esi
  096e8	5d		 pop	 ebp
  096e9	5b		 pop	 ebx

; 1356 : }

  096ea	c3		 ret	 0
$L74552:

; 1335 : 			}
; 1336 : 			else if(tmp == PFGR<<PSFONT)

  096eb	66 3d 00 1c	 cmp	 ax, 7168		; 00001c00H
  096ef	75 16		 jne	 SHORT $L74555

; 1337 : 			{	
; 1338 : 				temp += gr_special_coartic (pDph_t, (short)nfone, 0);

  096f1	6a 00		 push	 0
  096f3	53		 push	 ebx
  096f4	57		 push	 edi
  096f5	e8 00 00 00 00	 call	 _gr_special_coartic

; 1345 : 			{
; 1346 : 				temp += sp_special_coartic (pDph_t, (short)nfone, 0);

  096fa	83 c4 0c	 add	 esp, 12			; 0000000cH
  096fd	03 f0		 add	 esi, eax

; 1347 : 			}
; 1348 : 			else if(tmp == PFFR<<PSFONT)
; 1349 : 			{
; 1350 : 				//temp += fr_special_coartic (pDph_t, nfone, 0);
; 1351 : 			//when we have french change to fr_
; 1352 : 			}
; 1353 : 		}
; 1354 : 	}
; 1355 : 	return (temp);

  096ff	66 8b c6	 mov	 ax, si
  09702	5f		 pop	 edi
  09703	5e		 pop	 esi
  09704	5d		 pop	 ebp
  09705	5b		 pop	 ebx

; 1356 : }

  09706	c3		 ret	 0
$L74555:

; 1339 : 			}
; 1340 : 			else if(tmp == PFLA<<PSFONT)

  09707	66 3d 00 1a	 cmp	 ax, 6656		; 00001a00H
  0970b	75 16		 jne	 SHORT $L74558

; 1341 : 			{
; 1342 : 				temp += la_special_coartic (pDph_t, (short)nfone, 0);

  0970d	6a 00		 push	 0
  0970f	53		 push	 ebx
  09710	57		 push	 edi
  09711	e8 00 00 00 00	 call	 _la_special_coartic

; 1345 : 			{
; 1346 : 				temp += sp_special_coartic (pDph_t, (short)nfone, 0);

  09716	83 c4 0c	 add	 esp, 12			; 0000000cH
  09719	03 f0		 add	 esi, eax

; 1347 : 			}
; 1348 : 			else if(tmp == PFFR<<PSFONT)
; 1349 : 			{
; 1350 : 				//temp += fr_special_coartic (pDph_t, nfone, 0);
; 1351 : 			//when we have french change to fr_
; 1352 : 			}
; 1353 : 		}
; 1354 : 	}
; 1355 : 	return (temp);

  0971b	66 8b c6	 mov	 ax, si
  0971e	5f		 pop	 edi
  0971f	5e		 pop	 esi
  09720	5d		 pop	 ebp
  09721	5b		 pop	 ebx

; 1356 : }

  09722	c3		 ret	 0
$L74558:

; 1343 : 			}
; 1344 : 			else if(tmp == PFSP<<PSFONT)

  09723	66 3d 00 1b	 cmp	 ax, 6912		; 00001b00H
  09727	75 0e		 jne	 SHORT $L75716

; 1345 : 			{
; 1346 : 				temp += sp_special_coartic (pDph_t, (short)nfone, 0);

  09729	6a 00		 push	 0
  0972b	53		 push	 ebx
  0972c	57		 push	 edi
  0972d	e8 00 00 00 00	 call	 _sp_special_coartic
  09732	83 c4 0c	 add	 esp, 12			; 0000000cH
  09735	03 f0		 add	 esi, eax
$L75716:

; 1347 : 			}
; 1348 : 			else if(tmp == PFFR<<PSFONT)
; 1349 : 			{
; 1350 : 				//temp += fr_special_coartic (pDph_t, nfone, 0);
; 1351 : 			//when we have french change to fr_
; 1352 : 			}
; 1353 : 		}
; 1354 : 	}
; 1355 : 	return (temp);

  09737	66 8b c6	 mov	 ax, si
$L74561:
  0973a	5f		 pop	 edi
  0973b	5e		 pop	 esi
  0973c	5d		 pop	 ebp
  0973d	5b		 pop	 ebx

; 1356 : }

  0973e	c3		 ret	 0
_getendtar ENDP
_pDph_t$ = 8
_pdip$ = 12
_inhdr_frames$ = 16
_shrink$ = 20
_ppsNdips$ = 28
_dipsw$ = -12
_oldvalue$ = 8
_oldtime$ = -8
_make_dip PROC NEAR

; 1385 : {

  09740	83 ec 0c	 sub	 esp, 12			; 0000000cH

; 1386 : 	short                   temp, dip_pos,tmp;
; 1387 : 
; 1388 : 	/* MVP :List of variables made local                      */
; 1389 : 	short                   dipsw;
; 1390 : 	short                   oldvalue, newvalue, oldtime, newtime;
; 1391 : 
; 1392 : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;
; 1393 : 
; 1394 : 	pDphsettar->np->ndip = *ppsNdips;  /* Start of diph info for this par in dipspec[] */

  09743	8b 4c 24 24	 mov	 ecx, DWORD PTR _ppsNdips$[esp+8]
  09747	53		 push	 ebx
  09748	55		 push	 ebp
  09749	56		 push	 esi
  0974a	8b 74 24 1c	 mov	 esi, DWORD PTR _pDph_t$[esp+20]
  0974e	8b 11		 mov	 edx, DWORD PTR [ecx]

; 1395 : 
; 1396 : 	oldvalue = pDph_t->p_diph[pdip];   /* cccc Initial value of first straight line */

  09750	8b 6c 24 20	 mov	 ebp, DWORD PTR _pdip$[esp+20]
  09754	57		 push	 edi
  09755	8b 9e 10 2c 00
	00		 mov	 ebx, DWORD PTR [esi+11280]
  0975b	8b 43 10	 mov	 eax, DWORD PTR [ebx+16]
  0975e	89 50 1c	 mov	 DWORD PTR [eax+28], edx
  09761	8b 8e 14 15 00
	00		 mov	 ecx, DWORD PTR [esi+5396]
  09767	0f bf c5	 movsx	 eax, bp
  0976a	66 8b 3c 41	 mov	 di, WORD PTR [ecx+eax*2]

; 1397 : 
; 1398 : 	/* Formant frequency coarticulation rules */
; 1399 : 	if (pDphsettar->par_type IS_FORM_FREQ)

  0976e	8a 43 14	 mov	 al, BYTE PTR [ebx+20]
  09771	3c 03		 cmp	 al, 3
  09773	89 7c 24 20	 mov	 DWORD PTR _oldvalue$[esp+24], edi
  09777	0f 85 91 00 00
	00		 jne	 $L74595

; 1400 : 	{
; 1401 : 		/* General rule: prev. phone changes init. vowel tar toward phlas */
; 1402 : 		pDphsettar->gencoartic = N10PRCNT;
; 1403 : 		if ((struccur & FSTRESS) IS_MINUS)
; 1404 : 		{
; 1405 : 			/* Increased coarticulation, especially F2, if unstressed */
; 1406 : 			/* OUT         gencoartic = N15PRCNT; if (pDphsettar->np == &PF2) { gencoartic = N25PRCNT; } END OUT */
; 1407 : 		}
; 1408 : 		pDph_t->arg1 = pDphsettar->np->tarlas - oldvalue;

  0977d	8b 53 10	 mov	 edx, DWORD PTR [ebx+16]
  09780	66 c7 43 0c 66
	06		 mov	 WORD PTR [ebx+12], 1638	; 00000666H
  09786	66 8b 42 18	 mov	 ax, WORD PTR [edx+24]
  0978a	66 2b c7	 sub	 ax, di
  0978d	66 89 86 20 15
	00 00		 mov	 WORD PTR [esi+5408], ax

; 1409 : 		pDph_t->arg2 = pDphsettar->gencoartic;

  09794	66 8b 43 0c	 mov	 ax, WORD PTR [ebx+12]

; 1410 : 		oldvalue += mlsh1 (pDph_t->arg1, pDph_t->arg2);

  09798	0f bf 96 20 15
	00 00		 movsx	 edx, WORD PTR [esi+5408]
  0979f	0f bf c8	 movsx	 ecx, ax
  097a2	0f af ca	 imul	 ecx, edx
  097a5	c1 f9 0e	 sar	 ecx, 14			; 0000000eH
  097a8	03 f9		 add	 edi, ecx

; 1411 : 		/* Special rule: (see subroutine) */
; 1412 : 		dip_pos = 0;
; 1413 : 		//oldvalue += special_coartic (pDph_t, pDph_t->nphone, dip_pos);
; 1414 : 			tmp = pDph_t->nphone & PFONT;

  097aa	66 8b 8e d0 23
	00 00		 mov	 cx, WORD PTR [esi+9168]
  097b1	66 89 86 22 15
	00 00		 mov	 WORD PTR [esi+5410], ax
  097b8	8b c1		 mov	 eax, ecx
  097ba	25 00 1f 00 00	 and	 eax, 7936		; 00001f00H
  097bf	89 7c 24 20	 mov	 DWORD PTR _oldvalue$[esp+24], edi

; 1415 : 			if(tmp == PFUSA<<PSFONT)

  097c3	66 3d 00 1e	 cmp	 ax, 7680		; 00001e00H
  097c7	75 0b		 jne	 SHORT $L74589

; 1416 : 			{
; 1417 : 				oldvalue += us_special_coartic (pDph_t, pDph_t->nphone, 0);

  097c9	6a 00		 push	 0
  097cb	51		 push	 ecx
  097cc	56		 push	 esi
  097cd	e8 00 00 00 00	 call	 _us_special_coartic

; 1418 : 			}
; 1419 : 			else if(tmp == PFGR<<PSFONT)

  097d2	eb 31		 jmp	 SHORT $L75725
$L74589:
  097d4	66 3d 00 1c	 cmp	 ax, 7168		; 00001c00H
  097d8	75 0b		 jne	 SHORT $L74591

; 1420 : 			{	
; 1421 : 				oldvalue += gr_special_coartic (pDph_t, pDph_t->nphone, 0);

  097da	6a 00		 push	 0
  097dc	51		 push	 ecx
  097dd	56		 push	 esi
  097de	e8 00 00 00 00	 call	 _gr_special_coartic

; 1422 : 			}
; 1423 : 			else if(tmp == PFLA<<PSFONT)

  097e3	eb 20		 jmp	 SHORT $L75725
$L74591:
  097e5	66 3d 00 1a	 cmp	 ax, 6656		; 00001a00H
  097e9	75 0b		 jne	 SHORT $L74593

; 1424 : 			{
; 1425 : 				oldvalue += la_special_coartic (pDph_t, pDph_t->nphone, 0);

  097eb	6a 00		 push	 0
  097ed	51		 push	 ecx
  097ee	56		 push	 esi
  097ef	e8 00 00 00 00	 call	 _la_special_coartic

; 1426 : 			}
; 1427 : 			else if(tmp == PFSP<<PSFONT)

  097f4	eb 0f		 jmp	 SHORT $L75725
$L74593:
  097f6	66 3d 00 1b	 cmp	 ax, 6912		; 00001b00H
  097fa	75 12		 jne	 SHORT $L74595

; 1428 : 			{
; 1429 : 				oldvalue += sp_special_coartic (pDph_t, pDph_t->nphone, 0);

  097fc	6a 00		 push	 0
  097fe	51		 push	 ecx
  097ff	56		 push	 esi
  09800	e8 00 00 00 00	 call	 _sp_special_coartic
$L75725:
  09805	83 c4 0c	 add	 esp, 12			; 0000000cH
  09808	03 f8		 add	 edi, eax
  0980a	89 7c 24 20	 mov	 DWORD PTR _oldvalue$[esp+24], edi
$L74595:

; 1430 : 			}
; 1431 : 			else if(tmp == PFFR<<PSFONT)
; 1432 : 			{
; 1433 : 				//oldvalue += fr_special_coartic (pDph_t, pDph_t->nphone, 0);
; 1434 : 			//when we have frecnh change to fr_
; 1435 : 			}
; 1436 : 			
; 1437 : 		
; 1438 : 		
; 1439 : #ifdef DEBUG_targetS
; 1440 : 		printf (
; 1441 : 				   " tarbeg=%4d  (from 10%% tarlas=%4d, 90%% tarbeg=%d)\n",
; 1442 : 				   oldvalue, pDphsettar->np->tarlas, pDph_t->p_diph[pdip]);
; 1443 : #endif
; 1444 : 	}
; 1445 : 	pDphsettar->np->tarcur = oldvalue;

  0980e	8b 43 10	 mov	 eax, DWORD PTR [ebx+16]
  09811	66 89 38	 mov	 WORD PTR [eax], di

; 1446 : 
; 1447 : 	/* Current value of time */
; 1448 : 	oldtime = 0;

  09814	33 c0		 xor	 eax, eax
  09816	89 44 24 14	 mov	 DWORD PTR _oldtime$[esp+28], eax

; 1449 : 
; 1450 : 	/* Process each <value,time> of diph definition */
; 1451 : 	dipsw = 0;

  0981a	89 44 24 10	 mov	 DWORD PTR _dipsw$[esp+28], eax
  0981e	eb 08		 jmp	 SHORT $L74598
$L75724:
  09820	8b 7c 24 20	 mov	 edi, DWORD PTR _oldvalue$[esp+24]
  09824	8b 6c 24 24	 mov	 ebp, DWORD PTR _pdip$[esp+24]
$L74598:

; 1452 : 	do
; 1453 : 	{
; 1454 : 		if (dipsw == 0)

  09828	66 83 7c 24 10
	00		 cmp	 WORD PTR _dipsw$[esp+28], 0
  0982e	75 12		 jne	 SHORT $L74601

; 1455 : 		{
; 1456 : 			newvalue = oldvalue;
; 1457 : 			dipsw++;
; 1458 : 			pdip++;

  09830	45		 inc	 ebp
  09831	c7 44 24 10 01
	00 00 00	 mov	 DWORD PTR _dipsw$[esp+28], 1
  09839	89 6c 24 24	 mov	 DWORD PTR _pdip$[esp+24], ebp

; 1459 : 		}
; 1460 : 		else

  0983d	e9 a4 00 00 00	 jmp	 $L74611
$L74601:

; 1461 : 		{
; 1462 : 			newvalue = pDph_t->p_diph[pdip++];

  09842	8b 96 14 15 00
	00		 mov	 edx, DWORD PTR [esi+5396]

; 1463 : 
; 1464 : 			/* Formant frequency coarticulation rules */
; 1465 : 			if (pDphsettar->par_type IS_FORM_FREQ)

  09848	8a 43 14	 mov	 al, BYTE PTR [ebx+20]
  0984b	0f bf cd	 movsx	 ecx, bp
  0984e	45		 inc	 ebp
  0984f	3c 03		 cmp	 al, 3
  09851	66 8b 3c 4a	 mov	 di, WORD PTR [edx+ecx*2]
  09855	89 6c 24 24	 mov	 DWORD PTR _pdip$[esp+24], ebp
  09859	0f 85 87 00 00
	00		 jne	 $L74611

; 1466 : 			{
; 1467 : 				/* General rule: next phone changes vowel tar toward phnex */
; 1468 : 				if (pDphsettar->np->tarnex > 0)

  0985f	8b 43 10	 mov	 eax, DWORD PTR [ebx+16]
  09862	66 8b 40 16	 mov	 ax, WORD PTR [eax+22]
  09866	66 85 c0	 test	 ax, ax
  09869	7e 26		 jle	 SHORT $L74604

; 1469 : 				{
; 1470 : 					pDph_t->arg1 = pDphsettar->np->tarnex - newvalue;

  0986b	2b c7		 sub	 eax, edi
  0986d	66 89 86 20 15
	00 00		 mov	 WORD PTR [esi+5408], ax

; 1471 : 					pDph_t->arg2 = pDphsettar->gencoartic;

  09874	66 8b 43 0c	 mov	 ax, WORD PTR [ebx+12]

; 1472 : 					newvalue += mlsh1 (pDph_t->arg1, pDph_t->arg2);

  09878	0f bf 96 20 15
	00 00		 movsx	 edx, WORD PTR [esi+5408]
  0987f	0f bf c8	 movsx	 ecx, ax
  09882	0f af ca	 imul	 ecx, edx
  09885	c1 f9 0e	 sar	 ecx, 14			; 0000000eH
  09888	66 89 86 22 15
	00 00		 mov	 WORD PTR [esi+5410], ax
  0988f	03 f9		 add	 edi, ecx
$L74604:

; 1473 : 				}
; 1474 : 				/* Special rule: (see subroutine) */
; 1475 : 				//newvalue += special_coartic (pDph_t, pDph_t->nphone, ++dip_pos);
; 1476 : 				tmp = pDph_t->nphone & PFONT;

  09891	66 8b 8e d0 23
	00 00		 mov	 cx, WORD PTR [esi+9168]
  09898	8b c1		 mov	 eax, ecx
  0989a	25 00 1f 00 00	 and	 eax, 7936		; 00001f00H

; 1477 : 			if(tmp == PFUSA<<PSFONT)

  0989f	66 3d 00 1e	 cmp	 ax, 7680		; 00001e00H
  098a3	75 0b		 jne	 SHORT $L74605

; 1478 : 			{
; 1479 : 				newvalue += us_special_coartic (pDph_t, pDph_t->nphone, 0);

  098a5	6a 00		 push	 0
  098a7	51		 push	 ecx
  098a8	56		 push	 esi
  098a9	e8 00 00 00 00	 call	 _us_special_coartic

; 1480 : 			}
; 1481 : 			else if(tmp == PFGR<<PSFONT)

  098ae	eb 31		 jmp	 SHORT $L75726
$L74605:
  098b0	66 3d 00 1c	 cmp	 ax, 7168		; 00001c00H
  098b4	75 0b		 jne	 SHORT $L74607

; 1482 : 			{	
; 1483 : 				newvalue += gr_special_coartic (pDph_t, pDph_t->nphone, 0);

  098b6	6a 00		 push	 0
  098b8	51		 push	 ecx
  098b9	56		 push	 esi
  098ba	e8 00 00 00 00	 call	 _gr_special_coartic

; 1484 : 			}
; 1485 : 			else if(tmp == PFLA<<PSFONT)

  098bf	eb 20		 jmp	 SHORT $L75726
$L74607:
  098c1	66 3d 00 1a	 cmp	 ax, 6656		; 00001a00H
  098c5	75 0b		 jne	 SHORT $L74609

; 1486 : 			{
; 1487 : 				newvalue += la_special_coartic (pDph_t, pDph_t->nphone, 0);

  098c7	6a 00		 push	 0
  098c9	51		 push	 ecx
  098ca	56		 push	 esi
  098cb	e8 00 00 00 00	 call	 _la_special_coartic

; 1488 : 			}
; 1489 : 			else if(tmp == PFSP<<PSFONT)

  098d0	eb 0f		 jmp	 SHORT $L75726
$L74609:
  098d2	66 3d 00 1b	 cmp	 ax, 6912		; 00001b00H
  098d6	75 0e		 jne	 SHORT $L74611

; 1490 : 			{
; 1491 : 				newvalue += sp_special_coartic (pDph_t, pDph_t->nphone, 0);

  098d8	6a 00		 push	 0
  098da	51		 push	 ecx
  098db	56		 push	 esi
  098dc	e8 00 00 00 00	 call	 _sp_special_coartic
$L75726:
  098e1	83 c4 0c	 add	 esp, 12			; 0000000cH
  098e4	03 f8		 add	 edi, eax
$L74611:

; 1492 : 			}
; 1493 : 			else if(tmp == PFFR<<PSFONT)
; 1494 : 			{
; 1495 : 				//fr_special_coartic (pDph_t, pDph_t->nphone, 0);
; 1496 : 			//when we have frecnh change to fr_
; 1497 : 			}
; 1498 : 			
; 1499 : 		
; 1500 : 			}
; 1501 : 		}
; 1502 : #ifdef ENGLISH
; 1503 : 		if (NSAMP_FRAME == 128)
; 1504 : 			newtime = pDph_t->p_diph[pdip] >> 1;    /* eab ccc for 1/2 samp */
; 1505 : 		else
; 1506 : #endif
; 1507 : #ifdef FRENCH 
; 1508 : 		if (NSAMP_FRAME == 128)
; 1509 : 			newtime = pDph_t->p_diph[pdip] >> 1;    /* eab ccc for 1/2 samp */
; 1510 : 		else
; 1511 : #endif
; 1512 : 			newtime = pDph_t->p_diph[pdip];

  098e6	8b 86 14 15 00
	00		 mov	 eax, DWORD PTR [esi+5396]
  098ec	0f bf d5	 movsx	 edx, bp
  098ef	d1 e2		 shl	 edx, 1
  098f1	89 54 24 18	 mov	 DWORD PTR -4+[esp+28], edx
  098f5	66 8b 04 02	 mov	 ax, WORD PTR [edx+eax]

; 1513 : 		if (newtime != -1)

  098f9	66 3d ff ff	 cmp	 ax, -1
  098fd	74 1c		 je	 SHORT $L74616

; 1514 : 		{
; 1515 : 			/* Adjust newtime as f(shrink), i.e. make tran dur semi-invariant */
; 1516 : 			newtime = shrdur (pDph_t, newtime, inhdr_frames, shrink);

  098ff	8b 4c 24 2c	 mov	 ecx, DWORD PTR _shrink$[esp+24]
  09903	8b 54 24 28	 mov	 edx, DWORD PTR _inhdr_frames$[esp+24]
  09907	51		 push	 ecx
  09908	52		 push	 edx
  09909	50		 push	 eax
  0990a	56		 push	 esi
  0990b	e8 00 00 00 00	 call	 _shrdur

; 1517 : 		}
; 1518 : 		else

  09910	8b 54 24 28	 mov	 edx, DWORD PTR -4+[esp+44]
  09914	83 c4 10	 add	 esp, 16			; 00000010H
  09917	8b e8		 mov	 ebp, eax
  09919	eb 07		 jmp	 SHORT $L74617
$L74616:

; 1519 : 		{
; 1520 : 			/* Desired time is end of segment */
; 1521 : 			newtime = pDph_t->durfon;

  0991b	66 8b ae 04 15
	00 00		 mov	 bp, WORD PTR [esi+5380]
$L74617:

; 1522 : 		}
; 1523 : 		*(*ppsNdips)++ = newtime;

  09922	8b 44 24 34	 mov	 eax, DWORD PTR _ppsNdips$[esp+24]
  09926	8b 08		 mov	 ecx, DWORD PTR [eax]
  09928	66 89 29	 mov	 WORD PTR [ecx], bp
  0992b	8b 08		 mov	 ecx, DWORD PTR [eax]
  0992d	83 c1 02	 add	 ecx, 2
  09930	89 08		 mov	 DWORD PTR [eax], ecx

; 1524 : 
; 1525 : 		/* Compute increment/frame during transition */
; 1526 : 		temp = newtime - oldtime;

  09932	8b cd		 mov	 ecx, ebp
  09934	2b 4c 24 14	 sub	 ecx, DWORD PTR _oldtime$[esp+28]

; 1527 : 		if (temp == 0)

  09938	66 85 c9	 test	 cx, cx
  0993b	75 09		 jne	 SHORT $L74618

; 1528 : 		{
; 1529 : 			*(*ppsNdips) = 0;

  0993d	8b 08		 mov	 ecx, DWORD PTR [eax]
  0993f	66 c7 01 00 00	 mov	 WORD PTR [ecx], 0

; 1530 : 		}
; 1531 : 		else

  09944	eb 67		 jmp	 SHORT $L74619
$L74618:

; 1532 : 		{
; 1533 : 			/* No divide if possible (for speed) */
; 1534 : 			pDph_t->arg2 = (newvalue - oldvalue) << 3;

  09946	8b 54 24 20	 mov	 edx, DWORD PTR _oldvalue$[esp+24]
  0994a	8b c7		 mov	 eax, edi
  0994c	2b c2		 sub	 eax, edx
  0994e	c1 e0 03	 shl	 eax, 3

; 1535 : 			if (temp < 50)

  09951	66 83 f9 32	 cmp	 cx, 50			; 00000032H
  09955	66 89 86 22 15
	00 00		 mov	 WORD PTR [esi+5410], ax
  0995c	7d 2d		 jge	 SHORT $L74620

; 1536 : 			{
; 1537 : 				pDph_t->arg1 = divtab[temp];

  0995e	0f bf d1	 movsx	 edx, cx

; 1538 : 				*(*ppsNdips) = mlsh1 (pDph_t->arg1, pDph_t->arg2);

  09961	0f bf 8e 22 15
	00 00		 movsx	 ecx, WORD PTR [esi+5410]
  09968	66 8b 04 55 00
	00 00 00	 mov	 ax, WORD PTR _divtab[edx*2]
  09970	0f bf d0	 movsx	 edx, ax
  09973	0f af ca	 imul	 ecx, edx
  09976	66 89 86 20 15
	00 00		 mov	 WORD PTR [esi+5408], ax
  0997d	8b 44 24 34	 mov	 eax, DWORD PTR _ppsNdips$[esp+24]
  09981	c1 f9 0e	 sar	 ecx, 14			; 0000000eH
  09984	8b 10		 mov	 edx, DWORD PTR [eax]
  09986	66 89 0a	 mov	 WORD PTR [edx], cx

; 1539 : 			}
; 1540 : 			else

  09989	eb 12		 jmp	 SHORT $L74621
$L74620:

; 1541 : 			{
; 1542 : 				*(*ppsNdips) = pDph_t->arg2 / temp;

  0998b	0f bf c0	 movsx	 eax, ax
  0998e	0f bf c9	 movsx	 ecx, cx
  09991	99		 cdq
  09992	f7 f9		 idiv	 ecx
  09994	8b 54 24 34	 mov	 edx, DWORD PTR _ppsNdips$[esp+24]
  09998	8b 0a		 mov	 ecx, DWORD PTR [edx]
  0999a	66 89 01	 mov	 WORD PTR [ecx], ax
$L74621:

; 1543 : 			}
; 1544 : 			oldvalue = newvalue;
; 1545 : 			oldtime = newtime;

  0999d	8b 44 24 34	 mov	 eax, DWORD PTR _ppsNdips$[esp+24]
  099a1	8b 54 24 18	 mov	 edx, DWORD PTR -4+[esp+28]
  099a5	89 7c 24 20	 mov	 DWORD PTR _oldvalue$[esp+24], edi
  099a9	89 6c 24 14	 mov	 DWORD PTR _oldtime$[esp+28], ebp
$L74619:

; 1546 : 		}
; 1547 : 		(*ppsNdips)++;

  099ad	8b 08		 mov	 ecx, DWORD PTR [eax]

; 1548 : 
; 1549 : 	}
; 1550 : 	while (pDph_t->p_diph[pdip++] != -1);

  099af	8b 6c 24 24	 mov	 ebp, DWORD PTR _pdip$[esp+24]
  099b3	83 c1 02	 add	 ecx, 2
  099b6	45		 inc	 ebp
  099b7	89 08		 mov	 DWORD PTR [eax], ecx
  099b9	8b 86 14 15 00
	00		 mov	 eax, DWORD PTR [esi+5396]
  099bf	89 6c 24 24	 mov	 DWORD PTR _pdip$[esp+24], ebp
  099c3	66 83 3c 02 ff	 cmp	 WORD PTR [edx+eax], -1
  099c8	0f 85 52 fe ff
	ff		 jne	 $L75724

; 1551 : 
; 1552 : 	/* Set final value of diph tran, first increment and duration in frames */
; 1553 : 	pDphsettar->np->tarend = newvalue; /* Code more transparent: use getendtar() */

  099ce	8b 4b 10	 mov	 ecx, DWORD PTR [ebx+16]
  099d1	66 89 79 1a	 mov	 WORD PTR [ecx+26], di

; 1554 : 	pDphsettar->np->durlin = *pDphsettar->np->ndip++;

  099d5	8b 43 10	 mov	 eax, DWORD PTR [ebx+16]
  099d8	5f		 pop	 edi
  099d9	5e		 pop	 esi
  099da	8b 50 1c	 mov	 edx, DWORD PTR [eax+28]
  099dd	5d		 pop	 ebp
  099de	66 8b 0a	 mov	 cx, WORD PTR [edx]
  099e1	66 89 48 02	 mov	 WORD PTR [eax+2], cx
  099e5	8b 43 10	 mov	 eax, DWORD PTR [ebx+16]
  099e8	b9 02 00 00 00	 mov	 ecx, 2
  099ed	8b 50 1c	 mov	 edx, DWORD PTR [eax+28]
  099f0	03 d1		 add	 edx, ecx
  099f2	89 50 1c	 mov	 DWORD PTR [eax+28], edx

; 1555 : 	pDphsettar->np->deldip = *pDphsettar->np->ndip++;

  099f5	8b 43 10	 mov	 eax, DWORD PTR [ebx+16]
  099f8	8b 50 1c	 mov	 edx, DWORD PTR [eax+28]
  099fb	66 8b 12	 mov	 dx, WORD PTR [edx]
  099fe	66 89 50 04	 mov	 WORD PTR [eax+4], dx
  09a02	8b 5b 10	 mov	 ebx, DWORD PTR [ebx+16]
  09a05	8b 43 1c	 mov	 eax, DWORD PTR [ebx+28]
  09a08	03 c1		 add	 eax, ecx
  09a0a	89 43 1c	 mov	 DWORD PTR [ebx+28], eax
  09a0d	5b		 pop	 ebx

; 1556 : }

  09a0e	83 c4 0c	 add	 esp, 12			; 0000000cH
  09a11	c3		 ret	 0
_make_dip ENDP
_durin$ = 12
_inhdr_frames$ = 16
_shrink$ = 20
_shrdur	PROC NEAR

; 349  : 	short halfinhdr, halfmaxdur, foldswitch, localinhdr;
; 350  : 	PDPHSETTAR_ST pDphsettar = pDph_t->pSTphsettar;
; 351  : 
; 352  : 	/* Convert from ms to number of frames * 64 */
; 353  : 	durin = (durin * 10) + 5;

  09a20	8b 44 24 08	 mov	 eax, DWORD PTR _durin$[esp-4]
  09a24	53		 push	 ebx
  09a25	56		 push	 esi

; 354  : 	localinhdr = inhdr_frames * NSAMP_FRAME;
; 355  : 	halfinhdr = inhdr_frames * NSAMP_FRAME >> 1;

  09a26	8b 74 24 14	 mov	 esi, DWORD PTR _inhdr_frames$[esp+4]
  09a2a	8d 04 80	 lea	 eax, DWORD PTR [eax+eax*4]
  09a2d	57		 push	 edi

; 356  : 	//pDph_t->arg1 = halfinhdr;
; 357  : 	//pDph_t->arg2 = shrink;
; 358  : 	halfmaxdur = mlsh1 (halfinhdr, shrink);

  09a2e	0f bf 7c 24 1c	 movsx	 edi, WORD PTR _shrink$[esp+8]
  09a33	8d 54 00 05	 lea	 edx, DWORD PTR [eax+eax+5]

; 359  : 
; 360  : 	/* Fold durin over about halfinhdr */
; 361  : 	foldswitch = 0;

  09a37	33 db		 xor	 ebx, ebx
  09a39	0f bf c6	 movsx	 eax, si
  09a3c	8d 0c c0	 lea	 ecx, DWORD PTR [eax+eax*8]
  09a3f	c1 e1 03	 shl	 ecx, 3
  09a42	2b c8		 sub	 ecx, eax
  09a44	8b c1		 mov	 eax, ecx
  09a46	d1 f8		 sar	 eax, 1
  09a48	0f bf c8	 movsx	 ecx, ax
  09a4b	0f af cf	 imul	 ecx, edi
  09a4e	c1 f9 0e	 sar	 ecx, 14			; 0000000eH

; 362  : 	if (durin > halfinhdr)

  09a51	66 3b d0	 cmp	 dx, ax
  09a54	7e 13		 jle	 SHORT $L74422
  09a56	8d 1c f6	 lea	 ebx, DWORD PTR [esi+esi*8]
  09a59	c1 e3 03	 shl	 ebx, 3
  09a5c	2b de		 sub	 ebx, esi
  09a5e	8b f3		 mov	 esi, ebx

; 363  : 	{
; 364  : 		durin = localinhdr - durin;
; 365  : 		foldswitch = 1;

  09a60	bb 01 00 00 00	 mov	 ebx, 1
  09a65	2b f2		 sub	 esi, edx
  09a67	8b d6		 mov	 edx, esi
$L74422:

; 366  : 	}
; 367  : 	/* Turn time around (measure from middle of inhdur */
; 368  : 	durin = halfinhdr - durin;

  09a69	2b c2		 sub	 eax, edx

; 369  : 
; 370  : 	/* Shrink this time by less than full requested shrinkage */
; 371  : 	//pDph_t->arg2 = ((unsigned) shrink + FRAC_ONE) >> 1;
; 372  : 	//pDph_t->arg1 = durin;
; 373  : 	durin = mlsh1 ((((unsigned) shrink + FRAC_ONE) >> 1), durin);

  09a6b	81 c7 00 40 00
	00		 add	 edi, 16384		; 00004000H
  09a71	0f bf c0	 movsx	 eax, ax
  09a74	d1 ef		 shr	 edi, 1
  09a76	0f af c7	 imul	 eax, edi
  09a79	c1 e8 0e	 shr	 eax, 14			; 0000000eH

; 374  : 
; 375  : 	/* See that this time does not exceed halfmaxdur */
; 376  : 	if (durin > halfmaxdur)

  09a7c	66 3b c1	 cmp	 ax, cx
  09a7f	7e 02		 jle	 SHORT $L74424

; 377  : 		durin = halfmaxdur;

  09a81	8b c1		 mov	 eax, ecx
$L74424:

; 378  : 
; 379  : 	/* Convert back to true time */
; 380  : 	durin = halfmaxdur - durin;

  09a83	8b d1		 mov	 edx, ecx
  09a85	5f		 pop	 edi
  09a86	2b d0		 sub	 edx, eax
  09a88	5e		 pop	 esi

; 381  : 	if (foldswitch == 1)

  09a89	66 83 fb 01	 cmp	 bx, 1
  09a8d	5b		 pop	 ebx
  09a8e	75 09		 jne	 SHORT $L74425

; 382  : 		durin = halfmaxdur + halfmaxdur - durin;

  09a90	8d 04 09	 lea	 eax, DWORD PTR [ecx+ecx]
  09a93	8b c8		 mov	 ecx, eax
  09a95	2b ca		 sub	 ecx, edx
  09a97	8b d1		 mov	 edx, ecx
$L74425:

; 383  : 
; 384  : 	/* Minimum value is one */
; 385  : 	if (durin < NSAMP_FRAME)

  09a99	66 83 fa 47	 cmp	 dx, 71			; 00000047H
  09a9d	7d 05		 jge	 SHORT $L74426

; 386  : 		durin = NSAMP_FRAME;

  09a9f	ba 47 00 00 00	 mov	 edx, 71			; 00000047H
$L74426:

; 387  : 
; 388  : 	return (durin >> 6);

  09aa4	0f bf c2	 movsx	 eax, dx
  09aa7	c1 f8 06	 sar	 eax, 6

; 389  : }

  09aaa	c3		 ret	 0
_shrdur	ENDP
_TEXT	ENDS
EXTRN	_inh_timing:NEAR
_TEXT	SEGMENT
_phTTS$ = 8
_psInhdr_frames$ = 12
_psShrink$ = 16
_psShrif$ = 20
_psShrib$ = 24
_psPholas$ = 28
_psFealas$ = 32
_psFeacur$ = 36
_psFeanex$ = 40
_psStruclm2$ = 44
_psStruclas$ = 48
_psStruccur$ = 52
_psStrucnex$ = 56
_ppsNdips$ = 60
_init_variables PROC NEAR

; 1718 : {

  09ab0	53		 push	 ebx
  09ab1	55		 push	 ebp

; 1719 : 
; 1720 : 	PDPH_T                  pDph_t = phTTS->pPHThreadData;

  09ab2	8b 6c 24 0c	 mov	 ebp, DWORD PTR _phTTS$[esp+4]
  09ab6	56		 push	 esi
  09ab7	57		 push	 edi
  09ab8	8b 75 18	 mov	 esi, DWORD PTR [ebp+24]

; 1721 : 	PKSD_T                  pKsd_t = phTTS->pKernelShareData;
; 1722 : 	PDPHSETTAR_ST           pDphsettar = pDph_t->pSTphsettar;
; 1723 : 
; 1724 : 	extern int inh_timing(LPTTS_HANDLE_T phTTS, int phone);
; 1725 : 
; 1726 : 	if (pDph_t->nphone == 0)//FIrst position

  09abb	66 8b 86 d0 23
	00 00		 mov	 ax, WORD PTR [esi+9168]
  09ac2	8b be 10 2c 00
	00		 mov	 edi, DWORD PTR [esi+11280]
  09ac8	66 85 c0	 test	 ax, ax
  09acb	75 52		 jne	 SHORT $L74661

; 1727 : 	{
; 1728 : 		*psStruclm2 = 0;

  09acd	8b 44 24 38	 mov	 eax, DWORD PTR _psStruclm2$[esp+12]

; 1729 : 		*psPholas = GEN_SIL;

  09ad1	8b 4c 24 28	 mov	 ecx, DWORD PTR _psPholas$[esp+12]
  09ad5	66 c7 00 00 00	 mov	 WORD PTR [eax], 0
  09ada	66 c7 01 00 1e	 mov	 WORD PTR [ecx], 7680	; 00001e00H

; 1730 : 		if (pDphsettar->initsw == 0)

  09adf	66 83 7f 0e 00	 cmp	 WORD PTR [edi+14], 0
  09ae4	75 72		 jne	 SHORT $L74666

; 1731 : 		{
; 1732 : 			pDphsettar->initsw++;
; 1733 : 			for (pDphsettar->np = &PF1; pDphsettar->np <= &PTILT; pDphsettar->np++)

  09ae6	8d 46 24	 lea	 eax, DWORD PTR [esi+36]
  09ae9	8d 9e 40 02 00
	00		 lea	 ebx, DWORD PTR [esi+576]
  09aef	3b c3		 cmp	 eax, ebx
  09af1	66 c7 47 0e 01
	00		 mov	 WORD PTR [edi+14], 1
  09af7	89 47 10	 mov	 DWORD PTR [edi+16], eax
  09afa	77 5c		 ja	 SHORT $L74666
$L74663:

; 1734 : 			{
; 1735 : 				//eab Note was the value 0 is ambiguos,  is really the first
; 1736 : 				//phone position which is pDph_t->nphone which should be zero by definition
; 1737 : 				pDphsettar->np->tarend = getbegtar (phTTS, 0);

  09afc	6a 00		 push	 0
  09afe	55		 push	 ebp
  09aff	e8 00 00 00 00	 call	 _getbegtar
  09b04	8b 57 10	 mov	 edx, DWORD PTR [edi+16]
  09b07	83 c4 08	 add	 esp, 8
  09b0a	66 89 42 1a	 mov	 WORD PTR [edx+26], ax
  09b0e	8b 4f 10	 mov	 ecx, DWORD PTR [edi+16]
  09b11	83 c1 24	 add	 ecx, 36			; 00000024H
  09b14	8b c1		 mov	 eax, ecx
  09b16	89 4f 10	 mov	 DWORD PTR [edi+16], ecx
  09b19	3b c3		 cmp	 eax, ebx
  09b1b	76 df		 jbe	 SHORT $L74663

; 1738 : 			}
; 1739 : 		}
; 1740 : 	}
; 1741 : 	else

  09b1d	eb 39		 jmp	 SHORT $L74666
$L74661:

; 1742 : 	{
; 1743 : 		if (pDph_t->nphone > 1)

  09b1f	66 3d 01 00	 cmp	 ax, 1
  09b23	7e 12		 jle	 SHORT $L74667

; 1744 : 			*psStruclm2 = pDph_t->allofeats[pDph_t->nphone - 2];

  09b25	8b 54 24 38	 mov	 edx, DWORD PTR _psStruclm2$[esp+12]
  09b29	0f bf c0	 movsx	 eax, ax
  09b2c	66 8b 8c 86 50
	06 00 00	 mov	 cx, WORD PTR [esi+eax*4+1616]
  09b34	66 89 0a	 mov	 WORD PTR [edx], cx
$L74667:

; 1745 : 		*psPholas = pDphsettar->phcur;

  09b37	8b 4c 24 28	 mov	 ecx, DWORD PTR _psPholas$[esp+12]
  09b3b	66 8b 47 18	 mov	 ax, WORD PTR [edi+24]
  09b3f	66 89 01	 mov	 WORD PTR [ecx], ax

; 1746 : 		*psStruclas = pDph_t->allofeats[pDph_t->nphone - 1];

  09b42	8b 4c 24 3c	 mov	 ecx, DWORD PTR _psStruclas$[esp+12]
  09b46	0f bf 96 d0 23
	00 00		 movsx	 edx, WORD PTR [esi+9168]
  09b4d	66 8b 84 96 54
	06 00 00	 mov	 ax, WORD PTR [esi+edx*4+1620]
  09b55	66 89 01	 mov	 WORD PTR [ecx], ax
$L74666:

; 1747 : 	}
; 1748 : 	/* Begin normal initialization of variables for new phoneme */
; 1749 : //helpme
; 1750 : 	pDphsettar->phcur = pDph_t->allophons[pDph_t->nphone] ;

  09b58	0f bf 96 d0 23
	00 00		 movsx	 edx, WORD PTR [esi+9168]
  09b5f	66 8b 84 56 ec
	03 00 00	 mov	 ax, WORD PTR [esi+edx*2+1004]
  09b67	66 89 47 18	 mov	 WORD PTR [edi+24], ax

; 1751 : 	*psStruccur = pDph_t->allofeats[pDph_t->nphone];

  09b6b	8b 44 24 40	 mov	 eax, DWORD PTR _psStruccur$[esp+12]
  09b6f	0f bf 8e d0 23
	00 00		 movsx	 ecx, WORD PTR [esi+9168]
  09b76	66 8b 94 8e 58
	06 00 00	 mov	 dx, WORD PTR [esi+ecx*4+1624]
  09b7e	66 89 10	 mov	 WORD PTR [eax], dx

; 1752 : 
; 1753 : 	if (pDph_t->nphone < (pDph_t->nallotot - 1))

  09b81	0f bf 8e 06 15
	00 00		 movsx	 ecx, WORD PTR [esi+5382]
  09b88	0f bf 86 d0 23
	00 00		 movsx	 eax, WORD PTR [esi+9168]
  09b8f	49		 dec	 ecx
  09b90	3b c1		 cmp	 eax, ecx
  09b92	7d 24		 jge	 SHORT $L74668

; 1754 : 	{
; 1755 : 		pDphsettar->phonex = pDph_t->allophons[pDph_t->nphone + 1];

  09b94	66 8b 94 46 ee
	03 00 00	 mov	 dx, WORD PTR [esi+eax*2+1006]
  09b9c	66 89 57 0a	 mov	 WORD PTR [edi+10], dx

; 1756 : 		*psStrucnex = pDph_t->allofeats[pDph_t->nphone + 1];

  09ba0	8b 54 24 44	 mov	 edx, DWORD PTR _psStrucnex$[esp+12]
  09ba4	0f bf 86 d0 23
	00 00		 movsx	 eax, WORD PTR [esi+9168]
  09bab	66 8b 8c 86 5c
	06 00 00	 mov	 cx, WORD PTR [esi+eax*4+1628]
  09bb3	66 89 0a	 mov	 WORD PTR [edx], cx

; 1757 : 	}
; 1758 : 	else

  09bb6	eb 0f		 jmp	 SHORT $L74669
$L74668:

; 1759 : 	{
; 1760 : 		pDphsettar->phonex = GEN_SIL;
; 1761 : 		*psStrucnex = 0;

  09bb8	8b 44 24 44	 mov	 eax, DWORD PTR _psStrucnex$[esp+12]
  09bbc	66 c7 47 0a 00
	1e		 mov	 WORD PTR [edi+10], 7680	; 00001e00H
  09bc2	66 c7 00 00 00	 mov	 WORD PTR [eax], 0
$L74669:

; 1762 : 	}
; 1763 : #ifdef NOT_USED_BUT_REVIEWSTRIPPEDCODE
; 1764 : 	/* MVP:The below if..else is invalid as the value of phonp2 is never used */
; 1765 : 	/* Hence, the code is commented out(#ifdef IF_ED_OUT_CODE ) 
; 1766 :    /* back in, phonp2 is used in german */
; 1767 :    if (pDph_t->nphone < (pDph_t->nallotot - 2))
; 1768 :    {
; 1769 :       *psPhonp2 = pDph_t->allophons[pDph_t->nphone + 2];
; 1770 :    }
; 1771 :    else
; 1772 :    {
; 1773 :       *psPhonp2 = GEN_SIL;
; 1774 :    }
; 1775 : #endif
; 1776 : 
; 1777 : 	*ppsNdips = &(pDph_t->dipspec[1]); /* Initialize pointer to diph info for phone */

  09bc7	8b 54 24 48	 mov	 edx, DWORD PTR _ppsNdips$[esp+12]

; 1778 : 
; 1779 : 	/* Precompute often-used variables */
; 1780 : 
; 1781 : 	*psFealas = phone_feature( pDph_t,*psPholas);

  09bcb	8b 44 24 28	 mov	 eax, DWORD PTR _psPholas$[esp+12]
  09bcf	8d 8e 72 23 00
	00		 lea	 ecx, DWORD PTR [esi+9074]
  09bd5	89 0a		 mov	 DWORD PTR [edx], ecx
  09bd7	0f bf 08	 movsx	 ecx, WORD PTR [eax]
  09bda	51		 push	 ecx
  09bdb	56		 push	 esi
  09bdc	e8 00 00 00 00	 call	 _phone_feature
  09be1	8b 54 24 34	 mov	 edx, DWORD PTR _psFealas$[esp+20]
  09be5	66 89 02	 mov	 WORD PTR [edx], ax

; 1782 : 	*psFeacur = phone_feature( pDph_t,pDphsettar->phcur);

  09be8	0f bf 47 18	 movsx	 eax, WORD PTR [edi+24]
  09bec	50		 push	 eax
  09bed	56		 push	 esi
  09bee	e8 00 00 00 00	 call	 _phone_feature
  09bf3	8b 5c 24 40	 mov	 ebx, DWORD PTR _psFeacur$[esp+28]
  09bf7	66 89 03	 mov	 WORD PTR [ebx], ax

; 1783 : 	*psFeanex = phone_feature( pDph_t,pDphsettar->phonex);

  09bfa	0f bf 4f 0a	 movsx	 ecx, WORD PTR [edi+10]
  09bfe	51		 push	 ecx
  09bff	56		 push	 esi
  09c00	e8 00 00 00 00	 call	 _phone_feature
  09c05	8b 54 24 4c	 mov	 edx, DWORD PTR _psFeanex$[esp+36]
  09c09	66 89 02	 mov	 WORD PTR [edx], ax

; 1784 : 
; 1785 : 	*psInhdr_frames = mstofr (inh_timing(phTTS, pDphsettar->phcur));

  09c0c	0f bf 47 18	 movsx	 eax, WORD PTR [edi+24]
  09c10	50		 push	 eax
  09c11	55		 push	 ebp
  09c12	e8 00 00 00 00	 call	 _inh_timing
  09c17	50		 push	 eax
  09c18	e8 00 00 00 00	 call	 _mstofr
  09c1d	8b 4c 24 3c	 mov	 ecx, DWORD PTR _psInhdr_frames$[esp+48]
  09c21	83 c4 24	 add	 esp, 36			; 00000024H
  09c24	66 89 01	 mov	 WORD PTR [ecx], ax

; 1786 : 		//mstofr (inhdr[pDphsettar->phcur]);    /* Inherent dur in frames */
; 1787 : 
; 1788 : 	/* Transition durs are shorter if phone dur is short rel to inherent dur */
; 1789 : 	/* Compute change in duration rel. to inherent dur if a sonorant */
; 1790 : #ifndef FRENCH
; 1791 : 	if (((*psFeacur & FOBST) IS_MINUS) && (pDphsettar->phcur != GEN_SIL))

  09c27	8a 0b		 mov	 cl, BYTE PTR [ebx]
  09c29	f6 c1 20	 test	 cl, 32			; 00000020H
  09c2c	75 4f		 jne	 SHORT $L74670
  09c2e	66 81 7f 18 00
	1e		 cmp	 WORD PTR [edi+24], 7680	; 00001e00H
  09c34	74 47		 je	 SHORT $L74670

; 1792 : #endif
; 1793 : #ifdef FRENCH
; 1794 : 	if ( !(*psFeacur & TPlosive) && !(*psFeacur & TFricative) && pDphsettar->phcur != GEN_SIL )
; 1795 : #endif
; 1796 : 	{
; 1797 : 		/* Shrink,shrif,shrib only apply to sonorants */
; 1798 : 		if (pDph_t->durfon < (*psInhdr_frames << 1))

  09c36	0f bf c8	 movsx	 ecx, ax
  09c39	0f bf 86 04 15
	00 00		 movsx	 eax, WORD PTR [esi+5380]
  09c40	8d 14 09	 lea	 edx, DWORD PTR [ecx+ecx]
  09c43	3b c2		 cmp	 eax, edx
  09c45	7d 0f		 jge	 SHORT $L74671

; 1799 : 		{                                                          /* durfon can't exceed 2*inhd */
; 1800 : 			//pDph_t->arg1 = FRAC_ONE;
; 1801 : 			//pDph_t->arg2 = pDph_t->durfon;
; 1802 : 			//pDph_t->arg3 = *psInhdr_frames;
; 1803 : 			*psShrink = muldv (FRAC_ONE, pDph_t->durfon, (*psInhdr_frames));   /* = FRAC_ONE, i.e. 16384 if no */

  09c47	c1 e0 0e	 shl	 eax, 14			; 0000000eH
  09c4a	99		 cdq
  09c4b	f7 f9		 idiv	 ecx
  09c4d	8b 4c 24 1c	 mov	 ecx, DWORD PTR _psShrink$[esp+12]
  09c51	66 89 01	 mov	 WORD PTR [ecx], ax

; 1804 : 		}
; 1805 : 		else

  09c54	eb 09		 jmp	 SHORT $L74672
$L74671:

; 1806 : 		{
; 1807 : 			*psShrink = FRAC_ONE + (FRAC_ONE - 1);  /* IS THIS AN ERROR ??? */

  09c56	8b 4c 24 1c	 mov	 ecx, DWORD PTR _psShrink$[esp+12]
  09c5a	66 c7 01 ff 7f	 mov	 WORD PTR [ecx], 32767	; 00007fffH
$L74672:

; 1808 : 		}
; 1809 : 		/* Shrinkage factor for formant transitions inside sonorants */
; 1810 : 		*psShrif = (*psShrink >> 1) + FRAC_HALF;

  09c5f	66 8b 01	 mov	 ax, WORD PTR [ecx]
  09c62	8b 4c 24 20	 mov	 ecx, DWORD PTR _psShrif$[esp+12]

; 1811 : 		/* Ditto for backward transition, which is slightly (15%) faster */
; 1812 : 		*psShrib = *psShrif - 1600;

  09c66	8b 54 24 24	 mov	 edx, DWORD PTR _psShrib$[esp+12]
  09c6a	66 d1 f8	 sar	 ax, 1
  09c6d	05 00 20 00 00	 add	 eax, 8192		; 00002000H
  09c72	66 89 01	 mov	 WORD PTR [ecx], ax
  09c75	05 c0 f9 ff ff	 add	 eax, -1600		; fffff9c0H
  09c7a	66 89 02	 mov	 WORD PTR [edx], ax
$L74670:

; 1813 : 	}
; 1814 : 	PAV.tspesh = 0;                                    /* Default case: set 'end time' of special  */

  09c7d	33 c0		 xor	 eax, eax
  09c7f	5f		 pop	 edi
  09c80	66 89 86 32 01
	00 00		 mov	 WORD PTR [esi+306], ax

; 1815 : 	PAP.tspesh = 0;                                    /* constant override of computed parameter */

  09c87	66 89 86 56 01
	00 00		 mov	 WORD PTR [esi+342], ax

; 1816 : 	PF1.tspesh = 0;

  09c8e	66 89 46 36	 mov	 WORD PTR [esi+54], ax

; 1817 : 	PB1.tspesh = 0;                                    /* value to zero, i.e. no special override */

  09c92	66 89 86 c6 00
	00 00		 mov	 WORD PTR [esi+198], ax

; 1818 : 	PB2.tspesh = 0;                                    /* for this phone.                          */

  09c99	66 89 86 ea 00
	00 00		 mov	 WORD PTR [esi+234], ax

; 1819 : 	PB3.tspesh = 0;

  09ca0	66 89 86 0e 01
	00 00		 mov	 WORD PTR [esi+270], ax

; 1820 : 	PA2.tspesh = 0;

  09ca7	66 89 86 7a 01
	00 00		 mov	 WORD PTR [esi+378], ax

; 1821 : 	PA3.tspesh = 0;                                    /* If rules below set to non-zero, substitute */

  09cae	66 89 86 9e 01
	00 00		 mov	 WORD PTR [esi+414], ax

; 1822 : 	PA4.tspesh = 0;                                    /* pspesh for computed value over time       */

  09cb5	66 89 86 c2 01
	00 00		 mov	 WORD PTR [esi+450], ax

; 1823 : 	PA5.tspesh = 0;                                    /* interval from beginning of phone (done   */

  09cbc	66 89 86 e6 01
	00 00		 mov	 WORD PTR [esi+486], ax

; 1824 : 	PA6.tspesh = 0;                                    /* in PH_DRAW.C                      */

  09cc3	66 89 86 0a 02
	00 00		 mov	 WORD PTR [esi+522], ax

; 1825 : 	PAB.tspesh = 0;

  09cca	66 89 86 2e 02
	00 00		 mov	 WORD PTR [esi+558], ax

; 1826 : 	PTILT.tspesh = 0;

  09cd1	66 89 86 52 02
	00 00		 mov	 WORD PTR [esi+594], ax
  09cd8	5e		 pop	 esi
  09cd9	5d		 pop	 ebp
  09cda	5b		 pop	 ebx

; 1827 : 
; 1828 : }

  09cdb	c3		 ret	 0
_init_variables ENDP
_TEXT	ENDS
PUBLIC	_place
;	COMDAT _place
_TEXT	SEGMENT
_phone$ = 8
_place	PROC NEAR					; COMDAT

; 2005 : 	return(all_place[phone>>8][phone&0xFF]);

  00000	8b 44 24 04	 mov	 eax, DWORD PTR _phone$[esp-4]
  00004	8b c8		 mov	 ecx, eax
  00006	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  0000b	c1 f9 08	 sar	 ecx, 8
  0000e	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_place[ecx*4]
  00015	66 8b 04 42	 mov	 ax, WORD PTR [edx+eax*2]

; 2006 : #if 0	
; 2007 : 
; 2008 : 	int tmp;
; 2009 : 	tmp = phone & PFONT;
; 2010 : 	phone= phone & PVALUE;
; 2011 : 	if(tmp == (PFUSA<<PSFONT))
; 2012 : 	{
; 2013 : 
; 2014 : 		return(us_place[phone]);
; 2015 : 	}
; 2016 : 	else if(tmp == PFGR<<PSFONT)
; 2017 : 	{
; 2018 : 		return(gr_place[phone]);
; 2019 : 	}
; 2020 : 	else if(tmp == PFLA<<PSFONT)
; 2021 : 	{
; 2022 : 		return(la_place[phone]);
; 2023 : 	}
; 2024 : 	else if(tmp == PFUK<<PSFONT)
; 2025 : 	{
; 2026 : 		return(uk_place[phone]);
; 2027 : 	}
; 2028 : 	else if(tmp == PFSP<<PSFONT)
; 2029 : 	{
; 2030 : 		return(sp_place[phone]);
; 2031 : 	}
; 2032 : 	else if(tmp == PFFR<<PSFONT)
; 2033 : 	{
; 2034 : 		return(fr_place[phone]);
; 2035 : 	}
; 2036 : 	else 
; 2037 : 	{
; 2038 : #ifdef _DEBUG
; 2039 : 	printf("OH MY GOD I shuldn't awta be here \n");
; 2040 : #endif
; 2041 : 	return(0);
; 2042 : 	}
; 2043 : #endif
; 2044 : }

  00019	c3		 ret	 0
_place	ENDP
_TEXT	ENDS
PUBLIC	_begtyp
;	COMDAT _begtyp
_TEXT	SEGMENT
_phone$ = 8
_begtyp	PROC NEAR					; COMDAT

; 2048 : 	return(all_begtyp[phone>>8][phone&0xFF]);

  00000	8b 44 24 04	 mov	 eax, DWORD PTR _phone$[esp-4]
  00004	8b c8		 mov	 ecx, eax
  00006	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  0000b	c1 f9 08	 sar	 ecx, 8
  0000e	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_begtyp[ecx*4]
  00015	66 8b 04 42	 mov	 ax, WORD PTR [edx+eax*2]

; 2049 : 
; 2050 : #if 0
; 2051 : #include "ph_def.h"
; 2052 : extern short us_begtyp[];
; 2053 : extern short uk_begtyp[];
; 2054 : extern short gr_begtyp[];
; 2055 : extern short la_begtyp[];
; 2056 : extern short sp_begtyp[];
; 2057 : extern short fr_begtyp[];
; 2058 : 
; 2059 : 	int tmp;
; 2060 : 	tmp = phone & PFONT;
; 2061 : 	if((phone & PVALUE) >= 100 )
; 2062 : 		return(0);
; 2063 : 	phone= phone & PVALUE;
; 2064 : 	if(tmp == PFUSA<<PSFONT)
; 2065 : 	{
; 2066 : 		return(us_begtyp[phone]);
; 2067 : 	}
; 2068 : 	else if(tmp == PFUK<<PSFONT)
; 2069 : 	{
; 2070 : 		return(uk_begtyp[phone]);
; 2071 : 	}
; 2072 : 	else if(tmp == PFGR<<PSFONT)
; 2073 : 	{
; 2074 : 		return(gr_begtyp[phone]);
; 2075 : 	}
; 2076 : 	else if(tmp == PFLA<<PSFONT)
; 2077 : 	{
; 2078 : 		return(la_begtyp[phone]);
; 2079 : 	}
; 2080 : 	else if(tmp == PFSP<<PSFONT)
; 2081 : 	{
; 2082 : 		return(sp_begtyp[phone]);
; 2083 : 	}
; 2084 : 	else if(tmp == PFFR<<PSFONT)
; 2085 : 	{
; 2086 : 		return(fr_begtyp[phone]);
; 2087 : 	}
; 2088 : 	else 
; 2089 : 	{
; 2090 : #ifdef _DEBUG
; 2091 : 	printf("OH MY GOD! THEY'VE KILLED NAT\n");
; 2092 : #endif
; 2093 : 	return(0);
; 2094 : 	}    
; 2095 : #endif
; 2096 : }

  00019	c3		 ret	 0
_begtyp	ENDP
_TEXT	ENDS
PUBLIC	_endtyp
;	COMDAT _endtyp
_TEXT	SEGMENT
_phone$ = 8
_endtyp	PROC NEAR					; COMDAT

; 2100 : 	return(all_endtyp[phone>>8][phone&0xFF]);

  00000	8b 44 24 04	 mov	 eax, DWORD PTR _phone$[esp-4]
  00004	8b c8		 mov	 ecx, eax
  00006	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  0000b	c1 f9 08	 sar	 ecx, 8
  0000e	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_endtyp[ecx*4]
  00015	66 8b 04 42	 mov	 ax, WORD PTR [edx+eax*2]

; 2101 : #if 0
; 2102 : 	
; 2103 : #include "ph_def.h"
; 2104 : extern short us_endtyp[];
; 2105 : extern short uk_endtyp[];
; 2106 : extern short gr_endtyp[];
; 2107 : extern short la_endtyp[];
; 2108 : extern short sp_endtyp[];
; 2109 : extern short fr_endtyp[];
; 2110 : 
; 2111 : 	int tmp;
; 2112 : 	tmp = phone & PFONT;
; 2113 : 	if((phone & PVALUE) >= 100 )
; 2114 : 		return(0);
; 2115 : 	phone= phone & PVALUE;
; 2116 : 	if(tmp == PFUSA<<PSFONT)
; 2117 : 	{
; 2118 : 		return(us_endtyp[phone]);
; 2119 : 	}
; 2120 : 	else if(tmp == PFUK<<PSFONT)
; 2121 : 	{
; 2122 : 		return(uk_endtyp[phone]);
; 2123 : 	}
; 2124 : 	else if(tmp == PFGR<<PSFONT)
; 2125 : 	{
; 2126 : 		return(gr_endtyp[phone]);
; 2127 : 	}
; 2128 : 	else if(tmp == PFLA<<PSFONT)
; 2129 : 	{
; 2130 : 		return(la_endtyp[phone]);
; 2131 : 	}
; 2132 : 	else if(tmp == PFSP<<PSFONT)
; 2133 : 	{
; 2134 : 		return(sp_endtyp[phone]);
; 2135 : 	}
; 2136 : 	else if(tmp == PFFR<<PSFONT)
; 2137 : 	{
; 2138 : 		return(fr_endtyp[phone]);
; 2139 : 	}
; 2140 : 	else 
; 2141 : 	{
; 2142 : #ifdef _DEBUG
; 2143 : 		printf("OH MY GOD! THEY'VE KILLED ED\n");
; 2144 : #endif
; 2145 : 		return(0);
; 2146 : 	}    
; 2147 : #endif
; 2148 : }

  00019	c3		 ret	 0
_endtyp	ENDP
_TEXT	ENDS
PUBLIC	_ptram
;	COMDAT _ptram
_TEXT	SEGMENT
_phone$ = 8
_ptram	PROC NEAR					; COMDAT

; 2152 : 	return(all_ptram[phone>>8][phone&0xFF]);

  00000	8b 44 24 04	 mov	 eax, DWORD PTR _phone$[esp-4]
  00004	8b c8		 mov	 ecx, eax
  00006	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  0000b	c1 f9 08	 sar	 ecx, 8
  0000e	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_ptram[ecx*4]
  00015	66 8b 04 42	 mov	 ax, WORD PTR [edx+eax*2]

; 2153 : #if 0
; 2154 : 	
; 2155 : #include "ph_def.h"
; 2156 : extern short us_ptram[];
; 2157 : extern short uk_ptram[];
; 2158 : extern short gr_ptram[];
; 2159 : extern short la_ptram[];
; 2160 : extern short sp_ptram[];
; 2161 : extern short fr_ptram[];
; 2162 : 
; 2163 : 	int tmp;
; 2164 : 	tmp = phone & PFONT;
; 2165 : 	if((phone & PVALUE) >= 100 )
; 2166 : 		return(0);
; 2167 : 	phone= phone & PVALUE;
; 2168 : 	if(tmp == PFUSA<<PSFONT)
; 2169 : 	{
; 2170 : 		return(us_ptram[phone]);
; 2171 : 	}
; 2172 : 	else if(tmp == PFUK<<PSFONT)
; 2173 : 	{
; 2174 : 		return(uk_ptram[phone]);
; 2175 : 	}
; 2176 : 	else if(tmp == PFGR<<PSFONT)
; 2177 : 	{
; 2178 : 		return(gr_ptram[phone]);
; 2179 : 	}
; 2180 : 	else if(tmp == PFLA<<PSFONT)
; 2181 : 	{
; 2182 : 		return(la_ptram[phone]);
; 2183 : 	}
; 2184 : 	else if(tmp == PFSP<<PSFONT)
; 2185 : 	{
; 2186 : 		return(sp_ptram[phone]);
; 2187 : 	}
; 2188 : 	else if(tmp == PFFR<<PSFONT)
; 2189 : 	{
; 2190 : 		return(fr_ptram[phone]);
; 2191 : 	}
; 2192 : 	else 
; 2193 : 	{
; 2194 : #ifdef _DEBUG
; 2195 : 	printf("OH MY GOD! THEY'VE KILLED MATT\n");
; 2196 : #endif
; 2197 : 	return(0);
; 2198 : 	}    
; 2199 : #endif
; 2200 : }

  00019	c3		 ret	 0
_ptram	ENDP
_TEXT	ENDS
PUBLIC	_burdr
;	COMDAT _burdr
_TEXT	SEGMENT
_phone$ = 8
_burdr	PROC NEAR					; COMDAT

; 2204 : 	return(all_burdr[phone>>8][phone&0xFF]);

  00000	8b 44 24 04	 mov	 eax, DWORD PTR _phone$[esp-4]
  00004	8b c8		 mov	 ecx, eax
  00006	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  0000b	c1 f9 08	 sar	 ecx, 8
  0000e	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_burdr[ecx*4]
  00015	66 8b 04 42	 mov	 ax, WORD PTR [edx+eax*2]

; 2205 : #if 0
; 2206 : #include "ph_def.h"
; 2207 : extern short us_burdr[];
; 2208 : extern short uk_burdr[];
; 2209 : extern short gr_burdr[];
; 2210 : extern short la_burdr[];
; 2211 : extern short sp_burdr[];
; 2212 : extern short fr_burdr[];
; 2213 : 
; 2214 : 	int tmp;
; 2215 : 	tmp = phone & PFONT;
; 2216 : 	if((phone & PVALUE) >= 100 )
; 2217 : 		return(0);
; 2218 : 	phone= phone & PVALUE;
; 2219 : 	if(tmp == PFUSA<<PSFONT)
; 2220 : 	{
; 2221 : 		return(us_burdr[phone]);
; 2222 : 	}
; 2223 : 	else if(tmp == PFUK<<PSFONT)
; 2224 : 	{
; 2225 : 		return(uk_burdr[phone]);
; 2226 : 	}
; 2227 : 	else if(tmp == PFGR<<PSFONT)
; 2228 : 	{
; 2229 : 		return(gr_burdr[phone]);
; 2230 : 	}
; 2231 : 	else if(tmp == PFLA<<PSFONT)
; 2232 : 	{
; 2233 : 		return(la_burdr[phone]);
; 2234 : 	}
; 2235 : 	else if(tmp == PFSP<<PSFONT)
; 2236 : 	{
; 2237 : 		return(sp_burdr[phone]);
; 2238 : 	}
; 2239 : 	else if(tmp == PFFR<<PSFONT)
; 2240 : 	{
; 2241 : 		return(fr_burdr[phone]);
; 2242 : 	}
; 2243 : 	else 
; 2244 : 	{
; 2245 : #ifdef _DEBUG
; 2246 : 	printf("OH MY GOD! THEY'VE KILLED MIKE\n");
; 2247 : #endif
; 2248 : 	return(0);
; 2249 : 	}    
; 2250 : #endif
; 2251 : }

  00019	c3		 ret	 0
_burdr	ENDP
_TEXT	ENDS
PUBLIC	_plocu
;	COMDAT _plocu
_TEXT	SEGMENT
_index$ = 8
_plocu	PROC NEAR					; COMDAT

; 2255 : 	return(all_plocu[index>>8][index&0xFF]);

  00000	8b 44 24 04	 mov	 eax, DWORD PTR _index$[esp-4]
  00004	8b c8		 mov	 ecx, eax
  00006	25 ff 00 00 00	 and	 eax, 255		; 000000ffH
  0000b	c1 f9 08	 sar	 ecx, 8
  0000e	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR _all_plocu[ecx*4]
  00015	66 8b 04 42	 mov	 ax, WORD PTR [edx+eax*2]

; 2256 : #if 0
; 2257 : 	
; 2258 : #include "ph_def.h"
; 2259 : extern short us_plocu[];
; 2260 : extern short uk_plocu[];
; 2261 : extern short gr_plocu[];
; 2262 : extern short la_plocu[];
; 2263 : extern short sp_plocu[];
; 2264 : extern short fr_plocu[];
; 2265 : 
; 2266 : 	int tmp;
; 2267 : 	tmp = index & PFONT;
; 2268 : 	index= index & PVALUE;
; 2269 : 	if(tmp == PFUSA<<PSFONT)
; 2270 : 	{
; 2271 : 		return(us_plocu[index]);
; 2272 : 	}
; 2273 : 	else if(tmp == PFUK<<PSFONT)
; 2274 : 	{
; 2275 : 		return(uk_plocu[index]);
; 2276 : 	}
; 2277 : 	else if(tmp == PFGR<<PSFONT)
; 2278 : 	{
; 2279 : 		return(gr_plocu[index]);
; 2280 : 	}
; 2281 : 	else if(tmp == PFLA<<PSFONT)
; 2282 : 	{
; 2283 : 		return(la_plocu[index]);
; 2284 : 	}
; 2285 : 	else if(tmp == PFSP<<PSFONT)
; 2286 : 	{
; 2287 : 		return(sp_plocu[index]);
; 2288 : 	}
; 2289 : 	else if(tmp == PFFR<<PSFONT)
; 2290 : 	{
; 2291 : 		return(fr_plocu[index]);
; 2292 : 		//when we have french change to fr_
; 2293 : 	}
; 2294 : 	else 
; 2295 : 	{
; 2296 : #ifdef _DEBUG
; 2297 : 	printf("OH MY GOD! THEY'VE KILLED CARL\n");
; 2298 : #endif
; 2299 : 	return (0);
; 2300 : 	}    
; 2301 : #endif
; 2302 : }

  00019	c3		 ret	 0
_plocu	ENDP
_TEXT	ENDS
END
